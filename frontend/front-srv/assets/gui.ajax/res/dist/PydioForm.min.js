!function(f){"object"==typeof exports&&"undefined"!=typeof module?module.exports=f():"function"==typeof define&&define.amd?define([],f):("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).PydioForm=f()}(function(){return function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c="function"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);throw(f=new Error("Cannot find module '"+i+"'")).code="MODULE_NOT_FOUND",f}c=n[i]={exports:{}},e[i][0].call(c.exports,function(r){return o(e[i][1][r]||r)},c,c.exports,r,e,n,t)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}({1:[function(require,module,exports){"use strict";function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _react=_interopRequireDefault(require("react")),_materialUi=require("material-ui"),_TextField=_interopRequireDefault(require("./TextField"));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,function(arg){arg=function(input,hint){if("object"!==_typeof(input)||null===input)return input;var prim=input[Symbol.toPrimitive];if(void 0===prim)return("string"===hint?String:Number)(input);prim=prim.call(input,hint||"default");if("object"!==_typeof(prim))return prim;throw new TypeError("@@toPrimitive must return a primitive value.")}(arg,"string");return"symbol"===_typeof(arg)?arg:String(arg)}(descriptor.key),descriptor)}}function _createClass(Constructor,protoProps,staticProps){protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Object.defineProperty(Constructor,"prototype",{writable:!1})}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),Object.defineProperty(subClass,"prototype",{writable:!1}),superClass&&_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(o,p){return o.__proto__=p,o})(o,p)}function _createSuper(Derived){var hasNativeReflectConstruct=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var NewTarget,Super=_getPrototypeOf(Derived),Super=(NewTarget=hasNativeReflectConstruct?(NewTarget=_getPrototypeOf(this).constructor,Reflect.construct(Super,arguments,NewTarget)):Super.apply(this,arguments),this);if(NewTarget&&("object"===_typeof(NewTarget)||"function"==typeof NewTarget))return NewTarget;if(void 0!==NewTarget)throw new TypeError("Derived constructors may only return object or undefined");return function(self){if(void 0!==self)return self;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(Super)}}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}exports.default=function(){_inherits(AltText,_react["default"].Component);var _super=_createSuper(AltText);function AltText(){return _classCallCheck(this,AltText),_super.apply(this,arguments)}return _createClass(AltText,[{key:"render",value:function(){var _this$props=this.props,attributes=_this$props.attributes,_this$props$altIcon=_this$props.altIcon,_this$props$altIconTe=_this$props.altIconText,_this$props$altTip=_this$props.altTip,onAltTextSwitch=_this$props.onAltTextSwitch,alternativeText=attributes.alternativeText,_this$props=alternativeText?_react.default.createElement(_TextField.default,this.props):this.props.children;return _react.default.createElement("div",{style:{display:"flex"}},_react.default.createElement("div",{style:{flex:1}},_this$props),_react.default.createElement("div",null,_react.default.createElement(_materialUi.IconButton,{iconClassName:alternativeText?void 0===_this$props$altIcon?"mdi mdi-toggle-switch":_this$props$altIcon:void 0===_this$props$altIconTe?"mdi mdi-textbox":_this$props$altIconTe,title:void 0===_this$props$altTip?"Switch to text version":_this$props$altTip,onClick:function(){return onAltTextSwitch(attributes.name,!alternativeText)},iconStyle:{opacity:.3,fontSize:20},style:{padding:"14px 8px",width:42,height:42}})))}}]),AltText}();module.exports=exports.default},{"./TextField":10,"material-ui":"material-ui",react:"react"}],2:[function(require,module,exports){"use strict";function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _pydio=_interopRequireDefault(require("pydio")),_asFormField=_interopRequireDefault(require("../hoc/asFormField")),_withChoices=_interopRequireDefault(require("../hoc/withChoices"));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _extends(){return(_extends=Object.assign?Object.assign.bind():function(target){for(var i=1;i<arguments.length;i++){var key,source=arguments[i];for(key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target}).apply(this,arguments)}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,function(arg){arg=function(input,hint){if("object"!==_typeof(input)||null===input)return input;var prim=input[Symbol.toPrimitive];if(void 0===prim)return("string"===hint?String:Number)(input);prim=prim.call(input,hint||"default");if("object"!==_typeof(prim))return prim;throw new TypeError("@@toPrimitive must return a primitive value.")}(arg,"string");return"symbol"===_typeof(arg)?arg:String(arg)}(descriptor.key),descriptor)}}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(o,p){return o.__proto__=p,o})(o,p)}function _createSuper(Derived){var hasNativeReflectConstruct=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var NewTarget,Super=_getPrototypeOf(Derived),Super=(NewTarget=hasNativeReflectConstruct?(NewTarget=_getPrototypeOf(this).constructor,Reflect.construct(Super,arguments,NewTarget)):Super.apply(this,arguments),this);if(NewTarget&&("object"===_typeof(NewTarget)||"function"==typeof NewTarget))return NewTarget;if(void 0!==NewTarget)throw new TypeError("Derived constructors may only return object or undefined");return function(self){if(void 0!==self)return self;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(Super)}}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}var React=require("react"),require=require("material-ui"),AutoComplete=require.AutoComplete,MenuItem=require.MenuItem,RefreshIndicator=require.RefreshIndicator,require=_pydio.default.requireLib("hoc"),ModernStyles=require.ModernStyles,ModernAutoComplete=require.ModernAutoComplete,_pydio=function(_React$Component){var subClass=AutocompleteBox;if("function"!=typeof _React$Component&&null!==_React$Component)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(_React$Component&&_React$Component.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),Object.defineProperty(subClass,"prototype",{writable:!1}),_React$Component&&_setPrototypeOf(subClass,_React$Component);var staticProps,_super=_createSuper(AutocompleteBox);function AutocompleteBox(){var instance=this,Constructor=AutocompleteBox;if(instance instanceof Constructor)return _super.apply(this,arguments);throw new TypeError("Cannot call a class as a function")}return subClass=AutocompleteBox,(_React$Component=[{key:"handleUpdateInput",value:function(searchText){}},{key:"handleNewRequest",value:function(chosenValue){void 0===chosenValue.key?this.props.onChange(null,chosenValue):this.props.onChange(null,chosenValue.key)}},{key:"render",value:function(){var _this=this,_this$props=this.props,choices=_this$props.choices,isDisplayGrid=_this$props.isDisplayGrid,editMode=_this$props.editMode,disabled=_this$props.disabled,toggleEditMode=_this$props.toggleEditMode,_this$props=_this$props.variant,dataSource=[],labels={},value=(choices.forEach(function(choice,key){dataSource.push({key:key,text:choice,value:React.createElement(MenuItem,null,choice)}),labels[key]=choice}),this.props.value);return labels&&labels[value]&&(value=labels[value]),isDisplayGrid()&&!editMode||disabled?(choices.get(value)&&(value=choices.get(value)),React.createElement("div",{onClick:disabled?function(){}:toggleEditMode,className:value?"":"paramValue-empty"},value||"Empty","   ",React.createElement("span",{className:"icon-caret-down"}))):React.createElement("div",{className:"pydioform_autocomplete",style:{position:"relative"}},!dataSource.length&&React.createElement(RefreshIndicator,{size:30,right:10,top:0,status:"loading"}),"v2"!==_this$props&&dataSource.length&&React.createElement(AutoComplete,_extends({fullWidth:!0,searchText:value,onUpdateInput:function(s){return _this.handleUpdateInput(s)},onNewRequest:function(v){return _this.handleNewRequest(v)},dataSource:dataSource,hintText:this.props.attributes.label,filter:function(searchText,key){return!(!key||!searchText)&&0===key.toLowerCase().indexOf(searchText.toLowerCase())},openOnFocus:!0,menuProps:{maxHeight:200}},ModernStyles.textField)),"v2"===_this$props&&dataSource.length&&React.createElement(ModernAutoComplete,{fullWidth:!0,searchText:value,onUpdateInput:function(s){return _this.handleUpdateInput(s)},onNewRequest:function(v){return _this.handleNewRequest(v)},dataSource:dataSource,hintText:this.props.attributes.label,filter:function(searchText,key){return!(!key||!searchText)&&0===key.toLowerCase().indexOf(searchText.toLowerCase())},openOnFocus:!0,menuProps:{maxHeight:200},autoComplete:"no-completion"}))}}])&&_defineProperties(subClass.prototype,_React$Component),staticProps&&_defineProperties(subClass,staticProps),Object.defineProperty(subClass,"prototype",{writable:!1}),AutocompleteBox}(React.Component);exports.default=_pydio,exports.default=_pydio=(0,_asFormField.default)(_pydio),exports.default=(0,_withChoices.default)(_pydio),module.exports=exports.default},{"../hoc/asFormField":13,"../hoc/withChoices":14,"material-ui":"material-ui",pydio:"pydio",react:"react"}],3:[function(require,module,exports){"use strict";function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var obj=(obj=require("../hoc/asFormField"))&&obj.__esModule?obj:{default:obj};function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,function(arg){arg=function(input,hint){if("object"!==_typeof(input)||null===input)return input;var prim=input[Symbol.toPrimitive];if(void 0===prim)return("string"===hint?String:Number)(input);prim=prim.call(input,hint||"default");if("object"!==_typeof(prim))return prim;throw new TypeError("@@toPrimitive must return a primitive value.")}(arg,"string");return"symbol"===_typeof(arg)?arg:String(arg)}(descriptor.key),descriptor)}}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(o,p){return o.__proto__=p,o})(o,p)}function _createSuper(Derived){var hasNativeReflectConstruct=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var NewTarget,Super=_getPrototypeOf(Derived),Super=(NewTarget=hasNativeReflectConstruct?(NewTarget=_getPrototypeOf(this).constructor,Reflect.construct(Super,arguments,NewTarget)):Super.apply(this,arguments),this);if(NewTarget&&("object"===_typeof(NewTarget)||"function"==typeof NewTarget))return NewTarget;if(void 0!==NewTarget)throw new TypeError("Derived constructors may only return object or undefined");return function(self){if(void 0!==self)return self;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(Super)}}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}var React=require("react"),debounce=require("lodash.debounce"),require=require("material-ui"),AutoComplete=require.AutoComplete,MenuItem=require.MenuItem,RefreshIndicator=require.RefreshIndicator,FontIcon=require.FontIcon,require=function(_React$Component){var subClass=AutocompleteTree;if("function"!=typeof _React$Component&&null!==_React$Component)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(_React$Component&&_React$Component.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),Object.defineProperty(subClass,"prototype",{writable:!1}),_React$Component&&_setPrototypeOf(subClass,_React$Component);var staticProps,_super=_createSuper(AutocompleteTree);function AutocompleteTree(){var instance=this,Constructor=AutocompleteTree;if(instance instanceof Constructor)return _super.apply(this,arguments);throw new TypeError("Cannot call a class as a function")}return subClass=AutocompleteTree,(_React$Component=[{key:"handleUpdateInput",value:function(searchText){this.debounced(),this.setState({searchText:searchText})}},{key:"handleNewRequest",value:function(chosenValue){chosenValue=void 0===chosenValue.key?chosenValue:chosenValue.key;this.props.onChange(null,chosenValue),this.loadValues(chosenValue)}},{key:"componentWillMount",value:function(){this.debounced=debounce(this.loadValues.bind(this),300),this.lastSearch=null;var value="";this.props.value&&(value=this.props.value),this.loadValues(value)}},{key:"loadValues",value:function(){var value=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",basePath=value;!value&&this.state.searchText&&(value=this.state.searchText.lastIndexOf("/"),basePath=this.state.searchText.substr(0,value)),null!==this.lastSearch&&this.lastSearch===basePath||(this.lastSearch=basePath)}},{key:"render",value:function(){var dataSource=[],displayText=(this.state&&this.state.nodes&&this.state.nodes.forEach(function(node){var icon="mdi mdi-folder";node.uuid.startsWith("DATASOURCE:")&&(icon="mdi mdi-database"),dataSource.push({key:node.path,text:node.path,value:React.createElement(MenuItem,null,React.createElement(FontIcon,{className:icon,color:"#616161",style:{float:"left",marginRight:8}})," ",node.path)})}),this.state.value);return React.createElement("div",{className:"pydioform_autocomplete",style:{position:"relative"}},!dataSource.length&&React.createElement(RefreshIndicator,{size:30,right:10,top:0,status:"loading"}),React.createElement(AutoComplete,{fullWidth:!0,searchText:displayText,onUpdateInput:this.handleUpdateInput.bind(this),onNewRequest:this.handleNewRequest.bind(this),dataSource:dataSource,floatingLabelText:this.props.attributes.label,filter:function(searchText,key){return 0===key.toLowerCase().indexOf(searchText.toLowerCase())},openOnFocus:!0,menuProps:{maxHeight:200}}))}}])&&_defineProperties(subClass.prototype,_React$Component),staticProps&&_defineProperties(subClass,staticProps),Object.defineProperty(subClass,"prototype",{writable:!1}),AutocompleteTree}(React.Component),obj=(0,obj.default)(require);exports.default=obj,module.exports=exports.default},{"../hoc/asFormField":13,"lodash.debounce":"lodash.debounce","material-ui":"material-ui",react:"react"}],4:[function(require,module,exports){"use strict";function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function ownKeys(object,enumerableOnly){var symbols,keys=Object.keys(object);return Object.getOwnPropertySymbols&&(symbols=Object.getOwnPropertySymbols(object),enumerableOnly&&(symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable})),keys.push.apply(keys,symbols)),keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach(function(key){!function(obj,key,value){(key=_toPropertyKey(key))in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value}(target,key,source[key])}):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))})}return target}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,_toPropertyKey(descriptor.key),descriptor)}}function _toPropertyKey(arg){arg=function(input,hint){if("object"!==_typeof(input)||null===input)return input;var prim=input[Symbol.toPrimitive];if(void 0===prim)return("string"===hint?String:Number)(input);prim=prim.call(input,hint||"default");if("object"!==_typeof(prim))return prim;throw new TypeError("@@toPrimitive must return a primitive value.")}(arg,"string");return"symbol"===_typeof(arg)?arg:String(arg)}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(o,p){return o.__proto__=p,o})(o,p)}function _createSuper(Derived){var hasNativeReflectConstruct=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var NewTarget,Super=_getPrototypeOf(Derived),Super=(NewTarget=hasNativeReflectConstruct?(NewTarget=_getPrototypeOf(this).constructor,Reflect.construct(Super,arguments,NewTarget)):Super.apply(this,arguments),this);if(NewTarget&&("object"===_typeof(NewTarget)||"function"==typeof NewTarget))return NewTarget;if(void 0!==NewTarget)throw new TypeError("Derived constructors may only return object or undefined");return function(self){if(void 0!==self)return self;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(Super)}}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var React=require("react"),require=function(_React$Component){var subClass=FileDropzone;if("function"!=typeof _React$Component&&null!==_React$Component)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(_React$Component&&_React$Component.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),Object.defineProperty(subClass,"prototype",{writable:!1}),_React$Component&&_setPrototypeOf(subClass,_React$Component);var staticProps,_super=_createSuper(FileDropzone);function FileDropzone(props){var _this;if(this instanceof FileDropzone)return(_this=_super.call(this,_objectSpread({onDrop:function(){}},props))).state={isDragActive:!1,supportClick:void 0===props.supportClick||props.supportClick,multiple:void 0===props.multiple||props.multiple},_this;throw new TypeError("Cannot call a class as a function")}return subClass=FileDropzone,(_React$Component=[{key:"onDragLeave",value:function(e){this.setState({isDragActive:!1})}},{key:"onDragOver",value:function(e){e.preventDefault(),e.dataTransfer.dropEffect="copy",this.setState({isDragActive:!0})}},{key:"onFilePicked",value:function(e){var maxFiles,files;e.target&&e.target.files&&(files=e.target.files,maxFiles=this.state.multiple?files.length:1,files=Array.prototype.slice.call(files,0,maxFiles),this.props.onDrop)&&this.props.onDrop(files,e,this)}},{key:"onFolderPicked",value:function(e){this.props.onFolderPicked&&this.props.onFolderPicked(e.target.files)}},{key:"onDrop",value:function(e){if(this.setState({isDragActive:!1}),e.preventDefault(),!this.props.ignoreNativeDrop){e.dataTransfer?files=e.dataTransfer.files:e.target&&(files=e.target.files);for(var files,maxFiles=this.state.multiple?files.length:1,i=0;i<maxFiles;i++)files[i].preview=URL.createObjectURL(files[i]);this.props.onDrop&&(files=Array.prototype.slice.call(files,0,maxFiles),this.props.onDrop(files,e,this))}}},{key:"onClick",value:function(){!0===this.state.supportClick&&this.open()}},{key:"open",value:function(){this.refs.fileInput.click()}},{key:"openFolderPicker",value:function(){this.refs.folderInput.setAttribute("webkitdirectory","true"),this.refs.folderInput.click()}},{key:"render",value:function(){var folderInput,_this2=this,className=this.props.className||"file-dropzone",style=(this.state.isDragActive&&(className+=" active"),{width:this.props.size||100,height:this.props.size||100});return this.props.style&&(style=_objectSpread(_objectSpread({},style),this.props.style)),this.state.isDragActive&&this.props.dragActiveStyle&&(style=_objectSpread(_objectSpread({},style),this.props.dragActiveStyle)),this.props.enableFolders&&(folderInput=React.createElement("input",{style:{display:"none"},name:"userfolder",type:"file",ref:"folderInput",onChange:function(e){return _this2.onFolderPicked(e)}})),React.createElement("div",{className:className,style:style,onClick:this.onClick.bind(this),onDragLeave:this.onDragLeave.bind(this),onDragOver:this.onDragOver.bind(this),onDrop:this.onDrop.bind(this)},React.createElement("input",{style:{display:"none"},name:"userfile",type:"file",multiple:this.state.multiple,ref:"fileInput",value:"",onChange:this.onFilePicked.bind(this),accept:this.props.accept}),folderInput,this.props.children)}}])&&_defineProperties(subClass.prototype,_React$Component),staticProps&&_defineProperties(subClass,staticProps),Object.defineProperty(subClass,"prototype",{writable:!1}),FileDropzone}(React.Component);exports.default=require,module.exports=exports.default},{react:"react"}],5:[function(require,module,exports){"use strict";function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _pydio=_interopRequireDefault(require("pydio")),_react=_interopRequireDefault(require("react")),_materialUi=require("material-ui"),require=_interopRequireDefault(require("../hoc/asFormField"));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _extends(){return(_extends=Object.assign?Object.assign.bind():function(target){for(var i=1;i<arguments.length;i++){var key,source=arguments[i];for(key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target}).apply(this,arguments)}function ownKeys(object,enumerableOnly){var symbols,keys=Object.keys(object);return Object.getOwnPropertySymbols&&(symbols=Object.getOwnPropertySymbols(object),enumerableOnly&&(symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable})),keys.push.apply(keys,symbols)),keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach(function(key){!function(obj,key,value){(key=_toPropertyKey(key))in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value}(target,key,source[key])}):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))})}return target}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,_toPropertyKey(descriptor.key),descriptor)}}function _toPropertyKey(arg){arg=function(input,hint){if("object"!==_typeof(input)||null===input)return input;var prim=input[Symbol.toPrimitive];if(void 0===prim)return("string"===hint?String:Number)(input);prim=prim.call(input,hint||"default");if("object"!==_typeof(prim))return prim;throw new TypeError("@@toPrimitive must return a primitive value.")}(arg,"string");return"symbol"===_typeof(arg)?arg:String(arg)}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(o,p){return o.__proto__=p,o})(o,p)}function _createSuper(Derived){var hasNativeReflectConstruct=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var NewTarget,Super=_getPrototypeOf(Derived),Super=(NewTarget=hasNativeReflectConstruct?(NewTarget=_getPrototypeOf(this).constructor,Reflect.construct(Super,arguments,NewTarget)):Super.apply(this,arguments),this);if(NewTarget&&("object"===_typeof(NewTarget)||"function"==typeof NewTarget))return NewTarget;if(void 0!==NewTarget)throw new TypeError("Derived constructors may only return object or undefined");return function(self){if(void 0!==self)return self;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(Super)}}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}var ModernStyles=_pydio.default.requireLib("hoc").ModernStyles,legendStyle={position:"absolute",fontSize:16,lineHeight:"22px",top:25,transition:"all 450ms cubic-bezier(0.23, 1, 0.32, 1) 0ms",zIndex:1,transform:"scale(0.75) translate(0px, -28px)",transformOrigin:"left top",pointerEvents:"none",userSelect:"none",color:"rgba(0, 0, 0, 0.3)",left:8,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",width:"127%"},_pydio=function(_React$Component){var subClass=InputBoolean;if("function"!=typeof _React$Component&&null!==_React$Component)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(_React$Component&&_React$Component.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),Object.defineProperty(subClass,"prototype",{writable:!1}),_React$Component&&_setPrototypeOf(subClass,_React$Component);var staticProps,_super=_createSuper(InputBoolean);function InputBoolean(){var instance=this,Constructor=InputBoolean;if(instance instanceof Constructor)return _super.apply(this,arguments);throw new TypeError("Cannot call a class as a function")}return subClass=InputBoolean,(_React$Component=[{key:"render",value:function(){var boolVal=this.props.value,_this$props=this.props,variant=_this$props.variant,variantShowLegend=_this$props.variantShowLegend,disabled=_this$props.disabled,onChange=_this$props.onChange,attributes=_this$props.attributes,_this$props=_this$props.isDisplayForm;return"string"==typeof boolVal&&(boolVal="true"===boolVal),"v2"===variant?(variant=_objectSpread({},ModernStyles.toggleFieldV2),variantShowLegend&&(variant.style=_objectSpread(_objectSpread({},variant.style),{},{padding:"23px 6px 4px"})),_react.default.createElement("div",{style:{position:"relative",height:58}},_react.default.createElement("div",{style:_objectSpread(_objectSpread({},legendStyle),{},{display:variantShowLegend?"block":"none"})},attributes.description),_react.default.createElement(_materialUi.Checkbox,_extends({checked:boolVal,onCheck:function(e,v){return onChange(e,v)},disabled:disabled,label:_this$props()?attributes.label:null,labelPosition:"right"},variant)))):_react.default.createElement(_materialUi.Toggle,_extends({toggled:boolVal,onToggle:function(e,v){return onChange(e,v)},disabled:disabled,label:_this$props()?attributes.label:null,labelPosition:_this$props()?"left":"right"},ModernStyles.toggleField))}}])&&_defineProperties(subClass.prototype,_React$Component),staticProps&&_defineProperties(subClass,staticProps),Object.defineProperty(subClass,"prototype",{writable:!1}),InputBoolean}(_react.default.Component),require=(0,require.default)(_pydio,!0);exports.default=require,module.exports=exports.default},{"../hoc/asFormField":13,"material-ui":"material-ui",pydio:"pydio",react:"react"}],6:[function(require,module,exports){"use strict";function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _react=_interopRequireDefault(require("react")),_pydio=_interopRequireDefault(require("pydio")),_api=_interopRequireDefault(require("pydio/http/api")),_FileDropzone=_interopRequireDefault(require("./FileDropzone")),_lang=_interopRequireDefault(require("pydio/util/lang")),_materialUi=require("material-ui");function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function ownKeys(object,enumerableOnly){var symbols,keys=Object.keys(object);return Object.getOwnPropertySymbols&&(symbols=Object.getOwnPropertySymbols(object),enumerableOnly&&(symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable})),keys.push.apply(keys,symbols)),keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach(function(key){!function(obj,key,value){(key=_toPropertyKey(key))in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value}(target,key,source[key])}):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))})}return target}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,_toPropertyKey(descriptor.key),descriptor)}}function _toPropertyKey(arg){arg=function(input,hint){if("object"!==_typeof(input)||null===input)return input;var prim=input[Symbol.toPrimitive];if(void 0===prim)return("string"===hint?String:Number)(input);prim=prim.call(input,hint||"default");if("object"!==_typeof(prim))return prim;throw new TypeError("@@toPrimitive must return a primitive value.")}(arg,"string");return"symbol"===_typeof(arg)?arg:String(arg)}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(o,p){return o.__proto__=p,o})(o,p)}function _createSuper(Derived){var hasNativeReflectConstruct=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var NewTarget,Super=_getPrototypeOf(Derived),Super=(NewTarget=hasNativeReflectConstruct?(NewTarget=_getPrototypeOf(this).constructor,Reflect.construct(Super,arguments,NewTarget)):Super.apply(this,arguments),this);if(NewTarget&&("object"===_typeof(NewTarget)||"function"==typeof NewTarget))return NewTarget;if(void 0!==NewTarget)throw new TypeError("Derived constructors may only return object or undefined");return function(self){if(void 0!==self)return self;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(Super)}}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}var BinaryDropZone=(0,_pydio.default.requireLib("hoc").NativeFileDropProvider)(_FileDropzone.default,function(items,files,props){}),require=function(_React$Component){var subClass=InputImage;if("function"!=typeof _React$Component&&null!==_React$Component)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(_React$Component&&_React$Component.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),Object.defineProperty(subClass,"prototype",{writable:!1}),_React$Component&&_setPrototypeOf(subClass,_React$Component);var staticProps,_super=_createSuper(InputImage);function InputImage(props){var imageSrc,originalBinary;if(this instanceof InputImage)return(props=_super.call(this,props)).props.value?(imageSrc=props.getBinaryUrl(props.props),originalBinary=props.props.value):props.props.attributes.defaultImage&&(imageSrc=props.props.attributes.defaultImage),props.state={imageSrc:imageSrc,originalBinary:originalBinary,value:props.props.value},props;throw new TypeError("Cannot call a class as a function")}return subClass=InputImage,(_React$Component=[{key:"componentWillReceiveProps",value:function(newProps){var imgSrc;(newProps.value||newProps.binary_context&&newProps.binary_context!==this.props.binary_context)&&!this.state.reset?imgSrc=this.getBinaryUrl(newProps,this.state.temporaryBinary&&this.state.temporaryBinary===newProps.value):newProps.attributes.defaultImage&&(imgSrc=newProps.attributes.defaultImage),imgSrc&&this.setState({imageSrc:imgSrc,reset:!1,value:newProps.value})}},{key:"getBinaryUrl",value:function(props){var url=_api.default.getClient().getPydioObject().Parameters.get("ENDPOINT_REST_API")+props.attributes.loadAction,bId=props.value;return props.binary_context&&0===props.binary_context.indexOf("user_id=")&&(bId=props.binary_context.replace("user_id=","")),url=url.replace("{BINARY}",bId)}},{key:"getUploadUrl",value:function(){var url=_api.default.getClient().getPydioObject().Parameters.get("ENDPOINT_REST_API")+this.props.attributes.uploadAction,bId="",bId=this.props.binary_context&&0===this.props.binary_context.indexOf("user_id=")?this.props.binary_context.replace("user_id=",""):this.props.value||_lang.default.computeStringSlug(this.props.attributes.name+".png");return url=url.replace("{BINARY}",bId)}},{key:"uploadComplete",value:function(newBinaryName){var additionalFormData,prevValue=this.state.value;this.setState({temporaryBinary:newBinaryName,value:null}),this.props.onChange&&(additionalFormData={type:"binary"},this.state.originalBinary&&(additionalFormData.original_binary=this.state.originalBinary),this.props.onChange(newBinaryName,prevValue,additionalFormData),this.setState({dirty:!0,value:newBinaryName}))}},{key:"htmlUpload",value:function(){window.formManagerHiddenIFrameSubmission=function(result){this.uploadComplete(result.trim()),window.formManagerHiddenIFrameSubmission=null}.bind(this),this.refs.uploadForm.submit()}},{key:"onDrop",value:function(files,event,dropzone){var messages,_this2=this;0!==files.length&&(messages=_pydio.default.getMessages(),"avatar"===this.props.name&&5242880<files[0].size?this.setState({error:messages["form.input-image.avatarMax"]}):-1===["image/jpeg","image/png","image/bmp","image/tiff","image/webp"].indexOf(files[0].type)?this.setState({error:messages["form.input-image.fileTypes"]}):(this.setState({error:null}),_api.default.supportsUpload()?(this.setState({loading:!0}),_api.default.getRestClient().getOrUpdateJwt().then(function(jwt){jwt={customHeaders:{Authorization:"Bearer "+jwt}};_api.default.getClient().uploadFile(files[0],"userfile","",function(transport){transport=JSON.parse(transport.responseText);transport&&transport.binary&&_this2.uploadComplete(transport.binary),_this2.setState({loading:!1})},function(error){_this2.setState({loading:!1,error:error})},function(computableEvent){},_this2.getUploadUrl(),jwt)})):this.htmlUpload()))}},{key:"clearImage",value:function(){var prevValue;confirm(_pydio.default.getMessages()["form.input-image.clearConfirm"])&&(prevValue=this.state.value,this.setState({value:null,error:null,reset:!0},function(){this.props.onChange("",prevValue,{type:"binary"})}.bind(this)))}},{key:"render",value:function(){var _this3=this,_this$state=this.state,loading=_this$state.loading,_this$state=_this$state.error,coverImageStyle={backgroundImage:"url("+this.state.imageSrc+")",backgroundPosition:"50% 50%",backgroundSize:"cover",position:"relative"},overlayBg={},isDefault=this.props.attributes.defaultImage&&this.props.attributes.defaultImage===this.state.imageSrc,_this$state=_this$state?(overlayBg={backgroundColor:"rgba(255, 255, 255, 0.77)",borderRadius:"50%"},_react.default.createElement("div",{style:{color:"#F44336",textAlign:"center",fontSize:11,cursor:"pointer"},onClick:function(){_this3.setState({error:null})}},_react.default.createElement("span",{className:"mdi mdi-alert",style:{fontSize:40}}),_react.default.createElement("br",null),_this$state)):loading?_react.default.createElement(_materialUi.CircularProgress,{mode:"indeterminate"}):_react.default.createElement("span",{className:"mdi mdi-camera",style:{fontSize:40,opacity:.5,color:isDefault?null:"white"}}),loading=this.props.variant;return _react.default.createElement("div",{style:"v2"===loading?{backgroundColor:"#f6f6f8"}:null},_react.default.createElement("div",{className:"image-label"},this.props.attributes.label),_react.default.createElement("form",{ref:"uploadForm",encType:"multipart/form-data",target:"uploader_hidden_iframe",method:"post",action:this.getUploadUrl()},_react.default.createElement(BinaryDropZone,{onDrop:this.onDrop.bind(this),accept:"image/*",style:coverImageStyle},_react.default.createElement("div",{style:_objectSpread({width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center"},overlayBg)},_this$state))),!isDefault&&_react.default.createElement("div",{className:"binary-remove-button",onClick:this.clearImage.bind(this)},_react.default.createElement("span",{key:"remove",className:"mdi mdi-close"})," ",_pydio.default.getMessages()["form.input-image.clearButton"]),_react.default.createElement("iframe",{style:{display:"none"},id:"uploader_hidden_iframe",name:"uploader_hidden_iframe"}))}}])&&_defineProperties(subClass.prototype,_React$Component),staticProps&&_defineProperties(subClass,staticProps),Object.defineProperty(subClass,"prototype",{writable:!1}),InputImage}(_react.default.Component);exports.default=require,module.exports=exports.default},{"./FileDropzone":4,"material-ui":"material-ui",pydio:"pydio","pydio/http/api":"pydio/http/api","pydio/util/lang":"pydio/util/lang",react:"react"}],7:[function(require,module,exports){"use strict";function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _react=_interopRequireDefault(require("react")),_pydio=_interopRequireDefault(require("pydio")),require=_interopRequireDefault(require("../hoc/asFormField"));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,function(arg){arg=function(input,hint){if("object"!==_typeof(input)||null===input)return input;var prim=input[Symbol.toPrimitive];if(void 0===prim)return("string"===hint?String:Number)(input);prim=prim.call(input,hint||"default");if("object"!==_typeof(prim))return prim;throw new TypeError("@@toPrimitive must return a primitive value.")}(arg,"string");return"symbol"===_typeof(arg)?arg:String(arg)}(descriptor.key),descriptor)}}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(o,p){return o.__proto__=p,o})(o,p)}function _createSuper(Derived){var hasNativeReflectConstruct=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var NewTarget,Super=_getPrototypeOf(Derived),Super=(NewTarget=hasNativeReflectConstruct?(NewTarget=_getPrototypeOf(this).constructor,Reflect.construct(Super,arguments,NewTarget)):Super.apply(this,arguments),this);if(NewTarget&&("object"===_typeof(NewTarget)||"function"==typeof NewTarget))return NewTarget;if(void 0!==NewTarget)throw new TypeError("Derived constructors may only return object or undefined");return function(self){if(void 0!==self)return self;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(Super)}}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}var ModernTextField=_pydio.default.requireLib("hoc").ModernTextField,_pydio=function(_React$Component){var subClass=InputInteger;if("function"!=typeof _React$Component&&null!==_React$Component)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(_React$Component&&_React$Component.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),Object.defineProperty(subClass,"prototype",{writable:!1}),_React$Component&&_setPrototypeOf(subClass,_React$Component);var staticProps,_super=_createSuper(InputInteger);function InputInteger(){var instance=this,Constructor=InputInteger;if(instance instanceof Constructor)return _super.apply(this,arguments);throw new TypeError("Cannot call a class as a function")}return subClass=InputInteger,(_React$Component=[{key:"keyDown",value:function(event){var inc=0,multiple=1;"Enter"===event.key?this.props.toggleEditMode():("ArrowUp"===event.key?inc=1:"ArrowDown"===event.key&&(inc=-1),event.shiftKey&&(multiple=10),event=parseInt(this.props.value),event=(event=isNaN(event)?0:event)+inc*multiple,this.props.onChange(null,event))}},{key:"render",value:function(){var intval,_this=this,_this$props=this.props,value=_this$props.value,isDisplayGrid=_this$props.isDisplayGrid,isDisplayForm=_this$props.isDisplayForm,editMode=_this$props.editMode,disabled=_this$props.disabled,toggleEditMode=_this$props.toggleEditMode,attributes=_this$props.attributes,_this$props=_this$props.variant;return isDisplayGrid()&&!editMode?_react.default.createElement("div",{onClick:disabled?function(){}:toggleEditMode,className:value?"":"paramValue-empty"},value||"Empty"):(value?(intval=parseInt(value)+"",isNaN(intval)&&(intval=value+"")):intval="0",_react.default.createElement("span",{className:"integer-input"},_react.default.createElement(ModernTextField,{value:intval,onChange:function(e,v){return _this.props.onChange(e,v)},onKeyDown:function(e){return _this.keyDown(e)},disabled:disabled,fullWidth:!0,variant:_this$props,hintText:isDisplayForm()?attributes.label:null})))}}])&&_defineProperties(subClass.prototype,_React$Component),staticProps&&_defineProperties(subClass,staticProps),Object.defineProperty(subClass,"prototype",{writable:!1}),InputInteger}(_react.default.Component),require=(0,require.default)(_pydio);exports.default=require,module.exports=exports.default},{"../hoc/asFormField":13,pydio:"pydio",react:"react"}],8:[function(require,module,exports){"use strict";function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _react=_interopRequireDefault(require("react")),_pydio=_interopRequireDefault(require("pydio")),_asFormField=_interopRequireDefault(require("../hoc/asFormField")),_materialUi=require("material-ui");function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,function(arg){arg=function(input,hint){if("object"!==_typeof(input)||null===input)return input;var prim=input[Symbol.toPrimitive];if(void 0===prim)return("string"===hint?String:Number)(input);prim=prim.call(input,hint||"default");if("object"!==_typeof(prim))return prim;throw new TypeError("@@toPrimitive must return a primitive value.")}(arg,"string");return"symbol"===_typeof(arg)?arg:String(arg)}(descriptor.key),descriptor)}}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(o,p){return o.__proto__=p,o})(o,p)}function _createSuper(Derived){var hasNativeReflectConstruct=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var NewTarget,Super=_getPrototypeOf(Derived),Super=(NewTarget=hasNativeReflectConstruct?(NewTarget=_getPrototypeOf(this).constructor,Reflect.construct(Super,arguments,NewTarget)):Super.apply(this,arguments),this);if(NewTarget&&("object"===_typeof(NewTarget)||"function"==typeof NewTarget))return NewTarget;if(void 0!==NewTarget)throw new TypeError("Derived constructors may only return object or undefined");return function(self){if(void 0!==self)return self;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(Super)}}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}var require=_pydio.default.requireLib("hoc"),ModernTextField=require.ModernTextField,ModernSelectField=require.ModernSelectField,require=function(_React$Component){var subClass=InputIntegerBytes;if("function"!=typeof _React$Component&&null!==_React$Component)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(_React$Component&&_React$Component.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),Object.defineProperty(subClass,"prototype",{writable:!1}),_React$Component&&_setPrototypeOf(subClass,_React$Component);var staticProps,_super=_createSuper(InputIntegerBytes);function InputIntegerBytes(){var instance=this,Constructor=InputIntegerBytes;if(instance instanceof Constructor)return _super.apply(this,arguments);throw new TypeError("Cannot call a class as a function")}return subClass=InputIntegerBytes,(_React$Component=[{key:"divide",value:function(initialValue){for(var uu=["k","M","G","T","P"],res={bytesValue:initialValue,unit:""},i=0;i<uu.length;i++){var check=this.multiple(1,uu[i]);check<=initialValue&&initialValue%check==0&&(res={bytesValue:initialValue/check,unit:uu[i]})}return res}},{key:"multiple",value:function(v,u){var iV=parseFloat(v);switch(u){case"k":return 1024*iV;case"M":return 1024*iV*1024;case"G":return 1024*iV*1024*1024;case"T":return 1024*iV*1024*1024*1024;case"P":return 1024*iV*1024*1024*1024*1024;default:return iV}}},{key:"render",value:function(){var b,_this$divide,_this=this,sizeUnit=_pydio.default.getMessages().byte_unit_symbol||"B",_this$props=this.props,value=_this$props.value,_onChange=_this$props.onChange,isDisplayGrid=_this$props.isDisplayGrid,isDisplayForm=_this$props.isDisplayForm,editMode=_this$props.editMode,disabled=_this$props.disabled,toggleEditMode=_this$props.toggleEditMode,attributes=_this$props.attributes,_this$props=_this$props.variant,bytesValue=0,unit="";return value&&(b=(_this$divide=this.divide(parseInt(value))).bytesValue,_this$divide=_this$divide.unit,bytesValue=b,unit=_this$divide),isDisplayGrid()&&!editMode?_react.default.createElement("div",{onClick:disabled?function(){}:toggleEditMode,className:value?"":"paramValue-empty"},value?bytesValue+unit+sizeUnit:"Empty"):_react.default.createElement("div",null,_react.default.createElement("div",{style:{display:"flex",height:"v2"===_this$props?66:null}},_react.default.createElement(ModernTextField,{value:bytesValue,hintText:isDisplayForm()?attributes.label:null,style:{flex:2},type:"number",variant:_this$props,hasRightBlock:!0,disabled:disabled,onChange:function(e,v){v=Math.max(0,v)||0;_onChange(e,_this.multiple(v,unit))}}),_react.default.createElement(ModernSelectField,{value:unit||"b",variant:_this$props,hintText:"Unit",hasLeftBlock:!0,disabled:disabled,onChange:function(e,i,v){_onChange(e,_this.multiple(bytesValue,v))},style:{flex:1}},_react.default.createElement(_materialUi.MenuItem,{value:"b",primaryText:sizeUnit}),_react.default.createElement(_materialUi.MenuItem,{value:"k",primaryText:"K"+sizeUnit}),_react.default.createElement(_materialUi.MenuItem,{value:"M",primaryText:"M"+sizeUnit}),_react.default.createElement(_materialUi.MenuItem,{value:"G",primaryText:"G"+sizeUnit}),_react.default.createElement(_materialUi.MenuItem,{value:"T",primaryText:"T"+sizeUnit}),_react.default.createElement(_materialUi.MenuItem,{value:"P",primaryText:"P"+sizeUnit}))))}}])&&_defineProperties(subClass.prototype,_React$Component),staticProps&&_defineProperties(subClass,staticProps),Object.defineProperty(subClass,"prototype",{writable:!1}),InputIntegerBytes}(_react.default.Component),_asFormField=(0,_asFormField.default)(require);exports.default=_asFormField,module.exports=exports.default},{"../hoc/asFormField":13,"material-ui":"material-ui",pydio:"pydio",react:"react"}],9:[function(require,module,exports){"use strict";function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _asFormField=_interopRequireDefault(require("../hoc/asFormField")),_withChoices=_interopRequireDefault(require("../hoc/withChoices")),_pydio=_interopRequireDefault(require("pydio"));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _extends(){return(_extends=Object.assign?Object.assign.bind():function(target){for(var i=1;i<arguments.length;i++){var key,source=arguments[i];for(key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target}).apply(this,arguments)}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,function(arg){arg=function(input,hint){if("object"!==_typeof(input)||null===input)return input;var prim=input[Symbol.toPrimitive];if(void 0===prim)return("string"===hint?String:Number)(input);prim=prim.call(input,hint||"default");if("object"!==_typeof(prim))return prim;throw new TypeError("@@toPrimitive must return a primitive value.")}(arg,"string");return"symbol"===_typeof(arg)?arg:String(arg)}(descriptor.key),descriptor)}}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(o,p){return o.__proto__=p,o})(o,p)}function _createSuper(Derived){var hasNativeReflectConstruct=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var NewTarget,Super=_getPrototypeOf(Derived),Super=(NewTarget=hasNativeReflectConstruct?(NewTarget=_getPrototypeOf(this).constructor,Reflect.construct(Super,arguments,NewTarget)):Super.apply(this,arguments),this);if(NewTarget&&("object"===_typeof(NewTarget)||"function"==typeof NewTarget))return NewTarget;if(void 0!==NewTarget)throw new TypeError("Derived constructors may only return object or undefined");return function(self){if(void 0!==self)return self;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(Super)}}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}var React=require("react"),_require=require("material-ui"),MenuItem=(_require.SelectField,_require.MenuItem),Chip=_require.Chip,LangUtils=require("pydio/util/lang"),ModernSelectField=_pydio.default.requireLib("hoc").ModernSelectField,_require=function(_React$Component){var subClass=InputSelectBox;if("function"!=typeof _React$Component&&null!==_React$Component)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(_React$Component&&_React$Component.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),Object.defineProperty(subClass,"prototype",{writable:!1}),_React$Component&&_setPrototypeOf(subClass,_React$Component);var staticProps,_super=_createSuper(InputSelectBox);function InputSelectBox(){var instance=this,Constructor=InputSelectBox;if(instance instanceof Constructor)return _super.apply(this,arguments);throw new TypeError("Cannot call a class as a function")}return subClass=InputSelectBox,(_React$Component=[{key:"onDropDownChange",value:function(event,index,value){this.props.onChange(event,value),this.props.toggleEditMode()}},{key:"onMultipleSelect",value:function(event,index,newValue){var currentValue;-1!==newValue&&(-1===(currentValue="string"==typeof(currentValue=this.props.value)?currentValue.split(","):currentValue).indexOf(newValue)&&(currentValue.push(newValue),this.props.onChange(event,currentValue.join(","))),this.props.toggleEditMode())}},{key:"onMultipleRemove",value:function(value){var currentValue=this.props.value,currentValue="string"==typeof currentValue?currentValue.split(","):currentValue;-1!==currentValue.indexOf(value)&&(currentValue=LangUtils.arrayWithout(currentValue,currentValue.indexOf(value)),this.props.onChange(null,currentValue.join(",")))}},{key:"render",value:function(){var _this=this,currentValue=this.props.value,menuItems=[],_this$props=this.props,attributes=_this$props.attributes,isDisplayGrid=_this$props.isDisplayGrid,toggleEditMode=_this$props.toggleEditMode,editMode=_this$props.editMode,disabled=_this$props.disabled,multiple=_this$props.multiple,className=_this$props.className,_this$props=_this$props.variant,choices=(attributes.mandatory&&"true"===attributes.mandatory||menuItems.push(React.createElement(MenuItem,{value:-1,primaryText:attributes.label+"..."})),this.props.choices);return choices.forEach(function(value,key){menuItems.push(React.createElement(MenuItem,{value:key,primaryText:value}))}),isDisplayGrid()&&!editMode?(isDisplayGrid=this.props.value,choices.get(isDisplayGrid)&&(isDisplayGrid=choices.get(isDisplayGrid)),React.createElement("div",{onClick:disabled?function(){}:toggleEditMode,className:isDisplayGrid?"":"paramValue-empty"},isDisplayGrid||"Empty","   ",React.createElement("span",{className:"icon-caret-down"}))):multiple&&!0===multiple?("string"==typeof(editMode=currentValue)&&(editMode=currentValue.split(",")),toggleEditMode=React.createElement("div",{style:{display:"flex",flexWrap:"wrap",marginTop:"v2"===_this$props?22:8}},editMode.map(function(v){return React.createElement(Chip,{style:{marginRight:8},onRequestDelete:function(){_this.onMultipleRemove(v)}},choices.get(v)||v)})),isDisplayGrid={},"v2"===_this$props&&(menuItems=[React.createElement(MenuItem,{value:-1,primaryText:toggleEditMode})],choices.forEach(function(value,key){menuItems.push(React.createElement(MenuItem,{value:key,primaryText:value}))}),isDisplayGrid.hintText=attributes.label,isDisplayGrid.style={height:72},isDisplayGrid.dropDownMenuProps={iconStyle:{fill:"#9e9e9e",top:22,right:0}}),React.createElement("span",{className:"multiple has-value"},"v2"!==_this$props&&toggleEditMode,React.createElement(ModernSelectField,_extends({value:-1,onChange:function(e,i,v){return _this.onMultipleSelect(e,i,v)},fullWidth:!0,className:className,variant:_this$props,disabled:disabled},isDisplayGrid),menuItems))):React.createElement("span",null,React.createElement(ModernSelectField,{hintText:attributes.label,value:currentValue,onChange:function(e,i,v){return _this.onDropDownChange(e,i,v)},fullWidth:!0,className:className,variant:_this$props,disabled:disabled},menuItems))}}])&&_defineProperties(subClass.prototype,_React$Component),staticProps&&_defineProperties(subClass,staticProps),Object.defineProperty(subClass,"prototype",{writable:!1}),InputSelectBox}(React.Component);exports.default=_require,exports.default=_require=(0,_asFormField.default)(_require,!0),exports.default=(0,_withChoices.default)(_require),module.exports=exports.default},{"../hoc/asFormField":13,"../hoc/withChoices":14,"material-ui":"material-ui",pydio:"pydio","pydio/util/lang":"pydio/util/lang",react:"react"}],10:[function(require,module,exports){"use strict";function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _react=_interopRequireDefault(require("react")),_pydio=_interopRequireDefault(require("pydio")),require=_interopRequireDefault(require("../hoc/asFormField"));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,function(arg){arg=function(input,hint){if("object"!==_typeof(input)||null===input)return input;var prim=input[Symbol.toPrimitive];if(void 0===prim)return("string"===hint?String:Number)(input);prim=prim.call(input,hint||"default");if("object"!==_typeof(prim))return prim;throw new TypeError("@@toPrimitive must return a primitive value.")}(arg,"string");return"symbol"===_typeof(arg)?arg:String(arg)}(descriptor.key),descriptor)}}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(o,p){return o.__proto__=p,o})(o,p)}function _createSuper(Derived){var hasNativeReflectConstruct=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var NewTarget,Super=_getPrototypeOf(Derived),Super=(NewTarget=hasNativeReflectConstruct?(NewTarget=_getPrototypeOf(this).constructor,Reflect.construct(Super,arguments,NewTarget)):Super.apply(this,arguments),this);if(NewTarget&&("object"===_typeof(NewTarget)||"function"==typeof NewTarget))return NewTarget;if(void 0!==NewTarget)throw new TypeError("Derived constructors may only return object or undefined");return function(self){if(void 0!==self)return self;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(Super)}}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}var ModernTextField=_pydio.default.requireLib("hoc").ModernTextField,_pydio=function(_React$Component){var subClass=TextField;if("function"!=typeof _React$Component&&null!==_React$Component)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(_React$Component&&_React$Component.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),Object.defineProperty(subClass,"prototype",{writable:!1}),_React$Component&&_setPrototypeOf(subClass,_React$Component);var staticProps,_super=_createSuper(TextField);function TextField(){var instance=this,Constructor=TextField;if(instance instanceof Constructor)return _super.apply(this,arguments);throw new TypeError("Cannot call a class as a function")}return subClass=TextField,(_React$Component=[{key:"render",value:function(){var _this$props=this.props,editMode=_this$props.editMode,value=_this$props.value,variant=_this$props.variant,isDisplayGrid=_this$props.isDisplayGrid,isDisplayForm=_this$props.isDisplayForm,onChange=_this$props.onChange,enterToToggle=_this$props.enterToToggle,attributes=_this$props.attributes,disabled=_this$props.disabled,errorText=_this$props.errorText,_this$props=_this$props.toggleEditMode;return isDisplayGrid()&&!editMode?(isDisplayGrid=value,"password"===attributes.type&&value&&(isDisplayGrid="***********"),_react.default.createElement("div",{onClick:disabled?function(){}:_this$props,className:isDisplayGrid?"":"paramValue-empty"},isDisplayGrid||"Empty")):(editMode=_react.default.createElement(ModernTextField,{hintText:isDisplayForm()?attributes.label:null,value:value||"",onChange:onChange,onKeyDown:enterToToggle,type:"password"===attributes.type?"password":null,multiLine:"textarea"===attributes.type,disabled:disabled,errorText:errorText,autoComplete:"off",fullWidth:!0,variant:variant}),"password"===this.props.attributes.type?_react.default.createElement("form",{autoComplete:"off",onSubmit:function(e){e.stopPropagation(),e.preventDefault()},style:{display:"inline"}},editMode):_react.default.createElement("span",null,editMode))}}])&&_defineProperties(subClass.prototype,_React$Component),staticProps&&_defineProperties(subClass,staticProps),Object.defineProperty(subClass,"prototype",{writable:!1}),TextField}(_react.default.Component),require=(0,require.default)(_pydio);exports.default=require,module.exports=exports.default},{"../hoc/asFormField":13,pydio:"pydio",react:"react"}],11:[function(require,module,exports){"use strict";function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _react=_interopRequireDefault(require("react")),_pydio=_interopRequireDefault(require("pydio")),_asFormField=_interopRequireDefault(require("../hoc/asFormField")),_pass=_interopRequireDefault(require("pydio/util/pass"));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,function(arg){arg=function(input,hint){if("object"!==_typeof(input)||null===input)return input;var prim=input[Symbol.toPrimitive];if(void 0===prim)return("string"===hint?String:Number)(input);prim=prim.call(input,hint||"default");if("object"!==_typeof(prim))return prim;throw new TypeError("@@toPrimitive must return a primitive value.")}(arg,"string");return"symbol"===_typeof(arg)?arg:String(arg)}(descriptor.key),descriptor)}}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(o,p){return o.__proto__=p,o})(o,p)}function _createSuper(Derived){var hasNativeReflectConstruct=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var NewTarget,Super=_getPrototypeOf(Derived),Super=(NewTarget=hasNativeReflectConstruct?(NewTarget=_getPrototypeOf(this).constructor,Reflect.construct(Super,arguments,NewTarget)):Super.apply(this,arguments),this);if(NewTarget&&("object"===_typeof(NewTarget)||"function"==typeof NewTarget))return NewTarget;if(void 0!==NewTarget)throw new TypeError("Derived constructors may only return object or undefined");return function(self){if(void 0!==self)return self;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(Super)}}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}var ModernTextField=_pydio.default.requireLib("hoc").ModernTextField,require=function(_React$Component){var subClass=ValidLogin;if("function"!=typeof _React$Component&&null!==_React$Component)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(_React$Component&&_React$Component.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),Object.defineProperty(subClass,"prototype",{writable:!1}),_React$Component&&_setPrototypeOf(subClass,_React$Component);var staticProps,_super=_createSuper(ValidLogin);function ValidLogin(props){var _this;if(this instanceof ValidLogin)return(_this=_super.call(this,props)).state={},props.value&&(props=_pass.default.isValidLogin(props.value),_this.state={valid:!props,err:props}),_this;throw new TypeError("Cannot call a class as a function")}return subClass=ValidLogin,(_React$Component=[{key:"textValueChanged",value:function(event,value){var err=_pass.default.isValidLogin(value),valid=!err;(this.state&&this.state.valid)!==valid&&this.props.onValidStatusChange&&this.props.onValidStatusChange(valid),this.setState({valid:valid,err:err}),this.props.onChange(event,value)}},{key:"isValid",value:function(){return this.state&&this.state.valid}},{key:"render",value:function(){var _this2=this,_this$props=this.props,isDisplayGrid=_this$props.isDisplayGrid,isDisplayForm=_this$props.isDisplayForm,editMode=_this$props.editMode,disabled=_this$props.disabled,errorText=_this$props.errorText,enterToToggle=_this$props.enterToToggle,toggleEditMode=_this$props.toggleEditMode,attributes=_this$props.attributes,_this$props=_this$props.variant,value=this.props.value;return isDisplayGrid()&&!editMode?("password"===attributes.type&&(value=value&&"***********"),_react.default.createElement("div",{onClick:disabled?function(){}:toggleEditMode,className:value?"":"paramValue-empty"},value||"Empty")):(isDisplayGrid=this.state&&this.state.err,editMode=_react.default.createElement(ModernTextField,{floatingLabelText:isDisplayForm()?attributes.label:null,value:value||"",onChange:function(e,v){return _this2.textValueChanged(e,v)},onKeyDown:enterToToggle,type:"password"===attributes.type?"password":null,multiLine:"textarea"===attributes.type,disabled:disabled,errorText:errorText||isDisplayGrid,autoComplete:"off",fullWidth:!0,variant:_this$props}),"password"===attributes.type?_react.default.createElement("form",{autoComplete:"off",onSubmit:function(e){e.stopPropagation(),e.preventDefault()},style:{display:"inline"}},editMode):_react.default.createElement("span",null,editMode))}}])&&_defineProperties(subClass.prototype,_React$Component),staticProps&&_defineProperties(subClass,staticProps),Object.defineProperty(subClass,"prototype",{writable:!1}),ValidLogin}(_react.default.Component),_pydio=(0,_asFormField.default)(require);exports.default=_pydio,module.exports=exports.default},{"../hoc/asFormField":13,pydio:"pydio","pydio/util/pass":"pydio/util/pass",react:"react"}],12:[function(require,module,exports){"use strict";function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _react=_interopRequireDefault(require("react")),_pydio=_interopRequireDefault(require("pydio")),_pass=_interopRequireDefault(require("pydio/util/pass")),_asFormField=_interopRequireDefault(require("../hoc/asFormField")),_materialUi=require("material-ui");function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function ownKeys(object,enumerableOnly){var symbols,keys=Object.keys(object);return Object.getOwnPropertySymbols&&(symbols=Object.getOwnPropertySymbols(object),enumerableOnly&&(symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable})),keys.push.apply(keys,symbols)),keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach(function(key){!function(obj,key,value){(key=_toPropertyKey(key))in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value}(target,key,source[key])}):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))})}return target}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,_toPropertyKey(descriptor.key),descriptor)}}function _toPropertyKey(arg){arg=function(input,hint){if("object"!==_typeof(input)||null===input)return input;var prim=input[Symbol.toPrimitive];if(void 0===prim)return("string"===hint?String:Number)(input);prim=prim.call(input,hint||"default");if("object"!==_typeof(prim))return prim;throw new TypeError("@@toPrimitive must return a primitive value.")}(arg,"string");return"symbol"===_typeof(arg)?arg:String(arg)}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(o,p){return o.__proto__=p,o})(o,p)}function _createSuper(Derived){var hasNativeReflectConstruct=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var NewTarget,Super=_getPrototypeOf(Derived),Super=(NewTarget=hasNativeReflectConstruct?(NewTarget=_getPrototypeOf(this).constructor,Reflect.construct(Super,arguments,NewTarget)):Super.apply(this,arguments),this);if(NewTarget&&("object"===_typeof(NewTarget)||"function"==typeof NewTarget))return NewTarget;if(void 0!==NewTarget)throw new TypeError("Derived constructors may only return object or undefined");return function(self){if(void 0!==self)return self;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(Super)}}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}var ModernTextField=_pydio.default.requireLib("hoc").ModernTextField,require=function(_React$Component){var subClass=ValidPassword;if("function"!=typeof _React$Component&&null!==_React$Component)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(_React$Component&&_React$Component.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),Object.defineProperty(subClass,"prototype",{writable:!1}),_React$Component&&_setPrototypeOf(subClass,_React$Component);var staticProps,_super=_createSuper(ValidPassword);function ValidPassword(props){if(this instanceof ValidPassword)return(props=_super.call(this,props)).state={},props;throw new TypeError("Cannot call a class as a function")}return subClass=ValidPassword,(_React$Component=[{key:"isValid",value:function(){return this.state.valid}},{key:"checkMinLength",value:function(value){var minLength=parseInt(_pydio.default.getInstance().getPluginConfigs("core.auth").get("PASSWORD_MINLENGTH"));return!(value&&value.length<minLength)}},{key:"getMessage",value:function(messageId){return _pydio.default.getMessages()[messageId]||messageId}},{key:"updatePassState",value:function(){var prevStateValid=this.state.valid,newState=_pass.default.getState(this.refs.pass.getValue(),this.refs.confirm?this.refs.confirm.getValue():"");newState.value=this.refs.pass.getValue(),this.setState(newState),prevStateValid!==newState.valid&&this.props.onValidStatusChange&&this.props.onValidStatusChange(newState.valid)}},{key:"onPasswordChange",value:function(event,value){this.updatePassState(),this.props.onChange(event,value)}},{key:"onConfirmChange",value:function(event,value){this.setState({confirmValue:value}),this.updatePassState(),this.props.onChange(event,this.state.value)}},{key:"render",value:function(){var confirm,_this$props=this.props,disabled=_this$props.disabled,className=_this$props.className,attributes=_this$props.attributes,_this$props=_this$props.dialogField,_this$props2=this.props,isDisplayGrid=_this$props2.isDisplayGrid,editMode=(_this$props2.isDisplayForm,_this$props2.editMode),value=_this$props2.value,toggleEditMode=_this$props2.toggleEditMode,enterToToggle=_this$props2.enterToToggle,_this$props2=_this$props2.variant;return isDisplayGrid()&&!editMode?_react.default.createElement("div",{onClick:disabled?function(){}:toggleEditMode,className:value?"":"paramValue-empty"},value||"Empty"):(editMode={overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis",width:"100%"},toggleEditMode=this.state.valid?"":"mui-error-as-hint",className&&(toggleEditMode=className+" "+toggleEditMode),className=_this$props?_materialUi.TextField:ModernTextField,value&&!disabled&&(confirm=[_react.default.createElement("div",{key:"sep",style:{width:8}}),_react.default.createElement(className,{key:"confirm",ref:"confirm",floatingLabelText:this.getMessage(199),floatingLabelShrinkStyle:_objectSpread(_objectSpread({},editMode),{},{width:"130%"}),floatingLabelStyle:editMode,className:toggleEditMode,value:this.state.confirmValue,onChange:this.onConfirmChange.bind(this),type:"password",multiLine:!1,disabled:disabled,fullWidth:!0,style:{flex:1},errorText:this.state.confirmErrorText,errorStyle:_this$props?{bottom:15}:null,variant:_this$props2})]),_react.default.createElement("form",{autoComplete:"off",onSubmit:function(e){e.stopPropagation(),e.preventDefault()}},_react.default.createElement("div",{style:{display:"flex",height:"v2"===_this$props2?66:null}},_react.default.createElement(className,{ref:"pass",floatingLabelText:isDisplayGrid()?null:attributes.label,floatingLabelShrinkStyle:_objectSpread(_objectSpread({},editMode),{},{width:"130%"}),floatingLabelStyle:editMode,className:toggleEditMode,value:this.state.value,onChange:this.onPasswordChange.bind(this),onKeyDown:enterToToggle,type:"password",multiLine:!1,disabled:disabled,errorText:this.state.passErrorText,fullWidth:!0,style:{flex:1},errorStyle:_this$props?{bottom:15}:null,variant:_this$props2}),confirm)))}}])&&_defineProperties(subClass.prototype,_React$Component),staticProps&&_defineProperties(subClass,staticProps),Object.defineProperty(subClass,"prototype",{writable:!1}),ValidPassword}(_react.default.Component),_asFormField=(0,_asFormField.default)(require);exports.default=_asFormField,module.exports=exports.default},{"../hoc/asFormField":13,"material-ui":"material-ui",pydio:"pydio","pydio/util/pass":"pydio/util/pass",react:"react"}],13:[function(require,module,exports){"use strict";function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _react=(require=require("react"))&&require.__esModule?require:{default:require};function _extends(){return(_extends=Object.assign?Object.assign.bind():function(target){for(var i=1;i<arguments.length;i++){var key,source=arguments[i];for(key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target}).apply(this,arguments)}function ownKeys(object,enumerableOnly){var symbols,keys=Object.keys(object);return Object.getOwnPropertySymbols&&(symbols=Object.getOwnPropertySymbols(object),enumerableOnly&&(symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable})),keys.push.apply(keys,symbols)),keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach(function(key){!function(obj,key,value){(key=_toPropertyKey(key))in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value}(target,key,source[key])}):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))})}return target}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,_toPropertyKey(descriptor.key),descriptor)}}function _toPropertyKey(arg){arg=function(input,hint){if("object"!==_typeof(input)||null===input)return input;var prim=input[Symbol.toPrimitive];if(void 0===prim)return("string"===hint?String:Number)(input);prim=prim.call(input,hint||"default");if("object"!==_typeof(prim))return prim;throw new TypeError("@@toPrimitive must return a primitive value.")}(arg,"string");return"symbol"===_typeof(arg)?arg:String(arg)}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(o,p){return o.__proto__=p,o})(o,p)}function _createSuper(Derived){var hasNativeReflectConstruct=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var NewTarget,Super=_getPrototypeOf(Derived),Super=(NewTarget=hasNativeReflectConstruct?(NewTarget=_getPrototypeOf(this).constructor,Reflect.construct(Super,arguments,NewTarget)):Super.apply(this,arguments),this);if(NewTarget&&("object"===_typeof(NewTarget)||"function"==typeof NewTarget))return NewTarget;if(void 0!==NewTarget)throw new TypeError("Derived constructors may only return object or undefined");return function(self){if(void 0!==self)return self;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(Super)}}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}exports.default=function(Field){var skipBufferChanges=1<arguments.length&&void 0!==arguments[1]&&arguments[1];return function(_React$Component){var subClass=FormField;if("function"!=typeof _React$Component&&null!==_React$Component)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(_React$Component&&_React$Component.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),Object.defineProperty(subClass,"prototype",{writable:!1}),_React$Component&&_setPrototypeOf(subClass,_React$Component);var staticProps,_super=_createSuper(FormField);function FormField(props){if(this instanceof FormField)return props=_objectSpread({displayContext:"form",disabled:!1},props),(props=_super.call(this,props)).state={editMode:!1,dirty:!1,value:props.props.value},props;throw new TypeError("Cannot call a class as a function")}return subClass=FormField,(_React$Component=[{key:"isDisplayGrid",value:function(){return"grid"===this.props.displayContext}},{key:"isDisplayForm",value:function(){return"form"===this.props.displayContext}},{key:"toggleEditMode",value:function(){var newState;this.isDisplayForm()||(newState=!this.state.editMode,this.setState({editMode:newState}),this.props.onChangeEditMode&&this.props.onChangeEditMode(newState))}},{key:"enterToToggle",value:function(event){"Enter"===event.key&&this.toggleEditMode()}},{key:"bufferChanges",value:function(newValue,oldValue){this.triggerPropsOnChange(newValue,oldValue)}},{key:"onChange",value:function(event,value){void 0===value&&(value=event.currentTarget.getValue?event.currentTarget.getValue():event.currentTarget.value),this.changeTimeout&&clearTimeout(this.changeTimeout);var newValue=value,oldValue=this.state.value;skipBufferChanges&&this.triggerPropsOnChange(newValue,oldValue),this.setState({dirty:!0,value:newValue}),skipBufferChanges||(event=250,"password"===this.props.attributes.type&&(event=1200),this.changeTimeout=setTimeout(function(){this.bufferChanges(newValue,oldValue)}.bind(this),event))}},{key:"triggerPropsOnChange",value:function(newValue,oldValue){"password"===this.props.attributes.type?(this.toggleEditMode(),this.props.onChange(newValue,oldValue,{type:this.props.attributes.type})):this.props.onChange(newValue,oldValue)}},{key:"componentWillReceiveProps",value:function(newProps){this.setState({value:newProps.value,dirty:!1})}},{key:"isValid",value:function(){return!this.refs.internal||!this.refs.internal.isValid||this.refs.internal.isValid()}},{key:"render",value:function(){var _this2=this;return _react.default.createElement(Field,_extends({},this.props,this.state,{ref:"internal",onChange:function(e,v){return _this2.onChange(e,v)},toggleEditMode:function(){return _this2.toggleEditMode()},enterToToggle:function(e){return _this2.enterToToggle(e)},isDisplayGrid:function(){return _this2.isDisplayGrid()},isDisplayForm:function(){return _this2.isDisplayForm()}}))}}])&&_defineProperties(subClass.prototype,_React$Component),staticProps&&_defineProperties(subClass,staticProps),Object.defineProperty(subClass,"prototype",{writable:!1}),FormField}(_react.default.Component)},module.exports=exports.default},{react:"react"}],14:[function(require,module,exports){"use strict";function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _extends(){return(_extends=Object.assign?Object.assign.bind():function(target){for(var i=1;i<arguments.length;i++){var key,source=arguments[i];for(key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target}).apply(this,arguments)}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,function(arg){arg=function(input,hint){if("object"!==_typeof(input)||null===input)return input;var prim=input[Symbol.toPrimitive];if(void 0===prim)return("string"===hint?String:Number)(input);prim=prim.call(input,hint||"default");if("object"!==_typeof(prim))return prim;throw new TypeError("@@toPrimitive must return a primitive value.")}(arg,"string");return"symbol"===_typeof(arg)?arg:String(arg)}(descriptor.key),descriptor)}}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(o,p){return o.__proto__=p,o})(o,p)}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(PydioComponent){return PydioContextConsumer(function(){var subClass=FieldWithChoices,superClass=Component;if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),Object.defineProperty(subClass,"prototype",{writable:!1}),superClass&&_setPrototypeOf(subClass,superClass);Derived=FieldWithChoices,hasNativeReflectConstruct=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();var Derived,hasNativeReflectConstruct,_super=function(){var NewTarget,Super=_getPrototypeOf(Derived),Super=(NewTarget=hasNativeReflectConstruct?(NewTarget=_getPrototypeOf(this).constructor,Reflect.construct(Super,arguments,NewTarget)):Super.apply(this,arguments),this);if(NewTarget&&("object"===_typeof(NewTarget)||"function"==typeof NewTarget))return NewTarget;if(void 0!==NewTarget)throw new TypeError("Derived constructors may only return object or undefined");return function(self){if(void 0!==self)return self;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(Super)};function FieldWithChoices(props,context){if(this instanceof FieldWithChoices)return props=_super.call(this,props,context),(context=new Map).set("0",props.props.pydio?props.props.pydio.MessageHash["ajxp_admin.home.6"]:" ... "),props.state={choices:context,choicesParsed:!1},props;throw new TypeError("Cannot call a class as a function")}var subClass=FieldWithChoices,superClass=[{key:"loadExternalValues",value:function(choices){var list_action,output,sorter,pages,_this2=this,pydio=this.props.pydio,parsed=!0;return choices instanceof Map?(this.onChoicesLoaded&&this.onChoicesLoaded(choices),{choices:choices,parsed:parsed}):(output=new Map,0===choices.indexOf("json_file:")?(parsed=!1,list_action=choices.replace("json_file:",""),output.set("0",pydio.MessageHash["ajxp_admin.home.6"]),PydioApi.getClient().loadFile(list_action,function(transport){var newOutput=new Map;if(transport.responseJSON)transport.responseJSON.forEach(function(entry){newOutput.set(entry.key,entry.label)});else if(transport.responseText)try{JSON.parse(transport.responseText).forEach(function(entry){newOutput.set(entry.key,entry.label)})}catch(e){console.log("Error while parsing list "+choices,e)}_this2.setState({choices:newOutput},function(){_this2.onChoicesLoaded&&_this2.onChoicesLoaded(newOutput)})})):"PYDIO_AVAILABLE_LANGUAGES"===choices?(pydio.listLanguagesWithCallback(function(key,label){output.set(key,label)}),this.onChoicesLoaded&&this.onChoicesLoaded(output)):"PYDIO_AVAILABLE_REPOSITORIES"===choices?(pydio.user&&(sorter=[],pages=[],pydio.user.repositories.forEach(function(repository){"settings"===repository.getId()||"homepage"===repository.getId()?pages.push({id:repository.getId(),label:"["+pydio.MessageHash[331]+"] "+repository.getLabel()}):"cell"!==repository.getRepositoryType()&&sorter.push({id:repository.getId(),label:repository.getLabel()})}),sorter.sort(function(a,b){return a.label.localeCompare(b.label,void 0,{numeric:!0})}),sorter.push.apply(sorter,pages),sorter.forEach(function(d){return output.set(d.id,d.label)})),this.onChoicesLoaded&&this.onChoicesLoaded(output)):choices.split(",").map(function(choice){var label,value,l=choice.split("|");1<l.length?(value=l[0],label=l[1]):value=label=choice,pydio.MessageHash[label]&&(label=pydio.MessageHash[label]),output.set(value,label)}),{choices:output,parsed:parsed})}},{key:"componentDidMount",value:function(){var choices,_this$loadExternalVal;this.props.attributes.choices&&(choices=(_this$loadExternalVal=this.loadExternalValues(this.props.attributes.choices)).choices,_this$loadExternalVal=_this$loadExternalVal.parsed,this.setState({choices:choices,choicesParsed:_this$loadExternalVal}))}},{key:"componentWillReceiveProps",value:function(newProps){var choices;newProps.attributes.choices&&newProps.attributes.choices!==this.props.attributes.choices&&(choices=(newProps=this.loadExternalValues(newProps.attributes.choices)).choices,newProps=newProps.parsed,this.setState({choices:choices,choicesParsed:newProps}))}},{key:"render",value:function(){return React.createElement(PydioComponent,_extends({},this.props,this.state))}}],staticProps=void 0;return superClass&&_defineProperties(subClass.prototype,superClass),staticProps&&_defineProperties(subClass,staticProps),Object.defineProperty(subClass,"prototype",{writable:!1}),FieldWithChoices}())};var Component=require("react").Component,PydioContextConsumer=require("pydio").requireLib("boot").PydioContextConsumer;module.exports=exports.default},{pydio:"pydio",react:"react"}],15:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _Manager=_interopRequireDefault(require("./manager/Manager")),_TextField=_interopRequireDefault(require("./fields/TextField")),_ValidPassword=_interopRequireDefault(require("./fields/ValidPassword")),_InputInteger=_interopRequireDefault(require("./fields/InputInteger")),_InputIntegerBytes=_interopRequireDefault(require("./fields/InputIntegerBytes")),_InputBoolean=_interopRequireDefault(require("./fields/InputBoolean")),_InputSelectBox=_interopRequireDefault(require("./fields/InputSelectBox")),_AutocompleteBox=_interopRequireDefault(require("./fields/AutocompleteBox")),_InputImage=_interopRequireDefault(require("./fields/InputImage")),_FormPanel=_interopRequireDefault(require("./panel/FormPanel")),_FormHelper=_interopRequireDefault(require("./panel/FormHelper")),_FileDropzone=_interopRequireDefault(require("./fields/FileDropzone")),require=_interopRequireDefault(require("./fields/AutocompleteTree"));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}_TextField={Manager:_Manager.default,InputText:_TextField.default,ValidPassword:_ValidPassword.default,InputBoolean:_InputBoolean.default,InputInteger:_InputInteger.default,InputIntegerBytes:_InputIntegerBytes.default,InputSelectBox:_InputSelectBox.default,AutocompleteBox:_AutocompleteBox.default,AutocompleteTree:require.default,InputImage:_InputImage.default,FormPanel:_FormPanel.default,PydioHelper:_FormHelper.default,FileDropZone:_FileDropzone.default,createFormElement:_Manager.default.createFormElement};exports.default=_TextField,module.exports=exports.default},{"./fields/AutocompleteBox":2,"./fields/AutocompleteTree":3,"./fields/FileDropzone":4,"./fields/InputBoolean":5,"./fields/InputImage":6,"./fields/InputInteger":7,"./fields/InputIntegerBytes":8,"./fields/InputSelectBox":9,"./fields/TextField":10,"./fields/ValidPassword":12,"./manager/Manager":16,"./panel/FormHelper":17,"./panel/FormPanel":18}],16:[function(require,module,exports){!function(global){!function(){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _react=_interopRequireDefault(require("react")),_ValidLogin=_interopRequireDefault(require("../fields/ValidLogin")),_AltText=_interopRequireDefault(require("../fields/AltText")),_InputIntegerBytes=_interopRequireDefault(require("../fields/InputIntegerBytes"));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function ownKeys(object,enumerableOnly){var symbols,keys=Object.keys(object);return Object.getOwnPropertySymbols&&(symbols=Object.getOwnPropertySymbols(object),enumerableOnly&&(symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable})),keys.push.apply(keys,symbols)),keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach(function(key){!function(obj,key,value){(key=_toPropertyKey(key))in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value}(target,key,source[key])}):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))})}return target}function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _extends(){return(_extends=Object.assign?Object.assign.bind():function(target){for(var i=1;i<arguments.length;i++){var key,source=arguments[i];for(key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target}).apply(this,arguments)}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,_toPropertyKey(descriptor.key),descriptor)}}function _toPropertyKey(arg){arg=function(input,hint){if("object"!==_typeof(input)||null===input)return input;var prim=input[Symbol.toPrimitive];if(void 0===prim)return("string"===hint?String:Number)(input);prim=prim.call(input,hint||"default");if("object"!==_typeof(prim))return prim;throw new TypeError("@@toPrimitive must return a primitive value.")}(arg,"string");return"symbol"===_typeof(arg)?arg:String(arg)}var XMLUtils=require("pydio/util/xml"),InputBoolean=require("./../fields/InputBoolean"),InputText=require("./../fields/TextField"),ValidPassword=require("./../fields/ValidPassword"),InputInteger=require("./../fields/InputInteger"),InputImage=require("./../fields/InputImage"),SelectBox=require("./../fields/InputSelectBox"),AutocompleteBox=require("./../fields/AutocompleteBox"),AutocompleteTree=require("./../fields/AutocompleteTree"),Manager=function(){function Manager(){if(!(this instanceof Manager))throw new TypeError("Cannot call a class as a function")}var Constructor,protoProps,staticProps;return Constructor=Manager,staticProps=[{key:"hasHelper",value:function(pluginId,paramName){var helpers=Manager.getHelpersCache();return helpers[pluginId]&&helpers[pluginId].parameters[paramName]}},{key:"getHelpersCache",value:function(){if(!Manager.HELPERS_CACHE){for(var helperCache={},helpers=XMLUtils.XPathSelectNodes(window.pydio.Registry.getXML(),'plugins/*/client_settings/resources/js[@type="helper"]'),i=0;i<helpers.length;i++)for(var helperNode=helpers[i],plugin=helperNode.getAttribute("plugin"),paramNodes=(helperCache[plugin]={namespace:helperNode.getAttribute("className"),parameters:{}},XMLUtils.XPathSelectNodes(helperNode,"parameter")),k=0;k<paramNodes.length;k++){var paramNode=paramNodes[k];helperCache[plugin].parameters[paramNode.getAttribute("name")]=!0}Manager.HELPERS_CACHE=helperCache}return Manager.HELPERS_CACHE}},{key:"parseParameters",value:function(xmlDocument,query){return XMLUtils.XPathSelectNodes(xmlDocument,query).map(function(node){return Manager.parameterNodeToHash(node)}.bind(this))}},{key:"parameterNodeToHash",value:function(paramNode){for(var paramsAtts=paramNode.attributes,paramsObject={},collectCdata=(paramNode.parentNode&&paramNode.parentNode.parentNode&&paramNode.parentNode.parentNode.getAttribute&&(paramsObject.pluginId=paramNode.parentNode.parentNode.getAttribute("id")),!1),MessageHash=global.pydio.MessageHash,i=0;i<paramsAtts.length;i++){var attName=paramsAtts.item(i).nodeName,value=paramsAtts.item(i).value;"label"!==attName&&"description"!==attName&&"group"!==attName&&0!==attName.indexOf("group_switch_")||!MessageHash[value]||(value=MessageHash[value]),"cdatavalue"===attName?collectCdata=!0:paramsObject[attName]=value}return collectCdata&&(paramsObject.value=paramNode.firstChild.value),"boolean"===paramsObject.type?(void 0!==paramsObject.value&&(paramsObject.value="true"===paramsObject.value),void 0!==paramsObject.default&&(paramsObject.default="true"===paramsObject.default)):"integer"!==paramsObject.type&&"integer-bytes"!==paramsObject.type||(void 0!==paramsObject.value&&(paramsObject.value=parseInt(paramsObject.value)),void 0!==paramsObject.default&&(paramsObject.default=parseInt(paramsObject.default))),paramsObject}},{key:"createFormElement",value:function(props){var value,attributes=props.attributes,onAltTextSwitch=props.onAltTextSwitch,altTextSwitchIcon=props.altTextSwitchIcon,switchProps={onAltTextSwitch:onAltTextSwitch,altTip:props.altTextSwitchTip,altIconText:altTextSwitchIcon};switch(attributes.type){case"boolean":value=_react.default.createElement(InputBoolean,props),onAltTextSwitch&&(value=_react.default.createElement(_AltText.default,_extends({},props,switchProps,{altIcon:"mdi mdi-toggle-switch"}),value));break;case"string":case"textarea":case"password":value=_react.default.createElement(InputText,props);break;case"valid-password":value=_react.default.createElement(ValidPassword,props);break;case"valid-login":value=_react.default.createElement(_ValidLogin.default,props);break;case"integer":case"integer-bytes":value="integer-bytes"===attributes.type?_react.default.createElement(_InputIntegerBytes.default,props):_react.default.createElement(InputInteger,props),onAltTextSwitch&&(value=_react.default.createElement(_AltText.default,_extends({},props,switchProps,{altIcon:"mdi mdi-number"}),value));break;case"image":value=_react.default.createElement(InputImage,props);break;case"select":value=_react.default.createElement(SelectBox,props),onAltTextSwitch&&(value=_react.default.createElement(_AltText.default,_extends({},props,switchProps,{altIcon:"mdi mdi-view-list"}),value));break;case"autocomplete":value=_react.default.createElement(AutocompleteBox,props);break;case"autocomplete-tree":value=_react.default.createElement(AutocompleteTree,props);break;case"legend":case"hidden":value=null;break;default:value=props.value||_react.default.createElement("span",{className:"paramValue-empty"},"Empty")}return value}},{key:"SlashesToJson",value:function(values){var newValues,recurseOnKeys;return void 0===values||"object"!==_typeof(values)?values:(newValues={},recurseOnKeys={},Object.keys(values).forEach(function(k){var firstPart,parts,data=values[k];0<k.indexOf("/")?(firstPart=(parts=k.split("/")).shift(),parts=parts.join("/"),newValues[firstPart]?"string"==typeof newValues[firstPart]&&(newValues[firstPart]={"@value":newValues[firstPart]}):newValues[firstPart]={},newValues[firstPart][parts]=data,recurseOnKeys[firstPart]=firstPart):newValues[k]&&"object"===_typeof(newValues[k])?newValues[k]["@value"]=data:newValues[k]=data}),Object.keys(recurseOnKeys).map(function(key){newValues[key]=Manager.SlashesToJson(newValues[key])}),newValues)}},{key:"JsonToSlashes",value:function(values){var prefix=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"",newValues={};return Object.keys(values).forEach(function(k){var subValues;"object"===_typeof(values[k])?(subValues=Manager.JsonToSlashes(values[k],prefix+k+"/"),newValues=_objectSpread(_objectSpread({},newValues),subValues),values[k]["@value"]&&(newValues[prefix+k]=values[k]["@value"])):newValues[prefix+k]=values[k]}),newValues}},{key:"getValuesForPOST",value:function(definitions,values){var key,prefix=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"DRIVER_OPTION_",additionalMetadata=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null,clientParams={};for(key in values)if(values.hasOwnProperty(key)){clientParams[prefix+key]=values[key];for(var defType=null,d=0;d<definitions.length;d++)if(definitions[d].name==key){defType=definitions[d].type;break}if(!defType){var last,prev,parts=key.split("/");1<parts.length&&(last=parts.pop(),prev=parts.pop());for(var k=0;k<definitions.length;k++)if(void 0!==last){if(definitions[k].name==last&&definitions[k].group_switch_name&&definitions[k].group_switch_name==prev){defType=definitions[k].type;break}}else if(definitions[k].name==key){defType=definitions[k].type;break}}if(defType&&(clientParams[prefix+key+"_ajxptype"]=defType="image"==defType?"binary":defType),additionalMetadata&&additionalMetadata[key])for(var meta in additionalMetadata[key])additionalMetadata[key].hasOwnProperty(meta)&&(clientParams[prefix+key+"_"+meta]=additionalMetadata[key][meta])}var treeValue,theKey,allKeys=Object.keys(clientParams),treeKeys=(allKeys.sort(),allKeys.reverse(),{});for(key in allKeys.map(function(key){if(-1!==key.indexOf("/")&&!key.endsWith("_ajxptype")){for(var parentKey,typeKey=key+"_ajxptype",parts=key.split("/"),parentName=parts.shift();0<parts.length;)(parentKey=parentKey||treeKeys)[parentName]||(parentKey[parentName]={}),parentKey=parentKey[parentName],parentName=parts.shift();var type=clientParams[typeKey];delete clientParams[typeKey],parentKey&&!parentKey[parentName]?"boolean"===type?parentKey[parentName]="true"===(typeKey=clientParams[key])||1===typeKey||!0===typeKey:"integer"===type||"integer-bytes"===type?parentKey[parentName]=parseInt(clientParams[key]):type&&type.startsWith("group_switch:")&&"string"==typeof clientParams[key]?parentKey[parentName]={group_switch_value:clientParams[key]}:parentKey[parentName]=clientParams[key]:parentKey&&type&&type.startsWith("group_switch:")&&(parentKey[parentName].group_switch_value=clientParams[key]),delete clientParams[key]}}),treeKeys)treeKeys.hasOwnProperty(key)&&(treeValue=treeKeys[key],clientParams[key+"_ajxptype"]&&0===clientParams[key+"_ajxptype"].indexOf("group_switch:")&&!treeValue.group_switch_value&&(treeValue.group_switch_value=clientParams[key]),clientParams[key]=JSON.stringify(treeValue),clientParams[key+"_ajxptype"]="text/json");for(theKey in clientParams)clientParams.hasOwnProperty(theKey)&&(-1==theKey.indexOf("/")&&clientParams[theKey]&&clientParams[theKey+"_ajxptype"]&&clientParams[theKey+"_ajxptype"].startsWith("group_switch:")&&"string"==typeof clientParams[theKey]&&(clientParams[theKey]=JSON.stringify({group_switch_value:clientParams[theKey]}),clientParams[theKey+"_ajxptype"]="text/json"),clientParams.hasOwnProperty(theKey))&&theKey.endsWith("_group_switch")&&delete clientParams[theKey];return clientParams}}],(protoProps=null)&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Object.defineProperty(Constructor,"prototype",{writable:!1}),Manager}();exports.default=Manager,module.exports=exports.default}.call(this)}.call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../fields/AltText":1,"../fields/InputIntegerBytes":8,"../fields/ValidLogin":11,"./../fields/AutocompleteBox":2,"./../fields/AutocompleteTree":3,"./../fields/InputBoolean":5,"./../fields/InputImage":6,"./../fields/InputInteger":7,"./../fields/InputSelectBox":9,"./../fields/TextField":10,"./../fields/ValidPassword":12,"pydio/util/xml":"pydio/util/xml",react:"react"}],17:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _propTypes=_interopRequireDefault(require("prop-types")),_Manager=_interopRequireDefault(require("../manager/Manager"));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _extends(){return(_extends=Object.assign?Object.assign.bind():function(target){for(var i=1;i<arguments.length;i++){var key,source=arguments[i];for(key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target}).apply(this,arguments)}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,_toPropertyKey(descriptor.key),descriptor)}}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(o,p){return o.__proto__=p,o})(o,p)}function _createSuper(Derived){var hasNativeReflectConstruct=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var NewTarget,Super=_getPrototypeOf(Derived),Super=(NewTarget=hasNativeReflectConstruct?(NewTarget=_getPrototypeOf(this).constructor,Reflect.construct(Super,arguments,NewTarget)):Super.apply(this,arguments),this);if(NewTarget&&("object"===_typeof(NewTarget)||"function"==typeof NewTarget))return NewTarget;if(void 0!==NewTarget)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(Super)}}function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function _defineProperty(obj,key,value){(key=_toPropertyKey(key))in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value}function _toPropertyKey(arg){arg=function(input,hint){if("object"!==_typeof(input)||null===input)return input;var prim=input[Symbol.toPrimitive];if(void 0===prim)return("string"===hint?String:Number)(input);prim=prim.call(input,hint||"default");if("object"!==_typeof(prim))return prim;throw new TypeError("@@toPrimitive must return a primitive value.")}(arg,"string");return"symbol"===_typeof(arg)?arg:String(arg)}var React=require("react"),AsyncComponent=require("pydio").requireLib("boot").AsyncComponent,require=function(_React$Component){var subClass=_default;if("function"!=typeof _React$Component&&null!==_React$Component)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(_React$Component&&_React$Component.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),Object.defineProperty(subClass,"prototype",{writable:!1}),_React$Component&&_setPrototypeOf(subClass,_React$Component);var staticProps,_super=_createSuper(_default);function _default(){var _this,instance=this,Constructor=_default;if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function");for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return _defineProperty(_assertThisInitialized(_this=_super.call.apply(_super,[this].concat(args))),"closeHelper",function(){_this.props.close()}),_this}return subClass=_default,(_React$Component=[{key:"render",value:function(){var pluginHelperNamespace;return this.props.helperData&&(pluginHelperNamespace=_Manager.default.getHelpersCache()[this.props.helperData.pluginId].namespace,pluginHelperNamespace=React.createElement("div",null,React.createElement("div",{className:"helper-title"},React.createElement("span",{className:"helper-close mdi mdi-close",onClick:this.closeHelper}),"Pydio Companion"),React.createElement("div",{className:"helper-content"},React.createElement(AsyncComponent,_extends({},this.props.helperData,{namespace:pluginHelperNamespace,componentName:"Helper",paramName:this.props.helperData.paramAttributes.name}))))),React.createElement("div",{className:"pydio-form-helper"+(pluginHelperNamespace?" helper-visible":" helper-empty"),style:{zIndex:1}},pluginHelperNamespace)}}])&&_defineProperties(subClass.prototype,_React$Component),staticProps&&_defineProperties(subClass,staticProps),Object.defineProperty(subClass,"prototype",{writable:!1}),_default}(React.Component);_defineProperty(exports.default=require,"propTypes",{helperData:_propTypes.default.object,close:_propTypes.default.func.isRequired}),module.exports=exports.default},{"../manager/Manager":16,"prop-types":"prop-types",pydio:"pydio",react:"react"}],18:[function(require,module,exports){"use strict";function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _react=function(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule)return obj;if(null===obj||"object"!==_typeof(obj)&&"function"!=typeof obj)return{default:obj};nodeInterop=_getRequireWildcardCache(nodeInterop);if(nodeInterop&&nodeInterop.has(obj))return nodeInterop.get(obj);var key,newObj={},hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(key in obj){var desc;"default"!==key&&Object.prototype.hasOwnProperty.call(obj,key)&&((desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null)&&(desc.get||desc.set)?Object.defineProperty(newObj,key,desc):newObj[key]=obj[key])}newObj.default=obj,nodeInterop&&nodeInterop.set(obj,newObj);return newObj}(require("react")),_createReactClass=_interopRequireDefault(require("create-react-class")),_GroupSwitchPanel=_interopRequireDefault(require("./GroupSwitchPanel")),_ReplicationPanel=_interopRequireDefault(require("./ReplicationPanel")),_Manager=_interopRequireDefault(require("../manager/Manager")),_propTypes=_interopRequireDefault(require("prop-types")),_pydio=_interopRequireDefault(require("pydio")),_lang=_interopRequireDefault(require("pydio/util/lang")),_materialUi=require("material-ui");function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _getRequireWildcardCache(nodeInterop){var cacheBabelInterop,cacheNodeInterop;return"function"!=typeof WeakMap?null:(cacheBabelInterop=new WeakMap,cacheNodeInterop=new WeakMap,(_getRequireWildcardCache=function(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop})(nodeInterop))}function _toConsumableArray(arr){return function(arr){if(Array.isArray(arr))return _arrayLikeToArray(arr)}(arr)||function(iter){if("undefined"!=typeof Symbol&&null!=iter[Symbol.iterator]||null!=iter["@@iterator"])return Array.from(iter)}(arr)||function(o,minLen){var n;if(o)return"string"==typeof o?_arrayLikeToArray(o,minLen):"Map"===(n="Object"===(n=Object.prototype.toString.call(o).slice(8,-1))&&o.constructor?o.constructor.name:n)||"Set"===n?Array.from(o):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(o,minLen):void 0}(arr)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function ownKeys(object,enumerableOnly){var symbols,keys=Object.keys(object);return Object.getOwnPropertySymbols&&(symbols=Object.getOwnPropertySymbols(object),enumerableOnly&&(symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable})),keys.push.apply(keys,symbols)),keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach(function(key){!function(obj,key,value){(key=function(arg){arg=function(input,hint){if("object"!==_typeof(input)||null===input)return input;var prim=input[Symbol.toPrimitive];if(void 0===prim)return("string"===hint?String:Number)(input);prim=prim.call(input,hint||"default");if("object"!==_typeof(prim))return prim;throw new TypeError("@@toPrimitive must return a primitive value.")}(arg,"string");return"symbol"===_typeof(arg)?arg:String(arg)}(key))in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value}(target,key,source[key])}):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))})}return target}function _extends(){return(_extends=Object.assign?Object.assign.bind():function(target){for(var i=1;i<arguments.length;i++){var key,source=arguments[i];for(key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target}).apply(this,arguments)}require=(0,_createReactClass.default)({displayName:"FormPanel",_hiddenValues:{},_internalValid:null,_parametersMetadata:null,propTypes:{parameters:_propTypes.default.array.isRequired,values:_propTypes.default.object,onParameterChange:_propTypes.default.func,onChange:_propTypes.default.func,onValidStatusChange:_propTypes.default.func,disabled:_propTypes.default.bool,binary_context:_propTypes.default.string,depth:_propTypes.default.number,header:_propTypes.default.object,footer:_propTypes.default.object,additionalPanes:_propTypes.default.shape({top:_propTypes.default.array,bottom:_propTypes.default.array}),tabs:_propTypes.default.array,onTabChange:_propTypes.default.func,accordionizeIfGroupsMoreThan:_propTypes.default.number,onScrollCallback:_propTypes.default.func,limitToGroups:_propTypes.default.array,skipFieldsTypes:_propTypes.default.array,setHelperData:_propTypes.default.func,checkHasHelper:_propTypes.default.func,helperTestFor:_propTypes.default.string},externallySelectTab:function(index){this.setState({tabSelectedIndex:index})},getInitialState:function(){return this.props.onTabChange?{tabSelectedIndex:0}:{}},getDefaultProps:function(){return{depth:0,values:{}}},componentWillReceiveProps:function(newProps){JSON.stringify(newProps.parameters)!==JSON.stringify(this.props.parameters)&&(this._internalValid=null,this._hiddenValues={},this._parametersMetadata={}),newProps.values&&newProps.values!==this.props.values&&this.checkValidStatus(newProps.values)},getValues:function(){return this.props.values},onParameterChange:function(paramName,newValue,oldValue){var additionalFormData=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null,newValues=_lang.default.deepCopy(this.getValues());this.props.onParameterChange&&this.props.onParameterChange(paramName,newValue,oldValue,additionalFormData),additionalFormData&&(this._parametersMetadata||(this._parametersMetadata={}),this._parametersMetadata[paramName]=additionalFormData),newValues[paramName]=newValue;this.onChange(newValues,!0)},onChange:function(newValues,dirty,removeValues){if(this.props.onChange){for(var key in this._hiddenValues)!this._hiddenValues.hasOwnProperty(key)||void 0!==newValues[key]||removeValues&&void 0!==removeValues[key]||(newValues[key]=this._hiddenValues[key]);this.props.onChange(newValues,dirty,removeValues)}this.checkValidStatus(newValues)},onSubformChange:function(newValues,dirty,removeValues){var values=_lang.default.mergeObjectsRecursive(this.getValues(),newValues);if(removeValues)for(var k in removeValues)removeValues.hasOwnProperty(k)&&void 0!==values[k]&&(delete values[k],void 0!==this._hiddenValues[k])&&delete this._hiddenValues[k];this.onChange(values,dirty,removeValues)},onSubformValidStatusChange:function(newValidValue,failedMandatories){(newValidValue!==this._internalValid||this.props.forceValidStatusCheck)&&this.props.onValidStatusChange&&this.props.onValidStatusChange(newValidValue,failedMandatories),this._internalValid=newValidValue},applyButtonAction:function(parameters,callback){this.props.applyButtonAction&&this.props.applyButtonAction(parameters,callback)},getValuesForPOST:function(values){return _Manager.default.getValuesForPOST(this.props.parameters,values,1<arguments.length&&void 0!==arguments[1]?arguments[1]:"DRIVER_OPTION_",this._parametersMetadata)},checkValidStatus:function(values){var newValue,failedMandatories=[];this.props.parameters.map(function(p){!(-1<["string","textarea","password","integer","integer-bytes"].indexOf(p.type))||"true"!==p.mandatory&&!0!==p.mandatory||values&&values.hasOwnProperty(p.name)&&void 0!==values[p.name]&&""!==values[p.name]||failedMandatories.push(p),"valid-password"!==p.type&&"valid-login"!==p.type||!this.refs["form-element-"+p.name]||this.refs["form-element-"+p.name].isValid()||failedMandatories.push(p)}.bind(this)),this._internalValid,((newValue=!failedMandatories.length)!==this._internalValid||this.props.forceValidStatusCheck)&&this.props.onValidStatusChange&&this.props.onValidStatusChange(newValue,failedMandatories),this._internalValid=newValue},componentDidMount:function(){this.checkValidStatus(this.props.values)},renderGroupHeader:function(groupLabel,accordionize,index,active){var current,properties={key:"group-"+groupLabel};return accordionize&&(current=this.state&&this.state.currentActiveGroup?this.state.currentActiveGroup:null,properties.className="group-label-"+(active?"active":"inactive"),properties.onClick=function(){this.setState({currentActiveGroup:current!==index?index:null})}.bind(this),groupLabel=[_react.default.createElement("span",{key:"toggler",className:"group-active-toggler icon-angle-"+(current===index?"down":"right")}),groupLabel]),_react.default.createElement("h"+(3+this.props.depth),properties,groupLabel)},render:function(){var otherPanes,depth,index,className,initialSelectedIndex,i,_this2=this,allGroups=[],groupsOrdered=["__DEFAULT__"],replicationGroups=(allGroups.__DEFAULT__={FIELDS:[]},{}),_this$props=this.props,parameters=_this$props.parameters,values=_this$props.values,skipFieldsTypes=_this$props.skipFieldsTypes,disabled=_this$props.disabled,binary_context=_this$props.binary_context,variant=_this$props.variant,variantShowLegend=_this$props.variantShowLegend,_this$props=this.props,altTextSwitchIcon=_this$props.altTextSwitchIcon,altTextSwitchTip=_this$props.altTextSwitchTip,onAltTextSwitch=_this$props.onAltTextSwitch,groupPanes=(parameters.map(function(attributes){var group,setHelperData,helperTestFor,helperMark,repAttr,errorText,readonly,multiple,warningText,mandatory,field,_this=this,type=attributes.type,paramName=attributes.name,repGroup=attributes.replicationGroup;skipFieldsTypes&&-1<skipFieldsTypes.indexOf(type)||attributes.group_switch_name||(group=attributes.group||"__DEFAULT__",allGroups[group]||(groupsOrdered.push(group),allGroups[group]={FIELDS:[],LABEL:group}),repGroup?(replicationGroups[repGroup]||(replicationGroups[repGroup]={PARAMS:[],GROUP:group,POSITION:allGroups[group].FIELDS.length},allGroups[group].FIELDS.push("REPLICATION:"+repGroup)),delete(repAttr=_lang.default.deepCopy(attributes)).replicationGroup,delete repAttr.group,replicationGroups[repGroup].PARAMS.push(repAttr)):(0===type.indexOf("group_switch:")?field=_react.default.createElement(_GroupSwitchPanel.default,_extends({},this.props,{onChange:this.onSubformChange,paramAttributes:attributes,parameters:parameters,values:values,key:paramName,onScrollCallback:null,limitToGroups:null,onValidStatusChange:this.onSubformValidStatusChange})):"hidden"!==type?(repGroup=this.props,setHelperData=repGroup.setHelperData,repAttr=repGroup.checkHasHelper,helperTestFor=repGroup.helperTestFor,setHelperData&&repAttr&&repAttr(attributes.name,helperTestFor)&&(repGroup=function(){setHelperData({paramAttributes:attributes,values:values,postValues:this.getValuesForPOST(values),applyButtonAction:this.applyButtonAction},helperTestFor)}.bind(this),helperMark=_react.default.createElement("span",{className:"icon-question-sign",onClick:repGroup})),repAttr=!1,repGroup="form-legend",errorText=attributes.errorText,warningText=attributes.warningText,mandatory=attributes.mandatory,errorText?repGroup="form-legend mandatory-missing":warningText?repGroup="form-legend warning-message":!mandatory||"true"!==mandatory&&!0!==mandatory||-1===["string","textarea","image","integer","integer-bytes"].indexOf(type)||values[paramName]||(repAttr=!0,repGroup="form-legend mandatory-missing"),mandatory=attributes.description,readonly=attributes.readonly,multiple=attributes.multiple,warningText=warningText||mandatory,mandatory=attributes.label,variantShowLegend&&"boolean"!==attributes.type&&(mandatory=_react.default.createElement(_react.Fragment,null,mandatory," ",_react.default.createElement("span",null,"- ",warningText))),mandatory={ref:"form-element-"+paramName,attributes:_objectSpread(_objectSpread({},attributes),{},{label:mandatory}),name:paramName,value:values[paramName],onChange:function(newValue,oldValue,additionalFormData){_this.onParameterChange(paramName,newValue,oldValue,additionalFormData)},disabled:disabled||readonly,multiple:multiple,binary_context:binary_context,displayContext:"form",applyButtonAction:this.applyButtonAction,variant:variant,variantShowLegend:variantShowLegend,errorText:repAttr?_pydio.default.getInstance().MessageHash[621]:errorText||null,onAltTextSwitch:onAltTextSwitch,altTextSwitchIcon:altTextSwitchIcon,altTextSwitchTip:altTextSwitchTip},field=_react.default.createElement("div",{key:paramName,className:"form-entry-"+type},"v2"!==variant&&_react.default.createElement("div",{className:repGroup},warningText," ",helperMark),"v2"===variant&&"legend"===attributes.type&&_react.default.createElement("div",{style:{padding:"6px 3px",color:"#616161",fontSize:14}},warningText," ",helperMark),_Manager.default.createFormElement(mandatory))):this._hiddenValues[paramName]=void 0===values[paramName]?attributes.default:values[paramName],field&&allGroups[group].FIELDS.push(field)))}.bind(this)),Object.keys(replicationGroups).forEach(function(rGroup){rGroup=replicationGroups[rGroup];allGroups[rGroup.GROUP].FIELDS[rGroup.POSITION]=_react.default.createElement(_ReplicationPanel.default,_extends({},_this2.props,{key:"replication-group-"+rGroup.PARAMS[0].name,onChange:_this2.onSubformChange,onParameterChange:null,values:_this2.getValues(),depth:_this2.props.depth+1,parameters:rGroup.PARAMS,applyButtonAction:_this2.applyButtonAction,onScrollCallback:null}))}),[]),accordionize=this.props.accordionizeIfGroupsMoreThan&&groupsOrdered.length>this.props.accordionizeIfGroupsMoreThan,currentActiveGroup=this.state&&this.state.currentActiveGroup?this.state.currentActiveGroup:0;return groupsOrdered.map(function(g,gIndex){var header,gData,className,active;this.props.limitToGroups&&-1===this.props.limitToGroups.indexOf(g)||(active=!(className="pydio-form-group"),accordionize&&(active=currentActiveGroup===gIndex,className+=gIndex===currentActiveGroup?" form-group-active":" form-group-inactive"),(gData=allGroups[g]).FIELDS.length&&(!gData.LABEL||this.props.skipFieldsTypes&&-1<this.props.skipFieldsTypes.indexOf("GroupHeader")||(header=this.renderGroupHeader(gData.LABEL,accordionize,gIndex,active)),0===this.props.depth?groupPanes.push(_react.default.createElement(_materialUi.Paper,{className:className+=" z-depth-1",key:"pane-"+g},0===gIndex&&this.props.header?this.props.header:null,header,_react.default.createElement("div",null,gData.FIELDS),gIndex===groupsOrdered.length-1&&this.props.footer?this.props.footer:null)):groupPanes.push(_react.default.createElement("div",{className:className,key:"pane-"+g},0===gIndex&&this.props.header?this.props.header:null,header,_react.default.createElement("div",null,gData.FIELDS),gIndex===groupsOrdered.length-1&&this.props.footer?this.props.footer:null))))}.bind(this)),this.props.additionalPanes&&(otherPanes={top:[],bottom:[]},depth=this.props.depth,index=0,["top","bottom"].forEach(function(k){(_this2.props.additionalPanes[k]||[]).map(function(p){0===depth?otherPanes[k].push(_react.default.createElement(_materialUi.Paper,{className:"pydio-form-group additional",key:"other-pane-"+index},p)):otherPanes[k].push(_react.default.createElement("div",{className:"pydio-form-group additional",key:"other-pane-"+index},p)),index++})}),groupPanes=[].concat(_toConsumableArray(otherPanes.top),_toConsumableArray(groupPanes),_toConsumableArray(otherPanes.bottom))),this.props.tabs?(className=this.props.className,i=initialSelectedIndex=0,_this$props=this.props.tabs.map(function(tDef){var label=tDef.label,groups=tDef.groups,tDef=(tDef.selected&&(initialSelectedIndex=i),groups.map(function(gId){return groupPanes[gId]||null}));return i++,_react.default.createElement(_materialUi.Tab,{label:label,key:label,value:this.props.onTabChange?i-1:void 0},_react.default.createElement("div",{className:(className?className+" ":" ")+"pydio-form-panel"+(tDef.length%2?" form-panel-odd":"")},tDef))}.bind(this)),void 0!==this.state.tabSelectedIndex&&(initialSelectedIndex=this.state.tabSelectedIndex),_react.default.createElement("div",{className:"layout-fill vertical-layout tab-vertical-layout"},_react.default.createElement(_materialUi.Tabs,{ref:"tabs",initialSelectedIndex:initialSelectedIndex,value:this.props.onTabChange?initialSelectedIndex:void 0,onChange:this.props.onTabChange?function(i){_this2.setState({tabSelectedIndex:i}),_this2.props.onTabChange(i)}:void 0,style:{flex:1,display:"flex",flexDirection:"column"},contentContainerStyle:{flex:1,overflowY:"auto"}},_this$props))):_react.default.createElement("div",{className:(this.props.className?this.props.className+" ":" ")+"pydio-form-panel"+(groupPanes.length%2?" form-panel-odd":""),onScroll:this.props.onScrollCallback},groupPanes)}});exports.default=require,module.exports=exports.default},{"../manager/Manager":16,"./GroupSwitchPanel":19,"./ReplicationPanel":21,"create-react-class":"create-react-class","material-ui":"material-ui","prop-types":"prop-types",pydio:"pydio","pydio/util/lang":"pydio/util/lang",react:"react"}],19:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _FormPanel=_interopRequireDefault(require("./FormPanel")),_InputSelectBox=_interopRequireDefault(require("../fields/InputSelectBox"));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,_toPropertyKey(descriptor.key),descriptor)}}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(o,p){return o.__proto__=p,o})(o,p)}function _createSuper(Derived){var hasNativeReflectConstruct=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var NewTarget,Super=_getPrototypeOf(Derived),Super=(NewTarget=hasNativeReflectConstruct?(NewTarget=_getPrototypeOf(this).constructor,Reflect.construct(Super,arguments,NewTarget)):Super.apply(this,arguments),this);if(NewTarget&&("object"===_typeof(NewTarget)||"function"==typeof NewTarget))return NewTarget;if(void 0!==NewTarget)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(Super)}}function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function _defineProperty(obj,key,value){(key=_toPropertyKey(key))in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value}function _toPropertyKey(arg){arg=function(input,hint){if("object"!==_typeof(input)||null===input)return input;var prim=input[Symbol.toPrimitive];if(void 0===prim)return("string"===hint?String:Number)(input);prim=prim.call(input,hint||"default");if("object"!==_typeof(prim))return prim;throw new TypeError("@@toPrimitive must return a primitive value.")}(arg,"string");return"symbol"===_typeof(arg)?arg:String(arg)}var React=require("react"),PropTypes=require("prop-types"),LangUtils=require("pydio/util/lang"),require=function(_React$Component){var subClass=_default;if("function"!=typeof _React$Component&&null!==_React$Component)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(_React$Component&&_React$Component.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),Object.defineProperty(subClass,"prototype",{writable:!1}),_React$Component&&_setPrototypeOf(subClass,_React$Component);var staticProps,_super=_createSuper(_default);function _default(){var _this,instance=this,Constructor=_default;if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function");for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return _defineProperty(_assertThisInitialized(_this=_super.call.apply(_super,[this].concat(args))),"computeSubPanelParameters",function(){var k,sv,switchName=_this.props.paramAttributes.type.split(":").pop(),parentName=_this.props.paramAttributes.name,switchValues={},potentialSubSwitches=[];for(k in _this.props.parameters.map(function(p){var crtSwitch,vKey,paramName;p.group_switch_name&&(p.group_switch_name!=switchName?potentialSubSwitches.push(p):(crtSwitch=p.group_switch_value,switchValues[crtSwitch]||(switchValues[crtSwitch]={label:p.group_switch_label,fields:[],values:{},fieldsKeys:{}}),delete(p=LangUtils.deepCopy(p)).group_switch_name,p.name=parentName+"/"+p.name,vKey=p.name,switchValues[crtSwitch].fieldsKeys[paramName=vKey]||(switchValues[crtSwitch].fields.push(p),switchValues[crtSwitch].fieldsKeys[paramName]=paramName,this.props.values&&this.props.values[vKey]&&(switchValues[crtSwitch].values[paramName]=this.props.values[vKey]))))}.bind(_assertThisInitialized(_this))),switchValues)switchValues.hasOwnProperty(k)&&((sv=switchValues[k]).fields=sv.fields.concat(potentialSubSwitches));return switchValues}),_defineProperty(_assertThisInitialized(_this),"clearSubParametersValues",function(parentName,newValue,newFields){var key,vals=LangUtils.deepCopy(_this.props.values),toRemove={};for(key in vals)vals.hasOwnProperty(key)&&0===key.indexOf(parentName+"/")&&(toRemove[key]="");vals[parentName]=newValue,newFields.map(function(p){"hidden"==p.type&&p.default&&!p.group_switch_name||p.group_switch_name==parentName?(vals[p.name]=p.default,void 0!==toRemove[p.name]&&delete toRemove[p.name]):0===p.name.indexOf(parentName+"/")&&p.default&&(p.type&&p.type.startsWith("group_switch:"),vals[p.name]=p.default)}),_this.props.onChange(vals,!0,toRemove)}),_defineProperty(_assertThisInitialized(_this),"onChange",function(newValues,dirty,removeValues){_this.props.onChange(newValues,!0,removeValues)}),_this}return subClass=_default,(_React$Component=[{key:"render",value:function(){var helperMark,altTextSwitchIcon,onAltTextSwitch,_this$props=this.props,variant=_this$props.variant,_this$props=_this$props.variantShowLegend,attributes=this.props.paramAttributes,values=this.props.values,paramName=attributes.name,switchValues=this.computeSubPanelParameters(attributes),selectorValues=new Map,selectorChanger=(Object.keys(switchValues).map(function(k){selectorValues.set(k,switchValues[k].label)}),function(newValue){this.clearSubParametersValues(paramName,newValue,switchValues[newValue]?switchValues[newValue].fields:[])}.bind(this)),_this$props=React.createElement(_InputSelectBox.default,{key:paramName,name:paramName,className:"group-switch-selector",attributes:{name:paramName,choices:selectorValues,label:attributes.label+(_this$props?" - "+attributes.description:""),mandatory:attributes.mandatory},value:values[paramName],onChange:selectorChanger,displayContext:"form",disabled:this.props.disabled,ref:"subFormSelector",variant:this.props.variant});return this.props.setHelperData&&this.props.checkHasHelper&&this.props.checkHasHelper(attributes.name,this.props.helperTestFor)&&(selectorChanger=function(){this.props.setHelperData({paramAttributes:attributes,values:values})}.bind(this),helperMark=React.createElement("span",{className:"icon-question-sign",onClick:selectorChanger})),values[paramName]&&switchValues[values[paramName]]&&(onAltTextSwitch=(selectorChanger=this.props).onAltTextSwitch,altTextSwitchIcon=selectorChanger.altTextSwitchIcon,selectorChanger=selectorChanger.altTextSwitchTip,onAltTextSwitch=React.createElement(_FormPanel.default,{onParameterChange:this.props.onParameterChange,applyButtonAction:this.props.applyButtonAction,disabled:this.props.disabled,ref:paramName+"-SUB",key:paramName+"-SUB",className:"sub-form",parameters:switchValues[values[paramName]].fields,values:values,depth:this.props.depth+1,onChange:this.onChange,checkHasHelper:this.props.checkHasHelper,setHelperData:this.props.setHelperData,helperTestFor:values[paramName],accordionizeIfGroupsMoreThan:5,onAltTextSwitch:onAltTextSwitch,altTextSwitchIcon:altTextSwitchIcon,altTextSwitchTip:selectorChanger,variant:this.props.variant,variantShowLegend:this.props.variantShowLegend})),React.createElement("div",{className:"sub-form-group"},"v2"!==variant&&React.createElement("div",{className:"form-legend"},attributes.description," ",helperMark),_this$props,onAltTextSwitch)}}])&&_defineProperties(subClass.prototype,_React$Component),staticProps&&_defineProperties(subClass,staticProps),Object.defineProperty(subClass,"prototype",{writable:!1}),_default}(React.Component);_defineProperty(exports.default=require,"propTypes",{paramAttributes:PropTypes.object.isRequired,parameters:PropTypes.array.isRequired,values:PropTypes.object.isRequired,onChange:PropTypes.func.isRequired}),module.exports=exports.default},{"../fields/InputSelectBox":9,"./FormPanel":18,"prop-types":"prop-types","pydio/util/lang":"pydio/util/lang",react:"react"}],20:[function(require,module,exports){"use strict";function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _react=require("react"),_materialUi=require("material-ui"),_FormPanel=(require=require("./FormPanel"))&&require.__esModule?require:{default:require};function ownKeys(object,enumerableOnly){var symbols,keys=Object.keys(object);return Object.getOwnPropertySymbols&&(symbols=Object.getOwnPropertySymbols(object),enumerableOnly&&(symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable})),keys.push.apply(keys,symbols)),keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach(function(key){!function(obj,key,value){(key=_toPropertyKey(key))in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value}(target,key,source[key])}):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))})}return target}function _extends(){return(_extends=Object.assign?Object.assign.bind():function(target){for(var i=1;i<arguments.length;i++){var key,source=arguments[i];for(key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target}).apply(this,arguments)}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,_toPropertyKey(descriptor.key),descriptor)}}function _toPropertyKey(arg){arg=function(input,hint){if("object"!==_typeof(input)||null===input)return input;var prim=input[Symbol.toPrimitive];if(void 0===prim)return("string"===hint?String:Number)(input);prim=prim.call(input,hint||"default");if("object"!==_typeof(prim))return prim;throw new TypeError("@@toPrimitive must return a primitive value.")}(arg,"string");return"symbol"===_typeof(arg)?arg:String(arg)}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(o,p){return o.__proto__=p,o})(o,p)}function _createSuper(Derived){var hasNativeReflectConstruct=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var NewTarget,Super=_getPrototypeOf(Derived),Super=(NewTarget=hasNativeReflectConstruct?(NewTarget=_getPrototypeOf(this).constructor,Reflect.construct(Super,arguments,NewTarget)):Super.apply(this,arguments),this);if(NewTarget&&("object"===_typeof(NewTarget)||"function"==typeof NewTarget))return NewTarget;if(void 0!==NewTarget)throw new TypeError("Derived constructors may only return object or undefined");return function(self){if(void 0!==self)return self;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(Super)}}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}require=function(_Component){var subClass=ReplicatedGroup;if("function"!=typeof _Component&&null!==_Component)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(_Component&&_Component.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),Object.defineProperty(subClass,"prototype",{writable:!1}),_Component&&_setPrototypeOf(subClass,_Component);var staticProps,_super=_createSuper(ReplicatedGroup);function ReplicatedGroup(props,context){if(this instanceof ReplicatedGroup)return context=_super.call(this,props,context),props=props.subValues[props.parameters[0].name]||"",context.state={toggled:!props},context;throw new TypeError("Cannot call a class as a function")}return subClass=ReplicatedGroup,(_Component=[{key:"render",value:function(){var remStyle,upStyle,_this2=this,_this$props=this.props,onSwapUp=(_this$props.depth,_this$props.onSwapUp),onSwapDown=_this$props.onSwapDown,onRemove=_this$props.onRemove,parameters=_this$props.parameters,subValues=_this$props.subValues,disabled=_this$props.disabled,_this$props=_this$props.onAddValue,toggled=this.state.toggled,unique=1===parameters.length,parameters=subValues[parameters[0].name]||React.createElement("span",{style:{color:"rgba(0,0,0,0.33)"}},"Empty Value"),ibStyles={width:36,height:36,padding:6};return unique?(unique={opacity:.3},remStyle=!onRemove||disabled?unique:{},upStyle=!onSwapUp||disabled?unique:{},unique=!onSwapDown||disabled?unique:{},React.createElement("div",{style:{display:"flex",width:"100%"}},React.createElement("div",{style:{flex:1}},React.createElement(_FormPanel.default,_extends({},this.props,{tabs:null,values:subValues,onChange:null,className:"replicable-unique",depth:-1,style:{paddingBottom:0}}))),React.createElement("div",{style:{display:"flex",fontSize:24,paddingLeft:4,paddingTop:2}},_this$props&&React.createElement("div",null,React.createElement("div",{className:"mdi mdi-plus",style:{padding:"8px 4px",cursor:"pointer"},onClick:_this$props})),React.createElement("div",null,React.createElement("div",{className:"mdi mdi-close",style:_objectSpread({padding:"8px 4px",cursor:"pointer"},remStyle),onClick:onRemove})),React.createElement("div",{style:{display:"flex",flexDirection:"column",padding:"0 4px"}},React.createElement("div",{className:"mdi mdi-chevron-up",style:_objectSpread({height:16,cursor:"pointer"},upStyle),onClick:onSwapUp}),React.createElement("div",{className:"mdi mdi-chevron-down",style:_objectSpread({height:16,cursor:"pointer"},unique),onClick:onSwapDown}))))):React.createElement(_materialUi.Paper,{zDepth:0,style:{border:"2px solid whitesmoke",marginBottom:8}},React.createElement("div",{style:{display:"flex",alignItems:"center"}},React.createElement("div",null,React.createElement(_materialUi.IconButton,{iconClassName:"mdi mdi-menu-"+(this.state.toggled?"down":"right"),iconStyle:{color:"rgba(0,0,0,.15)"},onClick:function(){_this2.setState({toggled:!_this2.state.toggled})}})),React.createElement("div",{style:{flex:1,fontSize:16}},parameters),React.createElement("div",null,_this$props&&React.createElement(_materialUi.IconButton,{style:ibStyles,iconClassName:"mdi mdi-plus",onClick:_this$props}),React.createElement(_materialUi.IconButton,{style:ibStyles,iconClassName:"mdi mdi-close",onClick:onRemove,disabled:!onRemove||disabled}),React.createElement(_materialUi.IconButton,{style:ibStyles,iconClassName:"mdi mdi-chevron-up",onClick:onSwapUp,disabled:!onSwapUp||disabled}),React.createElement(_materialUi.IconButton,{style:ibStyles,iconClassName:"mdi mdi-chevron-down",onClick:onSwapDown,disabled:!onSwapDown||disabled}))),toggled&&React.createElement(_FormPanel.default,_extends({},this.props,{tabs:null,values:subValues,onChange:null,className:"replicable-group",depth:-1})))}}])&&_defineProperties(subClass.prototype,_Component),staticProps&&_defineProperties(subClass,staticProps),Object.defineProperty(subClass,"prototype",{writable:!1}),ReplicatedGroup}(_react.Component);exports.default=require,module.exports=exports.default},{"./FormPanel":18,"material-ui":"material-ui",react:"react"}],21:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _ReplicatedGroup=(obj=require("./ReplicatedGroup"))&&obj.__esModule?obj:{default:obj};function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function ownKeys(object,enumerableOnly){var symbols,keys=Object.keys(object);return Object.getOwnPropertySymbols&&(symbols=Object.getOwnPropertySymbols(object),enumerableOnly&&(symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable})),keys.push.apply(keys,symbols)),keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach(function(key){_defineProperty(target,key,source[key])}):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))})}return target}function _extends(){return(_extends=Object.assign?Object.assign.bind():function(target){for(var i=1;i<arguments.length;i++){var key,source=arguments[i];for(key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target}).apply(this,arguments)}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,_toPropertyKey(descriptor.key),descriptor)}}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(o,p){return o.__proto__=p,o})(o,p)}function _createSuper(Derived){var hasNativeReflectConstruct=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var NewTarget,Super=_getPrototypeOf(Derived),Super=(NewTarget=hasNativeReflectConstruct?(NewTarget=_getPrototypeOf(this).constructor,Reflect.construct(Super,arguments,NewTarget)):Super.apply(this,arguments),this);if(NewTarget&&("object"===_typeof(NewTarget)||"function"==typeof NewTarget))return NewTarget;if(void 0!==NewTarget)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(Super)}}function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function _defineProperty(obj,key,value){(key=_toPropertyKey(key))in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value}function _toPropertyKey(arg){arg=function(input,hint){if("object"!==_typeof(input)||null===input)return input;var prim=input[Symbol.toPrimitive];if(void 0===prim)return("string"===hint?String:Number)(input);prim=prim.call(input,hint||"default");if("object"!==_typeof(prim))return prim;throw new TypeError("@@toPrimitive must return a primitive value.")}(arg,"string");return"symbol"===_typeof(arg)?arg:String(arg)}var React=require("react"),IconButton=require("material-ui").IconButton,obj=require("prop-types"),LangUtils=require("pydio/util/lang"),require=function(_React$Component){var subClass=_default;if("function"!=typeof _React$Component&&null!==_React$Component)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(_React$Component&&_React$Component.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),Object.defineProperty(subClass,"prototype",{writable:!1}),_React$Component&&_setPrototypeOf(subClass,_React$Component);var staticProps,_super=_createSuper(_default);function _default(){var _this,instance=this,Constructor=_default;if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function");for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return _defineProperty(_assertThisInitialized(_this=_super.call.apply(_super,[this].concat(args))),"buildSubValue",function(values){var subVal,index=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,suffix=0==index?"":"_"+index;return _this.props.parameters.map(function(p){p=p.name;void 0!==values[p+suffix]&&((subVal=subVal||{})[p]=values[p+suffix])}),subVal||!1}),_defineProperty(_assertThisInitialized(_this),"indexedValues",function(rowsArray){var index=0,values={};return rowsArray.map(function(row){var p,suffix=0==index?"":"_"+index;for(p in row)row.hasOwnProperty(p)&&(values[p+suffix]=row[p]);index++}),values}),_defineProperty(_assertThisInitialized(_this),"indexValues",function(rowsArray,removeLastRow){var lastRow,nextIndex,indexed=_this.indexedValues(rowsArray);_this.props.onChange&&(removeLastRow?(lastRow={},nextIndex=rowsArray.length-1,_this.props.parameters.map(function(p){lastRow[p.name+(0<nextIndex?"_"+nextIndex:"")]=""}),_this.props.onChange(indexed,!0,lastRow)):_this.props.onChange(indexed,!0))}),_defineProperty(_assertThisInitialized(_this),"instances",function(){for(var subVal,rows=[],index=0;subVal=_this.buildSubValue(_this.props.values,index);)index++,rows.push(subVal);var emptyValue,firstParam=_this.props.parameters[0];return rows.length||"true"!==firstParam.replicationMandatory||(emptyValue={},_this.props.parameters.map(function(p){emptyValue[p.name]=p.default||""}),rows.push(emptyValue)),rows}),_defineProperty(_assertThisInitialized(_this),"addRow",function(){var newValue={},currentValues=_this.instances();_this.props.parameters.map(function(p){newValue[p.name]=p.default||""}),currentValues.push(newValue),_this.indexValues(currentValues)}),_defineProperty(_assertThisInitialized(_this),"removeRow",function(index){var instances=_this.instances(),removeInst=instances[index];(instances=LangUtils.arrayWithout(_this.instances(),index)).push(removeInst),_this.indexValues(instances,!0)}),_defineProperty(_assertThisInitialized(_this),"swapRows",function(i,j){var instances=_this.instances(),tmp=instances[j];instances[j]=instances[i],instances[i]=tmp,_this.indexValues(instances)}),_defineProperty(_assertThisInitialized(_this),"onChange",function(index,newValues,dirty){var instances=_this.instances();instances[index]=newValues,_this.indexValues(instances)}),_defineProperty(_assertThisInitialized(_this),"onParameterChange",function(index,paramName,newValue,oldValue){var instances=_this.instances();instances[index][paramName]=newValue,_this.indexValues(instances)}),_this}return subClass=_default,(_React$Component=[{key:"render",value:function(){var tStyle,contStyle,_this2=this,_this$props=this.props,parameters=_this$props.parameters,disabled=_this$props.disabled,_this$props=_this$props.variant,parameters=parameters[0],replicationTitle=parameters.replicationTitle||parameters.label,replicationMandatory="true"===parameters.replicationMandatory,instances=this.instances(),multipleRows=1<instances.length,parameters=instances.map(function(subValues,index){var onSwapDown,onRemove,onSwapUp={onSwapUp:onSwapUp=multipleRows&&0<index?function(){_this2.swapRows(index,index-1)}:onSwapUp,onSwapDown:onSwapDown=multipleRows&&index<instances.length-1?function(){_this2.swapRows(index,index+1)}:onSwapDown,onRemove:onRemove=!multipleRows&&replicationMandatory?onRemove:function(){_this2.removeRow(index)},onParameterChange:function(paramName,newValue,oldValue){_this2.onParameterChange(index,paramName,newValue,oldValue)}};return replicationMandatory&&0===index&&(onSwapUp.onAddValue=function(){return _this2.addRow()}),React.createElement(_ReplicatedGroup.default,_extends({key:index},_this2.props,onSwapUp,{subValues:subValues}))});return replicationMandatory?React.createElement("div",{className:"replicable-field",style:{marginBottom:14}},parameters):(tStyle=parameters.length?{}:{backgroundColor:"whitesmoke",borderRadius:4},contStyle={marginBottom:14},"v2"===_this$props&&(tStyle=_objectSpread(_objectSpread({},tStyle),{},{height:52,backgroundColor:"#f6f6f8",marginTop:8,borderRadius:"4px 4px 0 0"}),parameters.length||(tStyle=_objectSpread(_objectSpread({},tStyle),{},{borderBottom:"1px solid rgba(158,158,158,.3)"}),contStyle={height:58})),React.createElement("div",{className:"replicable-field",style:contStyle},React.createElement("div",{style:_objectSpread({display:"flex",alignItems:"center"},tStyle)},React.createElement("div",{className:"title",style:{fontSize:16,flex:1,paddingLeft:8}},replicationTitle),React.createElement(IconButton,{key:"add",iconClassName:"mdi mdi-plus-box",tooltipPosition:"bottom-left",style:{padding:14},iconStyle:{fontSize:20,color:"#9e9e9e"},tooltip:"Add value",onClick:function(){return _this2.addRow()},disabled:disabled})),parameters))}}])&&_defineProperties(subClass.prototype,_React$Component),staticProps&&_defineProperties(subClass,staticProps),Object.defineProperty(subClass,"prototype",{writable:!1}),_default}(React.Component);_defineProperty(exports.default=require,"propTypes",{parameters:obj.array.isRequired,values:obj.object,onChange:obj.func,disabled:obj.bool,binary_context:obj.string,depth:obj.number}),module.exports=exports.default},{"./ReplicatedGroup":20,"material-ui":"material-ui","prop-types":"prop-types","pydio/util/lang":"pydio/util/lang",react:"react"}]},{},[15])(15)});