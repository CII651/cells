/*! For license information please see PydioComponents.min.js.LICENSE.txt */
(()=>{var e,t,r,n,o={38682:(e,t,r)=>{"use strict";r.d(t,{Z:()=>m});var n=r(76859),o=r(35438),i=r(27125),a=r(60634),s=r(22807),l=r(36999),c=r(64873),u=function(e,t,r){for(var n=0,i=0;n=i,i=(0,o.fj)(),38===n&&12===i&&(t[r]=1),!(0,o.r)(i);)(0,o.lp)();return(0,o.tP)(e,o.FK)},f=new WeakMap,p=function(e){if("rule"===e.type&&e.parent&&!(e.length<1)){for(var t=e.value,r=e.parent,n=e.column===r.column&&e.line===r.line;"rule"!==r.type;)if(!(r=r.parent))return;if((1!==e.props.length||58===t.charCodeAt(0)||f.get(r))&&!n){f.set(e,!0);for(var a=[],s=function(e,t){return(0,o.cE)(function(e,t){var r=-1,n=44;do{switch((0,o.r)(n)){case 0:38===n&&12===(0,o.fj)()&&(t[r]=1),e[r]+=u(o.FK-1,t,r);break;case 2:e[r]+=(0,o.iF)(n);break;case 4:if(44===n){e[++r]=58===(0,o.fj)()?"&\f":"",t[r]=e[r].length;break}default:e[r]+=(0,i.Dp)(n)}}while(n=(0,o.lp)());return e}((0,o.un)(e),t))}(t,a),l=r.props,c=0,p=0;c<s.length;c++)for(var d=0;d<l.length;d++,p++)e.props[p]=a[c]?s[c].replace(/&\f/g,l[d]):l[d]+" "+s[c]}}},d=function(e){if("decl"===e.type){var t=e.value;108===t.charCodeAt(0)&&98===t.charCodeAt(2)&&(e.return="",e.value="")}};function y(e,t){switch((0,i.vp)(e,t)){case 5103:return a.G$+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return a.G$+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return a.G$+e+a.uj+e+a.MS+e+e;case 6828:case 4268:return a.G$+e+a.MS+e+e;case 6165:return a.G$+e+a.MS+"flex-"+e+e;case 5187:return a.G$+e+(0,i.gx)(e,/(\w+).+(:[^]+)/,a.G$+"box-$1$2"+a.MS+"flex-$1$2")+e;case 5443:return a.G$+e+a.MS+"flex-item-"+(0,i.gx)(e,/flex-|-self/,"")+e;case 4675:return a.G$+e+a.MS+"flex-line-pack"+(0,i.gx)(e,/align-content|flex-|-self/,"")+e;case 5548:return a.G$+e+a.MS+(0,i.gx)(e,"shrink","negative")+e;case 5292:return a.G$+e+a.MS+(0,i.gx)(e,"basis","preferred-size")+e;case 6060:return a.G$+"box-"+(0,i.gx)(e,"-grow","")+a.G$+e+a.MS+(0,i.gx)(e,"grow","positive")+e;case 4554:return a.G$+(0,i.gx)(e,/([^-])(transform)/g,"$1"+a.G$+"$2")+e;case 6187:return(0,i.gx)((0,i.gx)((0,i.gx)(e,/(zoom-|grab)/,a.G$+"$1"),/(image-set)/,a.G$+"$1"),e,"")+e;case 5495:case 3959:return(0,i.gx)(e,/(image-set\([^]*)/,a.G$+"$1$`$1");case 4968:return(0,i.gx)((0,i.gx)(e,/(.+:)(flex-)?(.*)/,a.G$+"box-pack:$3"+a.MS+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+a.G$+e+e;case 4095:case 3583:case 4068:case 2532:return(0,i.gx)(e,/(.+)-inline(.+)/,a.G$+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if((0,i.to)(e)-1-t>6)switch((0,i.uO)(e,t+1)){case 109:if(45!==(0,i.uO)(e,t+4))break;case 102:return(0,i.gx)(e,/(.+:)(.+)-([^]+)/,"$1"+a.G$+"$2-$3$1"+a.uj+(108==(0,i.uO)(e,t+3)?"$3":"$2-$3"))+e;case 115:return~(0,i.Cw)(e,"stretch")?y((0,i.gx)(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(115!==(0,i.uO)(e,t+1))break;case 6444:switch((0,i.uO)(e,(0,i.to)(e)-3-(~(0,i.Cw)(e,"!important")&&10))){case 107:return(0,i.gx)(e,":",":"+a.G$)+e;case 101:return(0,i.gx)(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+a.G$+(45===(0,i.uO)(e,14)?"inline-":"")+"box$3$1"+a.G$+"$2$3$1"+a.MS+"$2box$3")+e}break;case 5936:switch((0,i.uO)(e,t+11)){case 114:return a.G$+e+a.MS+(0,i.gx)(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return a.G$+e+a.MS+(0,i.gx)(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return a.G$+e+a.MS+(0,i.gx)(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return a.G$+e+a.MS+e+e}return e}var h=[function(e,t,r,n){if(e.length>-1&&!e.return)switch(e.type){case a.h5:e.return=y(e.value,e.length);break;case a.lK:return(0,s.q)([(0,o.JG)(e,{value:(0,i.gx)(e.value,"@","@"+a.G$)})],n);case a.Fr:if(e.length)return(0,i.$e)(e.props,(function(t){switch((0,i.EQ)(t,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return(0,s.q)([(0,o.JG)(e,{props:[(0,i.gx)(t,/:(read-\w+)/,":"+a.uj+"$1")]})],n);case"::placeholder":return(0,s.q)([(0,o.JG)(e,{props:[(0,i.gx)(t,/:(plac\w+)/,":"+a.G$+"input-$1")]}),(0,o.JG)(e,{props:[(0,i.gx)(t,/:(plac\w+)/,":"+a.uj+"$1")]}),(0,o.JG)(e,{props:[(0,i.gx)(t,/:(plac\w+)/,a.MS+"input-$1")]})],n)}return""}))}}];const m=function(e){var t=e.key;if("css"===t){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,(function(e){-1!==e.getAttribute("data-emotion").indexOf(" ")&&(document.head.appendChild(e),e.setAttribute("data-s",""))}))}var o,i,a=e.stylisPlugins||h,u={},f=[];o=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),(function(e){for(var t=e.getAttribute("data-emotion").split(" "),r=1;r<t.length;r++)u[t[r]]=!0;f.push(e)}));var y,m=[p,d],b=[s.P,(0,l.cD)((function(e){y.insert(e)}))],v=(0,l.qR)(m.concat(a,b));i=function(e,t,r,n){var o;y=r,o=e?e+"{"+t.styles+"}":t.styles,(0,s.q)((0,c.MY)(o),v),n&&(g.inserted[t.name]=!0)};var g={key:t,sheet:new n.m({key:t,container:o,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:u,registered:{},insert:i};return g.sheet.hydrate(f),g}},95246:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});const n=function(e){for(var t,r=0,n=0,o=e.length;o>=4;++n,o-=4)t=1540483477*(65535&(t=255&e.charCodeAt(n)|(255&e.charCodeAt(++n))<<8|(255&e.charCodeAt(++n))<<16|(255&e.charCodeAt(++n))<<24))+(59797*(t>>>16)<<16),r=1540483477*(65535&(t^=t>>>24))+(59797*(t>>>16)<<16)^1540483477*(65535&r)+(59797*(r>>>16)<<16);switch(o){case 3:r^=(255&e.charCodeAt(n+2))<<16;case 2:r^=(255&e.charCodeAt(n+1))<<8;case 1:r=1540483477*(65535&(r^=255&e.charCodeAt(n)))+(59797*(r>>>16)<<16)}return(((r=1540483477*(65535&(r^=r>>>13))+(59797*(r>>>16)<<16))^r>>>15)>>>0).toString(36)}},78606:(e,t,r)=>{"use strict";r.d(t,{Z:()=>i});var n=r(56861),o=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/;const i=(0,n.Z)((function(e){return o.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)<91}))},56861:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});const n=function(e){var t=Object.create(null);return function(r){return void 0===t[r]&&(t[r]=e(r)),t[r]}}},61513:(e,t,r)=>{"use strict";r.d(t,{T:()=>s,w:()=>a});var n=r(16689),o=r(38682);r(95135),r(29419);var i=(0,n.createContext)("undefined"!=typeof HTMLElement?(0,o.Z)({key:"css"}):null);i.Provider;var a=function(e){return(0,n.forwardRef)((function(t,r){var o=(0,n.useContext)(i);return e(t,o,r)}))},s=(0,n.createContext)({})},95135:(e,t,r)=>{"use strict";r.d(t,{O:()=>m});var n=r(95246),o=r(98961),i=r(56861);function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}var s=/[A-Z]|^ms/g,l=/_EMO_([^_]+?)_([^]*?)_EMO_/g,c=function(e){return 45===e.charCodeAt(1)},u=function(e){return null!=e&&"boolean"!=typeof e},f=(0,i.Z)((function(e){return c(e)?e:e.replace(s,"-$&").toLowerCase()})),p=function(e,t){switch(e){case"animation":case"animationName":if("string"==typeof t)return t.replace(l,(function(e,t,r){return y={name:t,styles:r,next:y},t}))}return 1===o.Z[e]||c(e)||"number"!=typeof t||0===t?t:t+"px"};function d(e,t,r){if(null==r)return"";if(void 0!==r.__emotion_styles)return r;switch(a(r)){case"boolean":return"";case"object":if(1===r.anim)return y={name:r.name,styles:r.styles,next:y},r.name;if(void 0!==r.styles){var n=r.next;if(void 0!==n)for(;void 0!==n;)y={name:n.name,styles:n.styles,next:y},n=n.next;return r.styles+";"}return function(e,t,r){var n="";if(Array.isArray(r))for(var o=0;o<r.length;o++)n+=d(e,t,r[o])+";";else for(var i in r){var s=r[i];if("object"!==a(s))null!=t&&void 0!==t[s]?n+=i+"{"+t[s]+"}":u(s)&&(n+=f(i)+":"+p(i,s)+";");else if(!Array.isArray(s)||"string"!=typeof s[0]||null!=t&&void 0!==t[s[0]]){var l=d(e,t,s);switch(i){case"animation":case"animationName":n+=f(i)+":"+l+";";break;default:n+=i+"{"+l+"}"}}else for(var c=0;c<s.length;c++)u(s[c])&&(n+=f(i)+":"+p(i,s[c])+";")}return n}(e,t,r);case"function":if(void 0!==e){var o=y,i=r(e);return y=o,d(e,t,i)}}if(null==t)return r;var s=t[r];return void 0!==s?s:r}var y,h=/label:\s*([^\s;\n{]+)\s*(;|$)/g,m=function(e,t,r){if(1===e.length&&"object"===a(e[0])&&null!==e[0]&&void 0!==e[0].styles)return e[0];var o=!0,i="";y=void 0;var s=e[0];null==s||void 0===s.raw?(o=!1,i+=d(r,t,s)):i+=s[0];for(var l=1;l<e.length;l++)i+=d(r,t,e[l]),o&&(i+=s[l]);h.lastIndex=0;for(var c,u="";null!==(c=h.exec(i));)u+="-"+c[1];return{name:(0,n.Z)(i)+u,styles:i,next:y}}},76859:(e,t,r)=>{"use strict";r.d(t,{m:()=>n});var n=function(){function e(e){var t=this;this._insertTag=function(e){var r;r=0===t.tags.length?t.insertionPoint?t.insertionPoint.nextSibling:t.prepend?t.container.firstChild:t.before:t.tags[t.tags.length-1].nextSibling,t.container.insertBefore(e,r),t.tags.push(e)},this.isSpeedy=void 0===e.speedy||e.speedy,this.tags=[],this.ctr=0,this.nonce=e.nonce,this.key=e.key,this.container=e.container,this.prepend=e.prepend,this.insertionPoint=e.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(e){e.forEach(this._insertTag)},t.insert=function(e){this.ctr%(this.isSpeedy?65e3:1)==0&&this._insertTag(function(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),void 0!==e.nonce&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}(this));var t=this.tags[this.tags.length-1];if(this.isSpeedy){var r=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}(t);try{r.insertRule(e,r.cssRules.length)}catch(e){}}else t.appendChild(document.createTextNode(e));this.ctr++},t.flush=function(){this.tags.forEach((function(e){return e.parentNode&&e.parentNode.removeChild(e)})),this.tags=[],this.ctr=0},e}()},97942:(e,t,r)=>{"use strict";r.d(t,{Z:()=>h});var n=r(79777),o=r(16689),i=r(78606),a=r(61513),s=r(81612),l=r(95135),c=r(29419),u=i.Z,f=function(e){return"theme"!==e},p=function(e){return"string"==typeof e&&e.charCodeAt(0)>96?u:f},d=function(e,t,r){var n;if(t){var o=t.shouldForwardProp;n=e.__emotion_forwardProp&&o?function(t){return e.__emotion_forwardProp(t)&&o(t)}:o}return"function"!=typeof n&&r&&(n=e.__emotion_forwardProp),n},y=function(e){var t=e.cache,r=e.serialized,n=e.isStringTag;return(0,s.hC)(t,r,n),(0,c.L)((function(){return(0,s.My)(t,r,n)})),null};const h=function e(t,r){var i,c,u=t.__emotion_real===t,f=u&&t.__emotion_base||t;void 0!==r&&(i=r.label,c=r.target);var h=d(t,r,u),m=h||p(f),b=!m("as");return function(){var v=arguments,g=u&&void 0!==t.__emotion_styles?t.__emotion_styles.slice(0):[];if(void 0!==i&&g.push("label:"+i+";"),null==v[0]||void 0===v[0].raw)g.push.apply(g,v);else{g.push(v[0][0]);for(var O=v.length,S=1;S<O;S++)g.push(v[S],v[0][S])}var w=(0,a.w)((function(e,t,r){var n=b&&e.as||f,i="",u=[],d=e;if(null==e.theme){for(var v in d={},e)d[v]=e[v];d.theme=(0,o.useContext)(a.T)}"string"==typeof e.className?i=(0,s.fp)(t.registered,u,e.className):null!=e.className&&(i=e.className+" ");var O=(0,l.O)(g.concat(u),t.registered,d);i+=t.key+"-"+O.name,void 0!==c&&(i+=" "+c);var S=b&&void 0===h?p(n):m,w={};for(var P in e)b&&"as"===P||S(P)&&(w[P]=e[P]);return w.className=i,w.ref=r,(0,o.createElement)(o.Fragment,null,(0,o.createElement)(y,{cache:t,serialized:O,isStringTag:"string"==typeof n}),(0,o.createElement)(n,w))}));return w.displayName=void 0!==i?i:"Styled("+("string"==typeof f?f:f.displayName||f.name||"Component")+")",w.defaultProps=t.defaultProps,w.__emotion_real=w,w.__emotion_base=f,w.__emotion_styles=g,w.__emotion_forwardProp=h,Object.defineProperty(w,"toString",{value:function(){return"."+c}}),w.withComponent=function(t,o){return e(t,(0,n.Z)({},r,o,{shouldForwardProp:d(w,o,!0)})).apply(void 0,g)},w}}},82441:(e,t,r)=>{"use strict";r.d(t,{Z:()=>i}),r(16689);var n=r(97942),o=(r(95135),r(29419),n.Z.bind());["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"].forEach((function(e){o[e]=o(e)}));const i=o},98961:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});const n={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1}},29419:(e,t,r)=>{"use strict";r.d(t,{L:()=>i});var n=r(16689),o=!!n.useInsertionEffect&&n.useInsertionEffect,i=o||function(e){return e()};o||n.useLayoutEffect},81612:(e,t,r)=>{"use strict";function n(e,t,r){var n="";return r.split(" ").forEach((function(r){void 0!==e[r]?t.push(e[r]+";"):n+=r+" "})),n}r.d(t,{My:()=>i,fp:()=>n,hC:()=>o});var o=function(e,t,r){var n=e.key+"-"+t.name;!1===r&&void 0===e.registered[n]&&(e.registered[n]=t.styles)},i=function(e,t,r){o(e,t,r);var n=e.key+"-"+t.name;if(void 0===e.inserted[t.name]){var i=t;do{e.insert(t===i?"."+n:"",i,e.sheet,!0),i=i.next}while(void 0!==i)}}},26454:(e,t,r)=>{"use strict";var n=r(42970);t.Z=void 0;var o=n(r(17324)),i=r(2038),a=(0,o.default)((0,i.jsx)("path",{d:"m7 10 5 5 5-5z"}),"ArrowDropDown");t.Z=a},14741:(e,t,r)=>{"use strict";var n=r(42970);t.Z=void 0;var o=n(r(17324)),i=r(2038),a=(0,o.default)((0,i.jsx)("path",{d:"m10 17 5-5-5-5v10z"}),"ArrowRight");t.Z=a},17324:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return n.createSvgIcon}});var n=r(44007)},60543:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});const n={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"}},74379:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});const n={black:"#000",white:"#fff"}},90232:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});const n={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"}},36812:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});const n={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"}},58602:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});const n={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"}},42137:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});const n={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"}},26646:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});const n={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"}},19542:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});const n={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"}},76531:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});var n=r(79777);function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function i(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==o(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==o(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===o(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function a(e,t){var r;return(0,n.Z)({toolbar:(r={minHeight:56},i(r,e.up("xs"),{"@media (orientation: landscape)":{minHeight:48}}),i(r,e.up("sm"),{minHeight:64}),r)},t)}},77724:(e,t,r)=>{"use strict";r.d(t,{ZP:()=>O});var n=r(79777),o=r(86646),i=r(12469),a=r(44305),s=r(83026),l=r(74379),c=r(36812),u=r(26646),f=r(19542),p=r(42137),d=r(60543),y=r(58602),h=r(90232),m=["mode","contrastThreshold","tonalOffset"],b={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:l.Z.white,default:l.Z.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},v={text:{primary:l.Z.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:l.Z.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function g(e,t,r,n){var o=n.light||n,i=n.dark||1.5*n;e[t]||(e.hasOwnProperty(r)?e[t]=e[r]:"light"===t?e.light=(0,s.$n)(e.main,o):"dark"===t&&(e.dark=(0,s._j)(e.main,i)))}function O(e){var t=e.mode,r=void 0===t?"light":t,O=e.contrastThreshold,S=void 0===O?3:O,w=e.tonalOffset,P=void 0===w?.2:w,j=(0,o.Z)(e,m),E=e.primary||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:d.Z[200],light:d.Z[50],dark:d.Z[400]}:{main:d.Z[700],light:d.Z[400],dark:d.Z[800]}}(r),x=e.secondary||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:u.Z[200],light:u.Z[50],dark:u.Z[400]}:{main:u.Z[500],light:u.Z[300],dark:u.Z[700]}}(r),C=e.error||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:f.Z[500],light:f.Z[300],dark:f.Z[700]}:{main:f.Z[700],light:f.Z[400],dark:f.Z[800]}}(r),k=e.info||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:y.Z[400],light:y.Z[300],dark:y.Z[700]}:{main:y.Z[700],light:y.Z[500],dark:y.Z[900]}}(r),R=e.success||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:h.Z[400],light:h.Z[300],dark:h.Z[700]}:{main:h.Z[800],light:h.Z[500],dark:h.Z[900]}}(r),_=e.warning||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:p.Z[400],light:p.Z[300],dark:p.Z[700]}:{main:"#ed6c02",light:p.Z[500],dark:p.Z[900]}}(r);function T(e){return(0,s.mi)(e,v.text.primary)>=S?v.text.primary:b.text.primary}var I=function(e){var t=e.color,r=e.name,o=e.mainShade,a=void 0===o?500:o,s=e.lightShade,l=void 0===s?300:s,c=e.darkShade,u=void 0===c?700:c;if(!(t=(0,n.Z)({},t)).main&&t[a]&&(t.main=t[a]),!t.hasOwnProperty("main"))throw new Error((0,i.Z)(11,r?" (".concat(r,")"):"",a));if("string"!=typeof t.main)throw new Error((0,i.Z)(12,r?" (".concat(r,")"):"",JSON.stringify(t.main)));return g(t,"light",l,P),g(t,"dark",u,P),t.contrastText||(t.contrastText=T(t.main)),t},M={dark:v,light:b};return(0,a.Z)((0,n.Z)({common:(0,n.Z)({},l.Z),mode:r,primary:I({color:E,name:"primary"}),secondary:I({color:x,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:I({color:C,name:"error"}),warning:I({color:_,name:"warning"}),info:I({color:k,name:"info"}),success:I({color:R,name:"success"}),grey:c.Z,contrastThreshold:S,getContrastText:T,augmentColor:I,tonalOffset:P},M[r]),j)}},82013:(e,t,r)=>{"use strict";r.d(t,{Z:()=>b});var n=r(79777),o=r(86646),i=r(12469),a=r(44305),s=r(38774),l=r(1697),c=r(1267),u=r(76531),f=r(77724),p=r(14680),d=r(60248),y=r(5197),h=r(41495),m=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];const b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.mixins,r=void 0===t?{}:t,b=e.palette,v=void 0===b?{}:b,g=e.transitions,O=void 0===g?{}:g,S=e.typography,w=void 0===S?{}:S,P=(0,o.Z)(e,m);if(e.vars)throw new Error((0,i.Z)(18));var j=(0,f.ZP)(v),E=(0,s.Z)(e),x=(0,a.Z)(E,{mixins:(0,u.Z)(E.breakpoints,r),palette:j,shadows:d.Z.slice(),typography:(0,p.Z)(j,w),transitions:(0,y.ZP)(O),zIndex:(0,n.Z)({},h.Z)});x=(0,a.Z)(x,P);for(var C=arguments.length,k=new Array(C>1?C-1:0),R=1;R<C;R++)k[R-1]=arguments[R];return(x=k.reduce((function(e,t){return(0,a.Z)(e,t)}),x)).unstable_sxConfig=(0,n.Z)({},l.Z,null==P?void 0:P.unstable_sxConfig),x.unstable_sx=function(e){return(0,c.Z)({sx:e,theme:this})},x}},5197:(e,t,r)=>{"use strict";r.d(t,{ZP:()=>u,x9:()=>s});var n=r(86646),o=r(79777),i=["duration","easing","delay"],a={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},s={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function l(e){return"".concat(Math.round(e),"ms")}function c(e){if(!e)return 0;var t=e/36;return Math.round(10*(4+15*Math.pow(t,.25)+t/5))}function u(e){var t=(0,o.Z)({},a,e.easing),r=(0,o.Z)({},s,e.duration);return(0,o.Z)({getAutoHeightDuration:c,create:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["all"],o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=o.duration,s=void 0===a?r.standard:a,c=o.easing,u=void 0===c?t.easeInOut:c,f=o.delay,p=void 0===f?0:f;return(0,n.Z)(o,i),(Array.isArray(e)?e:[e]).map((function(e){return"".concat(e," ").concat("string"==typeof s?s:l(s)," ").concat(u," ").concat("string"==typeof p?p:l(p))})).join(",")}},e,{easing:t,duration:r})}},14680:(e,t,r)=>{"use strict";r.d(t,{Z:()=>c});var n=r(79777),o=r(86646),i=r(44305),a=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"],s={textTransform:"uppercase"},l='"Roboto", "Helvetica", "Arial", sans-serif';function c(e,t){var r="function"==typeof t?t(e):t,c=r.fontFamily,u=void 0===c?l:c,f=r.fontSize,p=void 0===f?14:f,d=r.fontWeightLight,y=void 0===d?300:d,h=r.fontWeightRegular,m=void 0===h?400:h,b=r.fontWeightMedium,v=void 0===b?500:b,g=r.fontWeightBold,O=void 0===g?700:g,S=r.htmlFontSize,w=void 0===S?16:S,P=r.allVariants,j=r.pxToRem,E=(0,o.Z)(r,a),x=p/14,C=j||function(e){return"".concat(e/w*x,"rem")},k=function(e,t,r,o,i){return(0,n.Z)({fontFamily:u,fontWeight:e,fontSize:C(t),lineHeight:r},u===l?{letterSpacing:"".concat((a=o/t,Math.round(1e5*a)/1e5),"em")}:{},i,P);var a},R={h1:k(y,96,1.167,-1.5),h2:k(y,60,1.2,-.5),h3:k(m,48,1.167,0),h4:k(m,34,1.235,.25),h5:k(m,24,1.334,0),h6:k(v,20,1.6,.15),subtitle1:k(m,16,1.75,.15),subtitle2:k(v,14,1.57,.1),body1:k(m,16,1.5,.15),body2:k(m,14,1.43,.15),button:k(v,14,1.75,.4,s),caption:k(m,12,1.66,.4),overline:k(m,12,2.66,1,s)};return(0,i.Z)((0,n.Z)({htmlFontSize:w,pxToRem:C,fontFamily:u,fontSize:p,fontWeightLight:y,fontWeightRegular:m,fontWeightMedium:v,fontWeightBold:O},R),E,{clone:!1})}},15785:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});const n=(0,r(82013).Z)()},60248:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});var n=.2,o=.14,i=.12;function a(){return["".concat(arguments.length<=0?void 0:arguments[0],"px ").concat(arguments.length<=1?void 0:arguments[1],"px ").concat(arguments.length<=2?void 0:arguments[2],"px ").concat(arguments.length<=3?void 0:arguments[3],"px rgba(0,0,0,").concat(n,")"),"".concat(arguments.length<=4?void 0:arguments[4],"px ").concat(arguments.length<=5?void 0:arguments[5],"px ").concat(arguments.length<=6?void 0:arguments[6],"px ").concat(arguments.length<=7?void 0:arguments[7],"px rgba(0,0,0,").concat(o,")"),"".concat(arguments.length<=8?void 0:arguments[8],"px ").concat(arguments.length<=9?void 0:arguments[9],"px ").concat(arguments.length<=10?void 0:arguments[10],"px ").concat(arguments.length<=11?void 0:arguments[11],"px rgba(0,0,0,").concat(i,")")].join(",")}const s=["none",a(0,2,1,-1,0,1,1,0,0,1,3,0),a(0,3,1,-2,0,2,2,0,0,1,5,0),a(0,3,3,-2,0,3,4,0,0,1,8,0),a(0,2,4,-1,0,4,5,0,0,1,10,0),a(0,3,5,-1,0,5,8,0,0,1,14,0),a(0,3,5,-1,0,6,10,0,0,1,18,0),a(0,4,5,-2,0,7,10,1,0,2,16,1),a(0,5,5,-3,0,8,10,1,0,3,14,2),a(0,5,6,-3,0,9,12,1,0,3,16,2),a(0,6,6,-3,0,10,14,1,0,4,18,3),a(0,6,7,-4,0,11,15,1,0,4,20,3),a(0,7,8,-4,0,12,17,2,0,5,22,4),a(0,7,8,-4,0,13,19,2,0,5,24,4),a(0,7,9,-4,0,14,21,2,0,5,26,4),a(0,8,9,-5,0,15,22,2,0,6,28,5),a(0,8,10,-5,0,16,24,2,0,6,30,5),a(0,8,11,-5,0,17,26,2,0,6,32,5),a(0,9,11,-5,0,18,28,2,0,7,34,6),a(0,9,12,-6,0,19,29,2,0,7,36,6),a(0,10,13,-6,0,20,31,3,0,8,38,7),a(0,10,13,-6,0,21,33,3,0,8,40,7),a(0,10,14,-6,0,22,35,3,0,8,42,7),a(0,11,14,-7,0,23,36,3,0,9,44,8),a(0,11,15,-7,0,24,38,3,0,9,46,8)]},49917:(e,t,r)=>{"use strict";r.d(t,{ZP:()=>i});var n=r(17500),o=r(15785);const i=(0,n.ZP)({defaultTheme:o.Z,rootShouldForwardProp:function(e){return(0,n.x9)(e)&&"classes"!==e}})},47186:(e,t,r)=>{"use strict";r.d(t,{Z:()=>i});var n=r(98654),o=r(15785);function i(e){var t=e.props,r=e.name;return(0,n.Z)({props:t,name:r,defaultTheme:o.Z})}},41495:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});const n={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500}},44007:(e,t,r)=>{"use strict";r.r(t),r.d(t,{capitalize:()=>o,createChainedFunction:()=>i,createSvgIcon:()=>S,debounce:()=>w,deprecatedPropType:()=>P,isMuiElement:()=>j,ownerDocument:()=>E.Z,ownerWindow:()=>C,requirePropFactory:()=>k,setRef:()=>R,unstable_ClassNameGenerator:()=>q,unstable_useEnhancedEffect:()=>_.Z,unstable_useId:()=>T.Z,unsupportedProp:()=>I,useControlled:()=>M.Z,useEventCallback:()=>D,useForkRef:()=>N.Z,useIsFocusVisible:()=>H});var n=r(21142);const o=r(2494).Z,i=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.reduce((function(e,t){return null==t?e:function(){for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];e.apply(this,n),t.apply(this,n)}}),(function(){}))};var a=r(79777),s=r(16689),l=r(86646),c=(r(580),r(82566)),u=r(56e3),f=r(47186),p=r(49917),d=r(46213),y=r(5245);function h(e){return(0,y.Z)("MuiSvgIcon",e)}(0,d.Z)("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);var m=r(2038),b=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],v=(0,p.ZP)("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:function(e,t){var r=e.ownerState;return[t.root,"inherit"!==r.color&&t["color".concat(o(r.color))],t["fontSize".concat(o(r.fontSize))]]}})((function(e){var t,r,n,o,i,a,s,l,c,u,f,p,d,y,h,m,b,v=e.theme,g=e.ownerState;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:"currentColor",flexShrink:0,transition:null==(t=v.transitions)||null==(r=t.create)?void 0:r.call(t,"fill",{duration:null==(n=v.transitions)||null==(o=n.duration)?void 0:o.shorter}),fontSize:{inherit:"inherit",small:(null==(i=v.typography)||null==(a=i.pxToRem)?void 0:a.call(i,20))||"1.25rem",medium:(null==(s=v.typography)||null==(l=s.pxToRem)?void 0:l.call(s,24))||"1.5rem",large:(null==(c=v.typography)||null==(u=c.pxToRem)?void 0:u.call(c,35))||"2.1875rem"}[g.fontSize],color:null!=(f=null==(p=(v.vars||v).palette)||null==(d=p[g.color])?void 0:d.main)?f:{action:null==(y=(v.vars||v).palette)||null==(h=y.action)?void 0:h.active,disabled:null==(m=(v.vars||v).palette)||null==(b=m.action)?void 0:b.disabled,inherit:void 0}[g.color]}})),g=s.forwardRef((function(e,t){var r=(0,f.Z)({props:e,name:"MuiSvgIcon"}),n=r.children,i=r.className,s=r.color,p=void 0===s?"inherit":s,d=r.component,y=void 0===d?"svg":d,g=r.fontSize,O=void 0===g?"medium":g,S=r.htmlColor,w=r.inheritViewBox,P=void 0!==w&&w,j=r.titleAccess,E=r.viewBox,x=void 0===E?"0 0 24 24":E,C=(0,l.Z)(r,b),k=(0,a.Z)({},r,{color:p,component:y,fontSize:O,instanceFontSize:e.fontSize,inheritViewBox:P,viewBox:x}),R={};P||(R.viewBox=x);var _=function(e){var t=e.color,r=e.fontSize,n=e.classes,i={root:["root","inherit"!==t&&"color".concat(o(t)),"fontSize".concat(o(r))]};return(0,u.Z)(i,h,n)}(k);return(0,m.jsxs)(v,(0,a.Z)({as:y,className:(0,c.Z)(_.root,i),focusable:"false",color:S,"aria-hidden":!j||void 0,role:j?"img":void 0,ref:t},R,C,{ownerState:k,children:[n,j?(0,m.jsx)("title",{children:j}):null]}))}));g.muiName="SvgIcon";const O=g;function S(e,t){function r(r,n){return(0,m.jsx)(O,(0,a.Z)({"data-testid":"".concat(t,"Icon"),ref:n},r,{children:e}))}return r.muiName=O.muiName,s.memo(s.forwardRef(r))}const w=function(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:166;function n(){for(var n=this,o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];clearTimeout(t),t=setTimeout((function(){e.apply(n,i)}),r)}return n.clear=function(){clearTimeout(t)},n},P=function(e,t){return function(){return null}},j=function(e,t){return s.isValidElement(e)&&-1!==t.indexOf(e.type.muiName)};var E=r(92466),x=r(91136);const C=function(e){return(0,x.Z)(e).defaultView||window};r(51730);const k=function(e,t){return function(){return null}},R=r(37367).Z;var _=r(43547),T=r(9118);const I=function(e,t,r,n,o){return null};var M=r(90678),A=r(52695);const D=function(e){var t=s.useRef(e);return(0,A.Z)((function(){t.current=e})),s.useCallback((function(){return t.current.apply(void 0,arguments)}),[])};var L,N=r(44880),z=!0,B=!1,U={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function F(e){e.metaKey||e.altKey||e.ctrlKey||(z=!0)}function Z(){z=!1}function W(){"hidden"===this.visibilityState&&B&&(z=!0)}const H=function(){var e=s.useCallback((function(e){var t;null!=e&&((t=e.ownerDocument).addEventListener("keydown",F,!0),t.addEventListener("mousedown",Z,!0),t.addEventListener("pointerdown",Z,!0),t.addEventListener("touchstart",Z,!0),t.addEventListener("visibilitychange",W,!0))}),[]),t=s.useRef(!1);return{isFocusVisibleRef:t,onFocus:function(e){return!!function(e){var t,r,n,o=e.target;try{return o.matches(":focus-visible")}catch(e){}return z||(r=(t=o).type,!("INPUT"!==(n=t.tagName)||!U[r]||t.readOnly)||"TEXTAREA"===n&&!t.readOnly||!!t.isContentEditable)}(e)&&(t.current=!0,!0)},onBlur:function(){return!!t.current&&(B=!0,window.clearTimeout(L),L=window.setTimeout((function(){B=!1}),100),t.current=!1,!0)},ref:e}};var q={configure:function(e){n.Z.configure(e)}}},92466:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});const n=r(91136).Z},90678:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});const n=r(31168).Z},43547:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});const n=r(52695).Z},44880:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});const n=r(66357).Z},9118:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});const n=r(87655).Z},96557:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});const n=r(16689).createContext(null)},24231:(e,t,r)=>{"use strict";r.d(t,{Z:()=>i});var n=r(16689),o=r(96557);function i(){return n.useContext(o.Z)}},7522:(e,t,r)=>{"use strict";r.d(t,{Co:()=>i,ZP:()=>o});var n=r(82441);function o(e,t){return(0,n.Z)(e,t)}var i=function(e,t){Array.isArray(e.__emotion_styles)&&(e.__emotion_styles=t(e.__emotion_styles))}},3052:(e,t,r)=>{"use strict";r.d(t,{E0:()=>v,NL:()=>s});var n=r(33994),o=r(39642),i=r(10415),a=r(47921);function s(e){return"number"!=typeof e?e:"".concat(e,"px solid")}var l=(0,n.ZP)({prop:"border",themeKey:"borders",transform:s}),c=(0,n.ZP)({prop:"borderTop",themeKey:"borders",transform:s}),u=(0,n.ZP)({prop:"borderRight",themeKey:"borders",transform:s}),f=(0,n.ZP)({prop:"borderBottom",themeKey:"borders",transform:s}),p=(0,n.ZP)({prop:"borderLeft",themeKey:"borders",transform:s}),d=(0,n.ZP)({prop:"borderColor",themeKey:"palette"}),y=(0,n.ZP)({prop:"borderTopColor",themeKey:"palette"}),h=(0,n.ZP)({prop:"borderRightColor",themeKey:"palette"}),m=(0,n.ZP)({prop:"borderBottomColor",themeKey:"palette"}),b=(0,n.ZP)({prop:"borderLeftColor",themeKey:"palette"}),v=function(e){if(void 0!==e.borderRadius&&null!==e.borderRadius){var t=(0,i.eI)(e.theme,"shape.borderRadius",4,"borderRadius");return(0,a.k9)(e,e.borderRadius,(function(e){return{borderRadius:(0,i.NA)(t,e)}}))}return null};v.propTypes={},v.filterProps=["borderRadius"],(0,o.Z)(l,c,u,f,p,d,y,h,m,b,v)},47921:(e,t,r)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}r.d(t,{L7:()=>l,VO:()=>o,W8:()=>s,k9:()=>a}),r(580);var o={xs:0,sm:600,md:900,lg:1200,xl:1536},i={keys:["xs","sm","md","lg","xl"],up:function(e){return"@media (min-width:".concat(o[e],"px)")}};function a(e,t,r){var a=e.theme||{};if(Array.isArray(t)){var s=a.breakpoints||i;return t.reduce((function(e,n,o){return e[s.up(s.keys[o])]=r(t[o]),e}),{})}if("object"===n(t)){var l=a.breakpoints||i;return Object.keys(t).reduce((function(e,n){if(-1!==Object.keys(l.values||o).indexOf(n))e[l.up(n)]=r(t[n],n);else{var i=n;e[i]=t[i]}return e}),{})}return r(t)}function s(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(null==(e=t.keys)?void 0:e.reduce((function(e,r){return e[t.up(r)]={},e}),{}))||{}}function l(e,t){return e.reduce((function(e,t){var r=e[t];return(!r||0===Object.keys(r).length)&&delete e[t],e}),t)}},83026:(e,t,r)=>{"use strict";r.d(t,{$n:()=>f,Fq:()=>c,_j:()=>u,mi:()=>l});var n=r(12469);function o(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return Math.min(Math.max(t,e),r)}function i(e){if(e.type)return e;if("#"===e.charAt(0))return i(function(e){e=e.slice(1);var t=new RegExp(".{1,".concat(e.length>=6?2:1,"}"),"g"),r=e.match(t);return r&&1===r[0].length&&(r=r.map((function(e){return e+e}))),r?"rgb".concat(4===r.length?"a":"","(").concat(r.map((function(e,t){return t<3?parseInt(e,16):Math.round(parseInt(e,16)/255*1e3)/1e3})).join(", "),")"):""}(e));var t=e.indexOf("("),r=e.substring(0,t);if(-1===["rgb","rgba","hsl","hsla","color"].indexOf(r))throw new Error((0,n.Z)(9,e));var o,a=e.substring(t+1,e.length-1);if("color"===r){if(o=(a=a.split(" ")).shift(),4===a.length&&"/"===a[3].charAt(0)&&(a[3]=a[3].slice(1)),-1===["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(o))throw new Error((0,n.Z)(10,o))}else a=a.split(",");return{type:r,values:a=a.map((function(e){return parseFloat(e)})),colorSpace:o}}function a(e){var t=e.type,r=e.colorSpace,n=e.values;return-1!==t.indexOf("rgb")?n=n.map((function(e,t){return t<3?parseInt(e,10):e})):-1!==t.indexOf("hsl")&&(n[1]="".concat(n[1],"%"),n[2]="".concat(n[2],"%")),n=-1!==t.indexOf("color")?"".concat(r," ").concat(n.join(" ")):"".concat(n.join(", ")),"".concat(t,"(").concat(n,")")}function s(e){var t="hsl"===(e=i(e)).type||"hsla"===e.type?i(function(e){var t=(e=i(e)).values,r=t[0],n=t[1]/100,o=t[2]/100,s=n*Math.min(o,1-o),l=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(e+r/30)%12;return o-s*Math.max(Math.min(t-3,9-t,1),-1)},c="rgb",u=[Math.round(255*l(0)),Math.round(255*l(8)),Math.round(255*l(4))];return"hsla"===e.type&&(c+="a",u.push(t[3])),a({type:c,values:u})}(e)).values:e.values;return t=t.map((function(t){return"color"!==e.type&&(t/=255),t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4)})),Number((.2126*t[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function l(e,t){var r=s(e),n=s(t);return(Math.max(r,n)+.05)/(Math.min(r,n)+.05)}function c(e,t){return e=i(e),t=o(t),"rgb"!==e.type&&"hsl"!==e.type||(e.type+="a"),"color"===e.type?e.values[3]="/".concat(t):e.values[3]=t,a(e)}function u(e,t){if(e=i(e),t=o(t),-1!==e.type.indexOf("hsl"))e.values[2]*=1-t;else if(-1!==e.type.indexOf("rgb")||-1!==e.type.indexOf("color"))for(var r=0;r<3;r+=1)e.values[r]*=1-t;return a(e)}function f(e,t){if(e=i(e),t=o(t),-1!==e.type.indexOf("hsl"))e.values[2]+=(100-e.values[2])*t;else if(-1!==e.type.indexOf("rgb"))for(var r=0;r<3;r+=1)e.values[r]+=(255-e.values[r])*t;else if(-1!==e.type.indexOf("color"))for(var n=0;n<3;n+=1)e.values[n]+=(1-e.values[n])*t;return a(e)}},39642:(e,t,r)=>{"use strict";r.d(t,{Z:()=>o});var n=r(88054);const o=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var o=t.reduce((function(e,t){return t.filterProps.forEach((function(r){e[r]=t})),e}),{}),i=function(e){return Object.keys(e).reduce((function(t,r){return o[r]?(0,n.Z)(t,o[r](e)):t}),{})};return i.propTypes={},i.filterProps=t.reduce((function(e,t){return e.concat(t.filterProps)}),[]),i}},17500:(e,t,r)=>{"use strict";r.d(t,{ZP:()=>S,x9:()=>g});var n=r(83265),o=r(51730),i=r(7522),a=r(38774),s=r(3965),l=r(1267);function c(e){return function(e){if(Array.isArray(e))return f(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||u(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e,t){if(e){if("string"==typeof e)return f(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?f(e,t):void 0}}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var p=["name","slot","skipVariantsResolver","skipSx","overridesResolver"],d=["theme"],y=["theme"];function h(e){return 0===Object.keys(e).length}var m=function(e,t){return t.components&&t.components[e]&&t.components[e].styleOverrides?t.components[e].styleOverrides:null},b=function(e,t){var r=[];t&&t.components&&t.components[e]&&t.components[e].variants&&(r=t.components[e].variants);var n={};return r.forEach((function(e){var t=(0,s.Z)(e.props);n[t]=e.style})),n},v=function(e,t,r,n){var o,i,a=e.ownerState,l=void 0===a?{}:a,c=[],u=null==r||null==(o=r.components)||null==(i=o[n])?void 0:i.variants;return u&&u.forEach((function(r){var n=!0;Object.keys(r.props).forEach((function(t){l[t]!==r.props[t]&&e[t]!==r.props[t]&&(n=!1)})),n&&c.push(t[(0,s.Z)(r.props)])})),c};function g(e){return"ownerState"!==e&&"theme"!==e&&"sx"!==e&&"as"!==e}var O=(0,a.Z)();function S(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.defaultTheme,r=void 0===t?O:t,a=e.rootShouldForwardProp,s=void 0===a?g:a,f=e.slotShouldForwardProp,S=void 0===f?g:f,w=function(e){var t=h(e.theme)?r:e.theme;return(0,l.Z)((0,o.Z)({},e,{theme:t}))};return w.__mui_systemSx=!0,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,i.Co)(e,(function(e){return e.filter((function(e){return!(null!=e&&e.__mui_systemSx)}))}));var a=t.name,l=t.slot,f=t.skipVariantsResolver,O=t.skipSx,P=t.overridesResolver,j=(0,n.Z)(t,p),E=void 0!==f?f:l&&"Root"!==l||!1,x=O||!1,C=g;"Root"===l?C=s:l?C=S:function(e){return"string"==typeof e&&e.charCodeAt(0)>96}(e)&&(C=void 0);var k=(0,i.ZP)(e,(0,o.Z)({shouldForwardProp:C,label:void 0},j)),R=function(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),s=1;s<t;s++)i[s-1]=arguments[s];var l=i?i.map((function(e){return"function"==typeof e&&e.__emotion_real!==e?function(t){var i=t.theme,a=(0,n.Z)(t,d);return e((0,o.Z)({theme:h(i)?r:i},a))}:e})):[],f=e;a&&P&&l.push((function(e){var t=h(e.theme)?r:e.theme,n=m(a,t);if(n){var i={};return Object.entries(n).forEach((function(r){var n,a,s=(a=2,function(e){if(Array.isArray(e))return e}(n=r)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,s=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(n,a)||u(n,a)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),l=s[0],c=s[1];i[l]="function"==typeof c?c((0,o.Z)({},e,{theme:t})):c})),P(e,i)}return null})),a&&!E&&l.push((function(e){var t=h(e.theme)?r:e.theme;return v(e,b(a,t),t,a)})),x||l.push(w);var p=l.length-i.length;if(Array.isArray(e)&&p>0){var g=new Array(p).fill("");(f=[].concat(c(e),c(g))).raw=[].concat(c(e.raw),c(g))}else"function"==typeof e&&e.__emotion_real!==e&&(f=function(t){var i=t.theme,a=(0,n.Z)(t,y);return e((0,o.Z)({theme:h(i)?r:i},a))});return k.apply(void 0,[f].concat(c(l)))};return k.withConfig&&(R.withConfig=k.withConfig),R}}},11242:(e,t,r)=>{"use strict";r.d(t,{Z:()=>l});var n=r(83265),o=r(51730);function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}var a=["values","unit","step"],s=function(e){var t=Object.keys(e).map((function(t){return{key:t,val:e[t]}}))||[];return t.sort((function(e,t){return e.val-t.val})),t.reduce((function(e,t){return(0,o.Z)({},e,function(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==i(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==i(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===i(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}({},t.key,t.val))}),{})};function l(e){var t=e.values,r=void 0===t?{xs:0,sm:600,md:900,lg:1200,xl:1536}:t,i=e.unit,l=void 0===i?"px":i,c=e.step,u=void 0===c?5:c,f=(0,n.Z)(e,a),p=s(r),d=Object.keys(p);function y(e){var t="number"==typeof r[e]?r[e]:e;return"@media (min-width:".concat(t).concat(l,")")}function h(e){var t="number"==typeof r[e]?r[e]:e;return"@media (max-width:".concat(t-u/100).concat(l,")")}function m(e,t){var n=d.indexOf(t);return"@media (min-width:".concat("number"==typeof r[e]?r[e]:e).concat(l,") and ")+"(max-width:".concat((-1!==n&&"number"==typeof r[d[n]]?r[d[n]]:t)-u/100).concat(l,")")}return(0,o.Z)({keys:d,values:p,up:y,down:h,between:m,only:function(e){return d.indexOf(e)+1<d.length?m(e,d[d.indexOf(e)+1]):y(e)},not:function(e){var t=d.indexOf(e);return 0===t?y(d[1]):t===d.length-1?h(d[t]):m(e,d[d.indexOf(e)+1]).replace("@media","@media not all and")},unit:l},f)}},2354:(e,t,r)=>{"use strict";r.d(t,{Z:()=>o});var n=r(10415);function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8;if(e.mui)return e;var t=(0,n.hB)({spacing:e}),r=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return(0===r.length?[1]:r).map((function(e){var r=t(e);return"number"==typeof r?"".concat(r,"px"):r})).join(" ")};return r.mui=!0,r}},38774:(e,t,r)=>{"use strict";r.d(t,{Z:()=>p});var n=r(51730),o=r(83265),i=r(44305),a=r(11242),s=r(77358),l=r(2354),c=r(1267),u=r(1697),f=["breakpoints","palette","spacing","shape"];const p=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.breakpoints,r=void 0===t?{}:t,p=e.palette,d=void 0===p?{}:p,y=e.spacing,h=e.shape,m=void 0===h?{}:h,b=(0,o.Z)(e,f),v=(0,a.Z)(r),g=(0,l.Z)(y),O=(0,i.Z)({breakpoints:v,direction:"ltr",components:{},palette:(0,n.Z)({mode:"light"},d),spacing:g,shape:(0,n.Z)({},s.Z,m)},b),S=arguments.length,w=new Array(S>1?S-1:0),P=1;P<S;P++)w[P-1]=arguments[P];return(O=w.reduce((function(e,t){return(0,i.Z)(e,t)}),O)).unstable_sxConfig=(0,n.Z)({},u.Z,null==b?void 0:b.unstable_sxConfig),O.unstable_sx=function(e){return(0,c.Z)({sx:e,theme:this})},O}},77358:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});const n={borderRadius:4}},83644:(e,t,r)=>{"use strict";r.d(t,{SG:()=>s,e$:()=>l,s2:()=>c});var n=r(33994),o=r(39642),i=r(10415),a=r(47921),s=function(e){if(void 0!==e.gap&&null!==e.gap){var t=(0,i.eI)(e.theme,"spacing",8,"gap");return(0,a.k9)(e,e.gap,(function(e){return{gap:(0,i.NA)(t,e)}}))}return null};s.propTypes={},s.filterProps=["gap"];var l=function(e){if(void 0!==e.columnGap&&null!==e.columnGap){var t=(0,i.eI)(e.theme,"spacing",8,"columnGap");return(0,a.k9)(e,e.columnGap,(function(e){return{columnGap:(0,i.NA)(t,e)}}))}return null};l.propTypes={},l.filterProps=["columnGap"];var c=function(e){if(void 0!==e.rowGap&&null!==e.rowGap){var t=(0,i.eI)(e.theme,"spacing",8,"rowGap");return(0,a.k9)(e,e.rowGap,(function(e){return{rowGap:(0,i.NA)(t,e)}}))}return null};c.propTypes={},c.filterProps=["rowGap"];var u=(0,n.ZP)({prop:"gridColumn"}),f=(0,n.ZP)({prop:"gridRow"}),p=(0,n.ZP)({prop:"gridAutoFlow"}),d=(0,n.ZP)({prop:"gridAutoColumns"}),y=(0,n.ZP)({prop:"gridAutoRows"}),h=(0,n.ZP)({prop:"gridTemplateColumns"}),m=(0,n.ZP)({prop:"gridTemplateRows"}),b=(0,n.ZP)({prop:"gridTemplateAreas"}),v=(0,n.ZP)({prop:"gridArea"});(0,o.Z)(s,l,c,u,f,p,d,y,h,m,b,v)},60722:(e,t,r)=>{"use strict";function n(e){var t={};return function(r){return void 0===t[r]&&(t[r]=e(r)),t[r]}}r.d(t,{Z:()=>n})},88054:(e,t,r)=>{"use strict";r.d(t,{Z:()=>o});var n=r(44305);const o=function(e,t){return t?(0,n.Z)(e,t,{clone:!1}):e}},94341:(e,t,r)=>{"use strict";r.d(t,{Sh:()=>i});var n=r(33994),o=r(39642);function i(e,t){return"grey"===t?t:e}var a=(0,n.ZP)({prop:"color",themeKey:"palette",transform:i}),s=(0,n.ZP)({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:i}),l=(0,n.ZP)({prop:"backgroundColor",themeKey:"palette",transform:i});(0,o.Z)(a,s,l)},3965:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});var n=r(83265),o=r(2494),i=["variant"];function a(e){return 0===e.length}function s(e){var t=e.variant,r=(0,n.Z)(e,i),s=t||"";return Object.keys(r).sort().forEach((function(t){s+="color"===t?a(s)?e[t]:(0,o.Z)(e[t]):"".concat(a(s)?t:(0,o.Z)(t)).concat((0,o.Z)(e[t].toString()))})),s}},54157:(e,t,r)=>{"use strict";r.d(t,{EB:()=>a,kk:()=>l});var n=r(33994),o=r(39642),i=r(47921);function a(e){return e<=1&&0!==e?"".concat(100*e,"%"):e}var s=(0,n.ZP)({prop:"width",transform:a}),l=function(e){return void 0!==e.maxWidth&&null!==e.maxWidth?(0,i.k9)(e,e.maxWidth,(function(t){var r,n,o;return{maxWidth:(null==(r=e.theme)||null==(n=r.breakpoints)||null==(o=n.values)?void 0:o[t])||i.VO[t]||a(t)}})):null};l.filterProps=["maxWidth"];var c=(0,n.ZP)({prop:"minWidth",transform:a}),u=(0,n.ZP)({prop:"height",transform:a}),f=(0,n.ZP)({prop:"maxHeight",transform:a}),p=(0,n.ZP)({prop:"minHeight",transform:a}),d=((0,n.ZP)({prop:"size",cssProperty:"width",transform:a}),(0,n.ZP)({prop:"size",cssProperty:"height",transform:a}),(0,n.ZP)({prop:"boxSizing"}));(0,o.Z)(s,l,c,u,f,p,d)},10415:(e,t,r)=>{"use strict";r.d(t,{NA:()=>b,e6:()=>g,eI:()=>h,hB:()=>m,o3:()=>O});var n=r(47921),o=r(33994),i=r(88054),a=r(60722);function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var l={m:"margin",p:"padding"},c={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},u={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},f=(0,a.Z)((function(e){if(e.length>2){if(!u[e])return[e];e=u[e]}var t,r,n=(t=e.split(""),r=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,s=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(t,r)||function(e,t){if(e){if("string"==typeof e)return s(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?s(e,t):void 0}}(t,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),o=n[0],i=n[1],a=l[o],f=c[i]||"";return Array.isArray(f)?f.map((function(e){return a+e})):[a+f]})),p=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],d=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"],y=[].concat(p,d);function h(e,t,r,n){var i,a=null!=(i=(0,o.DW)(e,t,!1))?i:r;return"number"==typeof a?function(e){return"string"==typeof e?e:a*e}:Array.isArray(a)?function(e){return"string"==typeof e?e:a[e]}:"function"==typeof a?a:function(){}}function m(e){return h(e,"spacing",8)}function b(e,t){if("string"==typeof t||null==t)return t;var r=e(Math.abs(t));return t>=0?r:"number"==typeof r?-r:"-".concat(r)}function v(e,t){var r=m(e.theme);return Object.keys(e).map((function(o){return function(e,t,r,o){if(-1===t.indexOf(r))return null;var i=function(e,t){return function(r){return e.reduce((function(e,n){return e[n]=b(t,r),e}),{})}}(f(r),o),a=e[r];return(0,n.k9)(e,a,i)}(e,t,o,r)})).reduce(i.Z,{})}function g(e){return v(e,p)}function O(e){return v(e,d)}function S(e){return v(e,y)}g.propTypes={},g.filterProps=p,O.propTypes={},O.filterProps=d,S.propTypes={},S.filterProps=y},33994:(e,t,r)=>{"use strict";r.d(t,{DW:()=>a,Jq:()=>s,ZP:()=>l});var n=r(2494),o=r(47921);function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function a(e,t){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!t||"string"!=typeof t)return null;if(e&&e.vars&&r){var n="vars.".concat(t).split(".").reduce((function(e,t){return e&&e[t]?e[t]:null}),e);if(null!=n)return n}return t.split(".").reduce((function(e,t){return e&&null!=e[t]?e[t]:null}),e)}function s(e,t,r){var n,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:r;return n="function"==typeof e?e(r):Array.isArray(e)?e[r]||o:a(e,r)||o,t&&(n=t(n,o,e)),n}const l=function(e){var t=e.prop,r=e.cssProperty,l=void 0===r?e.prop:r,c=e.themeKey,u=e.transform,f=function(e){if(null==e[t])return null;var r=e[t],f=a(e.theme,c)||{};return(0,o.k9)(e,r,(function(e){var r=s(f,u,e);return e===r&&"string"==typeof e&&(r=s(f,u,"".concat(t).concat("default"===e?"":(0,n.Z)(e)),e)),!1===l?r:function(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==i(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==i(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===i(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}({},l,r)}))};return f.propTypes={},f.filterProps=[t],f}},1697:(e,t,r)=>{"use strict";r.d(t,{Z:()=>l});var n=r(10415),o=r(3052),i=r(83644),a=r(94341),s=r(54157);const l={border:{themeKey:"borders",transform:o.NL},borderTop:{themeKey:"borders",transform:o.NL},borderRight:{themeKey:"borders",transform:o.NL},borderBottom:{themeKey:"borders",transform:o.NL},borderLeft:{themeKey:"borders",transform:o.NL},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:o.E0},color:{themeKey:"palette",transform:a.Sh},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:a.Sh},backgroundColor:{themeKey:"palette",transform:a.Sh},p:{style:n.o3},pt:{style:n.o3},pr:{style:n.o3},pb:{style:n.o3},pl:{style:n.o3},px:{style:n.o3},py:{style:n.o3},padding:{style:n.o3},paddingTop:{style:n.o3},paddingRight:{style:n.o3},paddingBottom:{style:n.o3},paddingLeft:{style:n.o3},paddingX:{style:n.o3},paddingY:{style:n.o3},paddingInline:{style:n.o3},paddingInlineStart:{style:n.o3},paddingInlineEnd:{style:n.o3},paddingBlock:{style:n.o3},paddingBlockStart:{style:n.o3},paddingBlockEnd:{style:n.o3},m:{style:n.e6},mt:{style:n.e6},mr:{style:n.e6},mb:{style:n.e6},ml:{style:n.e6},mx:{style:n.e6},my:{style:n.e6},margin:{style:n.e6},marginTop:{style:n.e6},marginRight:{style:n.e6},marginBottom:{style:n.e6},marginLeft:{style:n.e6},marginX:{style:n.e6},marginY:{style:n.e6},marginInline:{style:n.e6},marginInlineStart:{style:n.e6},marginInlineEnd:{style:n.e6},marginBlock:{style:n.e6},marginBlockStart:{style:n.e6},marginBlockEnd:{style:n.e6},displayPrint:{cssProperty:!1,transform:function(e){return{"@media print":{display:e}}}},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:i.SG},rowGap:{style:i.s2},columnGap:{style:i.e$},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:s.EB},maxWidth:{style:s.kk},minWidth:{transform:s.EB},height:{transform:s.EB},maxHeight:{transform:s.EB},minHeight:{transform:s.EB},boxSizing:{},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}}},1267:(e,t,r)=>{"use strict";r.d(t,{Z:()=>f});var n=r(2494),o=r(88054),i=r(33994),a=r(47921),s=r(1697);function l(e){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l(e)}function c(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==l(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==l(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===l(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var u=function(){function e(e,t,r,o){var s,l=(c(s={},e,t),c(s,"theme",r),s),u=o[e];if(!u)return c({},e,t);var f=u.cssProperty,p=void 0===f?e:f,d=u.themeKey,y=u.transform,h=u.style;if(null==t)return null;var m=(0,i.DW)(r,d)||{};return h?h(l):(0,a.k9)(l,t,(function(t){var r=(0,i.Jq)(m,y,t);return t===r&&"string"==typeof t&&(r=(0,i.Jq)(m,y,"".concat(e).concat("default"===t?"":(0,n.Z)(t)),t)),!1===p?r:c({},p,r)}))}return function t(r){var n,i=r||{},u=i.sx,f=i.theme,p=void 0===f?{}:f;if(!u)return null;var d=null!=(n=p.unstable_sxConfig)?n:s.Z;function y(r){var n=r;if("function"==typeof r)n=r(p);else if("object"!==l(r))return r;if(!n)return null;var i=(0,a.W8)(p.breakpoints),s=Object.keys(i),u=i;return Object.keys(n).forEach((function(r){var i,s="function"==typeof(i=n[r])?i(p):i;if(null!=s)if("object"===l(s))if(d[r])u=(0,o.Z)(u,e(r,s,p,d));else{var f=(0,a.k9)({theme:p},s,(function(e){return c({},r,e)}));!function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n=t.reduce((function(e,t){return e.concat(Object.keys(t))}),[]),o=new Set(n);return t.every((function(e){return o.size===Object.keys(e).length}))}(f,s)?u=(0,o.Z)(u,f):u[r]=t({sx:s,theme:p})}else u=(0,o.Z)(u,e(r,s,p,d))})),(0,a.L7)(s,u)}return Array.isArray(u)?u.map(y):y(u)}}();u.filterProps=["sx"];const f=u},74099:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});var n=r(38774),o=r(61945),i=(0,n.Z)();const a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i;return(0,o.Z)(e)}},88464:(e,t,r)=>{"use strict";r.d(t,{Z:()=>o});var n=r(29450);function o(e){var t=e.theme,r=e.name,o=e.props;return t&&t.components&&t.components[r]&&t.components[r].defaultProps?(0,n.Z)(t.components[r].defaultProps,o):o}},98654:(e,t,r)=>{"use strict";r.d(t,{Z:()=>i});var n=r(88464),o=r(74099);function i(e){var t=e.props,r=e.name,i=e.defaultTheme,a=(0,o.Z)(i);return(0,n.Z)({theme:a,name:r,props:t})}},61945:(e,t,r)=>{"use strict";r.d(t,{Z:()=>o});var n=r(24231);const o=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,r=(0,n.Z)();return r&&(e=r,0!==Object.keys(e).length)?r:t}},21142:(e,t,r)=>{"use strict";r.d(t,{Z:()=>i});var n,o=function(e){return e};const i=(n=o,{configure:function(e){n=e},generate:function(e){return n(e)},reset:function(){n=o}})},2494:(e,t,r)=>{"use strict";r.d(t,{Z:()=>o});var n=r(12469);function o(e){if("string"!=typeof e)throw new Error((0,n.Z)(7));return e.charAt(0).toUpperCase()+e.slice(1)}},56e3:(e,t,r)=>{"use strict";function n(e,t,r){var n={};return Object.keys(e).forEach((function(o){n[o]=e[o].reduce((function(e,n){return n&&(e.push(t(n)),r&&r[n]&&e.push(r[n])),e}),[]).join(" ")})),n}r.d(t,{Z:()=>n})},44305:(e,t,r)=>{"use strict";r.d(t,{P:()=>i,Z:()=>s});var n=r(51730);function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function i(e){return null!==e&&"object"===o(e)&&e.constructor===Object}function a(e){if(!i(e))return e;var t={};return Object.keys(e).forEach((function(r){t[r]=a(e[r])})),t}function s(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{clone:!0},o=r.clone?(0,n.Z)({},e):e;return i(e)&&i(t)&&Object.keys(t).forEach((function(n){"__proto__"!==n&&(i(t[n])&&n in e&&i(e[n])?o[n]=s(e[n],t[n],r):r.clone?o[n]=i(t[n])?a(t[n]):t[n]:o[n]=t[n])})),o}},12469:(e,t,r)=>{"use strict";function n(e){for(var t="https://mui.com/production-error/?code="+e,r=1;r<arguments.length;r+=1)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified MUI error #"+e+"; visit "+t+" for the full message."}r.d(t,{Z:()=>n})},5245:(e,t,r)=>{"use strict";r.d(t,{Z:()=>i});var n=r(21142),o={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",required:"required",selected:"selected"};function i(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Mui",i=o[t];return i?"".concat(r,"-").concat(i):"".concat(n.Z.generate(e),"-").concat(t)}},46213:(e,t,r)=>{"use strict";r.d(t,{Z:()=>o});var n=r(5245);function o(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Mui",o={};return t.forEach((function(t){o[t]=(0,n.Z)(e,t,r)})),o}},91136:(e,t,r)=>{"use strict";function n(e){return e&&e.ownerDocument||document}r.d(t,{Z:()=>n})},29450:(e,t,r)=>{"use strict";r.d(t,{Z:()=>o});var n=r(51730);function o(e,t){var r=(0,n.Z)({},t);return Object.keys(e).forEach((function(i){if(i.toString().match(/^(components|slots)$/))r[i]=(0,n.Z)({},e[i],r[i]);else if(i.toString().match(/^(componentsProps|slotProps)$/)){var a=e[i]||{},s=t[i];r[i]={},s&&Object.keys(s)?a&&Object.keys(a)?(r[i]=(0,n.Z)({},s),Object.keys(a).forEach((function(e){r[i][e]=o(a[e],s[e])}))):r[i]=s:r[i]=a}else void 0===r[i]&&(r[i]=e[i])})),r}},37367:(e,t,r)=>{"use strict";function n(e,t){"function"==typeof e?e(t):e&&(e.current=t)}r.d(t,{Z:()=>n})},31168:(e,t,r)=>{"use strict";r.d(t,{Z:()=>i});var n=r(16689);function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function i(e){var t,r,i=e.controlled,a=e.default,s=(e.name,e.state,n.useRef(void 0!==i).current),l=(t=n.useState(a),r=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,s=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(t,r)||function(e,t){if(e){if("string"==typeof e)return o(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?o(e,t):void 0}}(t,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),c=l[0],u=l[1];return[s?i:c,n.useCallback((function(e){s||u(e)}),[])]}},52695:(e,t,r)=>{"use strict";r.d(t,{Z:()=>o});var n=r(16689);const o="undefined"!=typeof window?n.useLayoutEffect:n.useEffect},66357:(e,t,r)=>{"use strict";r.d(t,{Z:()=>i});var n=r(16689),o=r(37367);function i(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return n.useMemo((function(){return t.every((function(e){return null==e}))?null:function(e){t.forEach((function(t){(0,o.Z)(t,e)}))}}),t)}},87655:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});var n=r(16689);function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var i=0,a=n.useId;function s(e){if(void 0!==a){var t=a();return null!=e?e:t}return function(e){var t,r,a=(t=n.useState(e),r=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,s=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(t,r)||function(e,t){if(e){if("string"==typeof e)return o(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?o(e,t):void 0}}(t,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),s=a[0],l=a[1],c=e||s;return n.useEffect((function(){null==s&&l("mui-".concat(i+=1))}),[s]),c}(e)}},49493:(e,t,r)=>{"use strict";var n=r(43532),o=r(64411),i=o(n("String.prototype.indexOf"));e.exports=function(e,t){var r=n(e,!!t);return"function"==typeof r&&i(e,".prototype.")>-1?o(r):r}},64411:(e,t,r)=>{"use strict";var n=r(65836),o=r(43532),i=o("%Function.prototype.apply%"),a=o("%Function.prototype.call%"),s=o("%Reflect.apply%",!0)||n.call(a,i),l=o("%Object.getOwnPropertyDescriptor%",!0),c=o("%Object.defineProperty%",!0),u=o("%Math.max%");if(c)try{c({},"a",{value:1})}catch(e){c=null}e.exports=function(e){var t=s(n,a,arguments);return l&&c&&l(t,"length").configurable&&c(t,"length",{value:1+u(0,e.length-(arguments.length-1))}),t};var f=function(){return s(n,i,arguments)};c?c(e.exports,"apply",{value:f}):e.exports.apply=f},82566:(e,t,r)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function o(e){var t,r,i="";if("string"==typeof e||"number"==typeof e)i+=e;else if("object"==n(e))if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(r=o(e[t]))&&(i&&(i+=" "),i+=r);else for(t in e)e[t]&&(i&&(i+=" "),i+=t);return i}r.d(t,{Z:()=>i});const i=function(){for(var e,t,r=0,n="";r<arguments.length;)(e=arguments[r++])&&(t=o(e))&&(n&&(n+=" "),n+=t);return n}},13674:(e,t,r)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}var o=r(42801),i=r(80288),a=r(28675),s=r(92708),l=r(30907),c=r(99776),u=r(47478),f=r(65176),p=r(43532),d=r(49493),y=r(18724),h=r(23382),m=r(645),b=r(2607),v=r(46880),g=d("Date.prototype.getTime"),O=Object.getPrototypeOf,S=d("Object.prototype.toString"),w=p("%Set%",!0),P=d("Map.prototype.has",!0),j=d("Map.prototype.get",!0),E=d("Map.prototype.size",!0),x=d("Set.prototype.add",!0),C=d("Set.prototype.delete",!0),k=d("Set.prototype.has",!0),R=d("Set.prototype.size",!0);function _(e,t,r,n){for(var o,i=h(e);(o=i.next())&&!o.done;)if(D(t,o.value,r,n))return C(e,o.value),!0;return!1}function T(e){return void 0===e?null:"object"!==n(e)?"symbol"!==n(e)&&("string"!=typeof e&&"number"!=typeof e||+e==+e):void 0}function I(e,t,r,n,o,i){var a=T(r);if(null!=a)return a;var s=j(t,a),l=v({},o,{strict:!1});return!(void 0===s&&!P(t,a)||!D(n,s,l,i))&&!P(e,a)&&D(n,s,l,i)}function M(e,t,r){var n=T(r);return null!=n?n:k(t,n)&&!k(e,n)}function A(e,t,r,n,o,i){for(var a,s,l=h(e);(a=l.next())&&!a.done;)if(D(r,s=a.value,o,i)&&D(n,j(t,s),o,i))return C(e,s),!0;return!1}function D(e,t,r,p){var d=r||{};if(d.strict?a(e,t):e===t)return!0;if(f(e)!==f(t))return!1;if(!e||!t||"object"!==n(e)&&"object"!==n(t))return d.strict?a(e,t):e==t;var m,C=p.has(e),T=p.has(t);if(C&&T){if(p.get(e)===p.get(t))return!0}else m={};return C||p.set(e,m),T||p.set(t,m),function(e,t,r,a){var f,p;if(n(e)!==n(t))return!1;if(null==e||null==t)return!1;if(S(e)!==S(t))return!1;if(i(e)!==i(t))return!1;if(c(e)!==c(t))return!1;var d=e instanceof Error,m=t instanceof Error;if(d!==m)return!1;if((d||m)&&(e.name!==t.name||e.message!==t.message))return!1;var C=s(e),T=s(t);if(C!==T)return!1;if((C||T)&&(e.source!==t.source||l(e)!==l(t)))return!1;var N=u(e),z=u(t);if(N!==z)return!1;if((N||z)&&g(e)!==g(t))return!1;if(r.strict&&O&&O(e)!==O(t))return!1;if(b(e)!==b(t))return!1;var B=L(e),U=L(t);if(B!==U)return!1;if(B||U){if(e.length!==t.length)return!1;for(f=0;f<e.length;f++)if(e[f]!==t[f])return!1;return!0}if(n(e)!==n(t))return!1;var F=o(e),Z=o(t);if(F.length!==Z.length)return!1;for(F.sort(),Z.sort(),f=F.length-1;f>=0;f--)if(F[f]!=Z[f])return!1;for(f=F.length-1;f>=0;f--)if(!D(e[p=F[f]],t[p],r,a))return!1;var W=y(e),H=y(t);return W===H&&("Set"===W||"Set"===H?function(e,t,r,o){if(R(e)!==R(t))return!1;for(var i,a,s,l=h(e),c=h(t);(i=l.next())&&!i.done;)if(i.value&&"object"===n(i.value))s||(s=new w),x(s,i.value);else if(!k(t,i.value)){if(r.strict)return!1;if(!M(e,t,i.value))return!1;s||(s=new w),x(s,i.value)}if(s){for(;(a=c.next())&&!a.done;)if(a.value&&"object"===n(a.value)){if(!_(s,a.value,r.strict,o))return!1}else if(!r.strict&&!k(e,a.value)&&!_(s,a.value,r.strict,o))return!1;return 0===R(s)}return!0}(e,t,r,a):"Map"!==W||function(e,t,r,o){if(E(e)!==E(t))return!1;for(var i,a,s,l,c,u,f=h(e),p=h(t);(i=f.next())&&!i.done;)if(l=i.value[0],c=i.value[1],l&&"object"===n(l))s||(s=new w),x(s,l);else if(void 0===(u=j(t,l))&&!P(t,l)||!D(c,u,r,o)){if(r.strict)return!1;if(!I(e,t,l,c,r,o))return!1;s||(s=new w),x(s,l)}if(s){for(;(a=p.next())&&!a.done;)if(l=a.value[0],u=a.value[1],l&&"object"===n(l)){if(!A(s,e,l,u,r,o))return!1}else if(!(r.strict||e.has(l)&&D(j(e,l),u,r,o)||A(s,e,l,u,v({},r,{strict:!1}),o)))return!1;return 0===R(s)}return!0}(e,t,r,a))}(e,t,d,p)}function L(e){return!(!e||"object"!==n(e)||"number"!=typeof e.length||"function"!=typeof e.copy||"function"!=typeof e.slice||e.length>0&&"number"!=typeof e[0]||!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e)))}e.exports=function(e,t,r){return D(e,t,r,m())}},10635:(e,t,r)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}var o=r(42801),i="function"==typeof Symbol&&"symbol"===n(Symbol("foo")),a=Object.prototype.toString,s=Array.prototype.concat,l=Object.defineProperty,c=l&&function(){var e={};try{for(var t in l(e,"x",{enumerable:!1,value:e}),e)return!1;return e.x===e}catch(e){return!1}}(),u=function(e,t,r,n){var o;(!(t in e)||"function"==typeof(o=n)&&"[object Function]"===a.call(o)&&n())&&(c?l(e,t,{configurable:!0,enumerable:!1,value:r,writable:!0}):e[t]=r)},f=function(e,t){var r=arguments.length>2?arguments[2]:{},n=o(t);i&&(n=s.call(n,Object.getOwnPropertySymbols(t)));for(var a=0;a<n.length;a+=1)u(e,n[a],t[n[a]],r[n[a]])};f.supportsDescriptors=!!c,e.exports=f},77758:e=>{var t=Object.prototype.hasOwnProperty,r=Object.prototype.toString;e.exports=function(e,n,o){if("[object Function]"!==r.call(n))throw new TypeError("iterator must be a function");var i=e.length;if(i===+i)for(var a=0;a<i;a++)n.call(o,e[a],a,e);else for(var s in e)t.call(e,s)&&n.call(o,e[s],s,e)}},4237:e=>{"use strict";var t="Function.prototype.bind called on incompatible ",r=Array.prototype.slice,n=Object.prototype.toString,o="[object Function]";e.exports=function(e){var i=this;if("function"!=typeof i||n.call(i)!==o)throw new TypeError(t+i);for(var a,s=r.call(arguments,1),l=Math.max(0,i.length-s.length),c=[],u=0;u<l;u++)c.push("$"+u);if(a=Function("binder","return function ("+c.join(",")+"){ return binder.apply(this,arguments); }")((function(){if(this instanceof a){var t=i.apply(this,s.concat(r.call(arguments)));return Object(t)===t?t:this}return i.apply(e,s.concat(r.call(arguments)))})),i.prototype){var f=function(){};f.prototype=i.prototype,a.prototype=new f,f.prototype=null}return a}},65836:(e,t,r)=>{"use strict";var n=r(4237);e.exports=Function.prototype.bind||n},81091:e=>{"use strict";var t=function(){return"string"==typeof function(){}.name},r=Object.getOwnPropertyDescriptor;if(r)try{r([],"length")}catch(e){r=null}t.functionsHaveConfigurableNames=function(){return t()&&r&&!!r((function(){}),"name").configurable};var n=Function.prototype.bind;t.boundFunctionsHaveNames=function(){return t()&&"function"==typeof n&&""!==function(){}.bind().name},e.exports=t},43532:(e,t,r)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}var o,i=SyntaxError,a=Function,s=TypeError,l=function(e){try{return a('"use strict"; return ('+e+").constructor;")()}catch(e){}},c=Object.getOwnPropertyDescriptor;if(c)try{c({},"")}catch(e){c=null}var u=function(){throw new s},f=c?function(){try{return u}catch(e){try{return c(arguments,"callee").get}catch(e){return u}}}():u,p=r(87285)(),d=Object.getPrototypeOf||function(e){return e.__proto__},y={},h="undefined"==typeof Uint8Array?o:d(Uint8Array),m={"%AggregateError%":"undefined"==typeof AggregateError?o:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?o:ArrayBuffer,"%ArrayIteratorPrototype%":p?d([][Symbol.iterator]()):o,"%AsyncFromSyncIteratorPrototype%":o,"%AsyncFunction%":y,"%AsyncGenerator%":y,"%AsyncGeneratorFunction%":y,"%AsyncIteratorPrototype%":y,"%Atomics%":"undefined"==typeof Atomics?o:Atomics,"%BigInt%":"undefined"==typeof BigInt?o:BigInt,"%Boolean%":Boolean,"%DataView%":"undefined"==typeof DataView?o:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":"undefined"==typeof Float32Array?o:Float32Array,"%Float64Array%":"undefined"==typeof Float64Array?o:Float64Array,"%FinalizationRegistry%":"undefined"==typeof FinalizationRegistry?o:FinalizationRegistry,"%Function%":a,"%GeneratorFunction%":y,"%Int8Array%":"undefined"==typeof Int8Array?o:Int8Array,"%Int16Array%":"undefined"==typeof Int16Array?o:Int16Array,"%Int32Array%":"undefined"==typeof Int32Array?o:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":p?d(d([][Symbol.iterator]())):o,"%JSON%":"object"===("undefined"==typeof JSON?"undefined":n(JSON))?JSON:o,"%Map%":"undefined"==typeof Map?o:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&p?d((new Map)[Symbol.iterator]()):o,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?o:Promise,"%Proxy%":"undefined"==typeof Proxy?o:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":"undefined"==typeof Reflect?o:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"==typeof Set?o:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&p?d((new Set)[Symbol.iterator]()):o,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?o:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":p?d(""[Symbol.iterator]()):o,"%Symbol%":p?Symbol:o,"%SyntaxError%":i,"%ThrowTypeError%":f,"%TypedArray%":h,"%TypeError%":s,"%Uint8Array%":"undefined"==typeof Uint8Array?o:Uint8Array,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?o:Uint8ClampedArray,"%Uint16Array%":"undefined"==typeof Uint16Array?o:Uint16Array,"%Uint32Array%":"undefined"==typeof Uint32Array?o:Uint32Array,"%URIError%":URIError,"%WeakMap%":"undefined"==typeof WeakMap?o:WeakMap,"%WeakRef%":"undefined"==typeof WeakRef?o:WeakRef,"%WeakSet%":"undefined"==typeof WeakSet?o:WeakSet},b=function e(t){var r;if("%AsyncFunction%"===t)r=l("async function () {}");else if("%GeneratorFunction%"===t)r=l("function* () {}");else if("%AsyncGeneratorFunction%"===t)r=l("async function* () {}");else if("%AsyncGenerator%"===t){var n=e("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if("%AsyncIteratorPrototype%"===t){var o=e("%AsyncGenerator%");o&&(r=d(o.prototype))}return m[t]=r,r},v={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},g=r(65836),O=r(19392),S=g.call(Function.call,Array.prototype.concat),w=g.call(Function.apply,Array.prototype.splice),P=g.call(Function.call,String.prototype.replace),j=g.call(Function.call,String.prototype.slice),E=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,x=/\\(\\)?/g,C=function(e){var t=j(e,0,1),r=j(e,-1);if("%"===t&&"%"!==r)throw new i("invalid intrinsic syntax, expected closing `%`");if("%"===r&&"%"!==t)throw new i("invalid intrinsic syntax, expected opening `%`");var n=[];return P(e,E,(function(e,t,r,o){n[n.length]=r?P(o,x,"$1"):t||e})),n},k=function(e,t){var r,n=e;if(O(v,n)&&(n="%"+(r=v[n])[0]+"%"),O(m,n)){var o=m[n];if(o===y&&(o=b(n)),void 0===o&&!t)throw new s("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:r,name:n,value:o}}throw new i("intrinsic "+e+" does not exist!")};e.exports=function(e,t){if("string"!=typeof e||0===e.length)throw new s("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof t)throw new s('"allowMissing" argument must be a boolean');var r=C(e),n=r.length>0?r[0]:"",o=k("%"+n+"%",t),a=o.name,l=o.value,u=!1,f=o.alias;f&&(n=f[0],w(r,S([0,1],f)));for(var p=1,d=!0;p<r.length;p+=1){var y=r[p],h=j(y,0,1),b=j(y,-1);if(('"'===h||"'"===h||"`"===h||'"'===b||"'"===b||"`"===b)&&h!==b)throw new i("property names with quotes must have matching quotes");if("constructor"!==y&&d||(u=!0),O(m,a="%"+(n+="."+y)+"%"))l=m[a];else if(null!=l){if(!(y in l)){if(!t)throw new s("base intrinsic for "+e+" exists, but the property is not available.");return}if(c&&p+1>=r.length){var v=c(l,y);l=(d=!!v)&&"get"in v&&!("originalValue"in v.get)?v.get:l[y]}else d=O(l,y),l=l[y];d&&!u&&(m[a]=l)}}return l}},87285:(e,t,r)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}var o="undefined"!=typeof Symbol&&Symbol,i=r(2112);e.exports=function(){return"function"==typeof o&&"function"==typeof Symbol&&"symbol"===n(o("foo"))&&"symbol"===n(Symbol("bar"))&&i()}},2112:e=>{"use strict";function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},t(e)}e.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"===t(Symbol.iterator))return!0;var e={},r=Symbol("test"),n=Object(r);if("string"==typeof r)return!1;if("[object Symbol]"!==Object.prototype.toString.call(r))return!1;if("[object Symbol]"!==Object.prototype.toString.call(n))return!1;for(r in e[r]=42,e)return!1;if("function"==typeof Object.keys&&0!==Object.keys(e).length)return!1;if("function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(e).length)return!1;var o=Object.getOwnPropertySymbols(e);if(1!==o.length||o[0]!==r)return!1;if(!Object.prototype.propertyIsEnumerable.call(e,r))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var i=Object.getOwnPropertyDescriptor(e,r);if(42!==i.value||!0!==i.enumerable)return!1}return!0}},19392:(e,t,r)=>{"use strict";var n=r(65836);e.exports=n.call(Function.call,Object.prototype.hasOwnProperty)},80288:(e,t,r)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}var o="function"==typeof Symbol&&"symbol"===n(Symbol.toStringTag),i=r(49493)("Object.prototype.toString"),a=function(e){return!(o&&e&&"object"===n(e)&&Symbol.toStringTag in e)&&"[object Arguments]"===i(e)},s=function(e){return!!a(e)||null!==e&&"object"===n(e)&&"number"==typeof e.length&&e.length>=0&&"[object Array]"!==i(e)&&"[object Function]"===i(e.callee)},l=function(){return a(arguments)}();a.isLegacyArguments=s,e.exports=l?a:s},39518:e=>{"use strict";function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},t(e)}if("function"==typeof BigInt){var r=BigInt.prototype.valueOf;e.exports=function(e){return null!=e&&"boolean"!=typeof e&&"string"!=typeof e&&"number"!=typeof e&&"symbol"!==t(e)&&"function"!=typeof e&&("bigint"==typeof e||function(e){try{return r.call(e),!0}catch(e){}return!1}(e))}}else e.exports=function(e){return!1}},30293:(e,t,r)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}var o=r(49493),i=o("Boolean.prototype.toString"),a=o("Object.prototype.toString"),s="function"==typeof Symbol&&!!Symbol.toStringTag;e.exports=function(e){return"boolean"==typeof e||null!==e&&"object"===n(e)&&(s&&Symbol.toStringTag in e?function(e){try{return i(e),!0}catch(e){return!1}}(e):"[object Boolean]"===a(e))}},47478:e=>{"use strict";function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},t(e)}var r=Date.prototype.getDay,n=Object.prototype.toString,o="function"==typeof Symbol&&!!Symbol.toStringTag;e.exports=function(e){return"object"===t(e)&&null!==e&&(o?function(e){try{return r.call(e),!0}catch(e){return!1}}(e):"[object Date]"===n.call(e))}},33410:e=>{"use strict";function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},t(e)}var r,n="function"==typeof Map&&Map.prototype?Map:null,o="function"==typeof Set&&Set.prototype?Set:null;n||(r=function(e){return!1});var i=n?Map.prototype.has:null,a=o?Set.prototype.has:null;r||i||(r=function(e){return!1}),e.exports=r||function(e){if(!e||"object"!==t(e))return!1;try{if(i.call(e),a)try{a.call(e)}catch(e){return!0}return e instanceof n}catch(e){}return!1}},33524:e=>{"use strict";function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},t(e)}var r=Number.prototype.toString,n=Object.prototype.toString,o="function"==typeof Symbol&&!!Symbol.toStringTag;e.exports=function(e){return"number"==typeof e||"object"===t(e)&&(o?function(e){try{return r.call(e),!0}catch(e){return!1}}(e):"[object Number]"===n.call(e))}},92708:(e,t,r)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}var o,i,a,s,l=r(49493),c=r(2112)()&&!!Symbol.toStringTag;if(c){o=l("Object.prototype.hasOwnProperty"),i=l("RegExp.prototype.exec"),a={};var u=function(){throw a};s={toString:u,valueOf:u},"symbol"===n(Symbol.toPrimitive)&&(s[Symbol.toPrimitive]=u)}var f=l("Object.prototype.toString"),p=Object.getOwnPropertyDescriptor;e.exports=c?function(e){if(!e||"object"!==n(e))return!1;var t=p(e,"lastIndex");if(!t||!o(t,"value"))return!1;try{i(e,s)}catch(e){return e===a}}:function(e){return!(!e||"object"!==n(e)&&"function"!=typeof e)&&"[object RegExp]"===f(e)}},32454:e=>{"use strict";function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},t(e)}var r,n="function"==typeof Map&&Map.prototype?Map:null,o="function"==typeof Set&&Set.prototype?Set:null;o||(r=function(e){return!1});var i=n?Map.prototype.has:null,a=o?Set.prototype.has:null;r||a||(r=function(e){return!1}),e.exports=r||function(e){if(!e||"object"!==t(e))return!1;try{if(a.call(e),i)try{i.call(e)}catch(e){return!0}return e instanceof o}catch(e){}return!1}},50434:e=>{"use strict";function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},t(e)}var r=String.prototype.valueOf,n=Object.prototype.toString,o="function"==typeof Symbol&&!!Symbol.toStringTag;e.exports=function(e){return"string"==typeof e||"object"===t(e)&&(o?function(e){try{return r.call(e),!0}catch(e){return!1}}(e):"[object String]"===n.call(e))}},57764:(e,t,r)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}var o=Object.prototype.toString;if(r(87285)()){var i=Symbol.prototype.toString,a=/^Symbol\(.*\)$/;e.exports=function(e){if("symbol"===n(e))return!0;if("[object Symbol]"!==o.call(e))return!1;try{return function(e){return"symbol"===n(e.valueOf())&&a.test(i.call(e))}(e)}catch(e){return!1}}}else e.exports=function(e){return!1}},18215:(e,t,r)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}var o=r(77758),i=r(93167),a=r(49493),s=a("Object.prototype.toString"),l=r(87285)()&&"symbol"===n(Symbol.toStringTag),c=i(),u=a("Array.prototype.indexOf",!0)||function(e,t){for(var r=0;r<e.length;r+=1)if(e[r]===t)return r;return-1},f=a("String.prototype.slice"),p={},d=r(16992),y=Object.getPrototypeOf;l&&d&&y&&o(c,(function(e){var t=new r.g[e];if(!(Symbol.toStringTag in t))throw new EvalError("this engine has support for Symbol.toStringTag, but "+e+" does not have the property! Please report this.");var n=y(t),o=d(n,Symbol.toStringTag);if(!o){var i=y(n);o=d(i,Symbol.toStringTag)}p[e]=o.get})),e.exports=function(e){if(!e||"object"!==n(e))return!1;if(!l){var t=f(s(e),8,-1);return u(c,t)>-1}return!!d&&function(e){var t=!1;return o(p,(function(r,n){if(!t)try{t=r.call(e)===n}catch(e){}})),t}(e)}},30464:e=>{"use strict";function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},t(e)}var r,n="function"==typeof WeakMap&&WeakMap.prototype?WeakMap:null,o="function"==typeof WeakSet&&WeakSet.prototype?WeakSet:null;n||(r=function(e){return!1});var i=n?n.prototype.has:null,a=o?o.prototype.has:null;r||i||(r=function(e){return!1}),e.exports=r||function(e){if(!e||"object"!==t(e))return!1;try{if(i.call(e,i),a)try{a.call(e,a)}catch(e){return!0}return e instanceof n}catch(e){}return!1}},77799:(e,t,r)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}var o=r(43532),i=r(49493),a=o("%WeakSet%",!0),s=i("WeakSet.prototype.has",!0);if(s){var l=i("WeakMap.prototype.has",!0);e.exports=function(e){if(!e||"object"!==n(e))return!1;try{if(s(e,s),l)try{l(e,l)}catch(e){return!0}return e instanceof a}catch(e){}return!1}}else e.exports=function(e){return!1}},99776:e=>{var t={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==t.call(e)}},57860:e=>{"use strict";var t=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,n=Object.prototype.propertyIsEnumerable;e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},r=0;r<10;r++)t["_"+String.fromCharCode(r)]=r;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var n={};return"abcdefghijklmnopqrst".split("").forEach((function(e){n[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},n)).join("")}catch(e){return!1}}()?Object.assign:function(e,o){for(var i,a,s=function(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}(e),l=1;l<arguments.length;l++){for(var c in i=Object(arguments[l]))r.call(i,c)&&(s[c]=i[c]);if(t){a=t(i);for(var u=0;u<a.length;u++)n.call(i,a[u])&&(s[a[u]]=i[a[u]])}}return s}},96338:(e,t,r)=>{function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}var o="function"==typeof Map&&Map.prototype,i=Object.getOwnPropertyDescriptor&&o?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,a=o&&i&&"function"==typeof i.get?i.get:null,s=o&&Map.prototype.forEach,l="function"==typeof Set&&Set.prototype,c=Object.getOwnPropertyDescriptor&&l?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,u=l&&c&&"function"==typeof c.get?c.get:null,f=l&&Set.prototype.forEach,p="function"==typeof WeakMap&&WeakMap.prototype?WeakMap.prototype.has:null,d="function"==typeof WeakSet&&WeakSet.prototype?WeakSet.prototype.has:null,y="function"==typeof WeakRef&&WeakRef.prototype?WeakRef.prototype.deref:null,h=Boolean.prototype.valueOf,m=Object.prototype.toString,b=Function.prototype.toString,v=String.prototype.match,g="function"==typeof BigInt?BigInt.prototype.valueOf:null,O=Object.getOwnPropertySymbols,S="function"==typeof Symbol&&"symbol"===n(Symbol.iterator)?Symbol.prototype.toString:null,w="function"==typeof Symbol&&"object"===n(Symbol.iterator),P=Object.prototype.propertyIsEnumerable,j=("function"==typeof Reflect?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(e){return e.__proto__}:null),E=r(65863).custom,x=E&&T(E)?E:null,C="function"==typeof Symbol&&void 0!==Symbol.toStringTag?Symbol.toStringTag:null;function k(e,t,r){var n="double"===(r.quoteStyle||t)?'"':"'";return n+e+n}function R(e){return String(e).replace(/"/g,"&quot;")}function _(e){return!("[object Array]"!==A(e)||C&&"object"===n(e)&&C in e)}function T(e){if(w)return e&&"object"===n(e)&&e instanceof Symbol;if("symbol"===n(e))return!0;if(!e||"object"!==n(e)||!S)return!1;try{return S.call(e),!0}catch(e){}return!1}e.exports=function e(t,r,o,i){var l=r||{};if(M(l,"quoteStyle")&&"single"!==l.quoteStyle&&"double"!==l.quoteStyle)throw new TypeError('option "quoteStyle" must be "single" or "double"');if(M(l,"maxStringLength")&&("number"==typeof l.maxStringLength?l.maxStringLength<0&&l.maxStringLength!==1/0:null!==l.maxStringLength))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var c=!M(l,"customInspect")||l.customInspect;if("boolean"!=typeof c&&"symbol"!==c)throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(M(l,"indent")&&null!==l.indent&&"\t"!==l.indent&&!(parseInt(l.indent,10)===l.indent&&l.indent>0))throw new TypeError('options "indent" must be "\\t", an integer > 0, or `null`');if(void 0===t)return"undefined";if(null===t)return"null";if("boolean"==typeof t)return t?"true":"false";if("string"==typeof t)return L(t,l);if("number"==typeof t)return 0===t?1/0/t>0?"0":"-0":String(t);if("bigint"==typeof t)return String(t)+"n";var m=void 0===l.depth?5:l.depth;if(void 0===o&&(o=0),o>=m&&m>0&&"object"===n(t))return _(t)?"[Array]":"[Object]";var O,P=function(e,t){var r;if("\t"===e.indent)r="\t";else{if(!("number"==typeof e.indent&&e.indent>0))return null;r=Array(e.indent+1).join(" ")}return{base:r,prev:Array(t+1).join(r)}}(l,o);if(void 0===i)i=[];else if(D(i,t)>=0)return"[Circular]";function E(t,r,n){if(r&&(i=i.slice()).push(r),n){var a={depth:l.depth};return M(l,"quoteStyle")&&(a.quoteStyle=l.quoteStyle),e(t,a,o+1,i)}return e(t,l,o+1,i)}if("function"==typeof t){var I=function(e){if(e.name)return e.name;var t=v.call(b.call(e),/^function\s*([\w$]+)/);return t?t[1]:null}(t),N=Z(t,E);return"[Function"+(I?": "+I:" (anonymous)")+"]"+(N.length>0?" { "+N.join(", ")+" }":"")}if(T(t)){var W=w?String(t).replace(/^(Symbol\(.*\))_[^)]*$/,"$1"):S.call(t);return"object"!==n(t)||w?W:z(W)}if((O=t)&&"object"===n(O)&&("undefined"!=typeof HTMLElement&&O instanceof HTMLElement||"string"==typeof O.nodeName&&"function"==typeof O.getAttribute)){for(var H="<"+String(t.nodeName).toLowerCase(),q=t.attributes||[],G=0;G<q.length;G++)H+=" "+q[G].name+"="+k(R(q[G].value),"double",l);return H+=">",t.childNodes&&t.childNodes.length&&(H+="..."),H+"</"+String(t.nodeName).toLowerCase()+">"}if(_(t)){if(0===t.length)return"[]";var V=Z(t,E);return P&&!function(e){for(var t=0;t<e.length;t++)if(D(e[t],"\n")>=0)return!1;return!0}(V)?"["+F(V,P)+"]":"[ "+V.join(", ")+" ]"}if(function(e){return!("[object Error]"!==A(e)||C&&"object"===n(e)&&C in e)}(t)){var $=Z(t,E);return 0===$.length?"["+String(t)+"]":"{ ["+String(t)+"] "+$.join(", ")+" }"}if("object"===n(t)&&c){if(x&&"function"==typeof t[x])return t[x]();if("symbol"!==c&&"function"==typeof t.inspect)return t.inspect()}if(function(e){if(!a||!e||"object"!==n(e))return!1;try{a.call(e);try{u.call(e)}catch(e){return!0}return e instanceof Map}catch(e){}return!1}(t)){var K=[];return s.call(t,(function(e,r){K.push(E(r,t,!0)+" => "+E(e,t))})),U("Map",a.call(t),K,P)}if(function(e){if(!u||!e||"object"!==n(e))return!1;try{u.call(e);try{a.call(e)}catch(e){return!0}return e instanceof Set}catch(e){}return!1}(t)){var Y=[];return f.call(t,(function(e){Y.push(E(e,t))})),U("Set",u.call(t),Y,P)}if(function(e){if(!p||!e||"object"!==n(e))return!1;try{p.call(e,p);try{d.call(e,d)}catch(e){return!0}return e instanceof WeakMap}catch(e){}return!1}(t))return B("WeakMap");if(function(e){if(!d||!e||"object"!==n(e))return!1;try{d.call(e,d);try{p.call(e,p)}catch(e){return!0}return e instanceof WeakSet}catch(e){}return!1}(t))return B("WeakSet");if(function(e){if(!y||!e||"object"!==n(e))return!1;try{return y.call(e),!0}catch(e){}return!1}(t))return B("WeakRef");if(function(e){return!("[object Number]"!==A(e)||C&&"object"===n(e)&&C in e)}(t))return z(E(Number(t)));if(function(e){if(!e||"object"!==n(e)||!g)return!1;try{return g.call(e),!0}catch(e){}return!1}(t))return z(E(g.call(t)));if(function(e){return!("[object Boolean]"!==A(e)||C&&"object"===n(e)&&C in e)}(t))return z(h.call(t));if(function(e){return!("[object String]"!==A(e)||C&&"object"===n(e)&&C in e)}(t))return z(E(String(t)));if(!function(e){return!("[object Date]"!==A(e)||C&&"object"===n(e)&&C in e)}(t)&&!function(e){return!("[object RegExp]"!==A(e)||C&&"object"===n(e)&&C in e)}(t)){var X=Z(t,E),J=j?j(t)===Object.prototype:t instanceof Object||t.constructor===Object,Q=t instanceof Object?"":"null prototype",ee=!J&&C&&Object(t)===t&&C in t?A(t).slice(8,-1):Q?"Object":"",te=(J||"function"!=typeof t.constructor?"":t.constructor.name?t.constructor.name+" ":"")+(ee||Q?"["+[].concat(ee||[],Q||[]).join(": ")+"] ":"");return 0===X.length?te+"{}":P?te+"{"+F(X,P)+"}":te+"{ "+X.join(", ")+" }"}return String(t)};var I=Object.prototype.hasOwnProperty||function(e){return e in this};function M(e,t){return I.call(e,t)}function A(e){return m.call(e)}function D(e,t){if(e.indexOf)return e.indexOf(t);for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1}function L(e,t){if(e.length>t.maxStringLength){var r=e.length-t.maxStringLength,n="... "+r+" more character"+(r>1?"s":"");return L(e.slice(0,t.maxStringLength),t)+n}return k(e.replace(/(['\\])/g,"\\$1").replace(/[\x00-\x1f]/g,N),"single",t)}function N(e){var t=e.charCodeAt(0),r={8:"b",9:"t",10:"n",12:"f",13:"r"}[t];return r?"\\"+r:"\\x"+(t<16?"0":"")+t.toString(16).toUpperCase()}function z(e){return"Object("+e+")"}function B(e){return e+" { ? }"}function U(e,t,r,n){return e+" ("+t+") {"+(n?F(r,n):r.join(", "))+"}"}function F(e,t){if(0===e.length)return"";var r="\n"+t.prev+t.base;return r+e.join(","+r)+"\n"+t.prev}function Z(e,t){var r=_(e),n=[];if(r){n.length=e.length;for(var o=0;o<e.length;o++)n[o]=M(e,o)?t(e[o],e):""}var i,a="function"==typeof O?O(e):[];if(w){i={};for(var s=0;s<a.length;s++)i["$"+a[s]]=a[s]}for(var l in e)M(e,l)&&(r&&String(Number(l))===l&&l<e.length||w&&i["$"+l]instanceof Symbol||(/[^\w$]/.test(l)?n.push(t(l,e)+": "+t(e[l],e)):n.push(l+": "+t(e[l],e))));if("function"==typeof O)for(var c=0;c<a.length;c++)P.call(e,a[c])&&n.push("["+t(a[c])+"]: "+t(e[a[c]],e));return n}},75268:e=>{"use strict";var t=function(e){return e!=e};e.exports=function(e,r){return 0===e&&0===r?1/e==1/r:e===r||!(!t(e)||!t(r))}},28675:(e,t,r)=>{"use strict";var n=r(10635),o=r(64411),i=r(75268),a=r(8231),s=r(62627),l=o(a(),Object);n(l,{getPolyfill:a,implementation:i,shim:s}),e.exports=l},8231:(e,t,r)=>{"use strict";var n=r(75268);e.exports=function(){return"function"==typeof Object.is?Object.is:n}},62627:(e,t,r)=>{"use strict";var n=r(8231),o=r(10635);e.exports=function(){var e=n();return o(Object,{is:e},{is:function(){return Object.is!==e}}),e}},45131:(e,t,r)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}var o;if(!Object.keys){var i=Object.prototype.hasOwnProperty,a=Object.prototype.toString,s=r(97631),l=Object.prototype.propertyIsEnumerable,c=!l.call({toString:null},"toString"),u=l.call((function(){}),"prototype"),f=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],p=function(e){var t=e.constructor;return t&&t.prototype===e},d={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},y=function(){if("undefined"==typeof window)return!1;for(var e in window)try{if(!d["$"+e]&&i.call(window,e)&&null!==window[e]&&"object"===n(window[e]))try{p(window[e])}catch(e){return!0}}catch(e){return!0}return!1}();o=function(e){var t=null!==e&&"object"===n(e),r="[object Function]"===a.call(e),o=s(e),l=t&&"[object String]"===a.call(e),d=[];if(!t&&!r&&!o)throw new TypeError("Object.keys called on a non-object");var h=u&&r;if(l&&e.length>0&&!i.call(e,0))for(var m=0;m<e.length;++m)d.push(String(m));if(o&&e.length>0)for(var b=0;b<e.length;++b)d.push(String(b));else for(var v in e)h&&"prototype"===v||!i.call(e,v)||d.push(String(v));if(c)for(var g=function(e){if("undefined"==typeof window||!y)return p(e);try{return p(e)}catch(e){return!1}}(e),O=0;O<f.length;++O)g&&"constructor"===f[O]||!i.call(e,f[O])||d.push(f[O]);return d}}e.exports=o},42801:(e,t,r)=>{"use strict";var n=Array.prototype.slice,o=r(97631),i=Object.keys,a=i?function(e){return i(e)}:r(45131),s=Object.keys;a.shim=function(){if(Object.keys){var e=function(){var e=Object.keys(arguments);return e&&e.length===arguments.length}(1,2);e||(Object.keys=function(e){return o(e)?s(n.call(e)):s(e)})}else Object.keys=a;return Object.keys||a},e.exports=a},97631:e=>{"use strict";function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},t(e)}var r=Object.prototype.toString;e.exports=function(e){var n=r.call(e),o="[object Arguments]"===n;return o||(o="[object Array]"!==n&&null!==e&&"object"===t(e)&&"number"==typeof e.length&&e.length>=0&&"[object Function]"===r.call(e.callee)),o}},10938:(e,t,r)=>{"use strict";var n=r(42801),o=function(e){return null!=e},i=r(2112)(),a=r(49493),s=Object,l=a("Array.prototype.push"),c=a("Object.prototype.propertyIsEnumerable"),u=i?Object.getOwnPropertySymbols:null;e.exports=function(e,t){if(!o(e))throw new TypeError("target must be an object");var r,a,f,p,d,y,h,m=s(e);for(r=1;r<arguments.length;++r){a=s(arguments[r]),p=n(a);var b=i&&(Object.getOwnPropertySymbols||u);if(b)for(d=b(a),f=0;f<d.length;++f)h=d[f],c(a,h)&&l(p,h);for(f=0;f<p.length;++f)y=a[h=p[f]],c(a,h)&&(m[h]=y)}return m}},46880:(e,t,r)=>{"use strict";var n=r(10635),o=r(64411),i=r(10938),a=r(25611),s=r(28993),l=o.apply(a()),c=function(e,t){return l(Object,arguments)};n(c,{getPolyfill:a,implementation:i,shim:s}),e.exports=c},25611:(e,t,r)=>{"use strict";var n=r(10938);e.exports=function(){return Object.assign?function(){if(!Object.assign)return!1;for(var e="abcdefghijklmnopqrst",t=e.split(""),r={},n=0;n<t.length;++n)r[t[n]]=t[n];var o=Object.assign({},r),i="";for(var a in o)i+=a;return e!==i}()||function(){if(!Object.assign||!Object.preventExtensions)return!1;var e=Object.preventExtensions({1:2});try{Object.assign(e,"xy")}catch(t){return"y"===e[1]}return!1}()?n:Object.assign:n}},28993:(e,t,r)=>{"use strict";var n=r(10635),o=r(25611);e.exports=function(){var e=o();return n(Object,{assign:e},{assign:function(){return Object.assign!==e}}),e}},90691:function(e,t,r){var n,o,i,a;function s(e){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}e=r.nmd(e),a=function(e){return function(e){function t(n){if(r[n])return r[n].exports;var o=r[n]={exports:{},id:n,loaded:!1};return e[n].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var r={};return t.m=e,t.c=r,t.p="",t(0)}([function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),r(31);var n=function(e){return e&&e.__esModule?e:{default:e}}(r(13));t.default=n.default},function(t,r){t.exports=e},function(e,t,r){e.exports=r(19)()},function(e,t){"use strict";t.__esModule=!0,t.default=function(e){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]="number"==typeof e[r]?e[r]:e[r].val);return t},e.exports=t.default},function(e,t,r){(function(t){(function(){var r,n,o;"undefined"!=typeof performance&&null!==performance&&performance.now?e.exports=function(){return performance.now()}:null!=t&&t.hrtime?(e.exports=function(){return(r()-o)/1e6},n=t.hrtime,r=function(){var e;return 1e9*(e=n())[0]+e[1]},o=r()):Date.now?(e.exports=function(){return Date.now()-o},o=Date.now()):(e.exports=function(){return(new Date).getTime()-o},o=(new Date).getTime())}).call(this)}).call(t,r(10))},function(e,t,r){(function(t){for(var n=r(23),o="undefined"==typeof window?t:window,i=["moz","webkit"],a="AnimationFrame",s=o["request"+a],l=o["cancel"+a]||o["cancelRequest"+a],c=0;!s&&c<i.length;c++)s=o[i[c]+"Request"+a],l=o[i[c]+"Cancel"+a]||o[i[c]+"CancelRequest"+a];if(!s||!l){var u=0,f=0,p=[];s=function(e){if(0===p.length){var t=n(),r=Math.max(0,16.666666666666668-(t-u));u=r+t,setTimeout((function(){var e=p.slice(0);p.length=0;for(var t=0;t<e.length;t++)if(!e[t].cancelled)try{e[t].callback(u)}catch(e){setTimeout((function(){throw e}),0)}}),Math.round(r))}return p.push({handle:++f,callback:e,cancelled:!1}),f},l=function(e){for(var t=0;t<p.length;t++)p[t].handle===e&&(p[t].cancelled=!0)}}e.exports=function(e){return s.call(o,e)},e.exports.cancel=function(){l.apply(o,arguments)},e.exports.polyfill=function(e){e||(e=o),e.requestAnimationFrame=s,e.cancelAnimationFrame=l}}).call(t,function(){return this}())},function(e,t){"use strict";t.__esModule=!0,t.default=function(e){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=0);return t},e.exports=t.default},function(e,t){"use strict";t.__esModule=!0,t.default=function(e,t,r){for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(0!==r[n])return!1;var o="number"==typeof t[n]?t[n]:t[n].val;if(e[n]!==o)return!1}return!0},e.exports=t.default},function(e,t){"use strict";t.__esModule=!0,t.default=function(e,t,n,o,i,a,s){var l=n+(-i*(t-o)+-a*n)*e,c=t+l*e;return Math.abs(l)<s&&Math.abs(c-o)<s?(r[0]=o,r[1]=0,r):(r[0]=c,r[1]=l,r)};var r=[0,0];e.exports=t.default},function(e,t,r){"use strict";function n(e){var t=e.version;if("string"!=typeof t)return!0;var r=t.split("."),n=parseInt(r[0],10),o=parseInt(r[1],10);return 0===n&&13===o}Object.defineProperty(t,"__esModule",{value:!0}),t.findDOMNode=function(e){return i?o.default.findDOMNode(e):e},t.warnAboutFunctionChild=function(){a||i||(a=!0,console.error("With React 0.14 and later versions, you no longer need to wrap <ScrollArea> child into a function."))},t.warnAboutElementChild=function(){!a&&i&&(a=!0,console.error("With React 0.13, you need to wrap <ScrollArea> child into a function."))},t.positiveOrZero=function(e){return e<0?0:e},t.modifyObjValues=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(e){return e},r={};for(var n in e)e.hasOwnProperty(n)&&(r[n]=t(e[n]));return r},t.isReact13=n;var o=function(e){return e&&e.__esModule?e:{default:e}}(r(1)),i=n(o.default),a=!1},function(e,t){function r(){throw new Error("setTimeout has not been defined")}function n(){throw new Error("clearTimeout has not been defined")}function o(e){if(c===setTimeout)return setTimeout(e,0);if((c===r||!c)&&setTimeout)return c=setTimeout,setTimeout(e,0);try{return c(e,0)}catch(t){try{return c.call(null,e,0)}catch(t){return c.call(this,e,0)}}}function i(){y&&p&&(y=!1,p.length?d=p.concat(d):h=-1,d.length&&a())}function a(){if(!y){var e=o(i);y=!0;for(var t=d.length;t;){for(p=d,d=[];++h<t;)p&&p[h].run();h=-1,t=d.length}p=null,y=!1,function(e){if(u===clearTimeout)return clearTimeout(e);if((u===n||!u)&&clearTimeout)return u=clearTimeout,clearTimeout(e);try{u(e)}catch(t){try{return u.call(null,e)}catch(t){return u.call(this,e)}}}(e)}}function s(e,t){this.fun=e,this.array=t}function l(){}var c,u,f=e.exports={};!function(){try{c="function"==typeof setTimeout?setTimeout:r}catch(e){c=r}try{u="function"==typeof clearTimeout?clearTimeout:n}catch(e){u=n}}();var p,d=[],y=!1,h=-1;f.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];d.push(new s(e,t)),1!==d.length||y||o(a)},s.prototype.run=function(){this.fun.apply(null,this.array)},f.title="browser",f.browser=!0,f.env={},f.argv=[],f.version="",f.versions={},f.on=l,f.addListener=l,f.once=l,f.off=l,f.removeListener=l,f.removeAllListeners=l,f.emit=l,f.binding=function(e){throw new Error("process.binding is not supported")},f.cwd=function(){return"/"},f.chdir=function(e){throw new Error("process.chdir is not supported")},f.umask=function(){return 0}},function(e,t){"use strict";t.__esModule=!0,t.default={noWobble:{stiffness:170,damping:26},gentle:{stiffness:120,damping:14},wobbly:{stiffness:180,damping:12},stiff:{stiffness:210,damping:20}},e.exports=t.default},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e.default:e}t.__esModule=!0;var o=r(24);t.Motion=n(o);var i=r(25);t.StaggeredMotion=n(i);var a=r(26);t.TransitionMotion=n(a);var s=r(29);t.spring=n(s);var l=r(11);t.presets=n(l);var c=r(3);t.stripStyle=n(c);var u=r(28);t.reorderKeys=n(u)},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==s(Symbol.iterator)?function(e){return s(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":s(e)},i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),l=n(r(1)),c=n(r(2)),u=n(r(18)),f=r(12),p=r(9),d=n(r(14)),y="wheel",h="api",m="touchEnd",b="keypress",v=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=s(t)&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.state={topPosition:0,leftPosition:0,realHeight:0,containerHeight:0,realWidth:0,containerWidth:0},r.scrollArea={refresh:function(){r.setSizesToState()},scrollTop:function(){r.scrollTop()},scrollBottom:function(){r.scrollBottom()},scrollYTo:function(e){r.scrollYTo(e)},scrollLeft:function(){r.scrollLeft()},scrollRight:function(){r.scrollRight()},scrollXTo:function(e){r.scrollXTo(e)}},r.evntsPreviousValues={clientX:0,clientY:0,deltaX:0,deltaY:0},r.bindedHandleWindowResize=r.handleWindowResize.bind(r),r.bindedHandleWheel=r.handleWheel.bind(r),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+s(t));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),a(t,[{key:"getChildContext",value:function(){return{scrollArea:this.scrollArea}}},{key:"componentDidMount",value:function(){this.props.contentWindow&&this.props.contentWindow.addEventListener("resize",this.bindedHandleWindowResize),this.lineHeightPx=(0,u.default)((0,p.findDOMNode)(this.content)),this.setSizesToState(),this.wrapper.addEventListener("wheel",this.bindedHandleWheel,{passive:!1})}},{key:"componentWillUnmount",value:function(){this.props.contentWindow&&this.props.contentWindow.removeEventListener("resize",this.bindedHandleWindowResize),this.wrapper.removeEventListener("wheel",this.bindedHandleWheel)}},{key:"componentDidUpdate",value:function(){this.setSizesToState()}},{key:"render",value:function(){var e=this,t=this.props,r=t.children,n=t.className,o=t.contentClassName,a=t.ownerDocument,s=this.props.smoothScrolling&&(this.state.eventType===y||this.state.eventType===h||this.state.eventType===m||this.state.eventType===b),c=this.canScrollY()?l.default.createElement(d.default,{ownerDocument:a,realSize:this.state.realHeight,containerSize:this.state.containerHeight,position:this.state.topPosition,onMove:this.handleScrollbarMove.bind(this),onPositionChange:this.handleScrollbarYPositionChange.bind(this),containerStyle:this.props.verticalContainerStyle,scrollbarStyle:this.props.verticalScrollbarStyle,smoothScrolling:s,minScrollSize:this.props.minScrollSize,onFocus:this.focusContent.bind(this),type:"vertical"}):null,u=this.canScrollX()?l.default.createElement(d.default,{ownerDocument:a,realSize:this.state.realWidth,containerSize:this.state.containerWidth,position:this.state.leftPosition,onMove:this.handleScrollbarMove.bind(this),onPositionChange:this.handleScrollbarXPositionChange.bind(this),containerStyle:this.props.horizontalContainerStyle,scrollbarStyle:this.props.horizontalScrollbarStyle,smoothScrolling:s,minScrollSize:this.props.minScrollSize,onFocus:this.focusContent.bind(this),type:"horizontal"}):null;"function"==typeof r?((0,p.warnAboutFunctionChild)(),r=r()):(0,p.warnAboutElementChild)();var v="scrollarea "+(n||""),g="scrollarea-content "+(o||""),O={marginTop:-this.state.topPosition,marginLeft:-this.state.leftPosition},S=s?(0,p.modifyObjValues)(O,(function(e){return(0,f.spring)(e)})):O;return l.default.createElement(f.Motion,{style:S},(function(t){return l.default.createElement("div",{ref:function(t){return e.wrapper=t},className:v,style:e.props.style},l.default.createElement("div",{ref:function(t){return e.content=t},style:i({},e.props.contentStyle,t),className:g,onTouchStart:e.handleTouchStart.bind(e),onTouchMove:e.handleTouchMove.bind(e),onTouchEnd:e.handleTouchEnd.bind(e),onKeyDown:e.handleKeyDown.bind(e),tabIndex:e.props.focusableTabIndex},r),c,u)}))}},{key:"setStateFromEvent",value:function(e,t){this.props.onScroll&&this.props.onScroll(e),this.setState(i({},e,{eventType:t}))}},{key:"handleTouchStart",value:function(e){var t=e.touches;if(1===t.length){var r=t[0],n=r.clientX,o=r.clientY;this.eventPreviousValues=i({},this.eventPreviousValues,{clientY:o,clientX:n,timestamp:Date.now()})}}},{key:"handleTouchMove",value:function(e){this.canScroll()&&(e.preventDefault(),e.stopPropagation());var t=e.touches;if(1===t.length){var r=t[0],n=r.clientX,o=r.clientY,a=this.eventPreviousValues.clientY-o,s=this.eventPreviousValues.clientX-n;this.eventPreviousValues=i({},this.eventPreviousValues,{deltaY:a,deltaX:s,clientY:o,clientX:n,timestamp:Date.now()}),this.setStateFromEvent(this.composeNewState(-s,-a))}}},{key:"handleTouchEnd",value:function(e){var t=this.eventPreviousValues,r=t.deltaX,n=t.deltaY,o=t.timestamp;void 0===r&&(r=0),void 0===n&&(n=0),Date.now()-o<200&&this.setStateFromEvent(this.composeNewState(10*-r,10*-n),m),this.eventPreviousValues=i({},this.eventPreviousValues,{deltaY:0,deltaX:0})}},{key:"handleScrollbarMove",value:function(e,t){this.setStateFromEvent(this.composeNewState(t,e))}},{key:"handleScrollbarXPositionChange",value:function(e){this.scrollXTo(e)}},{key:"handleScrollbarYPositionChange",value:function(e){this.scrollYTo(e)}},{key:"handleWheel",value:function(e){var t=e.deltaY,r=e.deltaX;if(this.props.swapWheelAxes){var n=[r,t];t=n[0],r=n[1]}1===e.deltaMode&&(t*=this.lineHeightPx,r*=this.lineHeightPx),t*=this.props.speed,r*=this.props.speed;var o=this.composeNewState(-r,-t);(o.topPosition&&this.state.topPosition!==o.topPosition||o.leftPosition&&this.state.leftPosition!==o.leftPosition||this.props.stopScrollPropagation)&&(e.preventDefault(),e.stopPropagation()),this.setStateFromEvent(o,y),this.focusContent()}},{key:"handleKeyDown",value:function(e){if("input"!==e.target.tagName.toLowerCase()&&"textarea"!==e.target.tagName.toLowerCase()&&!e.target.isContentEditable){var t=0,r=0,n=this.lineHeightPx?this.lineHeightPx:10;switch(e.keyCode){case 33:t=this.state.containerHeight-n;break;case 34:t=-this.state.containerHeight+n;break;case 37:r=n;break;case 38:t=n;break;case 39:r=-n;break;case 40:t=-n}if(0!==t||0!==r){var o=this.composeNewState(r,t);e.preventDefault(),e.stopPropagation(),this.setStateFromEvent(o,b)}}}},{key:"handleWindowResize",value:function(){var e=this.computeSizes();e=this.getModifiedPositionsIfNeeded(e),this.setStateFromEvent(e)}},{key:"composeNewState",value:function(e,t){var r=this.computeSizes();return this.canScrollY(r)?r.topPosition=this.computeTopPosition(t,r):r.topPosition=0,this.canScrollX(r)&&(r.leftPosition=this.computeLeftPosition(e,r)),r}},{key:"computeTopPosition",value:function(e,t){var r=this.state.topPosition-e;return this.normalizeTopPosition(r,t)}},{key:"computeLeftPosition",value:function(e,t){var r=this.state.leftPosition-e;return this.normalizeLeftPosition(r,t)}},{key:"normalizeTopPosition",value:function(e,t){return e>t.realHeight-t.containerHeight&&(e=t.realHeight-t.containerHeight),e<0&&(e=0),e}},{key:"normalizeLeftPosition",value:function(e,t){return e>t.realWidth-t.containerWidth?e=t.realWidth-t.containerWidth:e<0&&(e=0),e}},{key:"computeSizes",value:function(){return{realHeight:this.content.offsetHeight,containerHeight:this.wrapper.offsetHeight,realWidth:this.content.offsetWidth,containerWidth:this.wrapper.offsetWidth}}},{key:"setSizesToState",value:function(){var e=this.computeSizes();e.realHeight===this.state.realHeight&&e.realWidth===this.state.realWidth||this.setStateFromEvent(this.getModifiedPositionsIfNeeded(e))}},{key:"scrollTop",value:function(){this.scrollYTo(0)}},{key:"scrollBottom",value:function(){this.scrollYTo(this.state.realHeight-this.state.containerHeight)}},{key:"scrollLeft",value:function(){this.scrollXTo(0)}},{key:"scrollRight",value:function(){this.scrollXTo(this.state.realWidth-this.state.containerWidth)}},{key:"scrollYTo",value:function(e){if(this.canScrollY()){var t=this.normalizeTopPosition(e,this.computeSizes());this.setStateFromEvent({topPosition:t},h)}}},{key:"scrollXTo",value:function(e){if(this.canScrollX()){var t=this.normalizeLeftPosition(e,this.computeSizes());this.setStateFromEvent({leftPosition:t},h)}}},{key:"canScrollY",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.state;return e.realHeight>e.containerHeight&&this.props.vertical}},{key:"canScrollX",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.state;return e.realWidth>e.containerWidth&&this.props.horizontal}},{key:"canScroll",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.state;return this.canScrollY(e)||this.canScrollX(e)}},{key:"getModifiedPositionsIfNeeded",value:function(e){var t=e.realHeight-e.containerHeight;this.state.topPosition>=t&&(e.topPosition=this.canScrollY(e)?(0,p.positiveOrZero)(t):0);var r=e.realWidth-e.containerWidth;return this.state.leftPosition>=r&&(e.leftPosition=this.canScrollX(e)?(0,p.positiveOrZero)(r):0),e}},{key:"focusContent",value:function(){this.content&&(0,p.findDOMNode)(this.content).focus()}}]),t}(l.default.Component);t.default=v,v.childContextTypes={scrollArea:c.default.object},v.propTypes={className:c.default.string,style:c.default.object,speed:c.default.number,contentClassName:c.default.string,contentStyle:c.default.object,vertical:c.default.bool,verticalContainerStyle:c.default.object,verticalScrollbarStyle:c.default.object,horizontal:c.default.bool,horizontalContainerStyle:c.default.object,horizontalScrollbarStyle:c.default.object,onScroll:c.default.func,contentWindow:c.default.any,ownerDocument:c.default.any,smoothScrolling:c.default.bool,minScrollSize:c.default.number,swapWheelAxes:c.default.bool,stopScrollPropagation:c.default.bool,focusableTabIndex:c.default.number},v.defaultProps={speed:1,vertical:!0,horizontal:!0,smoothScrolling:!1,swapWheelAxes:!1,contentWindow:"object"===("undefined"==typeof window?"undefined":o(window))?window:void 0,ownerDocument:"object"===("undefined"==typeof document?"undefined":o(document))?document:void 0,focusableTabIndex:1}},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),a=n(r(1)),l=n(r(2)),c=r(12),u=r(9),f=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=s(t)&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e)),n=r.calculateState(e);return r.state={position:n.position,scrollSize:n.scrollSize,isDragging:!1,lastClientPosition:0},"vertical"===e.type?r.bindedHandleMouseMove=r.handleMouseMoveForVertical.bind(r):r.bindedHandleMouseMove=r.handleMouseMoveForHorizontal.bind(r),r.bindedHandleMouseUp=r.handleMouseUp.bind(r),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+s(t));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"componentDidMount",value:function(){this.props.ownerDocument&&(this.props.ownerDocument.addEventListener("mousemove",this.bindedHandleMouseMove),this.props.ownerDocument.addEventListener("mouseup",this.bindedHandleMouseUp))}},{key:"componentWillReceiveProps",value:function(e){this.setState(this.calculateState(e))}},{key:"componentWillUnmount",value:function(){this.props.ownerDocument&&(this.props.ownerDocument.removeEventListener("mousemove",this.bindedHandleMouseMove),this.props.ownerDocument.removeEventListener("mouseup",this.bindedHandleMouseUp))}},{key:"calculateFractionalPosition",value:function(e,t,r){var n=e-t;return 1-(n-r)/n}},{key:"calculateState",value:function(e){var t=this.calculateFractionalPosition(e.realSize,e.containerSize,e.position),r=e.containerSize*e.containerSize/e.realSize,n=r<e.minScrollSize?e.minScrollSize:r,o=(e.containerSize-n)*t;return{scrollSize:n,position:Math.round(o)}}},{key:"render",value:function(){var e=this,t=this.props,r=t.smoothScrolling,n=t.isDragging,i=t.type,s=t.scrollbarStyle,l=t.containerStyle,f="horizontal"===i,p="vertical"===i,d=this.createScrollStyles(),y=r?(0,u.modifyObjValues)(d,(function(e){return(0,c.spring)(e)})):d,h="scrollbar-container "+(n?"active":"")+" "+(f?"horizontal":"")+" "+(p?"vertical":"");return a.default.createElement(c.Motion,{style:y},(function(t){return a.default.createElement("div",{className:h,style:l,onMouseDown:e.handleScrollBarContainerClick.bind(e),ref:function(t){return e.scrollbarContainer=t}},a.default.createElement("div",{className:"scrollbar",style:o({},s,t),onMouseDown:e.handleMouseDown.bind(e)}))}))}},{key:"handleScrollBarContainerClick",value:function(e){e.preventDefault();var t=this.computeMultiplier(),r=this.isVertical()?e.clientY:e.clientX,n=this.scrollbarContainer.getBoundingClientRect(),o=n.top,i=n.left,a=r-(this.isVertical()?o:i),s=this.props.containerSize*this.props.containerSize/this.props.realSize;this.setState({isDragging:!0,lastClientPosition:r}),this.props.onPositionChange((a-s/2)/t)}},{key:"handleMouseMoveForHorizontal",value:function(e){var t=this.computeMultiplier();if(this.state.isDragging){e.preventDefault();var r=this.state.lastClientPosition-e.clientX;this.setState({lastClientPosition:e.clientX}),this.props.onMove(0,r/t)}}},{key:"handleMouseMoveForVertical",value:function(e){var t=this.computeMultiplier();if(this.state.isDragging){e.preventDefault();var r=this.state.lastClientPosition-e.clientY;this.setState({lastClientPosition:e.clientY}),this.props.onMove(r/t,0)}}},{key:"handleMouseDown",value:function(e){e.preventDefault(),e.stopPropagation();var t=this.isVertical()?e.clientY:e.clientX;this.setState({isDragging:!0,lastClientPosition:t}),this.props.onFocus()}},{key:"handleMouseUp",value:function(e){this.state.isDragging&&(e.preventDefault(),this.setState({isDragging:!1}))}},{key:"createScrollStyles",value:function(){return"vertical"===this.props.type?{height:this.state.scrollSize,marginTop:this.state.position}:{width:this.state.scrollSize,marginLeft:this.state.position}}},{key:"computeMultiplier",value:function(){return this.props.containerSize/this.props.realSize}},{key:"isVertical",value:function(){return"vertical"===this.props.type}}]),t}(a.default.Component);f.propTypes={onMove:l.default.func,onPositionChange:l.default.func,onFocus:l.default.func,realSize:l.default.number,containerSize:l.default.number,position:l.default.number,containerStyle:l.default.object,scrollbarStyle:l.default.object,type:l.default.oneOf(["vertical","horizontal"]),ownerDocument:l.default.any,smoothScrolling:l.default.bool,minScrollSize:l.default.number},f.defaultProps={type:"vertical",smoothScrolling:!1},t.default=f},function(e,t){e.exports=function(e,t,r){return((r=window.getComputedStyle)?r(e):e.currentStyle)[t.replace(/-(\w)/gi,(function(e,t){return t.toUpperCase()}))]}},function(e,t,r){(e.exports=r(17)()).push([e.id,".scrollarea-content{margin:0;padding:0;overflow:hidden;position:relative;touch-action:none}.scrollarea-content:focus{outline:0}.scrollarea{position:relative;overflow:hidden}.scrollarea .scrollbar-container{position:absolute;background:none;opacity:.1;z-index:99;-webkit-transition:all .4s;transition:all .4s}.scrollarea .scrollbar-container.horizontal{width:100%;height:10px;left:0;bottom:0}.scrollarea .scrollbar-container.horizontal .scrollbar{width:20px;height:8px;background:#000;margin-top:1px}.scrollarea .scrollbar-container.vertical{width:10px;height:100%;right:0;top:0}.scrollarea .scrollbar-container.vertical .scrollbar{width:8px;height:20px;background:#000;margin-left:1px}.scrollarea .scrollbar-container.active,.scrollarea .scrollbar-container:hover{background:gray;opacity:.6!important}.scrollarea:hover .scrollbar-container{opacity:.3}",""])},function(e,t){e.exports=function(){var e=[];return e.toString=function(){for(var e=[],t=0;t<this.length;t++){var r=this[t];r[2]?e.push("@media "+r[2]+"{"+r[1]+"}"):e.push(r[1])}return e.join("")},e.i=function(t,r){"string"==typeof t&&(t=[[null,t,""]]);for(var n={},o=0;o<this.length;o++){var i=this[o][0];"number"==typeof i&&(n[i]=!0)}for(o=0;o<t.length;o++){var a=t[o];"number"==typeof a[0]&&n[a[0]]||(r&&!a[2]?a[2]=r:r&&(a[2]="("+a[2]+") and ("+r+")"),e.push(a))}},e}},function(e,t,r){var n=r(15);e.exports=function(e){var t=n(e,"line-height"),r=parseFloat(t,10);if(t===r+""){var o=e.style.lineHeight;e.style.lineHeight=t+"em",t=n(e,"line-height"),r=parseFloat(t,10),o?e.style.lineHeight=o:delete e.style.lineHeight}if(-1!==t.indexOf("pt")?(r*=4,r/=3):-1!==t.indexOf("mm")?(r*=96,r/=25.4):-1!==t.indexOf("cm")?(r*=96,r/=2.54):-1!==t.indexOf("in")?r*=96:-1!==t.indexOf("pc")&&(r*=16),r=Math.round(r),"normal"===t){var i=e.nodeName,a=document.createElement(i);a.innerHTML="&nbsp;";var s=n(e,"font-size");a.style.fontSize=s;var l=document.body;l.appendChild(a),r=a.offsetHeight,l.removeChild(a)}return r}},function(e,t,r){"use strict";var n=r(21),o=r(22),i=r(20);e.exports=function(){function e(e,t,r,n,a,s){s!==i&&o(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types")}function t(){return e}e.isRequired=e;var r={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t};return r.checkPropTypes=n,r.PropTypes=r,r}},function(e,t){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t){"use strict";function r(e){return function(){return e}}var n=function(){};n.thatReturns=r,n.thatReturnsFalse=r(!1),n.thatReturnsTrue=r(!0),n.thatReturnsNull=r(null),n.thatReturnsThis=function(){return this},n.thatReturnsArgument=function(e){return e},e.exports=n},function(e,t,r){"use strict";e.exports=function(e,t,r,n,o,i,a,s){if(!e){var l;if(void 0===t)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[r,n,o,i,a,s],u=0;(l=new Error(t.replace(/%s/g,(function(){return c[u++]})))).name="Invariant Violation"}throw l.framesToPop=1,l}}},function(e,t,r){(function(t){(function(){var r,n,o,i,a,s;"undefined"!=typeof performance&&null!==performance&&performance.now?e.exports=function(){return performance.now()}:null!=t&&t.hrtime?(e.exports=function(){return(r()-a)/1e6},n=t.hrtime,r=function(){var e;return 1e9*(e=n())[0]+e[1]},i=r(),s=1e9*t.uptime(),a=i-s):Date.now?(e.exports=function(){return Date.now()-o},o=Date.now()):(e.exports=function(){return(new Date).getTime()-o},o=(new Date).getTime())}).call(this)}).call(t,r(10))},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),a=n(r(6)),l=n(r(3)),c=n(r(8)),u=n(r(4)),f=n(r(5)),p=n(r(7)),d=n(r(1)),y=n(r(2)),h=1e3/60,m=function(e){function t(r){var n=this;(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,t),e.call(this,r),this.wasAnimating=!1,this.animationID=null,this.prevTime=0,this.accumulatedTime=0,this.unreadPropStyle=null,this.clearUnreadPropStyle=function(e){var t=!1,r=n.state,i=r.currentStyle,a=r.currentVelocity,s=r.lastIdealStyle,l=r.lastIdealVelocity;for(var c in e)if(Object.prototype.hasOwnProperty.call(e,c)){var u=e[c];"number"==typeof u&&(t||(t=!0,i=o({},i),a=o({},a),s=o({},s),l=o({},l)),i[c]=u,a[c]=0,s[c]=u,l[c]=0)}t&&n.setState({currentStyle:i,currentVelocity:a,lastIdealStyle:s,lastIdealVelocity:l})},this.startAnimationIfNecessary=function(){n.animationID=f.default((function(e){var t=n.props.style;if(p.default(n.state.currentStyle,t,n.state.currentVelocity))return n.wasAnimating&&n.props.onRest&&n.props.onRest(),n.animationID=null,n.wasAnimating=!1,void(n.accumulatedTime=0);n.wasAnimating=!0;var r=e||u.default(),o=r-n.prevTime;if(n.prevTime=r,n.accumulatedTime=n.accumulatedTime+o,n.accumulatedTime>10*h&&(n.accumulatedTime=0),0===n.accumulatedTime)return n.animationID=null,void n.startAnimationIfNecessary();var i=(n.accumulatedTime-Math.floor(n.accumulatedTime/h)*h)/h,a=Math.floor(n.accumulatedTime/h),s={},l={},f={},d={};for(var y in t)if(Object.prototype.hasOwnProperty.call(t,y)){var m=t[y];if("number"==typeof m)f[y]=m,d[y]=0,s[y]=m,l[y]=0;else{for(var b=n.state.lastIdealStyle[y],v=n.state.lastIdealVelocity[y],g=0;g<a;g++){var O=c.default(h/1e3,b,v,m.val,m.stiffness,m.damping,m.precision);b=O[0],v=O[1]}var S=c.default(h/1e3,b,v,m.val,m.stiffness,m.damping,m.precision),w=S[0],P=S[1];f[y]=b+(w-b)*i,d[y]=v+(P-v)*i,s[y]=b,l[y]=v}}n.animationID=null,n.accumulatedTime-=a*h,n.setState({currentStyle:f,currentVelocity:d,lastIdealStyle:s,lastIdealVelocity:l}),n.unreadPropStyle=null,n.startAnimationIfNecessary()}))},this.state=this.defaultState()}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+s(t));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,null,[{key:"propTypes",value:{defaultStyle:y.default.objectOf(y.default.number),style:y.default.objectOf(y.default.oneOfType([y.default.number,y.default.object])).isRequired,children:y.default.func.isRequired,onRest:y.default.func},enumerable:!0}]),t.prototype.defaultState=function(){var e=this.props,t=e.defaultStyle,r=e.style,n=t||l.default(r),o=a.default(n);return{currentStyle:n,currentVelocity:o,lastIdealStyle:n,lastIdealVelocity:o}},t.prototype.componentDidMount=function(){this.prevTime=u.default(),this.startAnimationIfNecessary()},t.prototype.componentWillReceiveProps=function(e){null!=this.unreadPropStyle&&this.clearUnreadPropStyle(this.unreadPropStyle),this.unreadPropStyle=e.style,null==this.animationID&&(this.prevTime=u.default(),this.startAnimationIfNecessary())},t.prototype.componentWillUnmount=function(){null!=this.animationID&&(f.default.cancel(this.animationID),this.animationID=null)},t.prototype.render=function(){var e=this.props.children(this.state.currentStyle);return e&&d.default.Children.only(e)},t}(d.default.Component);t.default=m,e.exports=t.default},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t,r){for(var n=0;n<e.length;n++)if(!d.default(e[n],t[n],r[n]))return!1;return!0}t.__esModule=!0;var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),l=n(r(6)),c=n(r(3)),u=n(r(8)),f=n(r(4)),p=n(r(5)),d=n(r(7)),y=n(r(1)),h=n(r(2)),m=1e3/60,b=function(e){function t(r){var n=this;(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,t),e.call(this,r),this.animationID=null,this.prevTime=0,this.accumulatedTime=0,this.unreadPropStyles=null,this.clearUnreadPropStyle=function(e){for(var t=n.state,r=t.currentStyles,o=t.currentVelocities,a=t.lastIdealStyles,s=t.lastIdealVelocities,l=!1,c=0;c<e.length;c++){var u=e[c],f=!1;for(var p in u)if(Object.prototype.hasOwnProperty.call(u,p)){var d=u[p];"number"==typeof d&&(f||(f=!0,l=!0,r[c]=i({},r[c]),o[c]=i({},o[c]),a[c]=i({},a[c]),s[c]=i({},s[c])),r[c][p]=d,o[c][p]=0,a[c][p]=d,s[c][p]=0)}}l&&n.setState({currentStyles:r,currentVelocities:o,lastIdealStyles:a,lastIdealVelocities:s})},this.startAnimationIfNecessary=function(){n.animationID=p.default((function(e){var t=n.props.styles(n.state.lastIdealStyles);if(o(n.state.currentStyles,t,n.state.currentVelocities))return n.animationID=null,void(n.accumulatedTime=0);var r=e||f.default(),i=r-n.prevTime;if(n.prevTime=r,n.accumulatedTime=n.accumulatedTime+i,n.accumulatedTime>10*m&&(n.accumulatedTime=0),0===n.accumulatedTime)return n.animationID=null,void n.startAnimationIfNecessary();for(var a=(n.accumulatedTime-Math.floor(n.accumulatedTime/m)*m)/m,s=Math.floor(n.accumulatedTime/m),l=[],c=[],p=[],d=[],y=0;y<t.length;y++){var h=t[y],b={},v={},g={},O={};for(var S in h)if(Object.prototype.hasOwnProperty.call(h,S)){var w=h[S];if("number"==typeof w)b[S]=w,v[S]=0,g[S]=w,O[S]=0;else{for(var P=n.state.lastIdealStyles[y][S],j=n.state.lastIdealVelocities[y][S],E=0;E<s;E++){var x=u.default(m/1e3,P,j,w.val,w.stiffness,w.damping,w.precision);P=x[0],j=x[1]}var C=u.default(m/1e3,P,j,w.val,w.stiffness,w.damping,w.precision),k=C[0],R=C[1];b[S]=P+(k-P)*a,v[S]=j+(R-j)*a,g[S]=P,O[S]=j}}p[y]=b,d[y]=v,l[y]=g,c[y]=O}n.animationID=null,n.accumulatedTime-=s*m,n.setState({currentStyles:p,currentVelocities:d,lastIdealStyles:l,lastIdealVelocities:c}),n.unreadPropStyles=null,n.startAnimationIfNecessary()}))},this.state=this.defaultState()}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+s(t));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),a(t,null,[{key:"propTypes",value:{defaultStyles:h.default.arrayOf(h.default.objectOf(h.default.number)),styles:h.default.func.isRequired,children:h.default.func.isRequired},enumerable:!0}]),t.prototype.defaultState=function(){var e=this.props,t=e.defaultStyles,r=e.styles,n=t||r().map(c.default),o=n.map((function(e){return l.default(e)}));return{currentStyles:n,currentVelocities:o,lastIdealStyles:n,lastIdealVelocities:o}},t.prototype.componentDidMount=function(){this.prevTime=f.default(),this.startAnimationIfNecessary()},t.prototype.componentWillReceiveProps=function(e){null!=this.unreadPropStyles&&this.clearUnreadPropStyle(this.unreadPropStyles),this.unreadPropStyles=e.styles(this.state.lastIdealStyles),null==this.animationID&&(this.prevTime=f.default(),this.startAnimationIfNecessary())},t.prototype.componentWillUnmount=function(){null!=this.animationID&&(p.default.cancel(this.animationID),this.animationID=null)},t.prototype.render=function(){var e=this.props.children(this.state.currentStyles);return e&&y.default.Children.only(e)},t}(y.default.Component);t.default=b,e.exports=t.default},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t,r){var n=t;return null==n?e.map((function(e,t){return{key:e.key,data:e.data,style:r[t]}})):e.map((function(e,t){for(var o=0;o<n.length;o++)if(n[o].key===e.key)return{key:n[o].key,data:n[o].data,style:r[t]};return{key:e.key,data:e.data,style:r[t]}}))}function i(e,t,r,n){if(n.length!==t.length)return!1;for(var o=0;o<n.length;o++)if(n[o].key!==t[o].key)return!1;for(o=0;o<n.length;o++)if(!m.default(e[o],t[o].style,r[o]))return!1;return!0}function a(e,t,r,n,o,i,a,s,l){for(var c=d.default(n,o,(function(e,n){var o=t(n);return null==o||m.default(i[e],o,a[e])?(r({key:n.key,data:n.data}),null):{key:n.key,data:n.data,style:o}})),f=[],p=[],y=[],h=[],b=0;b<c.length;b++){for(var v=c[b],g=null,O=0;O<n.length;O++)if(n[O].key===v.key){g=O;break}if(null==g){var S=e(v);f[b]=S,y[b]=S;var w=u.default(v.style);p[b]=w,h[b]=w}else f[b]=i[g],y[b]=s[g],p[b]=a[g],h[b]=l[g]}return[c,f,p,y,h]}t.__esModule=!0;var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},c=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),u=n(r(6)),f=n(r(3)),p=n(r(8)),d=n(r(27)),y=n(r(4)),h=n(r(5)),m=n(r(7)),b=n(r(1)),v=n(r(2)),g=1e3/60,O=function(e){function t(r){var n=this;(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,t),e.call(this,r),this.unmounting=!1,this.animationID=null,this.prevTime=0,this.accumulatedTime=0,this.unreadPropStyles=null,this.clearUnreadPropStyle=function(e){for(var t=a(n.props.willEnter,n.props.willLeave,n.props.didLeave,n.state.mergedPropsStyles,e,n.state.currentStyles,n.state.currentVelocities,n.state.lastIdealStyles,n.state.lastIdealVelocities),r=t[0],o=t[1],i=t[2],s=t[3],c=t[4],u=0;u<e.length;u++){var f=e[u].style,p=!1;for(var d in f)if(Object.prototype.hasOwnProperty.call(f,d)){var y=f[d];"number"==typeof y&&(p||(p=!0,o[u]=l({},o[u]),i[u]=l({},i[u]),s[u]=l({},s[u]),c[u]=l({},c[u]),r[u]={key:r[u].key,data:r[u].data,style:l({},r[u].style)}),o[u][d]=y,i[u][d]=0,s[u][d]=y,c[u][d]=0,r[u].style[d]=y)}}n.setState({currentStyles:o,currentVelocities:i,mergedPropsStyles:r,lastIdealStyles:s,lastIdealVelocities:c})},this.startAnimationIfNecessary=function(){n.unmounting||(n.animationID=h.default((function(e){if(!n.unmounting){var t=n.props.styles,r="function"==typeof t?t(o(n.state.mergedPropsStyles,n.unreadPropStyles,n.state.lastIdealStyles)):t;if(i(n.state.currentStyles,r,n.state.currentVelocities,n.state.mergedPropsStyles))return n.animationID=null,void(n.accumulatedTime=0);var s=e||y.default(),l=s-n.prevTime;if(n.prevTime=s,n.accumulatedTime=n.accumulatedTime+l,n.accumulatedTime>10*g&&(n.accumulatedTime=0),0===n.accumulatedTime)return n.animationID=null,void n.startAnimationIfNecessary();for(var c=(n.accumulatedTime-Math.floor(n.accumulatedTime/g)*g)/g,u=Math.floor(n.accumulatedTime/g),f=a(n.props.willEnter,n.props.willLeave,n.props.didLeave,n.state.mergedPropsStyles,r,n.state.currentStyles,n.state.currentVelocities,n.state.lastIdealStyles,n.state.lastIdealVelocities),d=f[0],h=f[1],m=f[2],b=f[3],v=f[4],O=0;O<d.length;O++){var S=d[O].style,w={},P={},j={},E={};for(var x in S)if(Object.prototype.hasOwnProperty.call(S,x)){var C=S[x];if("number"==typeof C)w[x]=C,P[x]=0,j[x]=C,E[x]=0;else{for(var k=b[O][x],R=v[O][x],_=0;_<u;_++){var T=p.default(g/1e3,k,R,C.val,C.stiffness,C.damping,C.precision);k=T[0],R=T[1]}var I=p.default(g/1e3,k,R,C.val,C.stiffness,C.damping,C.precision),M=I[0],A=I[1];w[x]=k+(M-k)*c,P[x]=R+(A-R)*c,j[x]=k,E[x]=R}}b[O]=j,v[O]=E,h[O]=w,m[O]=P}n.animationID=null,n.accumulatedTime-=u*g,n.setState({currentStyles:h,currentVelocities:m,lastIdealStyles:b,lastIdealVelocities:v,mergedPropsStyles:d}),n.unreadPropStyles=null,n.startAnimationIfNecessary()}})))},this.state=this.defaultState()}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+s(t));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),c(t,null,[{key:"propTypes",value:{defaultStyles:v.default.arrayOf(v.default.shape({key:v.default.string.isRequired,data:v.default.any,style:v.default.objectOf(v.default.number).isRequired})),styles:v.default.oneOfType([v.default.func,v.default.arrayOf(v.default.shape({key:v.default.string.isRequired,data:v.default.any,style:v.default.objectOf(v.default.oneOfType([v.default.number,v.default.object])).isRequired}))]).isRequired,children:v.default.func.isRequired,willEnter:v.default.func,willLeave:v.default.func,didLeave:v.default.func},enumerable:!0},{key:"defaultProps",value:{willEnter:function(e){return f.default(e.style)},willLeave:function(){return null},didLeave:function(){}},enumerable:!0}]),t.prototype.defaultState=function(){var e,t=this.props,r=t.defaultStyles,n=t.styles,o=t.willEnter,i=t.willLeave,s=t.didLeave,l="function"==typeof n?n(r):n;e=null==r?l:r.map((function(e){for(var t=0;t<l.length;t++)if(l[t].key===e.key)return l[t];return e}));var c=null==r?l.map((function(e){return f.default(e.style)})):r.map((function(e){return f.default(e.style)})),p=null==r?l.map((function(e){return u.default(e.style)})):r.map((function(e){return u.default(e.style)})),d=a(o,i,s,e,l,c,p,c,p),y=d[0];return{currentStyles:d[1],currentVelocities:d[2],lastIdealStyles:d[3],lastIdealVelocities:d[4],mergedPropsStyles:y}},t.prototype.componentDidMount=function(){this.prevTime=y.default(),this.startAnimationIfNecessary()},t.prototype.componentWillReceiveProps=function(e){this.unreadPropStyles&&this.clearUnreadPropStyle(this.unreadPropStyles);var t=e.styles;this.unreadPropStyles="function"==typeof t?t(o(this.state.mergedPropsStyles,this.unreadPropStyles,this.state.lastIdealStyles)):t,null==this.animationID&&(this.prevTime=y.default(),this.startAnimationIfNecessary())},t.prototype.componentWillUnmount=function(){this.unmounting=!0,null!=this.animationID&&(h.default.cancel(this.animationID),this.animationID=null)},t.prototype.render=function(){var e=o(this.state.mergedPropsStyles,this.unreadPropStyles,this.state.currentStyles),t=this.props.children(e);return t&&b.default.Children.only(t)},t}(b.default.Component);t.default=O,e.exports=t.default},function(e,t){"use strict";t.__esModule=!0,t.default=function(e,t,r){for(var n={},o=0;o<e.length;o++)n[e[o].key]=o;var i={};for(o=0;o<t.length;o++)i[t[o].key]=o;var a=[];for(o=0;o<t.length;o++)a[o]=t[o];for(o=0;o<e.length;o++)if(!Object.prototype.hasOwnProperty.call(i,e[o].key)){var s=r(o,e[o]);null!=s&&a.push(s)}return a.sort((function(e,r){var o=i[e.key],a=i[r.key],s=n[e.key],l=n[r.key];if(null!=o&&null!=a)return i[e.key]-i[r.key];if(null!=s&&null!=l)return n[e.key]-n[r.key];if(null!=o){for(var c=0;c<t.length;c++){var u=t[c].key;if(Object.prototype.hasOwnProperty.call(n,u)){if(o<i[u]&&l>n[u])return-1;if(o>i[u]&&l<n[u])return 1}}return 1}for(c=0;c<t.length;c++)if(u=t[c].key,Object.prototype.hasOwnProperty.call(n,u)){if(a<i[u]&&s>n[u])return 1;if(a>i[u]&&s<n[u])return-1}return-1}))},e.exports=t.default},function(e,t,r){"use strict";t.__esModule=!0,t.default=function(){},e.exports=t.default},function(e,t,r){"use strict";t.__esModule=!0;var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};t.default=function(e,t){return n({},i,t,{val:e})};var o=function(e){return e&&e.__esModule?e:{default:e}}(r(11)),i=n({},o.default.noWobble,{precision:.01});e.exports=t.default},function(e,t,r){function n(e,t){for(var r=0;r<e.length;r++){var n=e[r],o=d[n.id];if(o){o.refs++;for(var i=0;i<o.parts.length;i++)o.parts[i](n.parts[i]);for(;i<n.parts.length;i++)o.parts.push(c(n.parts[i],t))}else{var a=[];for(i=0;i<n.parts.length;i++)a.push(c(n.parts[i],t));d[n.id]={id:n.id,refs:1,parts:a}}}}function o(e){for(var t=[],r={},n=0;n<e.length;n++){var o=e[n],i=o[0],a={css:o[1],media:o[2],sourceMap:o[3]};r[i]?r[i].parts.push(a):t.push(r[i]={id:i,parts:[a]})}return t}function i(e,t){var r=m(),n=g[g.length-1];if("top"===e.insertAt)n?n.nextSibling?r.insertBefore(t,n.nextSibling):r.appendChild(t):r.insertBefore(t,r.firstChild),g.push(t);else{if("bottom"!==e.insertAt)throw new Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.");r.appendChild(t)}}function a(e){e.parentNode.removeChild(e);var t=g.indexOf(e);t>=0&&g.splice(t,1)}function s(e){var t=document.createElement("style");return t.type="text/css",i(e,t),t}function l(e){var t=document.createElement("link");return t.rel="stylesheet",i(e,t),t}function c(e,t){var r,n,o;if(t.singleton){var i=v++;r=b||(b=s(t)),n=u.bind(null,r,i,!1),o=u.bind(null,r,i,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(r=l(t),n=p.bind(null,r),o=function(){a(r),r.href&&URL.revokeObjectURL(r.href)}):(r=s(t),n=f.bind(null,r),o=function(){a(r)});return n(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;n(e=t)}else o()}}function u(e,t,r,n){var o=r?"":n.css;if(e.styleSheet)e.styleSheet.cssText=O(t,o);else{var i=document.createTextNode(o),a=e.childNodes;a[t]&&e.removeChild(a[t]),a.length?e.insertBefore(i,a[t]):e.appendChild(i)}}function f(e,t){var r=t.css,n=t.media;if(n&&e.setAttribute("media",n),e.styleSheet)e.styleSheet.cssText=r;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(r))}}function p(e,t){var r=t.css,n=t.sourceMap;n&&(r+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(n))))+" */");var o=new Blob([r],{type:"text/css"}),i=e.href;e.href=URL.createObjectURL(o),i&&URL.revokeObjectURL(i)}var d={},y=function(e){var t;return function(){return void 0===t&&(t=e.apply(this,arguments)),t}},h=y((function(){return/msie [6-9]\b/.test(window.navigator.userAgent.toLowerCase())})),m=y((function(){return document.head||document.getElementsByTagName("head")[0]})),b=null,v=0,g=[];e.exports=function(e,t){void 0===(t=t||{}).singleton&&(t.singleton=h()),void 0===t.insertAt&&(t.insertAt="bottom");var r=o(e);return n(r,t),function(e){for(var i=[],a=0;a<r.length;a++){var s=r[a];(l=d[s.id]).refs--,i.push(l)}for(e&&n(o(e),t),a=0;a<i.length;a++){var l;if(0===(l=i[a]).refs){for(var c=0;c<l.parts.length;c++)l.parts[c]();delete d[l.id]}}}};var O=function(){var e=[];return function(t,r){return e[t]=r,e.filter(Boolean).join("\n")}}()},function(e,t,r){var n=r(16);"string"==typeof n&&(n=[[e.id,n,""]]),r(30)(n,{}),n.locals&&(e.exports=n.locals)}])},"object"==s(t)&&"object"==s(e)?e.exports=a(r(16689)):(o=[r(16689)],void 0===(i="function"==typeof(n=a)?n.apply(t,o):n)||(e.exports=i))},6375:(e,t,r)=>{"use strict";r(57860);var n=r(16689),o=60103;if(t.Fragment=60107,"function"==typeof Symbol&&Symbol.for){var i=Symbol.for;o=i("react.element"),t.Fragment=i("react.fragment")}var a=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s=Object.prototype.hasOwnProperty,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,r){var n,i={},c=null,u=null;for(n in void 0!==r&&(c=""+r),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)s.call(t,n)&&!l.hasOwnProperty(n)&&(i[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps)void 0===i[n]&&(i[n]=t[n]);return{$$typeof:o,type:e,key:c,ref:u,props:i,_owner:a.current}}t.jsx=c,t.jsxs=c},2038:(e,t,r)=>{"use strict";e.exports=r(6375)},12590:e=>{"use strict";var t=function(e){return e&&2===e.CLOSING},r=function(e,t,r){Object.defineProperty(t,r,{get:function(){return e[r]},set:function(t){e[r]=t},enumerable:!0,configurable:!0})},n=function(e){return e.minReconnectionDelay+Math.random()*e.minReconnectionDelay},o=["onopen","onclose","onmessage","onerror"];e.exports=function e(i,a,s){var l,c,u=this;void 0===s&&(s={});var f=0,p=0,d=!0,y=null,h={};if(!(this instanceof e))throw new TypeError("Failed to construct 'ReconnectingWebSocket': Please use the 'new' operator");var m={constructor:"undefined"!=typeof WebSocket&&t(WebSocket)?WebSocket:null,maxReconnectionDelay:1e4,minReconnectionDelay:1500,reconnectionDelayGrowFactor:1.3,connectionTimeout:4e3,maxRetries:1/0,debug:!1};if(Object.keys(m).filter((function(e){return s.hasOwnProperty(e)})).forEach((function(e){return m[e]=s[e]})),!t(m.constructor))throw new TypeError("Invalid WebSocket constructor. Set `options.constructor`");var b=m.debug?function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return console.log.apply(console,["RWS:"].concat(e))}:function(){},v=function(e,t){return setTimeout((function(){var r=new Error(t);r.code=e,Array.isArray(h.error)&&h.error.forEach((function(e){return(0,e[0])(r)})),l.onerror&&l.onerror(r)}),0)},g=function(){b("handleClose",{shouldRetry:d}),p++,b("retries count:",p),p>m.maxRetries?v("EHOSTDOWN","Too many failed connection attempts"):(f=f?function(e,t){var r=t*e.reconnectionDelayGrowFactor;return r>e.maxReconnectionDelay?e.maxReconnectionDelay:r}(m,f):n(m),b("handleClose - reconnectDelay:",f),d&&setTimeout(O,f))},O=function(){if(d){b("connect");var e=l,t="function"==typeof i?i():i;for(var s in l=new m.constructor(t,a),c=setTimeout((function(){b("timeout"),l.close(),v("ETIMEDOUT","Connection timeout")}),m.connectionTimeout),b("bypass properties"),l)["addEventListener","removeEventListener","close","send"].indexOf(s)<0&&r(l,u,s);l.addEventListener("open",(function(){clearTimeout(c),b("open"),f=n(m),b("reconnectDelay:",f),p=0})),l.addEventListener("close",g),function(e,t,r){Object.keys(r).forEach((function(t){r[t].forEach((function(r){var n=r[0],o=r[1];e.addEventListener(t,n,o)}))})),t&&o.forEach((function(r){e[r]=t[r]}))}(l,e,h),l.onclose=l.onclose||y,y=null}};b("init"),O(),this.close=function(e,t,r){void 0===e&&(e=1e3),void 0===t&&(t="");var n=void 0===r?{}:r,o=n.keepClosed,i=void 0!==o&&o,a=n.fastClose,s=void 0===a||a,c=n.delay,u=void 0===c?0:c;if(b("close - params:",{reason:t,keepClosed:i,fastClose:s,delay:u,retriesCount:p,maxRetries:m.maxRetries}),d=!i&&p<=m.maxRetries,u&&(f=u),l.close(e,t),s){var v={code:e,reason:t,wasClean:!0};g(),l.removeEventListener("close",g),Array.isArray(h.close)&&h.close.forEach((function(e){var t=e[0],r=e[1];t(v),l.removeEventListener("close",t,r)})),l.onclose&&(y=l.onclose,l.onclose(v),l.onclose=null)}},this.send=function(e){l.send(e)},this.addEventListener=function(e,t,r){Array.isArray(h[e])?h[e].some((function(e){return e[0]===t}))||h[e].push([t,r]):h[e]=[[t,r]],l.addEventListener(e,t,r)},this.removeEventListener=function(e,t,r){Array.isArray(h[e])&&(h[e]=h[e].filter((function(e){return e[0]!==t}))),l.removeEventListener(e,t,r)}}},239:(e,t,r)=>{"use strict";var n=r(81091).functionsHaveConfigurableNames(),o=Object,i=TypeError;e.exports=function(){if(null!=this&&this!==o(this))throw new i("RegExp.prototype.flags getter called on non-object");var e="";return this.hasIndices&&(e+="d"),this.global&&(e+="g"),this.ignoreCase&&(e+="i"),this.multiline&&(e+="m"),this.dotAll&&(e+="s"),this.unicode&&(e+="u"),this.sticky&&(e+="y"),e},n&&Object.defineProperty&&Object.defineProperty(e.exports,"name",{value:"get flags"})},30907:(e,t,r)=>{"use strict";var n=r(10635),o=r(64411),i=r(239),a=r(12019),s=r(44238),l=o(a());n(l,{getPolyfill:a,implementation:i,shim:s}),e.exports=l},12019:(e,t,r)=>{"use strict";var n=r(239),o=r(10635).supportsDescriptors,i=Object.getOwnPropertyDescriptor;e.exports=function(){if(o&&"gim"===/a/gim.flags){var e=i(RegExp.prototype,"flags");if(e&&"function"==typeof e.get&&"boolean"==typeof RegExp.prototype.dotAll&&"boolean"==typeof RegExp.prototype.hasIndices){var t="",r={};if(Object.defineProperty(r,"hasIndices",{get:function(){t+="d"}}),Object.defineProperty(r,"sticky",{get:function(){t+="y"}}),"dy"===t)return e.get}}return n}},44238:(e,t,r)=>{"use strict";var n=r(10635).supportsDescriptors,o=r(12019),i=Object.getOwnPropertyDescriptor,a=Object.defineProperty,s=TypeError,l=Object.getPrototypeOf,c=/a/;e.exports=function(){if(!n||!l)throw new s("RegExp.prototype.flags requires a true ES5 environment that supports property descriptors");var e=o(),t=l(c),r=i(t,"flags");return r&&r.get===e||a(t,"flags",{configurable:!0,enumerable:!1,get:e}),e}},645:(e,t,r)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}var o=r(43532),i=r(49493),a=r(96338),s=o("%TypeError%"),l=o("%WeakMap%",!0),c=o("%Map%",!0),u=i("WeakMap.prototype.get",!0),f=i("WeakMap.prototype.set",!0),p=i("WeakMap.prototype.has",!0),d=i("Map.prototype.get",!0),y=i("Map.prototype.set",!0),h=i("Map.prototype.has",!0),m=function(e,t){for(var r,n=e;null!==(r=n.next);n=r)if(r.key===t)return n.next=r.next,r.next=e.next,e.next=r,r};e.exports=function(){var e,t,r,o={assert:function(e){if(!o.has(e))throw new s("Side channel does not contain "+a(e))},get:function(o){if(l&&o&&("object"===n(o)||"function"==typeof o)){if(e)return u(e,o)}else if(c){if(t)return d(t,o)}else if(r)return function(e,t){var r=m(e,t);return r&&r.value}(r,o)},has:function(o){if(l&&o&&("object"===n(o)||"function"==typeof o)){if(e)return p(e,o)}else if(c){if(t)return h(t,o)}else if(r)return function(e,t){return!!m(e,t)}(r,o);return!1},set:function(o,i){l&&o&&("object"===n(o)||"function"==typeof o)?(e||(e=new l),f(e,o,i)):c?(t||(t=new c),y(t,o,i)):(r||(r={key:{},next:null}),function(e,t,r){var n=m(e,t);n?n.value=r:e.next={key:t,next:e.next,value:r}}(r,o,i))}};return o}},65176:(e,t,r)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}var o=r(50434),i=r(33524),a=r(30293),s=r(57764),l=r(39518);e.exports=function(e){return null==e||"object"!==n(e)&&"function"!=typeof e?null:o(e)?"String":i(e)?"Number":a(e)?"Boolean":s(e)?"Symbol":l(e)?"BigInt":void 0}},2607:(e,t,r)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}var o=r(77758),i=r(93167),a=r(49493),s=a("Object.prototype.toString"),l=r(87285)()&&"symbol"===n(Symbol.toStringTag),c=i(),u=a("String.prototype.slice"),f={},p=r(16992),d=Object.getPrototypeOf;l&&p&&d&&o(c,(function(e){if("function"==typeof r.g[e]){var t=new r.g[e];if(!(Symbol.toStringTag in t))throw new EvalError("this engine has support for Symbol.toStringTag, but "+e+" does not have the property! Please report this.");var n=d(t),o=p(n,Symbol.toStringTag);if(!o){var i=d(n);o=p(i,Symbol.toStringTag)}f[e]=o.get}}));var y=r(18215);e.exports=function(e){return!!y(e)&&(l?function(e){var t=!1;return o(f,(function(r,n){if(!t)try{var o=r.call(e);o===n&&(t=o)}catch(e){}})),t}(e):u(s(e),8,-1))}},59003:e=>{"use strict";e.exports=require("classnames")},39105:e=>{"use strict";e.exports=require("color")},4305:e=>{"use strict";e.exports=require("lodash.debounce")},39455:e=>{"use strict";e.exports=require("material-ui")},13173:e=>{"use strict";e.exports=require("material-ui/styles")},580:e=>{"use strict";e.exports=require("prop-types")},10757:e=>{"use strict";e.exports=require("pydio")},56880:e=>{"use strict";e.exports=require("pydio/http/api")},85829:e=>{"use strict";e.exports=require("pydio/http/meta-cache-service")},62610:e=>{"use strict";e.exports=require("pydio/http/resources-manager")},82702:e=>{"use strict";e.exports=require("pydio/http/users-api")},2282:e=>{"use strict";e.exports=require("pydio/model/controller")},14603:e=>{"use strict";e.exports=require("pydio/model/data-model")},7180:e=>{"use strict";e.exports=require("pydio/util/func")},14021:e=>{"use strict";e.exports=require("pydio/util/periodical-executer")},16689:e=>{"use strict";e.exports=require("react")},66405:e=>{"use strict";e.exports=require("react-dom")},70192:e=>{"use strict";e.exports=require("react-draggable")},65863:()=>{},42970:e=>{e.exports=function(e){return e&&e.__esModule?e:{default:e}},e.exports.__esModule=!0,e.exports.default=e.exports},93167:(e,t,r)=>{"use strict";var n=["BigInt64Array","BigUint64Array","Float32Array","Float64Array","Int16Array","Int32Array","Int8Array","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray"];e.exports=function(){for(var e=[],t=0;t<n.length;t++)"function"==typeof r.g[n[t]]&&(e[e.length]=n[t]);return e}},16992:(e,t,r)=>{"use strict";var n=r(43532)("%Object.getOwnPropertyDescriptor%");if(n)try{n([],"length")}catch(e){n=null}e.exports=n},23382:(e,t,r)=>{"use strict";var n=r(80288);if(r(87285)()||r(2112)()){var o=Symbol.iterator;e.exports=function(e){return null!=e&&void 0!==e[o]?e[o]():n(e)?Array.prototype[o].call(e):void 0}}else{var i=r(99776),a=r(50434),s=r(43532),l=s("%Map%",!0),c=s("%Set%",!0),u=r(49493),f=u("Array.prototype.push"),p=u("String.prototype.charCodeAt"),d=u("String.prototype.slice"),y=function(e){var t=0;return{next:function(){var r,n=t>=e.length;return n||(r=e[t],t+=1),{done:n,value:r}}}},h=function(e,t){if(i(e)||n(e))return y(e);if(a(e)){var r=0;return{next:function(){var t=function(e,t){if(t+1>=e.length)return t+1;var r=p(e,t);if(r<55296||r>56319)return t+1;var n=p(e,t+1);return n<56320||n>57343?t+1:t+2}(e,r),n=d(e,r,t);return r=t,{done:t>e.length,value:n}}}}return t&&void 0!==e["_es6-shim iterator_"]?e["_es6-shim iterator_"]():void 0};if(l||c){var m=r(33410),b=r(32454),v=u("Map.prototype.forEach",!0),g=u("Set.prototype.forEach",!0);if("undefined"==typeof process||!process.versions||!process.versions.node)var O=u("Map.prototype.iterator",!0),S=u("Set.prototype.iterator",!0),w=function(e){var t=!1;return{next:function(){try{return{done:t,value:t?void 0:e.next()}}catch(e){return t=!0,{done:!0,value:void 0}}}}};var P=u("Map.prototype.@@iterator",!0)||u("Map.prototype._es6-shim iterator_",!0),j=u("Set.prototype.@@iterator",!0)||u("Set.prototype._es6-shim iterator_",!0);e.exports=function(e){return function(e){if(m(e)){if(O)return w(O(e));if(P)return P(e);if(v){var t=[];return v(e,(function(e,r){f(t,[r,e])})),y(t)}}if(b(e)){if(S)return w(S(e));if(j)return j(e);if(g){var r=[];return g(e,(function(e){f(r,e)})),y(r)}}}(e)||h(e)}}else e.exports=function(e){if(null!=e)return h(e,!0)}}},18724:(e,t,r)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}var o=r(33410),i=r(32454),a=r(30464),s=r(77799);e.exports=function(e){if(e&&"object"===n(e)){if(o(e))return"Map";if(i(e))return"Set";if(a(e))return"WeakMap";if(s(e))return"WeakSet"}return!1}},79777:(e,t,r)=>{"use strict";function n(){return n=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},n.apply(this,arguments)}r.d(t,{Z:()=>n})},86646:(e,t,r)=>{"use strict";function n(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}r.d(t,{Z:()=>n})},51730:(e,t,r)=>{"use strict";function n(){return n=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},n.apply(this,arguments)}r.d(t,{Z:()=>n})},83265:(e,t,r)=>{"use strict";function n(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}r.d(t,{Z:()=>n})},60634:(e,t,r)=>{"use strict";r.d(t,{Ab:()=>a,Fr:()=>s,G$:()=>i,K$:()=>c,MS:()=>n,h5:()=>l,lK:()=>u,uj:()=>o});var n="-ms-",o="-moz-",i="-webkit-",a="comm",s="rule",l="decl",c="@import",u="@keyframes"},36999:(e,t,r)=>{"use strict";r.d(t,{cD:()=>i,qR:()=>o});var n=r(27125);function o(e){var t=(0,n.Ei)(e);return function(r,n,o,i){for(var a="",s=0;s<t;s++)a+=e[s](r,n,o,i)||"";return a}}function i(e){return function(t){t.root||(t=t.return)&&e(t)}}},64873:(e,t,r)=>{"use strict";r.d(t,{MY:()=>a});var n=r(60634),o=r(27125),i=r(35438);function a(e){return(0,i.cE)(s("",null,null,null,[""],e=(0,i.un)(e),0,[0],e))}function s(e,t,r,n,a,f,p,d,y){for(var h=0,m=0,b=p,v=0,g=0,O=0,S=1,w=1,P=1,j=0,E="",x=a,C=f,k=n,R=E;w;)switch(O=j,j=(0,i.lp)()){case 40:if(108!=O&&58==(0,o.uO)(R,b-1)){-1!=(0,o.Cw)(R+=(0,o.gx)((0,i.iF)(j),"&","&\f"),"&\f")&&(P=-1);break}case 34:case 39:case 91:R+=(0,i.iF)(j);break;case 9:case 10:case 13:case 32:R+=(0,i.Qb)(O);break;case 92:R+=(0,i.kq)((0,i.Ud)()-1,7);continue;case 47:switch((0,i.fj)()){case 42:case 47:(0,o.R3)(c((0,i.q6)((0,i.lp)(),(0,i.Ud)()),t,r),y);break;default:R+="/"}break;case 123*S:d[h++]=(0,o.to)(R)*P;case 125*S:case 59:case 0:switch(j){case 0:case 125:w=0;case 59+m:g>0&&(0,o.to)(R)-b&&(0,o.R3)(g>32?u(R+";",n,r,b-1):u((0,o.gx)(R," ","")+";",n,r,b-2),y);break;case 59:R+=";";default:if((0,o.R3)(k=l(R,t,r,h,m,a,d,E,x=[],C=[],b),f),123===j)if(0===m)s(R,t,k,k,x,f,b,d,C);else switch(99===v&&110===(0,o.uO)(R,3)?100:v){case 100:case 109:case 115:s(e,k,k,n&&(0,o.R3)(l(e,k,k,0,0,a,d,E,a,x=[],b),C),a,C,b,d,n?x:C);break;default:s(R,k,k,k,[""],C,0,d,C)}}h=m=g=0,S=P=1,E=R="",b=p;break;case 58:b=1+(0,o.to)(R),g=O;default:if(S<1)if(123==j)--S;else if(125==j&&0==S++&&125==(0,i.mp)())continue;switch(R+=(0,o.Dp)(j),j*S){case 38:P=m>0?1:(R+="\f",-1);break;case 44:d[h++]=((0,o.to)(R)-1)*P,P=1;break;case 64:45===(0,i.fj)()&&(R+=(0,i.iF)((0,i.lp)())),v=(0,i.fj)(),m=b=(0,o.to)(E=R+=(0,i.QU)((0,i.Ud)())),j++;break;case 45:45===O&&2==(0,o.to)(R)&&(S=0)}}return f}function l(e,t,r,a,s,l,c,u,f,p,d){for(var y=s-1,h=0===s?l:[""],m=(0,o.Ei)(h),b=0,v=0,g=0;b<a;++b)for(var O=0,S=(0,o.tb)(e,y+1,y=(0,o.Wn)(v=c[b])),w=e;O<m;++O)(w=(0,o.fy)(v>0?h[O]+" "+S:(0,o.gx)(S,/&\f/g,h[O])))&&(f[g++]=w);return(0,i.dH)(e,t,r,0===s?n.Fr:u,f,p,d)}function c(e,t,r){return(0,i.dH)(e,t,r,n.Ab,(0,o.Dp)((0,i.Tb)()),(0,o.tb)(e,2,-2),0)}function u(e,t,r,a){return(0,i.dH)(e,t,r,n.h5,(0,o.tb)(e,0,a),(0,o.tb)(e,a+1,-1),a)}},22807:(e,t,r)=>{"use strict";r.d(t,{P:()=>a,q:()=>i});var n=r(60634),o=r(27125);function i(e,t){for(var r="",n=(0,o.Ei)(e),i=0;i<n;i++)r+=t(e[i],i,e,t)||"";return r}function a(e,t,r,a){switch(e.type){case n.K$:case n.h5:return e.return=e.return||e.value;case n.Ab:return"";case n.lK:return e.return=e.value+"{"+i(e.children,a)+"}";case n.Fr:e.value=e.props.join(",")}return(0,o.to)(r=i(e.children,a))?e.return=e.value+"{"+r+"}":""}},35438:(e,t,r)=>{"use strict";r.d(t,{FK:()=>s,JG:()=>f,QU:()=>x,Qb:()=>w,Tb:()=>p,Ud:()=>m,cE:()=>O,dH:()=>u,fj:()=>h,iF:()=>S,kq:()=>P,lp:()=>y,mp:()=>d,q6:()=>E,r:()=>v,tP:()=>b,un:()=>g});var n=r(27125),o=1,i=1,a=0,s=0,l=0,c="";function u(e,t,r,n,a,s,l){return{value:e,root:t,parent:r,type:n,props:a,children:s,line:o,column:i,length:l,return:""}}function f(e,t){return(0,n.f0)(u("",null,null,"",null,null,0),e,{length:-e.length},t)}function p(){return l}function d(){return l=s>0?(0,n.uO)(c,--s):0,i--,10===l&&(i=1,o--),l}function y(){return l=s<a?(0,n.uO)(c,s++):0,i++,10===l&&(i=1,o++),l}function h(){return(0,n.uO)(c,s)}function m(){return s}function b(e,t){return(0,n.tb)(c,e,t)}function v(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function g(e){return o=i=1,a=(0,n.to)(c=e),s=0,[]}function O(e){return c="",e}function S(e){return(0,n.fy)(b(s-1,j(91===e?e+2:40===e?e+1:e)))}function w(e){for(;(l=h())&&l<33;)y();return v(e)>2||v(l)>3?"":" "}function P(e,t){for(;--t&&y()&&!(l<48||l>102||l>57&&l<65||l>70&&l<97););return b(e,m()+(t<6&&32==h()&&32==y()))}function j(e){for(;y();)switch(l){case e:return s;case 34:case 39:34!==e&&39!==e&&j(l);break;case 40:41===e&&j(e);break;case 92:y()}return s}function E(e,t){for(;y()&&e+l!==57&&(e+l!==84||47!==h()););return"/*"+b(t,s-1)+"*"+(0,n.Dp)(47===e?e:y())}function x(e){for(;!v(h());)y();return b(e,s)}},27125:(e,t,r)=>{"use strict";r.d(t,{$e:()=>m,Cw:()=>u,Dp:()=>o,EQ:()=>l,Ei:()=>y,R3:()=>h,Wn:()=>n,f0:()=>i,fy:()=>s,gx:()=>c,tb:()=>p,to:()=>d,uO:()=>f,vp:()=>a});var n=Math.abs,o=String.fromCharCode,i=Object.assign;function a(e,t){return 45^f(e,0)?(((t<<2^f(e,0))<<2^f(e,1))<<2^f(e,2))<<2^f(e,3):0}function s(e){return e.trim()}function l(e,t){return(e=t.exec(e))?e[0]:e}function c(e,t,r){return e.replace(t,r)}function u(e,t){return e.indexOf(t)}function f(e,t){return 0|e.charCodeAt(t)}function p(e,t,r){return e.slice(t,r)}function d(e){return e.length}function y(e){return e.length}function h(e,t){return t.push(e),e}function m(e,t){return e.map(t).join("")}}},i={};function a(e){var t=i[e];if(void 0!==t)return t.exports;var r=i[e]={id:e,loaded:!1,exports:{}};return o[e].call(r.exports,r,r.exports,a),r.loaded=!0,r.exports}a.m=o,a.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return a.d(t,{a:t}),t},t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__,a.t=function(r,n){if(1&n&&(r=this(r)),8&n)return r;if("object"==typeof r&&r){if(4&n&&r.__esModule)return r;if(16&n&&"function"==typeof r.then)return r}var o=Object.create(null);a.r(o);var i={};e=e||[null,t({}),t([]),t(t)];for(var s=2&n&&r;"object"==typeof s&&!~e.indexOf(s);s=t(s))Object.getOwnPropertyNames(s).forEach((e=>i[e]=()=>r[e]));return i.default=()=>r,a.d(o,i),o},a.d=(e,t)=>{for(var r in t)a.o(t,r)&&!a.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},a.f={},a.e=e=>Promise.all(Object.keys(a.f).reduce(((t,r)=>(a.f[r](e,t),t)),[])),a.u=e=>"rgl.min.js",a.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r={},n="gui.ajax:",a.l=(e,t,o,i)=>{if(r[e])r[e].push(t);else{var s,l;if(void 0!==o)for(var c=document.getElementsByTagName("script"),u=0;u<c.length;u++){var f=c[u];if(f.getAttribute("src")==e||f.getAttribute("data-webpack")==n+o){s=f;break}}s||(l=!0,(s=document.createElement("script")).charset="utf-8",s.timeout=120,a.nc&&s.setAttribute("nonce",a.nc),s.setAttribute("data-webpack",n+o),s.src=e),r[e]=[t];var p=(t,n)=>{s.onerror=s.onload=null,clearTimeout(d);var o=r[e];if(delete r[e],s.parentNode&&s.parentNode.removeChild(s),o&&o.forEach((e=>e(n))),t)return t(n)},d=setTimeout(p.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=p.bind(null,s.onerror),s.onload=p.bind(null,s.onload),l&&document.head.appendChild(s)}},a.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),a.p="plug/gui.ajax/res/dist/libs/",(()=>{var e={543:0};a.f.j=(t,r)=>{var n=a.o(e,t)?e[t]:void 0;if(0!==n)if(n)r.push(n[2]);else{var o=new Promise(((r,o)=>n=e[t]=[r,o]));r.push(n[2]=o);var i=a.p+a.u(t),s=new Error;a.l(i,(r=>{if(a.o(e,t)&&(0!==(n=e[t])&&(e[t]=void 0),n)){var o=r&&("load"===r.type?"missing":r.type),i=r&&r.target&&r.target.src;s.message="Loading chunk "+t+" failed.\n("+o+": "+i+")",s.name="ChunkLoadError",s.type=o,s.request=i,n[1](s)}}),"chunk-"+t,t)}};var t=(t,r)=>{var n,o,[i,s,l]=r,c=0;if(i.some((t=>0!==e[t]))){for(n in s)a.o(s,n)&&(a.m[n]=s[n]);l&&l(a)}for(t&&t(r);c<i.length;c++)o=i[c],a.o(e,o)&&e[o]&&e[o][0](),e[o]=0},r=self.webpackChunkgui_ajax=self.webpackChunkgui_ajax||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})();var s={};(()=>{"use strict";a.r(s),a.d(s,{default:()=>Kg});var e=a(16689),t=a.n(e),r=a(66405),n=a.n(r),o=a(14603),i=a.n(o);function l(e){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l(e)}function c(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(void 0,o=function(e,t){if("object"!==l(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==l(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(n.key),"symbol"===l(o)?o:String(o)),n)}var o}var u=a(7180),f=a(62610),p={NODE_PROVIDER:"node",SORTABLE_LIST_ITEM:"sortable-list-item"};function d(e,t){return{connectDragSource:e.dragSource(),isDragging:t.isDragging()}}function y(e,t){return{connectDropTarget:e.dropTarget(),canDrop:t.canDrop(),isOver:t.isOver(),isOverCurrent:t.isOver({shallow:!0})}}var h=function(){function e(t,r,n,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._source=t,this._target=r,this._step=n,this._dropEffect=o}var t,r;return t=e,(r=[{key:"getSource",value:function(){return this._source}},{key:"getTarget",value:function(){return this._target}},{key:"getStep",value:function(){return this._step}},{key:"getDropEffect",value:function(){return this._dropEffect}}])&&c(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();h.STEP_BEGIN_DRAG="beginDrag",h.STEP_END_DRAG="endDrag",h.STEP_CAN_DROP="canDrop",h.STEP_HOVER_DROP="hover";var m=function(e,t,r,n){var o=window.pydio.Controller,a=o.defaultActions.get("dragndrop");if(!a)throw new Error("No DND Actions available");var s=o.getActionByName(a);if(s.deny){var l=new(i());if(l.setSelectedNodes([e]),s.fireSelectionChange(l),s.deny)throw new Error("DND action disabled")}var c=new h(e,t,r,n),p=s.options.dragndropCheckModule;if(r===h.STEP_CAN_DROP&&p){if(!u.getFunctionByName(p,window))throw f.detectModuleToLoadAndApply(p,(function(){})),new Error("Cannot find test module, trying to load it");u.executeFunctionByName(s.options.dragndropCheckModule,window,o,c)}else s.apply(c)},b={beginDrag:function(e){return{node:e.node}},endDrag:function(e,t,r){if(t.didDrop()){var n=t.getItem(),o=t.getDropResult();try{m(n.node,o.node,h.STEP_END_DRAG,o.dropEffect)}catch(e){}}}},v={hover:function(e,t){},canDrop:function(e,t){var r=t.getItem().node,n=e.node;try{m(r,n,h.STEP_CAN_DROP)}catch(e){return!1}return!0},drop:function(e,t){if(!t.didDrop())return{node:e.node}}},g=a(39455);const O=require("react-dnd");var S=a.n(O);function w(e){return w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},w(e)}function P(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function j(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?P(Object(r),!0).forEach((function(t){E(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):P(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function E(e,t,r){return(t=R(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function x(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function C(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,R(n.key),n)}}function k(e,t,r){return t&&C(e.prototype,t),r&&C(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function R(e){var t=function(e,t){if("object"!==w(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==w(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===w(t)?t:String(t)}function _(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&T(e,t)}function T(e,t){return T=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},T(e,t)}function I(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=M(e);if(t){var o=M(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(e,t){if(t&&("object"===w(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,r)}}function M(e){return M=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},M(e)}var A=function(e){_(o,e);var r=I(o);function o(){return x(this,o),r.apply(this,arguments)}return k(o,[{key:"removeClicked",value:function(){this.props.onRemove(this.props.id)}},{key:"render",value:function(){var e,r=this,o=this.props,i=o.isDragging,a=o.connectDragSource,s=o.connectDropTarget,l=o.renderItem,c=o.style,u=o.item,f=o.removable,p=o.className,d=o.label;return f&&(e=t().createElement("span",{className:"button mdi mdi-close",onClick:function(e){return r.removeClicked(e)}})),l?t().createElement("div",{ref:function(e){s(n().findDOMNode(e)),a(n().findDOMNode(e))},style:j(j({},c),{},{opacity:i?0:1})},l(u)):t().createElement(g.Paper,{ref:function(e){s(n().findDOMNode(e)),a(n().findDOMNode(e))},zDepth:1,style:{opacity:i?0:1,margin:"8px 0"}},t().createElement("div",{className:p},d,e))}}]),o}(t().Component),D=function(e){_(n,e);var r=I(n);function n(){return x(this,n),r.apply(this,arguments)}return k(n,[{key:"removeClicked",value:function(){this.props.onRemove(this.props.id)}},{key:"render",value:function(){var e,r=this;return this.props.removable&&(e=t().createElement("span",{className:"button mdi mdi-close",onClick:function(e){return r.removeClicked(e)}})),t().createElement(g.Paper,{zDepth:1,style:{margin:"8px 0"}},t().createElement("div",{className:this.props.className},this.props.label,e))}}]),n}(t().Component);S()&&(D=S().flow(S().DragSource(p.SORTABLE_LIST_ITEM,{beginDrag:function(e){return{id:e.id}},endDrag:function(e){e.endSwitching()}},d),S().DropTarget(p.SORTABLE_LIST_ITEM,{hover:function(e,t){var r=t.getItem().id;r!==e.id&&e.switchItems(r,e.id)}},y))(A));var L=function(e){_(n,e);var r=I(n);function n(e){var t;return x(this,n),(t=r.call(this,e)).state={values:t.props.values},t}return k(n,[{key:"componentWillReceiveProps",value:function(e){this.setState({values:e.values,switchData:null})}},{key:"findItemIndex",value:function(e,t){for(var r=0;r<t.length;r++)if(t[r].payload===e)return r}},{key:"switchItems",value:function(e,t){var r=this.findItemIndex(e,this.state.values),n=this.state.values[r],o=this.findItemIndex(t,this.state.values),i=this.state.values[o],a=this.state.values.slice();a[r]=i,a[o]=n;var s=this.findItemIndex(e,this.props.values),l=this.findItemIndex(t,this.props.values);s===o&&l===r?this.setState({values:a,switchData:null}):this.setState({values:a,switchData:{oldId:e,newId:t}})}},{key:"endSwitching",value:function(){this.state.switchData&&this.props.onOrderUpdated&&this.props.onOrderUpdated(this.state.switchData.oldId,this.state.switchData.newId,this.state.values),this.setState({switchData:null})}},{key:"render",value:function(){return t().createElement("div",{className:this.props.className},this.state.values.map(function(e){return t().createElement(D,{id:e.payload,key:e.payload,label:e.text,switchItems:this.switchItems.bind(this),endSwitching:this.endSwitching.bind(this),removable:this.props.removable,onRemove:this.props.onRemove,className:this.props.itemClassName,item:e,style:this.props.itemStyle,renderItem:this.props.renderItem})}.bind(this)))}}]),n}(t().Component);const N=require("create-react-class");var z=a.n(N),B=a(580),U=a.n(B),F=a(10757),Z=a.n(F);const W=require("react-infinite");var H=a.n(W),q=a(90691),G=a.n(q);const V=require("pydio/util/lang");var $=a.n(V),K=a(13173),Y=a(39105),X=a.n(Y);function J(e){return J="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},J(e)}var Q=["muiTheme","node","iconCell","firstLine","secondLine"];function ee(){return ee=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ee.apply(this,arguments)}function te(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function re(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?te(Object(r),!0).forEach((function(t){ne(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):te(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function ne(e,t,r){return(t=ae(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function oe(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ie(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,ae(n.key),n)}}function ae(e){var t=function(e,t){if("object"!==J(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==J(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===J(t)?t:String(t)}function se(e,t){return se=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},se(e,t)}function le(e){return le=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},le(e)}var ce=Z().requireLib("hoc").withContextMenu,ue=function(r){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&se(e,t)}(c,r);var o,i,a,s,l=(a=c,s=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=le(a);if(s){var r=le(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===J(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function c(t){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(r=l.call(this,t)).inlineEditorRef=(0,e.createRef)(),r}return o=c,(i=[{key:"componentDidMount",value:function(){var e=this.props.setInlineEditionAnchor;e&&this.inlineEditorRef.current&&e(this.inlineEditorRef.current)}},{key:"onClick",value:function(e){if(this.props.showSelector){if(this.props.selectorDisabled)return;this.props.onSelect(this.props.node,e),e.stopPropagation(),e.preventDefault()}else this.props.onClick&&this.props.onClick(this.props.node,e)}},{key:"onDoubleClick",value:function(e){this.props.onDoubleClick&&this.props.onDoubleClick(this.props.node,e)}},{key:"render",value:function(){var e,r,o,i=this,a=this.props,s=a.node,l=a.showSelector,c=a.selected,u=a.selectorDisabled,f=a.firstLine,p=a.secondLine,d=a.thirdLine,y=a.style,h=a.actions,m=a.iconCell,b=a.mainIcon,v=a.className,O=a.muiTheme,S=a.canDrop,w=a.isOver,P=a.nativeIsOver,j=a.connectDragSource,E=a.connectDropTarget,x=a.selectedAsBorder,C=["material-list-entry","material-list-entry-"+(d?3:p?2:1)+"-lines"];v&&C.push(v),l&&(e=t().createElement("div",{className:"material-list-selector"},t().createElement(g.Checkbox,{checked:c,ref:"selector",disabled:u}))),m?r=this.props.iconCell:this.props.mainIcon&&(r=t().createElement(g.FontIcon,{className:"mui-font-icon "+this.props.mainIcon,style:{fontSize:18,color:"#FFF",display:"inline-block",margin:16,backgroundColor:"rgb(189, 189, 189)",padding:"7px 3px",width:33,height:33,textAlign:"center"}})),(S&&w||P)&&C.push("droppable-active"),s&&(C.push("listentry_"+$().computeStringSlug(s.getPath())),C.push("ajxp_node_"+(s.isLeaf()?"leaf":"collection")),s.getAjxpMime()&&C.push("ajxp_mime_"+s.getAjxpMime()),s.getMetadata().has("local:entry-classes")&&C.push.apply(C,function(e){if(Array.isArray(e))return oe(e)}(o=s.getMetadata().get("local:entry-classes"))||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(o)||function(e,t){if(e){if("string"==typeof e)return oe(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?oe(e,t):void 0}}(o)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()));var k={};if(this.state&&this.state.hover&&!this.props.noHover&&(k=re(re({},k),{},{backgroundColor:O.darkMode?"rgba(255,255,255,0.05)":"rgba(0,0,0,0.05)",borderBottom:"1px solid transparent"})),c){var R=O.palette.accent2Color,_=X()(R).dark();k=re(re({},k),{},x?{boxShadow:"0 0 0 2px "+R+",rgba(0, 0, 0, .4) 0px 0px 10px"}:{backgroundColor:R,color:_?"white":"rgba(0,0,0,.87)"}),C.push("selected"),C.push("selected-"+(_?"dark":"light"))}return t().createElement(fe,ee({},this.props,{ref:function(e){var t=n().findDOMNode(e);"function"==typeof E&&E(t),"function"==typeof j&&j(t)},onClick:this.onClick.bind(this),onDoubleClick:l?null:this.onDoubleClick.bind(this),className:C.join(" "),onMouseOver:function(){i.setState({hover:!0})},onMouseOut:function(){i.setState({hover:!1})},style:re(re({},y),k)}),e,t().createElement("div",{className:"material-list-icon"+(b||m?"":" material-list-icon-none")},r),t().createElement("div",{className:"material-list-text"},t().createElement("div",{key:"line-1",className:"material-list-line-1",ref:this.inlineEditorRef},f),t().createElement("div",{key:"line-2",className:"material-list-line-2"},p),t().createElement("div",{key:"line-3",className:"material-list-line-3"},d)),t().createElement("div",{className:"material-list-actions"},h))}}])&&ie(o.prototype,i),Object.defineProperty(o,"prototype",{writable:!1}),c}(t().Component),fe=function(e){e.muiTheme,e.node,e.iconCell,e.firstLine,e.secondLine;var r=function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(e,Q);return t().createElement("div",r)};fe=ce(fe),ue.propTypes={showSelector:U().bool,selected:U().bool,selectorDisabled:U().bool,onSelect:U().func,onClick:U().func,iconCell:U().element,mainIcon:U().string,firstLine:U().node,secondLine:U().node,thirdLine:U().node,actions:U().element,activeDroppable:U().bool,className:U().string,style:U().object,noHover:U().bool},ue=(0,K.muiThemeable)()(ue);var pe=(0,O.flow)((0,O.DragSource)(p.NODE_PROVIDER,b,d),(0,O.DropTarget)(p.NODE_PROVIDER,v,y))(ue);const de=require("pydio/util/path");var ye=a.n(de),he=a(79777),me=a(86646),be=a(51730),ve=a(83265),ge=a(66357),Oe=a(52695),Se=a(91136);function we(e){if(null==e)return window;if("[object Window]"!==e.toString()){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function Pe(e){return e instanceof we(e).Element||e instanceof Element}function je(e){return e instanceof we(e).HTMLElement||e instanceof HTMLElement}function Ee(e){return"undefined"!=typeof ShadowRoot&&(e instanceof we(e).ShadowRoot||e instanceof ShadowRoot)}var xe=Math.max,Ce=Math.min,ke=Math.round;function Re(){var e=navigator.userAgentData;return null!=e&&e.brands?e.brands.map((function(e){return e.brand+"/"+e.version})).join(" "):navigator.userAgent}function _e(){return!/^((?!chrome|android).)*safari/i.test(Re())}function Te(e,t,r){void 0===t&&(t=!1),void 0===r&&(r=!1);var n=e.getBoundingClientRect(),o=1,i=1;t&&je(e)&&(o=e.offsetWidth>0&&ke(n.width)/e.offsetWidth||1,i=e.offsetHeight>0&&ke(n.height)/e.offsetHeight||1);var a=(Pe(e)?we(e):window).visualViewport,s=!_e()&&r,l=(n.left+(s&&a?a.offsetLeft:0))/o,c=(n.top+(s&&a?a.offsetTop:0))/i,u=n.width/o,f=n.height/i;return{width:u,height:f,top:c,right:l+u,bottom:c+f,left:l,x:l,y:c}}function Ie(e){var t=we(e);return{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function Me(e){return e?(e.nodeName||"").toLowerCase():null}function Ae(e){return((Pe(e)?e.ownerDocument:e.document)||window.document).documentElement}function De(e){return Te(Ae(e)).left+Ie(e).scrollLeft}function Le(e){return we(e).getComputedStyle(e)}function Ne(e){var t=Le(e),r=t.overflow,n=t.overflowX,o=t.overflowY;return/auto|scroll|overlay|hidden/.test(r+o+n)}function ze(e,t,r){void 0===r&&(r=!1);var n,o,i=je(t),a=je(t)&&function(e){var t=e.getBoundingClientRect(),r=ke(t.width)/e.offsetWidth||1,n=ke(t.height)/e.offsetHeight||1;return 1!==r||1!==n}(t),s=Ae(t),l=Te(e,a,r),c={scrollLeft:0,scrollTop:0},u={x:0,y:0};return(i||!i&&!r)&&(("body"!==Me(t)||Ne(s))&&(c=(n=t)!==we(n)&&je(n)?{scrollLeft:(o=n).scrollLeft,scrollTop:o.scrollTop}:Ie(n)),je(t)?((u=Te(t,!0)).x+=t.clientLeft,u.y+=t.clientTop):s&&(u.x=De(s))),{x:l.left+c.scrollLeft-u.x,y:l.top+c.scrollTop-u.y,width:l.width,height:l.height}}function Be(e){var t=Te(e),r=e.offsetWidth,n=e.offsetHeight;return Math.abs(t.width-r)<=1&&(r=t.width),Math.abs(t.height-n)<=1&&(n=t.height),{x:e.offsetLeft,y:e.offsetTop,width:r,height:n}}function Ue(e){return"html"===Me(e)?e:e.assignedSlot||e.parentNode||(Ee(e)?e.host:null)||Ae(e)}function Fe(e){return["html","body","#document"].indexOf(Me(e))>=0?e.ownerDocument.body:je(e)&&Ne(e)?e:Fe(Ue(e))}function Ze(e,t){var r;void 0===t&&(t=[]);var n=Fe(e),o=n===(null==(r=e.ownerDocument)?void 0:r.body),i=we(n),a=o?[i].concat(i.visualViewport||[],Ne(n)?n:[]):n,s=t.concat(a);return o?s:s.concat(Ze(Ue(a)))}function We(e){return["table","td","th"].indexOf(Me(e))>=0}function He(e){return je(e)&&"fixed"!==Le(e).position?e.offsetParent:null}function qe(e){for(var t=we(e),r=He(e);r&&We(r)&&"static"===Le(r).position;)r=He(r);return r&&("html"===Me(r)||"body"===Me(r)&&"static"===Le(r).position)?t:r||function(e){var t=/firefox/i.test(Re());if(/Trident/i.test(Re())&&je(e)&&"fixed"===Le(e).position)return null;var r=Ue(e);for(Ee(r)&&(r=r.host);je(r)&&["html","body"].indexOf(Me(r))<0;){var n=Le(r);if("none"!==n.transform||"none"!==n.perspective||"paint"===n.contain||-1!==["transform","perspective"].indexOf(n.willChange)||t&&"filter"===n.willChange||t&&n.filter&&"none"!==n.filter)return r;r=r.parentNode}return null}(e)||t}var Ge="top",Ve="bottom",$e="right",Ke="left",Ye="auto",Xe=[Ge,Ve,$e,Ke],Je="start",Qe="end",et="clippingParents",tt="viewport",rt="popper",nt="reference",ot=Xe.reduce((function(e,t){return e.concat([t+"-"+Je,t+"-"+Qe])}),[]),it=[].concat(Xe,[Ye]).reduce((function(e,t){return e.concat([t,t+"-"+Je,t+"-"+Qe])}),[]),at=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];function st(e){var t=new Map,r=new Set,n=[];function o(e){r.add(e.name),[].concat(e.requires||[],e.requiresIfExists||[]).forEach((function(e){if(!r.has(e)){var n=t.get(e);n&&o(n)}})),n.push(e)}return e.forEach((function(e){t.set(e.name,e)})),e.forEach((function(e){r.has(e.name)||o(e)})),n}var lt={placement:"bottom",modifiers:[],strategy:"absolute"};function ct(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return!t.some((function(e){return!(e&&"function"==typeof e.getBoundingClientRect)}))}function ut(e){void 0===e&&(e={});var t=e,r=t.defaultModifiers,n=void 0===r?[]:r,o=t.defaultOptions,i=void 0===o?lt:o;return function(e,t,r){void 0===r&&(r=i);var o,a,s={placement:"bottom",orderedModifiers:[],options:Object.assign({},lt,i),modifiersData:{},elements:{reference:e,popper:t},attributes:{},styles:{}},l=[],c=!1,u={state:s,setOptions:function(r){var o="function"==typeof r?r(s.options):r;f(),s.options=Object.assign({},i,s.options,o),s.scrollParents={reference:Pe(e)?Ze(e):e.contextElement?Ze(e.contextElement):[],popper:Ze(t)};var a,c,p=function(e){var t=st(e);return at.reduce((function(e,r){return e.concat(t.filter((function(e){return e.phase===r})))}),[])}((a=[].concat(n,s.options.modifiers),c=a.reduce((function(e,t){var r=e[t.name];return e[t.name]=r?Object.assign({},r,t,{options:Object.assign({},r.options,t.options),data:Object.assign({},r.data,t.data)}):t,e}),{}),Object.keys(c).map((function(e){return c[e]}))));return s.orderedModifiers=p.filter((function(e){return e.enabled})),s.orderedModifiers.forEach((function(e){var t=e.name,r=e.options,n=void 0===r?{}:r,o=e.effect;if("function"==typeof o){var i=o({state:s,name:t,instance:u,options:n});l.push(i||function(){})}})),u.update()},forceUpdate:function(){if(!c){var e=s.elements,t=e.reference,r=e.popper;if(ct(t,r)){s.rects={reference:ze(t,qe(r),"fixed"===s.options.strategy),popper:Be(r)},s.reset=!1,s.placement=s.options.placement,s.orderedModifiers.forEach((function(e){return s.modifiersData[e.name]=Object.assign({},e.data)}));for(var n=0;n<s.orderedModifiers.length;n++)if(!0!==s.reset){var o=s.orderedModifiers[n],i=o.fn,a=o.options,l=void 0===a?{}:a,f=o.name;"function"==typeof i&&(s=i({state:s,options:l,name:f,instance:u})||s)}else s.reset=!1,n=-1}}},update:(o=function(){return new Promise((function(e){u.forceUpdate(),e(s)}))},function(){return a||(a=new Promise((function(e){Promise.resolve().then((function(){a=void 0,e(o())}))}))),a}),destroy:function(){f(),c=!0}};if(!ct(e,t))return u;function f(){l.forEach((function(e){return e()})),l=[]}return u.setOptions(r).then((function(e){!c&&r.onFirstUpdate&&r.onFirstUpdate(e)})),u}}var ft={passive:!0};function pt(e){return e.split("-")[0]}function dt(e){return e.split("-")[1]}function yt(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function ht(e){var t,r=e.reference,n=e.element,o=e.placement,i=o?pt(o):null,a=o?dt(o):null,s=r.x+r.width/2-n.width/2,l=r.y+r.height/2-n.height/2;switch(i){case Ge:t={x:s,y:r.y-n.height};break;case Ve:t={x:s,y:r.y+r.height};break;case $e:t={x:r.x+r.width,y:l};break;case Ke:t={x:r.x-n.width,y:l};break;default:t={x:r.x,y:r.y}}var c=i?yt(i):null;if(null!=c){var u="y"===c?"height":"width";switch(a){case Je:t[c]=t[c]-(r[u]/2-n[u]/2);break;case Qe:t[c]=t[c]+(r[u]/2-n[u]/2)}}return t}var mt={top:"auto",right:"auto",bottom:"auto",left:"auto"};function bt(e){var t,r=e.popper,n=e.popperRect,o=e.placement,i=e.variation,a=e.offsets,s=e.position,l=e.gpuAcceleration,c=e.adaptive,u=e.roundOffsets,f=e.isFixed,p=a.x,d=void 0===p?0:p,y=a.y,h=void 0===y?0:y,m="function"==typeof u?u({x:d,y:h}):{x:d,y:h};d=m.x,h=m.y;var b=a.hasOwnProperty("x"),v=a.hasOwnProperty("y"),g=Ke,O=Ge,S=window;if(c){var w=qe(r),P="clientHeight",j="clientWidth";w===we(r)&&"static"!==Le(w=Ae(r)).position&&"absolute"===s&&(P="scrollHeight",j="scrollWidth"),(o===Ge||(o===Ke||o===$e)&&i===Qe)&&(O=Ve,h-=(f&&w===S&&S.visualViewport?S.visualViewport.height:w[P])-n.height,h*=l?1:-1),o!==Ke&&(o!==Ge&&o!==Ve||i!==Qe)||(g=$e,d-=(f&&w===S&&S.visualViewport?S.visualViewport.width:w[j])-n.width,d*=l?1:-1)}var E,x=Object.assign({position:s},c&&mt),C=!0===u?function(e){var t=e.x,r=e.y,n=window.devicePixelRatio||1;return{x:ke(t*n)/n||0,y:ke(r*n)/n||0}}({x:d,y:h}):{x:d,y:h};return d=C.x,h=C.y,l?Object.assign({},x,((E={})[O]=v?"0":"",E[g]=b?"0":"",E.transform=(S.devicePixelRatio||1)<=1?"translate("+d+"px, "+h+"px)":"translate3d("+d+"px, "+h+"px, 0)",E)):Object.assign({},x,((t={})[O]=v?h+"px":"",t[g]=b?d+"px":"",t.transform="",t))}const vt={name:"applyStyles",enabled:!0,phase:"write",fn:function(e){var t=e.state;Object.keys(t.elements).forEach((function(e){var r=t.styles[e]||{},n=t.attributes[e]||{},o=t.elements[e];je(o)&&Me(o)&&(Object.assign(o.style,r),Object.keys(n).forEach((function(e){var t=n[e];!1===t?o.removeAttribute(e):o.setAttribute(e,!0===t?"":t)})))}))},effect:function(e){var t=e.state,r={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,r.popper),t.styles=r,t.elements.arrow&&Object.assign(t.elements.arrow.style,r.arrow),function(){Object.keys(t.elements).forEach((function(e){var n=t.elements[e],o=t.attributes[e]||{},i=Object.keys(t.styles.hasOwnProperty(e)?t.styles[e]:r[e]).reduce((function(e,t){return e[t]="",e}),{});je(n)&&Me(n)&&(Object.assign(n.style,i),Object.keys(o).forEach((function(e){n.removeAttribute(e)})))}))}},requires:["computeStyles"]};var gt={left:"right",right:"left",bottom:"top",top:"bottom"};function Ot(e){return e.replace(/left|right|bottom|top/g,(function(e){return gt[e]}))}var St={start:"end",end:"start"};function wt(e){return e.replace(/start|end/g,(function(e){return St[e]}))}function Pt(e,t){var r=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(r&&Ee(r)){var n=t;do{if(n&&e.isSameNode(n))return!0;n=n.parentNode||n.host}while(n)}return!1}function jt(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function Et(e,t,r){return t===tt?jt(function(e,t){var r=we(e),n=Ae(e),o=r.visualViewport,i=n.clientWidth,a=n.clientHeight,s=0,l=0;if(o){i=o.width,a=o.height;var c=_e();(c||!c&&"fixed"===t)&&(s=o.offsetLeft,l=o.offsetTop)}return{width:i,height:a,x:s+De(e),y:l}}(e,r)):Pe(t)?function(e,t){var r=Te(e,!1,"fixed"===t);return r.top=r.top+e.clientTop,r.left=r.left+e.clientLeft,r.bottom=r.top+e.clientHeight,r.right=r.left+e.clientWidth,r.width=e.clientWidth,r.height=e.clientHeight,r.x=r.left,r.y=r.top,r}(t,r):jt(function(e){var t,r=Ae(e),n=Ie(e),o=null==(t=e.ownerDocument)?void 0:t.body,i=xe(r.scrollWidth,r.clientWidth,o?o.scrollWidth:0,o?o.clientWidth:0),a=xe(r.scrollHeight,r.clientHeight,o?o.scrollHeight:0,o?o.clientHeight:0),s=-n.scrollLeft+De(e),l=-n.scrollTop;return"rtl"===Le(o||r).direction&&(s+=xe(r.clientWidth,o?o.clientWidth:0)-i),{width:i,height:a,x:s,y:l}}(Ae(e)))}function xt(e){return Object.assign({},{top:0,right:0,bottom:0,left:0},e)}function Ct(e,t){return t.reduce((function(t,r){return t[r]=e,t}),{})}function kt(e,t){void 0===t&&(t={});var r=t,n=r.placement,o=void 0===n?e.placement:n,i=r.strategy,a=void 0===i?e.strategy:i,s=r.boundary,l=void 0===s?et:s,c=r.rootBoundary,u=void 0===c?tt:c,f=r.elementContext,p=void 0===f?rt:f,d=r.altBoundary,y=void 0!==d&&d,h=r.padding,m=void 0===h?0:h,b=xt("number"!=typeof m?m:Ct(m,Xe)),v=p===rt?nt:rt,g=e.rects.popper,O=e.elements[y?v:p],S=function(e,t,r,n){var o="clippingParents"===t?function(e){var t=Ze(Ue(e)),r=["absolute","fixed"].indexOf(Le(e).position)>=0&&je(e)?qe(e):e;return Pe(r)?t.filter((function(e){return Pe(e)&&Pt(e,r)&&"body"!==Me(e)})):[]}(e):[].concat(t),i=[].concat(o,[r]),a=i[0],s=i.reduce((function(t,r){var o=Et(e,r,n);return t.top=xe(o.top,t.top),t.right=Ce(o.right,t.right),t.bottom=Ce(o.bottom,t.bottom),t.left=xe(o.left,t.left),t}),Et(e,a,n));return s.width=s.right-s.left,s.height=s.bottom-s.top,s.x=s.left,s.y=s.top,s}(Pe(O)?O:O.contextElement||Ae(e.elements.popper),l,u,a),w=Te(e.elements.reference),P=ht({reference:w,element:g,strategy:"absolute",placement:o}),j=jt(Object.assign({},g,P)),E=p===rt?j:w,x={top:S.top-E.top+b.top,bottom:E.bottom-S.bottom+b.bottom,left:S.left-E.left+b.left,right:E.right-S.right+b.right},C=e.modifiersData.offset;if(p===rt&&C){var k=C[o];Object.keys(x).forEach((function(e){var t=[$e,Ve].indexOf(e)>=0?1:-1,r=[Ge,Ve].indexOf(e)>=0?"y":"x";x[e]+=k[r]*t}))}return x}function Rt(e,t,r){return xe(e,Ce(t,r))}const _t={name:"preventOverflow",enabled:!0,phase:"main",fn:function(e){var t=e.state,r=e.options,n=e.name,o=r.mainAxis,i=void 0===o||o,a=r.altAxis,s=void 0!==a&&a,l=r.boundary,c=r.rootBoundary,u=r.altBoundary,f=r.padding,p=r.tether,d=void 0===p||p,y=r.tetherOffset,h=void 0===y?0:y,m=kt(t,{boundary:l,rootBoundary:c,padding:f,altBoundary:u}),b=pt(t.placement),v=dt(t.placement),g=!v,O=yt(b),S="x"===O?"y":"x",w=t.modifiersData.popperOffsets,P=t.rects.reference,j=t.rects.popper,E="function"==typeof h?h(Object.assign({},t.rects,{placement:t.placement})):h,x="number"==typeof E?{mainAxis:E,altAxis:E}:Object.assign({mainAxis:0,altAxis:0},E),C=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,k={x:0,y:0};if(w){if(i){var R,_="y"===O?Ge:Ke,T="y"===O?Ve:$e,I="y"===O?"height":"width",M=w[O],A=M+m[_],D=M-m[T],L=d?-j[I]/2:0,N=v===Je?P[I]:j[I],z=v===Je?-j[I]:-P[I],B=t.elements.arrow,U=d&&B?Be(B):{width:0,height:0},F=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},Z=F[_],W=F[T],H=Rt(0,P[I],U[I]),q=g?P[I]/2-L-H-Z-x.mainAxis:N-H-Z-x.mainAxis,G=g?-P[I]/2+L+H+W+x.mainAxis:z+H+W+x.mainAxis,V=t.elements.arrow&&qe(t.elements.arrow),$=V?"y"===O?V.clientTop||0:V.clientLeft||0:0,K=null!=(R=null==C?void 0:C[O])?R:0,Y=M+G-K,X=Rt(d?Ce(A,M+q-K-$):A,M,d?xe(D,Y):D);w[O]=X,k[O]=X-M}if(s){var J,Q="x"===O?Ge:Ke,ee="x"===O?Ve:$e,te=w[S],re="y"===S?"height":"width",ne=te+m[Q],oe=te-m[ee],ie=-1!==[Ge,Ke].indexOf(b),ae=null!=(J=null==C?void 0:C[S])?J:0,se=ie?ne:te-P[re]-j[re]-ae+x.altAxis,le=ie?te+P[re]+j[re]-ae-x.altAxis:oe,ce=d&&ie?function(e,t,r){var n=Rt(e,t,r);return n>r?r:n}(se,te,le):Rt(d?se:ne,te,d?le:oe);w[S]=ce,k[S]=ce-te}t.modifiersData[n]=k}},requiresIfExists:["offset"]};function Tt(e,t,r){return void 0===r&&(r={x:0,y:0}),{top:e.top-t.height-r.y,right:e.right-t.width+r.x,bottom:e.bottom-t.height+r.y,left:e.left-t.width-r.x}}function It(e){return[Ge,$e,Ve,Ke].some((function(t){return e[t]>=0}))}var Mt=ut({defaultModifiers:[{name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(e){var t=e.state,r=e.instance,n=e.options,o=n.scroll,i=void 0===o||o,a=n.resize,s=void 0===a||a,l=we(t.elements.popper),c=[].concat(t.scrollParents.reference,t.scrollParents.popper);return i&&c.forEach((function(e){e.addEventListener("scroll",r.update,ft)})),s&&l.addEventListener("resize",r.update,ft),function(){i&&c.forEach((function(e){e.removeEventListener("scroll",r.update,ft)})),s&&l.removeEventListener("resize",r.update,ft)}},data:{}},{name:"popperOffsets",enabled:!0,phase:"read",fn:function(e){var t=e.state,r=e.name;t.modifiersData[r]=ht({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})},data:{}},{name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(e){var t=e.state,r=e.options,n=r.gpuAcceleration,o=void 0===n||n,i=r.adaptive,a=void 0===i||i,s=r.roundOffsets,l=void 0===s||s,c={placement:pt(t.placement),variation:dt(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:o,isFixed:"fixed"===t.options.strategy};null!=t.modifiersData.popperOffsets&&(t.styles.popper=Object.assign({},t.styles.popper,bt(Object.assign({},c,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:a,roundOffsets:l})))),null!=t.modifiersData.arrow&&(t.styles.arrow=Object.assign({},t.styles.arrow,bt(Object.assign({},c,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})},data:{}},vt,{name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(e){var t=e.state,r=e.options,n=e.name,o=r.offset,i=void 0===o?[0,0]:o,a=it.reduce((function(e,r){return e[r]=function(e,t,r){var n=pt(e),o=[Ke,Ge].indexOf(n)>=0?-1:1,i="function"==typeof r?r(Object.assign({},t,{placement:e})):r,a=i[0],s=i[1];return a=a||0,s=(s||0)*o,[Ke,$e].indexOf(n)>=0?{x:s,y:a}:{x:a,y:s}}(r,t.rects,i),e}),{}),s=a[t.placement],l=s.x,c=s.y;null!=t.modifiersData.popperOffsets&&(t.modifiersData.popperOffsets.x+=l,t.modifiersData.popperOffsets.y+=c),t.modifiersData[n]=a}},{name:"flip",enabled:!0,phase:"main",fn:function(e){var t=e.state,r=e.options,n=e.name;if(!t.modifiersData[n]._skip){for(var o=r.mainAxis,i=void 0===o||o,a=r.altAxis,s=void 0===a||a,l=r.fallbackPlacements,c=r.padding,u=r.boundary,f=r.rootBoundary,p=r.altBoundary,d=r.flipVariations,y=void 0===d||d,h=r.allowedAutoPlacements,m=t.options.placement,b=pt(m),v=l||(b!==m&&y?function(e){if(pt(e)===Ye)return[];var t=Ot(e);return[wt(e),t,wt(t)]}(m):[Ot(m)]),g=[m].concat(v).reduce((function(e,r){return e.concat(pt(r)===Ye?function(e,t){void 0===t&&(t={});var r=t,n=r.placement,o=r.boundary,i=r.rootBoundary,a=r.padding,s=r.flipVariations,l=r.allowedAutoPlacements,c=void 0===l?it:l,u=dt(n),f=u?s?ot:ot.filter((function(e){return dt(e)===u})):Xe,p=f.filter((function(e){return c.indexOf(e)>=0}));0===p.length&&(p=f);var d=p.reduce((function(t,r){return t[r]=kt(e,{placement:r,boundary:o,rootBoundary:i,padding:a})[pt(r)],t}),{});return Object.keys(d).sort((function(e,t){return d[e]-d[t]}))}(t,{placement:r,boundary:u,rootBoundary:f,padding:c,flipVariations:y,allowedAutoPlacements:h}):r)}),[]),O=t.rects.reference,S=t.rects.popper,w=new Map,P=!0,j=g[0],E=0;E<g.length;E++){var x=g[E],C=pt(x),k=dt(x)===Je,R=[Ge,Ve].indexOf(C)>=0,_=R?"width":"height",T=kt(t,{placement:x,boundary:u,rootBoundary:f,altBoundary:p,padding:c}),I=R?k?$e:Ke:k?Ve:Ge;O[_]>S[_]&&(I=Ot(I));var M=Ot(I),A=[];if(i&&A.push(T[C]<=0),s&&A.push(T[I]<=0,T[M]<=0),A.every((function(e){return e}))){j=x,P=!1;break}w.set(x,A)}if(P)for(var D=function(e){var t=g.find((function(t){var r=w.get(t);if(r)return r.slice(0,e).every((function(e){return e}))}));if(t)return j=t,"break"},L=y?3:1;L>0&&"break"!==D(L);L--);t.placement!==j&&(t.modifiersData[n]._skip=!0,t.placement=j,t.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}},_t,{name:"arrow",enabled:!0,phase:"main",fn:function(e){var t,r=e.state,n=e.name,o=e.options,i=r.elements.arrow,a=r.modifiersData.popperOffsets,s=pt(r.placement),l=yt(s),c=[Ke,$e].indexOf(s)>=0?"height":"width";if(i&&a){var u=function(e,t){return xt("number"!=typeof(e="function"==typeof e?e(Object.assign({},t.rects,{placement:t.placement})):e)?e:Ct(e,Xe))}(o.padding,r),f=Be(i),p="y"===l?Ge:Ke,d="y"===l?Ve:$e,y=r.rects.reference[c]+r.rects.reference[l]-a[l]-r.rects.popper[c],h=a[l]-r.rects.reference[l],m=qe(i),b=m?"y"===l?m.clientHeight||0:m.clientWidth||0:0,v=y/2-h/2,g=u[p],O=b-f[c]-u[d],S=b/2-f[c]/2+v,w=Rt(g,S,O),P=l;r.modifiersData[n]=((t={})[P]=w,t.centerOffset=w-S,t)}},effect:function(e){var t=e.state,r=e.options.element,n=void 0===r?"[data-popper-arrow]":r;null!=n&&("string"!=typeof n||(n=t.elements.popper.querySelector(n)))&&Pt(t.elements.popper,n)&&(t.elements.arrow=n)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]},{name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(e){var t=e.state,r=e.name,n=t.rects.reference,o=t.rects.popper,i=t.modifiersData.preventOverflow,a=kt(t,{elementContext:"reference"}),s=kt(t,{altBoundary:!0}),l=Tt(a,n),c=Tt(s,o,i),u=It(l),f=It(c);t.modifiersData[r]={referenceClippingOffsets:l,popperEscapeOffsets:c,isReferenceHidden:u,hasPopperEscaped:f},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":u,"data-popper-escaped":f})}}]}),At=a(56e3),Dt=a(37367),Lt=a(2038);function Nt(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}const zt=e.forwardRef((function(t,n){var o,i,a=t.children,s=t.container,l=t.disablePortal,c=void 0!==l&&l,u=(o=e.useState(null),i=2,function(e){if(Array.isArray(e))return e}(o)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,s=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(o,i)||function(e,t){if(e){if("string"==typeof e)return Nt(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Nt(e,t):void 0}}(o,i)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),f=u[0],p=u[1],d=(0,ge.Z)(e.isValidElement(a)?a.ref:null,n);if((0,Oe.Z)((function(){c||p(function(e){return"function"==typeof e?e():e}(s)||document.body)}),[s,c]),(0,Oe.Z)((function(){if(f&&!c)return(0,Dt.Z)(n,f),function(){(0,Dt.Z)(n,null)}}),[n,f,c]),c){if(e.isValidElement(a)){var y={ref:d};return e.cloneElement(a,y)}return(0,Lt.jsx)(e.Fragment,{children:a})}return(0,Lt.jsx)(e.Fragment,{children:f?r.createPortal(a,f):f})}));var Bt=a(5245),Ut=a(46213);function Ft(e){return(0,Bt.Z)("MuiPopperUnstyled",e)}(0,Ut.Z)("MuiPopperUnstyled",["root"]);const Zt=function(e){return"string"==typeof e};var Wt=a(82566);function Ht(e){if(void 0===e)return{};var t={};return Object.keys(e).filter((function(t){return!(t.match(/^on[A-Z]/)&&"function"==typeof e[t])})).forEach((function(r){t[r]=e[r]})),t}var qt=["elementType","externalSlotProps","ownerState"];function Gt(e){var t,r=e.elementType,n=e.externalSlotProps,o=e.ownerState,i=(0,ve.Z)(e,qt),a=function(e,t){return"function"==typeof e?e(t):e}(n,o),s=function(e){var t=e.getSlotProps,r=e.additionalProps,n=e.externalSlotProps,o=e.externalForwardedProps,i=e.className;if(!t){var a=(0,Wt.Z)(null==o?void 0:o.className,null==n?void 0:n.className,i,null==r?void 0:r.className),s=(0,be.Z)({},null==r?void 0:r.style,null==o?void 0:o.style,null==n?void 0:n.style),l=(0,be.Z)({},r,o,n);return a.length>0&&(l.className=a),Object.keys(s).length>0&&(l.style=s),{props:l,internalRef:void 0}}var c=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(void 0===e)return{};var r={};return Object.keys(e).filter((function(r){return r.match(/^on[A-Z]/)&&"function"==typeof e[r]&&!t.includes(r)})).forEach((function(t){r[t]=e[t]})),r}((0,be.Z)({},o,n)),u=Ht(n),f=Ht(o),p=t(c),d=(0,Wt.Z)(null==p?void 0:p.className,null==r?void 0:r.className,i,null==o?void 0:o.className,null==n?void 0:n.className),y=(0,be.Z)({},null==p?void 0:p.style,null==r?void 0:r.style,null==o?void 0:o.style,null==n?void 0:n.style),h=(0,be.Z)({},p,r,f,u);return d.length>0&&(h.className=d),Object.keys(y).length>0&&(h.style=y),{props:h,internalRef:p.ref}}((0,be.Z)({},i,{externalSlotProps:a})),l=s.props,c=s.internalRef,u=(0,ge.Z)(c,null==a?void 0:a.ref,null==(t=e.additionalProps)?void 0:t.ref),f=function(e,t,r){return void 0===e||Zt(e)?t:(0,be.Z)({},t,{ownerState:(0,be.Z)({},t.ownerState,r)})}(r,(0,be.Z)({},l,{ref:u}),o);return f}function Vt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,s=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return $t(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?$t(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function $t(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Kt=["anchorEl","children","component","direction","disablePortal","modifiers","open","ownerState","placement","popperOptions","popperRef","slotProps","slots","TransitionProps"],Yt=["anchorEl","children","container","direction","disablePortal","keepMounted","modifiers","open","placement","popperOptions","popperRef","style","transition","slotProps","slots"];function Xt(e){return"function"==typeof e?e():e}var Jt={},Qt=e.forwardRef((function(t,r){var n,o=t.anchorEl,i=t.children,a=t.component,s=t.direction,l=t.disablePortal,c=t.modifiers,u=t.open,f=t.ownerState,p=t.placement,d=t.popperOptions,y=t.popperRef,h=t.slotProps,m=void 0===h?{}:h,b=t.slots,v=void 0===b?{}:b,g=t.TransitionProps,O=(0,ve.Z)(t,Kt),S=e.useRef(null),w=(0,ge.Z)(S,r),P=e.useRef(null),j=(0,ge.Z)(P,y),E=e.useRef(j);(0,Oe.Z)((function(){E.current=j}),[j]),e.useImperativeHandle(y,(function(){return P.current}),[]);var x=function(e,t){if("ltr"===t)return e;switch(e){case"bottom-end":return"bottom-start";case"bottom-start":return"bottom-end";case"top-end":return"top-start";case"top-start":return"top-end";default:return e}}(p,s),C=Vt(e.useState(x),2),k=C[0],R=C[1],_=Vt(e.useState(Xt(o)),2),T=_[0],I=_[1];e.useEffect((function(){P.current&&P.current.forceUpdate()})),e.useEffect((function(){o&&I(Xt(o))}),[o]),(0,Oe.Z)((function(){if(T&&u){var e=[{name:"preventOverflow",options:{altBoundary:l}},{name:"flip",options:{altBoundary:l}},{name:"onUpdate",enabled:!0,phase:"afterWrite",fn:function(e){var t=e.state;R(t.placement)}}];null!=c&&(e=e.concat(c)),d&&null!=d.modifiers&&(e=e.concat(d.modifiers));var t=Mt(T,S.current,(0,be.Z)({placement:x},d,{modifiers:e}));return E.current(t),function(){t.destroy(),E.current(null)}}}),[T,l,c,u,d,x]);var M={placement:k};null!==g&&(M.TransitionProps=g);var A=(0,At.Z)({root:["root"]},Ft,{}),D=null!=(n=null!=a?a:v.root)?n:"div",L=Gt({elementType:D,externalSlotProps:m.root,externalForwardedProps:O,additionalProps:{role:"tooltip",ref:w},ownerState:(0,be.Z)({},t,f),className:A.root});return(0,Lt.jsx)(D,(0,be.Z)({},L,{children:"function"==typeof i?i(M):i}))}));const er=e.forwardRef((function(t,r){var n,o=t.anchorEl,i=t.children,a=t.container,s=t.direction,l=void 0===s?"ltr":s,c=t.disablePortal,u=void 0!==c&&c,f=t.keepMounted,p=void 0!==f&&f,d=t.modifiers,y=t.open,h=t.placement,m=void 0===h?"bottom":h,b=t.popperOptions,v=void 0===b?Jt:b,g=t.popperRef,O=t.style,S=t.transition,w=void 0!==S&&S,P=t.slotProps,j=void 0===P?{}:P,E=t.slots,x=void 0===E?{}:E,C=(0,ve.Z)(t,Yt),k=Vt(e.useState(!0),2),R=k[0],_=k[1];if(!p&&!y&&(!w||R))return null;if(a)n=a;else if(o){var T=Xt(o);n=T&&void 0!==T.nodeType?(0,Se.Z)(T).body:(0,Se.Z)(null).body}var I=y||!p||w&&!R?void 0:"none",M=w?{in:y,onEnter:function(){_(!1)},onExited:function(){_(!0)}}:void 0;return(0,Lt.jsx)(zt,{disablePortal:u,container:n,children:(0,Lt.jsx)(Qt,(0,be.Z)({anchorEl:o,direction:l,disablePortal:u,modifiers:d,ref:r,open:w?!R:y,placement:m,popperOptions:v,popperRef:g,slotProps:j,slots:x},C,{style:(0,be.Z)({position:"fixed",top:0,left:0,display:I},O),TransitionProps:M,children:i}))})}));var tr=a(61945),rr=a(49917),nr=a(47186),or=["components","componentsProps","slots","slotProps"],ir=(0,rr.ZP)(er,{name:"MuiPopper",slot:"Root",overridesResolver:function(e,t){return t.root}})({});const ar=e.forwardRef((function(e,t){var r,n=(0,tr.Z)(),o=(0,nr.Z)({props:e,name:"MuiPopper"}),i=o.components,a=o.componentsProps,s=o.slots,l=o.slotProps,c=(0,me.Z)(o,or),u=null!=(r=null==s?void 0:s.root)?r:null==i?void 0:i.Root;return(0,Lt.jsx)(ir,(0,he.Z)({direction:null==n?void 0:n.direction,slots:{root:u},slotProps:null!=l?l:a},c,{ref:t}))}));function sr(e){return sr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sr(e)}function lr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function cr(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?lr(Object(r),!0).forEach((function(t){ur(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lr(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function ur(e,t,r){return(t=pr(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fr(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,pr(n.key),n)}}function pr(e){var t=function(e,t){if("object"!==sr(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==sr(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===sr(t)?t:String(t)}function dr(e,t){return dr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},dr(e,t)}function yr(e){return yr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},yr(e)}var hr=Z().requireLib("boot").PydioContextConsumer,mr=a(39455),br=mr.Paper,vr=mr.FlatButton,gr=Z().requireLib("hoc").ModernTextField,Or=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&dr(e,t)}(s,e);var r,n,o,i,a=(o=s,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=yr(o);if(i){var r=yr(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===sr(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function s(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),a.call(this,e)}return r=s,(n=[{key:"submit",value:function(){var e;this.state&&this.state.value&&(e=this.state.value);var t=Z().getMessages();e&&e!==this.props.node.getLabel()?e&&e.indexOf("/")>-1?this.setState({errorString:t["filename.forbidden.slash"]}):(this.props.callback(e),this.props.onClose()):this.setState({errorString:t["rename.newvalue.error.similar"]})}},{key:"catchClicks",value:function(e){e.stopPropagation()}},{key:"onKeyDown",value:function(e){e.stopPropagation(),"Enter"===e.key?this.submit():this.setState({errorString:""})}},{key:"render",value:function(){var e=this,r=Z().getMessages(),n=this.props,o=n.node,i=n.onClose,a=n.anchor,s=n.muiTheme,l=n.editorStyle,c=void 0===l?{}:l;return t().createElement(ar,{id:"rename-popper:"+o.getPath(),open:!0,anchorEl:a,placement:"bottom-start"},t().createElement(br,{style:cr({padding:8,fontWeight:"initial",background:s.palette.mui3?s.palette.mui3["surface-2"]:"white"},c),zDepth:2},t().createElement(gr,{ref:this.text,defaultValue:o.getLabel(),onChange:function(t,r){e.setState({value:r})},onClick:this.catch,onDoubleClick:function(t){return e.catchClicks(t)},tabIndex:"0",onKeyDown:function(t){return e.onKeyDown(t)},errorText:this.state?this.state.errorString:null,selectBaseOnMount:!0}),t().createElement("div",{style:{textAlign:"right",paddingTop:8}},t().createElement(vr,{label:r[54],onClick:i}),t().createElement(vr,{label:r[48],onClick:function(){return e.submit()}}))))}}])&&fr(r.prototype,n),Object.defineProperty(r,"prototype",{writable:!1}),s}(t().Component);function Sr(e){return Sr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sr(e)}function wr(){return wr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},wr.apply(this,arguments)}function Pr(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Cr(n.key),n)}}function jr(e,t){return jr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},jr(e,t)}function Er(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function xr(e){return xr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},xr(e)}function Cr(e){var t=function(e,t){if("object"!==Sr(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==Sr(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===Sr(t)?t:String(t)}Or=hr((0,K.muiThemeable)()(Or));var kr=function(r){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,o=function(o){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&jr(e,t)}(u,o);var i,a,s,l,c=(s=u,l=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=xr(s);if(l){var r=xr(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===Sr(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Er(e)}(this,e)});function u(){var e,t,r,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u);for(var o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];return t=Er(e=c.call.apply(c,[this].concat(i))),n={edit:!1},(r=Cr(r="state"))in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n,e}return i=u,(a=[{key:"attach",value:function(e){var t=this;this._nodeListener=function(){t.forceUpdate()},this._actionListener=function(e){return e&&"prompt-rename"===e.type&&e.callback&&t.setState({edit:!0,callback:e.callback}),!0},e.observe("node_replaced",this._nodeListener),e.observe("node_action",this._actionListener)}},{key:"detach",value:function(e){this._nodeListener&&(e.stopObserving("node_replaced",this._nodeListener),e.stopObserving("node_action",this._actionListener))}},{key:"getNode",value:function(){return n?n(this.props):this.props.node}},{key:"componentDidMount",value:function(){this.attach(this.getNode())}},{key:"componentWillUnmount",value:function(){this.detach(this.getNode())}},{key:"render",value:function(){var n=this,o=this.getNode(),i=this.state,a=i.edit,s=i.editorStyle,l=i.callback,c=i.anchor;return t().createElement(e.Fragment,null,t().createElement(r,wr({},this.props,{setInlineEditionAnchor:function(e,t){n.setState({anchor:e,editorStyle:t})}})),a&&c&&t().createElement(Or,{node:o,anchor:c,onClose:function(){return n.setState({edit:!1})},callback:l,editorStyle:s}))}}])&&Pr(i.prototype,a),Object.defineProperty(i,"prototype",{writable:!1}),u}(t().Component);return o};function Rr(){return Rr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Rr.apply(this,arguments)}var _r=Z().requireLib("boot").moment;const Tr=kr((function(r){var n=r.node,o=r.renderActions,i=r.tableKeys,a=(0,e.useRef)(null);(0,e.useEffect)((function(){var e=r.setInlineEditionAnchor;e&&a.current&&e(a.current,{marginLeft:44})}),[n,i]);var s=r.actions;o&&(s=o(n));var l=[],c=!0,u=n.getMetadata();return Object.keys(i).forEach((function(e){var r,o,s=i[e],f=s.width?{width:s.width}:null;if(s.renderCell)s.name=e,r=s.renderCell(n,s);else if("ajxp_modiftime"===e){var p=_r(1e3*parseFloat(u.get("ajxp_modiftime"))),d=p.calendar();d.indexOf("/")>-1&&(d=p.fromNow()),r=d}else r="bytesize"===e?parseInt(u.get(e))?ye().roundFileSize(parseInt(u.get(e))):"-":u.get(e);o=u.get(e);var y=null;c&&(y=a),l.push(t().createElement("span",{key:e,className:"cell cell-"+e,title:o,style:f,"data-label":s.label,ref:y},r)),c=!1})),t().createElement(pe,Rr({},r,{iconCell:null,firstLine:l,actions:s}))}));function Ir(e){return Ir="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ir(e)}function Mr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ar(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==Ir(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==Ir(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===Ir(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const Dr={pydioActionsToItems:function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],r=[],n=!1,o=Z().getMessages();return t.map(function(t){if(t.separator){if(n)return;return r.push(t),void(n=!0)}var i;n=!1,i=t.label_id&&o[t.label_id]?o[t.label_id]:t.raw_name?t.raw_name:t.name;var a=t.icon_class;if(t.subMenu){var s=t.subMenuBeforeShow?e(t.subMenuBeforeShow()):t.subMenu;r.push({text:i,iconClassName:a,subItems:s})}else r.push({text:i,iconClassName:a,payload:t.callback})}.bind(this)),n&&(r=r.slice(0,r.length-1)),r.length&&r[0]&&r[0].separator&&r.shift(),r},itemsToMenu:function e(t,r){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};o=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Mr(Object(r),!0).forEach((function(t){Ar(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Mr(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({display:"normal",width:216,desktop:!0,autoWidth:!1},o);var i=t.map((function(t,n){if(t.separator)return React.createElement(g.Divider,{key:"divider"+n});if(t.subHeader)return React.createElement(g.Subheader,{style:{marginTop:-10,marginBottom:-6}},t.subHeader);var i,a,s,l;t.subItems?i=e(t.subItems,r,!0):t.payload&&(a=function(){t.payload(),r()});var c=t.iconClassName,u=!1;return"__INSET__"===c&&(c="",u=!0),"normal"===o.display?s=c?React.createElement(g.FontIcon,{className:t.iconClassName+" menu-icons",style:{fontSize:16,padding:5}}):null:"right"===o.display&&(l=c?React.createElement(g.FontIcon,{className:t.iconClassName+" menu-icons",style:{fontSize:16,padding:5}}):null),l=i&&i.length?React.createElement(g.FontIcon,{className:"mdi mdi-menu-right menu-icons"}):l,React.createElement(g.MenuItem,{key:t.text,primaryText:t.text,insetChildren:u,leftIcon:s,rightIcon:l,onClick:a,menuItems:i})}));return n?i:React.createElement(g.Menu,o,i)}},Lr=require("lodash");function Nr(e){return Nr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nr(e)}function zr(){return zr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},zr.apply(this,arguments)}function Br(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(void 0,o=function(e,t){if("object"!==Nr(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==Nr(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(n.key),"symbol"===Nr(o)?o:String(o)),n)}var o}function Ur(e,t){return Ur=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Ur(e,t)}function Fr(e){return Fr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Fr(e)}var Zr=a(16689),Wr=a(580),Hr=a(2282);const qr=function(e){var t=function(t){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ur(e,t)}(s,t);var r,n,o,i,a=(o=s,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Fr(o);if(i){var r=Fr(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===Nr(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function s(e,t){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),(r=a.call(this,e,t)).state={menuItems:r.props.menuItems||[]},r}return r=s,(n=[{key:"componentDidMount",value:function(){var e=this;this.props.controller&&!this.props.menuItems&&(this._observer=(0,Lr.debounce)((function(){var t=e.props.controller.getContextActions("genericContext",null,e.props.toolbars),r=Dr.pydioActionsToItems(t);e.setState({menuItems:r})}),50),this.props.controller===this.props.pydio.Controller?this.props.pydio.observe("actions_refreshed",this._observer):this.props.controller.observe("actions_refreshed",this._observer),this._observer())}},{key:"componentWillUnmount",value:function(){this._observer&&(this.props.controller===this.props.pydio.Controller?this.props.pydio.stopObserving("actions_refreshed",this._observer):this.props.controller.stopObserving("actions_refreshed",this._observer))}},{key:"componentWillReceiveProps",value:function(e){e.menuItems&&e.menuItems!==this.props.menuItems&&this.setState({menuItems:e.menuItems})}},{key:"render",value:function(){return Zr.createElement(e,zr({},this.props,{menuItems:this.state.menuItems}))}}])&&Br(r.prototype,n),Object.defineProperty(r,"prototype",{writable:!1}),s}(Zr.Component);return t.propTypes={menuItems:Wr.array,toolbars:Wr.array,controller:Wr.instanceOf(Hr),pydio:Wr.instanceOf(Pydio)},t};function Gr(e){return Gr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gr(e)}function Vr(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(void 0,o=function(e,t){if("object"!==Gr(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==Gr(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(n.key),"symbol"===Gr(o)?o:String(o)),n)}var o}function $r(e,t){return $r=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},$r(e,t)}function Kr(e){return Kr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Kr(e)}var Yr=a(580),Xr=a(16689),Jr=Z().requireLib("hoc").ThemedContainers,Qr=Jr.Popover,en=Jr.IconButton,tn=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&$r(e,t)}(a,e);var t,r,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Kr(n);if(o){var r=Kr(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===Gr(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function a(e,t){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(r=i.call(this,e,t)).state={showMenu:!1},r}return t=a,(r=[{key:"showMenu",value:function(e){this.setState({showMenu:!0,anchor:e.currentTarget})}},{key:"closeMenu",value:function(e,t,r){this.setState({showMenu:!1})}},{key:"render",value:function(){var e=this,t=this.props,r=t.menuItems,n=t.className,o=t.buttonTitle,i=t.buttonClassName,a=t.containerStyle,s=t.style,l=t.buttonStyle,c=t.popoverDirection,u=t.popoverTargetPosition,f=t.menuProps;return r.length?Xr.createElement("span",{className:"toolbars-button-menu "+(n||""),style:a},Xr.createElement(en,{ref:"menuButton",tooltip:o,iconClassName:i,onClick:this.showMenu.bind(this),iconStyle:l,style:s}),Xr.createElement(Qr,{open:this.state.showMenu,anchorEl:this.state.anchor,anchorOrigin:{horizontal:c||"right",vertical:u||"bottom"},targetOrigin:{horizontal:c||"right",vertical:"top"},onRequestClose:function(){e.setState({showMenu:!1})},useLayerForClickAway:!1},Dr.itemsToMenu(r,this.closeMenu.bind(this),!1,f||void 0))):null}}])&&Vr(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),a}(Xr.Component);tn.propTypes={buttonTitle:Yr.string.isRequired,buttonClassName:Yr.string.isRequired,className:Yr.string,popoverDirection:Yr.oneOf(["right","left"]),popoverPosition:Yr.oneOf(["top","bottom"]),menuProps:Yr.object,menuItems:Yr.array.isRequired};const rn=qr(tn);function nn(e){return nn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nn(e)}function on(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(void 0,o=function(e,t){if("object"!==nn(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==nn(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(n.key),"symbol"===nn(o)?o:String(o)),n)}var o}function an(e,t){return an=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},an(e,t)}function sn(e){return sn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},sn(e)}var ln=Z().requireLib("boot").PydioContextConsumer,cn=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&an(e,t)}(s,e);var r,n,o,i,a=(o=s,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=sn(o);if(i){var r=sn(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===nn(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function s(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),a.apply(this,arguments)}return r=s,n=[{key:"onMenuClicked",value:function(e){this.props.columnClicked(e.payload)}},{key:"onHeaderClick",value:function(e,t){var r=this.props.tableKeys[e];r&&r.sortType&&this.props.columnClicked&&(r.name=e,this.props.columnClicked(r,t))}},{key:"getColumnsItems",value:function(e){var r=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,o=function(){n&&n.notify("actions_refreshed")},i=this.props,a=i.tableKeys,s=i.sortingInfo;return Object.keys(a).map((function(n){var i,l,c=a[n],u=c.width?{width:c.width}:null,f="cell header_cell cell-"+n;return c.sortType&&(f+=" sortable",s&&(s.attribute===n||s.remote&&c.remoteSortAttribute&&s.attribute===c.remoteSortAttribute)&&(i="asc"===s.direction?"mdi mdi-sort-ascending":"mdi mdi-sort-descending",f+=" active-sort-"+s.direction,l=!0)),"menu"===e?(c.name=n,{payload:c,text:c.label,iconClassName:i}):"menu_data"===e?{name:t().createElement("span",{style:{display:"flex"}},t().createElement("span",{style:{flex:1,fontWeight:l?500:"inherit"}},c.label),l&&t().createElement("span",{className:"mdi mdi-checkbox-marked-circle-outline"})),callback:function(){r.onHeaderClick(n,o)},icon_class:i||("number"===c.sortType?"mdi mdi-sort-numeric":"mdi mdi-sort-alphabetical")}:t().createElement("span",{key:n,className:f,style:u,onClick:function(){r.onHeaderClick(n,o)}},c.label)}))}},{key:"buildSortingMenuItems",value:function(e){return this.getColumnsItems("menu_data",e)}},{key:"componentDidMount",value:function(){var e=new Action({name:"sort_action",icon_class:"mdi mdi-sort-descending",text_id:450,title_id:450,text:this.props.getMessage(450),title:this.props.getMessage(450),hasAccessKey:!1,subMenu:!0,subMenuUpdateImage:!0,weight:50},{selection:!1,dir:!0,actionBar:!0,actionBarGroup:"display_toolbar",contextMenu:!1,infoPanel:!1},{},{},{dynamicBuilder:this.buildSortingMenuItems.bind(this)}),t=new Map;t.set("sort_action",e),this.props.pydio.getController().updateGuiActions(t)}},{key:"componentWillUnmount",value:function(){this.props.pydio.getController().deleteFromGuiActions("sort_action")}},{key:"render",value:function(){var e=this;return"hidden"===this.props.displayMode?null:"menu"===this.props.displayMode?t().createElement(rn,{buttonTitle:"Sort by...",buttonClassName:"mdi mdi-sort-descending",menuItems:this.getColumnsItems("menu",this.props.pydio.getController()),onMenuClicked:function(t){return e.onMenuClicked(t)}}):t().createElement("div",{className:"mui-toolbar-group mui-left"},this.getColumnsItems("header",this.props.pydio.getController()))}}],n&&on(r.prototype,n),Object.defineProperty(r,"prototype",{writable:!1}),s}(t().Component);function un(e){return un="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},un(e)}function fn(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function pn(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?fn(Object(r),!0).forEach((function(t){dn(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fn(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function dn(e,t,r){return(t=hn(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yn(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,hn(n.key),n)}}function hn(e){var t=function(e,t){if("object"!==un(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==un(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===un(t)?t:String(t)}function mn(e,t){return mn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},mn(e,t)}function bn(e){return bn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},bn(e)}cn=ln(cn);var vn=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&mn(e,t)}(s,e);var r,n,o,i,a=(o=s,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=bn(o);if(i){var r=bn(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===un(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function s(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),(t=a.call(this,e)).state={node:t.props.node},t}return r=s,(n=[{key:"componentDidMount",value:function(){var e=this;if(!this.props.node){var t=this.props.dataModel;this._dmObserver=function(){e.setState({node:t.getContextNode()})},t.observe("context_changed",this._dmObserver),this.setState({node:t.getContextNode()})}}},{key:"componentWillUnmount",value:function(){this._dmObserver&&this.props.dataModel.stopObserving("context_changed",this._dmObserver)}},{key:"changePage",value:function(e){this.state.node.getMetadata().get("paginationData").set("new_page",e.currentTarget.getAttribute("data-page")),this.props.dataModel.requireContextChange(this.state.node)}},{key:"onMenuChange",value:function(e,t,r){this.state.node.getMetadata().get("paginationData").set("new_page",r),this.props.dataModel.requireContextChange(this.state.node)}},{key:"render",value:function(){var e=this,r=this.state.node,n=this.props,o=n.toolbarDisplay,i=n.toolbarColor,a=n.smallDisplay,s=n.style,l=n.menuStyle,c=n.id;if(!r||!r.getMetadata().get("paginationData"))return null;for(var u,f,p,d,y,h=r.getMetadata().get("paginationData"),m=parseInt(h.get("current")),b=parseInt(h.get("total")),v=[],O=Z().getMessages()[331],S=1;S<=b;S++)v.push(t().createElement(g.MenuItem,{value:S,primaryText:O+" "+S+(S===m?" / "+b:"")}));return v.length<=1?null:(o&&(i&&(p={color:i}),a&&(d={fontSize:13},y={fontSize:20})),f=t().createElement(g.IconButton,{onClick:function(){e.onMenuChange(null,0,m-1)},iconClassName:"mdi mdi-chevron-left",disabled:1===m,iconStyle:pn(pn({},p),y),style:a?{marginRight:-10,marginTop:-2,width:40,height:40}:null}),u=t().createElement(g.IconButton,{onClick:function(){e.onMenuChange(null,0,m+1)},iconClassName:"mdi mdi-chevron-right",disabled:m===b,style:a?{marginLeft:-40,marginTop:-2,width:40,height:40}:{marginLeft:-20},iconStyle:pn(pn({},p),y)}),t().createElement("div",{id:c,style:pn({display:"flex",alignItems:"center"},s)},f,t().createElement(g.DropDownMenu,{style:{width:150,marginTop:-6},onChange:this.onMenuChange.bind(this),value:m,underlineStyle:{display:"none"},labelStyle:pn(pn({},p),d),menuStyle:l},v),u))}}])&&yn(r.prototype,n),Object.defineProperty(r,"prototype",{writable:!1}),s}(t().Component);function gn(e){return gn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gn(e)}function On(){return On=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},On.apply(this,arguments)}function Sn(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(void 0,o=function(e,t){if("object"!==gn(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==gn(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(n.key),"symbol"===gn(o)?o:String(o)),n)}var o}function wn(e,t){return wn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},wn(e,t)}function Pn(e){return Pn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Pn(e)}var jn=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&wn(e,t)}(s,e);var r,n,o,i,a=(o=s,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Pn(o);if(i){var r=Pn(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===gn(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function s(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),a.apply(this,arguments)}return r=s,(n=[{key:"render",value:function(){var e;return this.props.node.getMetadata().get("paginationData")&&this.props.node.getMetadata().get("paginationData").get("total")>1&&(e=t().createElement(vn,{dataModel:this.props.dm,node:this.props.node})),t().createElement("div",{className:"mui-toolbar toolbarTableHeader"},t().createElement(cn,On({displayMode:"tableHeader"},this.props,{columnClicked:this.props.onHeaderClick})),t().createElement("div",{className:"mui-toolbar-group mui-right"},e,t().createElement(g.FontIcon,{key:1,title:Z().getMessages[149],className:"mdi mdi-refresh"+(this.props.loading?" rotating":""),onClick:this.props.reload,style:{padding:16,display:"block",cursor:"pointer",fontSize:24,color:"#9E9E9E"}}),this.props.additionalActions))}}])&&Sn(r.prototype,n),Object.defineProperty(r,"prototype",{writable:!1}),s}(t().Component),En=a(56880),xn=a.n(En);const Cn=require("pydio/model/node");var kn=a.n(Cn);function Rn(e){return Rn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rn(e)}function _n(){return _n=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_n.apply(this,arguments)}function Tn(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(void 0,o=function(e,t){if("object"!==Rn(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==Rn(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(n.key),"symbol"===Rn(o)?o:String(o)),n)}var o}function In(e,t){return In=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},In(e,t)}function Mn(e){return Mn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Mn(e)}var An=Z().requireLib("hoc").NativeFileDropProvider,Dn=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&In(e,t)}(s,e);var r,n,o,i,a=(o=s,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Mn(o);if(i){var r=Mn(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===Rn(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function s(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),a.apply(this,arguments)}return r=s,(n=[{key:"render",value:function(){var e,r,n,o=this.props,i=o.secondLine,a=o.thirdLine,s=o.style,l=void 0===s?{}:s,c=o.actions,u=this.props,f=u.renderIcon,p=u.node,d=u.renderFirstLine,y=u.renderSecondLine,h=u.renderThirdLine,m=u.renderActions,b=u.isOver;if(f)e=f(p,this.props);else{var v=p.getMetadata().get("icon_class")?p.getMetadata().get("icon_class"):p.isLeaf()?"mdi mdi-file":"mdi mdi-folder";e=t().createElement(g.FontIcon,{className:v})}if(r=d?d(this.props.node):p.getLabel(),y&&(i=y(p)),h&&(a=h(p)),m&&(c=m(p)),p.isLeaf()&&p.getMetadata().has("mime")&&Z().getInstance().getController().getActionByName("download")){var O=p.getMetadata().get("mime");n=function(e){try{xn().getClient().buildPresignedGetUrl(p).then((function(t){e.dataTransfer.setData("DownloadURL",O+":"+p.getLabel()+":"+t)}))}catch(e){console.error("Cannot set dataTransfer",e)}}}return t().createElement(pe,_n({},this.props,{iconCell:e,firstLine:r,secondLine:i,thirdLine:a,actions:c,style:l,nativeIsOver:b,onDragStart:n}))}}])&&Tn(r.prototype,n),Object.defineProperty(r,"prototype",{writable:!1}),s}(t().Component);Dn.propTypes={node:U().instanceOf(kn()),renderIcon:U().func,renderFirstLine:U().func,renderSecondLine:U().func,renderThirdLine:U().func,renderActions:U().func,style:U().object};var Ln=An(Dn=kr(Dn),(function(e,t,r){var n=a.g,o=n.pydio,i=n.UploaderModel,s=r.node;if("true"!==s.getMetadata().get("node_readonly")&&"true"!==s.getMetadata().get("level_readonly")){var l=i.Store.getInstance();l.handleDropEventResults(e,t,s),l.getAutoStart()&&!o.Parameters.get("MINISITE")||o.getController().fireAction("upload")}else o.UI.displayMessage("ERROR","You are not allowed to upload files here")}));function Nn(e){return Nn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nn(e)}function zn(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Fn(n.key),n)}}function Bn(e,t){return Bn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Bn(e,t)}function Un(e){return Un=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Un(e)}function Fn(e){var t=function(e,t){if("object"!==Nn(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==Nn(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===Nn(t)?t:String(t)}var Zn,Wn,Hn,qn=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Bn(e,t)}(s,e);var r,n,o,i,a=(o=s,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Un(o);if(i){var r=Un(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===Nn(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function s(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),a.apply(this,arguments)}return r=s,(n=[{key:"clickAction",value:function(e){var t=Z().getInstance(),r=e.currentTarget.getAttribute("data-action"),n=this.props,o=n.dataModel,i=n.node;o.setSelectedNodes([i]);var a=t.Controller.getActionByName(r);a.fireContextChange(o,!0,t.user),a.apply([o]),e.stopPropagation(),e.preventDefault()}},{key:"render",value:function(){var e=this.props.actions.map(function(e){var r=this;return t().createElement("div",{key:e.options.name,className:e.options.icon_class+" material-list-action-inline"||0,title:e.options.title,"data-action":e.options.name,onClick:function(e){return r.clickAction(e)}})}.bind(this));return t().createElement("span",null,e)}}])&&zn(r.prototype,n),Object.defineProperty(r,"prototype",{writable:!1}),s}(t().Component);function Gn(e){return Gn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gn(e)}function Vn(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function $n(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Vn(Object(r),!0).forEach((function(t){Kn(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Vn(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Kn(e,t,r){return(t=Xn(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Yn(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Xn(n.key),n)}}function Xn(e){var t=function(e,t){if("object"!==Gn(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==Gn(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===Gn(t)?t:String(t)}function Jn(e,t){return Jn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Jn(e,t)}function Qn(e){return Qn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Qn(e)}Zn=qn,Wn="propTypes",Hn={dataModel:U().instanceOf(o.PydioDataModel).isRequired,node:U().instanceOf(Cn.Node).isRequired,actions:U().array},(Wn=Fn(Wn))in Zn?Object.defineProperty(Zn,Wn,{value:Hn,enumerable:!0,configurable:!0,writable:!0}):Zn[Wn]=Hn;var eo=a(16689).Component,to=a(39455),ro=to.FlatButton,no=to.FontIcon,oo=a(13173).muiThemeable,io=a(39105),ao=a(580),so=a(10757),lo=so.requireLib("boot").PydioContextConsumer,co=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Jn(e,t)}(a,e);var t,r,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Qn(n);if(o){var r=Qn(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===Gn(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function a(e,t){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),i.call(this,e,t)}return t=a,r=[{key:"render",value:function(){var e=this.props,t=e.style,r=e.iconClassName,n=e.primaryTextId,o=e.secondaryTextId,i=e.actionLabelId,a=e.actionCallback,s=e.actionStyle,l=e.actionIconClassName,c=e.getMessage,u=e.iconStyle,f=e.legendStyle,p=e.muiTheme,d=io(p.palette.mui3.outline||"#aaa"),y={container:$n({display:"flex",alignItems:"center",justifyContent:"center",height:"100%",width:"100%",flex:1,backgroundColor:d.lightness(97).rgb().toString()},t),centered:{maxWidth:280,textAlign:"center",color:d.toString()},icon:$n({fontSize:100},u),primaryText:$n({fontSize:16,fontWeight:500},f),secondaryText:{marginTop:20,fontSize:13},buttonContainer:{marginTop:100,textAlign:"center"},buttonStyle:{color:p.palette.mui3.primary}},h=l?React.createElement(no,{className:l}):null;return React.createElement("div",{style:y.container},React.createElement("div",{style:y.centered},React.createElement("div",{className:r,style:y.icon}),React.createElement("div",{style:y.primaryText},c(n)),o&&React.createElement("div",{style:y.secondaryText},c(o)),i&&a&&React.createElement("div",{style:$n($n({},y.buttonContainer),s)},React.createElement(ro,{style:y.buttonStyle,label:c(i),onClick:a,icon:h}))))}}],r&&Yn(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),a}(eo);co.propTypes={pydio:ao.instanceOf(so).isRequired,iconClassName:ao.string.isRequired,primaryTextId:ao.string.isRequired,secondaryTextId:ao.string,actionLabelId:ao.string,actionCallback:ao.func,actionStyle:ao.object,style:ao.object,iconStyle:ao.object,legendStyle:ao.object,getMessage:ao.func},co=lo(co),co=oo()(co);var uo=Z().requireLib("hoc"),fo=uo.PlaceHolder,po=uo.PhRoundShape,yo=uo.PhTextRow;function ho(e){var r,n=e.displayMode,o=e.elementHeight,i=e.tableKeys,a=[];if("grid"===n){var s=Math.max(40,o);r=t().createElement("div",{style:{width:s,height:s,display:"flex",flexDirection:"column",alignItems:"center",margin:2}},t().createElement("div",{style:{flex:1,display:"flex",alignItems:"center",justifyContent:"center"}},t().createElement(po,{style:{width:40,height:40,borderRadius:6}})),t().createElement(yo,{style:{fontSize:20}}));for(var l=0;l<10;l++)a.push(r);a=t().createElement("div",{style:{display:"flex",flexWrap:"wrap"}},a)}else if(i){r=t().createElement("div",{style:{width:"100%",display:"flex",alignItems:"baseline",height:42,borderBottom:"1px solid rgba(0,0,0,.03)"}},Object.keys(i).map((function(e){return"ajxp_label"===e?t().createElement("span",{className:"cell cell-"+e,style:{display:"flex",fontSize:16,paddingTop:6,marginBottom:2,paddingLeft:16,paddingRight:10}},t().createElement(yo,{style:{display:"inline-block",width:16,marginRight:16}}),t().createElement(yo,{style:{flex:1}})):t().createElement("span",{className:"cell cell-"+e,style:{display:"inline-block",paddingTop:6,marginBottom:2,paddingLeft:10,paddingRight:10}},t().createElement(yo,null))})));for(var c=0;c<5;c++)a.push(r)}else{r=t().createElement("div",{style:{display:"flex",padding:"0 16px",alignItems:"center",height:o,borderBottom:"1px solid rgba(0,0,0,.03)"}},t().createElement(po,{style:{width:40,height:40,marginRight:20,borderRadius:6}}),t().createElement("div",{style:{flex:1}},t().createElement(yo,{style:{fontSize:16,width:"80%",marginTop:0}}),t().createElement(yo,{style:{fontSize:13,width:"70%"}})));for(var u=0;u<5;u++)a.push(r)}return t().createElement(fo,{showLoadingAnimation:!0,customPlaceholder:a})}function mo(e,t){if(e.getMetadata().has("local:pinSort")&&!t.getMetadata().has("local:pinSort"))return-1;if(t.getMetadata().has("local:pinSort")&&!e.getMetadata().has("local:pinSort"))return 1;if(e.isRecycle())return 1;if(t.isRecycle())return-1;var r=e.isLeaf(),n=t.isLeaf(),o=r&&!n?1:!r&&n?-1:0;return 0===o?e.getLabel().localeCompare(t.getLabel(),void 0,{numeric:!0}):o}var bo=function(){},vo="undefined"!=typeof window;const go=vo?e.useLayoutEffect:e.useEffect;var Oo={x:0,y:0,width:0,height:0,top:0,left:0,bottom:0,right:0};const So=vo&&void 0!==window.ResizeObserver?function(){var t=(0,e.useState)(null),r=t[0],n=t[1],o=(0,e.useState)(Oo),i=o[0],a=o[1],s=(0,e.useMemo)((function(){return new window.ResizeObserver((function(e){if(e[0]){var t=e[0].contentRect,r=t.x,n=t.y,o=t.width,i=t.height,s=t.top,l=t.left,c=t.bottom,u=t.right;a({x:r,y:n,width:o,height:i,top:s,left:l,bottom:c,right:u})}}))}),[]);return go((function(){if(r)return s.observe(r),function(){s.disconnect()}}),[r]),[n,i]}:function(){return[bo,Oo]};function wo(e){return wo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wo(e)}function Po(){return Po=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Po.apply(this,arguments)}function jo(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Eo(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?jo(Object(r),!0).forEach((function(t){xo(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jo(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function xo(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==wo(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==wo(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===wo(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Co(e,t){if(e){if("string"==typeof e)return ko(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?ko(e,t):void 0}}function ko(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Ro=a(14603),_o=a(14021),To=function(e){var r,n,o=e.className,i=e.children,a=(r=So(),n=2,function(e){if(Array.isArray(e))return e}(r)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,s=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(r,n)||Co(r,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),s=a[0],l=a[1].height;return t().createElement("div",{ref:s,className:o},i(l))},Io=z()({displayName:"SimpleList",propTypes:{infiniteSliceCount:U().number,filterNodes:U().func,customToolbar:U().object,tableKeys:U().object,autoRefresh:U().number,reloadAtCursor:U().bool,clearSelectionOnReload:U().bool,observeNodeReload:U().bool,defaultGroupBy:U().string,groupByLabel:U().string,groupByValueFunc:U().func,skipParentNavigation:U().bool,skipInternalDataModel:U().bool,delayInitialLoad:U().number,entryEnableSelector:U().func,renderCustomEntry:U().func,entryRenderIcon:U().func,entryRenderActions:U().func,entryRenderFirstLine:U().func,entryRenderSecondLine:U().func,entryRenderThirdLine:U().func,entryHandleClicks:U().func,hideToolbar:U().bool,computeActionsForNode:U().bool,multipleActions:U().array,openEditor:U().func,openCollection:U().func,elementStyle:U().object,passScrollingStateToChildren:U().bool,elementHeight:U().oneOfType([U().number,U().object]).isRequired},statics:{HEIGHT_ONE_LINE:50,HEIGHT_TWO_LINES:73,CLICK_TYPE_SIMPLE:"simple",CLICK_TYPE_DOUBLE:"double",PARENT_FOLDER_ICON:"mdi mdi-chevron-left"},getDefaultProps:function(){return{infiniteSliceCount:30,clearSelectionOnReload:!0}},getMessage:function(e){return Z().getMessages()[e]||e},clickRow:function(e,t){var r;if(r=e.props?e.props.data.node:e,this.props.entryHandleClicks)this.props.entryHandleClicks(r,Io.CLICK_TYPE_SIMPLE,t);else if(r.isLeaf()&&this.props.openEditor){if(!1===this.props.openEditor(r))return;var n=new Map;n.set(r,!0),this.setState({selection:n},this.rebuildLoadedElements)}else r.isLeaf()||(this.props.openCollection?this.props.openCollection(r):this.props.dataModel.setSelectedNodes([r]))},doubleClickRow:function(e,t){var r;r=e.props?e.props.data.node:e,this.props.entryHandleClicks&&this.props.entryHandleClicks(r,Io.CLICK_TYPE_DOUBLE,t)},onColumnSort:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],o=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=this.props,a=i.node,s=i.pydio,l=i.defaultSortingInfo,c=i.sortingPreferenceKey,u=s.user,f=a.getMetadata(),p=f.get("paginationData");if(e.remoteSortAttribute&&p&&p.get("total")>1){var d=f.get("remoteOrder")||new Map,y="asc"===d.get("order_direction")?"desc":"asc";if(d.get("order_column")===e.remoteSortAttribute&&("asc"===y&&n||o))f.delete("remoteOrder"),this.setState({sortingInfo:null},(function(){return t.sortingInfoChange({})}));else{var h=new Map;h.set("order_column",e.remoteSortAttribute),h.set("order_direction",y),f.set("remoteOrder",h)}this.props.dataModel.requireContextChange(a,!0)}else{f.has("remoteOrder")&&f.delete("remoteOrder");var m,b=e.sortAttribute?e.sortAttribute:e.name,v=this.state.sortingInfo,g=v.attribute,O=v.direction;g===b&&O?(console.log(O,n,o,e),m=o||"desc"===O&&n?l||{}:{attribute:b,sortType:e.sortType,direction:"asc"===O?"desc":"asc"}):m={attribute:b,sortType:e.sortType,direction:"asc"},this.setState({sortingInfo:m},(function(){if(t.rebuildLoadedElements(),null!==r&&r instanceof Function&&r(),c){var e=u.getActiveRepositoryObject().getSlug(),n=u.getGUIPreference(c)||{};n[e]=m,u.setGUIPreference(c,n,!0)}t.sortingInfoChange(m)}))}},computeSelectionFromCurrentPlusTargetNode:function(e,t){var r,n,o=!1;if(!this.indexedElements)return[];for(var i=e[0],a=e[e.length-1],s=[],l=0;l<this.indexedElements.length;l++){if(void 0!==r&&s.push(this.indexedElements[l].node),this.indexedElements[l].node===t){if(void 0!==r&&void 0===n){n=l;break}r=l,o=!0,s.push(this.indexedElements[l].node)}if(this.indexedElements[l].node===i&&void 0===r&&(r=l,s.push(this.indexedElements[l].node)),this.indexedElements[l].node===a&&o){n=l;break}}return s},onKeyDown:function(e){var t,r,n=this.dm,o=this.props.elementsPerLine||1,i=e.shiftKey,a=e.key;if(!n.isEmpty()&&this.indexedElements){i&&["ArrowDown","ArrowRight","PageDown","End"].indexOf(a);var s=n.getSelectedNodes(),l=s[0],c=s[s.length-1];if("Enter"!==a){if("Delete"!==a||!Z().getInstance().Controller.fireActionByKey("key_delete")){for(var u=0;u<this.indexedElements.length;u++)if(this.indexedElements[u].node===l&&(t=u),this.indexedElements[u].node===c){r=u;break}var f,p=this.indexedElements.length-1,d="PageDown"===a||"PageUp"===a?10:1;if("ArrowDown"===a||"PageDown"===a?f=Math.min(r+o*d,p):"ArrowUp"===a||"PageUp"===a?f=Math.max(t-o*d,0):"Home"===a?f=0:"End"===a&&(f=p),o>1&&("ArrowRight"===a?f=r+1:"ArrowLeft"===a&&(f=t-1)),i&&void 0!==f){var y=Math.min(t,r,f),h=Math.max(t,r,f);if(y!==h){for(var m=[],b=y;b<h+1;b++)this.indexedElements[b]&&m.push(this.indexedElements[b].node);n.setSelectedNodes(m)}}else this.indexedElements[f]&&this.indexedElements[f].node&&n.setSelectedNodes([this.indexedElements[f].node])}}else this.doubleClickRow(l)}},getInitialState:function(){this.actionsCache={multiple:new Map};var e=this.props,t=e.skipInternalDataModel,r=e.dataModel,n=e.node,o=e.infiniteSliceCount,i=e.defaultSortingInfo,a=e.pydio,s=e.sortingPreferenceKey;t?this.dm=r:(this.dm=new Ro,this.dm.setRootNode(r.getContextNode()),this.dm.setContextNode(r.getContextNode()));var l=i||null;if(s&&a.user.getGUIPreference(s)){var c=a.user.getActiveRepositoryObject().getSlug(),u=a.user.getGUIPreference(s)||{};u[c]&&!u[c].remote&&(l=u[c])}var f={loaded:n.isLoaded(),loading:!n.isLoaded(),showSelector:!1,elements:n.isLoaded()?this.buildElements(0,o):[],sortingInfo:l,infiniteLoadBeginBottomOffset:200};return this.sortingInfoChange(l),f},componentWillReceiveProps:function(e){this.indexedElements=null;var t=e.infiniteSliceCount,r=e.defaultSortingInfo,n=e.node,o=e.sortingPreferenceKey,i=e.pydio,a=e.autoRefresh,s=e.elementsPerLine,l=Math.max(this.state.elements.length,t),c=this.state.sortingInfo,u=void 0===c?r:c,f=this.remoteSortingInfo(n,u);if(-1===f)u={};else if(f instanceof Object)u=f;else if(n!==this.props.node&&o&&i.user.getGUIPreference(o)){var p=i.user.getActiveRepositoryObject().getSlug(),d=i.user.getGUIPreference(o)||{};d[p]&&(u=d[p])}this.sortingInfoChange(u),this.setState({loaded:n.isLoaded(),loading:!n.isLoaded(),showSelector:!1,elements:n.isLoaded()?this.buildElements(0,l,n,e):[],infiniteLoadBeginBottomOffset:200,sortingInfo:u}),!a&&this.refreshInterval?(window.clearInterval(this.refreshInterval),this.refreshInterval=null):a&&!this.refreshInterval&&(this.refreshInterval=window.setInterval(this.reload,a)),this.patchInfiniteGrid(s),this.props.node&&n!==this.props.node&&this.observeNodeChildren(this.props.node,!0),this._manualScrollPe&&(this._manualScrollPe.stop(),this._manualScrollPe=null)},sortingInfoChange:function(e){var t=this,r=this.props,n=r.defaultSortingInfo,o=r.onSortingInfoChange;o&&(e!==n&&e.attribute?o(Eo(Eo({},e),{},{toggle:function(){var r=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=t.props.sortKeys,o=e.remote?{remoteSortAttribute:e.attribute}:n[e.attribute];console.log("TOGGLE",o,r),t.onColumnSort(o,null,!1,r)}})):o({}))},observeNodeChildren:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];t&&!this._childrenObserver||(this._childrenObserver||(this._childrenObserver=function(){this.indexedElements=null,this.rebuildLoadedElements()}.bind(this)),t?(e.stopObserving("child_added",this._childrenObserver),e.stopObserving("child_removed",this._childrenObserver),e.stopObserving("child_replaced",this._childrenObserver)):(e.observe("child_added",this._childrenObserver),e.observe("child_removed",this._childrenObserver),e.observe("child_replaced",this._childrenObserver)))},_loadNodeIfNotLoaded:function(){var e=this.props.node;e.isLoaded()?this.observeNodeChildren(e):(e.observeOnce("loaded",function(){this.props.node===e&&(this.observeNodeChildren(e),this.setState({loaded:!0,loading:!1,elements:this.buildElements(0,this.props.infiniteSliceCount)}))}.bind(this)),e.load())},_loadingListener:function(){this.observeNodeChildren(this.props.node,!0),this.setState({loaded:!1,loading:!0}),this.indexedElements=null},_loadedListener:function(){var e=Math.max(this.state.elements.length,this.props.infiniteSliceCount);this.setState({loading:!1,elements:this.buildElements(0,e)}),this.observeNodeChildren(this.props.node)},reload:function(){this.props.reloadAtCursor&&this._currentCursor?this.loadStartingAtCursor():(this.props.clearSelectionOnReload&&this.props.dataModel.setSelectedNodes([]),this._loadingListener(),this.props.node.observeOnce("loaded",this._loadedListener),this.props.node.reload())},loadStartingAtCursor:function(){this._loadingListener();var e=this.props.node,t=e.getChildren(),r=[];e.observeOnce("loaded",function(){var n=new Map;r.map((function(e){n.set(e.getPath(),e)})),t.forEach((function(e){n.set(e.getPath(),e)})),e._children=n,this._loadedListener()}.bind(this)),e.setLoaded(!1),e.observe("child_added",(function(t){r.push(e._children.get(t))})),this.props.node.load(null,{cursor:this._currentCursor})},wireReloadListeners:function(){this.wrappedLoading=this._loadingListener,this.wrappedLoaded=this._loadedListener,this.props.node.observe("loading",this.wrappedLoading),this.props.node.observe("loaded",this.wrappedLoaded)},stopReloadListeners:function(){this.props.node.stopObserving("loading",this.wrappedLoading),this.props.node.stopObserving("loaded",this.wrappedLoaded)},toggleSelector:function(){this.setState({showSelector:!this.state.showSelector,selection:new Map,bulkSelectorChecked:!1},this.rebuildLoadedElements)},toggleSelection:function(e){var t=this.state.selection||new Map;t.get(e)?t.delete(e):t.set(e,!0),this.setState({selection:t,bulkSelectorChecked:!1},this.rebuildLoadedElements)},selectAll:function(e){if(e){var t=new Map;this.props.node.getChildren().forEach(function(e){this.props.filterNodes&&!this.props.filterNodes(e)||e.isLeaf()&&t.set(e,!0)}.bind(this)),this.setState({selection:t,bulkSelectorChecked:!0},this.rebuildLoadedElements)}else this.setState({selection:new Map,bulkSelectorChecked:!1},this.rebuildLoadedElements)},applyMultipleAction:function(e){if(this.state.selection&&this.state.selection.size){var t=e.currentTarget.getAttribute("data-action"),r=this.dm||new Ro;r.setContextNode(this.props.node);var n=[];this.state.selection.forEach((function(e,t){n.push(t)})),r.setSelectedNodes(n);var o=this.props.pydio.Controller.getActionByName(t);o.fireContextChange(r,!0,this.props.pydio.user),o.apply([r]),e.stopPropagation(),e.preventDefault()}},getActionsForNode:function(e,t){var r=this.props,n=r.computeActionsForNode,o=r.pydio;if(!n)return[];var i=t.isLeaf()?"file-"+t.getAjxpMime():"folder",a=t.isLeaf()?"file":"dir",s=[];return this.actionsCache[i]?s=this.actionsCache[i]:(e.setSelectedNodes([t]),o.Controller.actions.forEach(function(r){r.fireContextChange(e,!0,o.user),!(r.context.selection&&r.context.actionBar&&r.selectionContext[a]&&!r.deny&&r.options.icon_class)||this.props.actionBarGroups&&-1===this.props.actionBarGroups.indexOf(r.context.actionBarGroup)||r.selectionContext.allowedMimes.length&&-1===r.selectionContext.allowedMimes.indexOf(t.getAjxpMime())||(s.push(r),t.isLeaf()&&!1===r.selectionContext.unique&&this.actionsCache.multiple.set(r.options.name,r))}.bind(this)),this.actionsCache[i]=s),s},patchInfiniteGrid:function(e){this.infinite.current&&e>1&&(this.infinite.current.state.infiniteComputer.__proto__.getDisplayIndexStart=function(t){return e*Math.floor(t/this.heightData/e)},this.infinite.current.state.infiniteComputer.__proto__.getDisplayIndexEnd=function(t){return e*Math.ceil(t/this.heightData/e)})},componentWillMount:function(){this.infinite=(0,e.createRef)()},componentDidMount:function(){var e=this;this.props.delayInitialLoad?setTimeout((function(){e._loadNodeIfNotLoaded()}),this.props.delayInitialLoad):this._loadNodeIfNotLoaded(),this.patchInfiniteGrid(this.props.elementsPerLine),this.props.autoRefresh&&(this.refreshInterval=window.setInterval(this.reload,this.props.autoRefresh)),this.props.observeNodeReload&&this.wireReloadListeners(),this.props.dataModel.observe("root_node_changed",(function(t){e.rootNodeChangedFlag=!0})),this.props.dataModel.observe("selection_changed",function(){var e=this;if(this.isMounted()){var t=new Map,r=this.props.dataModel.getSelectedNodes();r.map((function(e){t.set(e,!0)})),this.setState({selection:t},(function(){e.rebuildLoadedElements(),1===r.length&&e.scrollToView(r[0])}))}}.bind(this));var t=new Map,r=this.props.dataModel.getSelectedNodes();r.length&&(r.map((function(e){t.set(e,!0)})),this.setState({selection:t},(function(){setTimeout((function(){e.scrollToView(r[0])}),500)})))},componentWillUnmount:function(){this.refreshInterval&&window.clearInterval(this.refreshInterval),this.props.observeNodeReload&&this.stopReloadListeners(),this.props.node&&this.observeNodeChildren(this.props.node,!0)},componentDidUpdate:function(e,t){!this.rootNodeChangedFlag&&e.node&&this.props.node&&e.node.getPath()===this.props.node.getPath()||(this._loadNodeIfNotLoaded(),this.rootNodeChangedFlag=!1)},onScroll:function(e){if(this.props.onScroll&&this.props.onScroll(e),this.props.passScrollingStateToChildren){this.state.scrollTimeout&&clearTimeout(this.state.scrollTimeout);var t=this,r=setTimeout((function(){t.setState({isScrolling:!1,scrollTimeout:void 0})}),150);this.setState({isScrolling:!0,scrollTimeout:r})}},scrollToLast:function(){this.indexedElements&&this.indexedElements[this.indexedElements.length-1].node&&this.scrollToView(this.indexedElements[this.indexedElements.length-1].node)},scrollToView:function(e){var t=this;if(this.indexedElements&&this.infinite.current&&this.infinite.current.scrollable){var r=n().findDOMNode(this.infinite.current),o=this.infinite.current.scrollable,i=o.scrollTop+this.props.elementHeight/2,a=o.scrollTop+r.clientHeight-this.props.elementHeight/2,s=this.indexedElements.length*this.props.elementHeight-r.clientHeight,l=-1;if(this.indexedElements.forEach((function(t,r){t.node&&t.node===e&&(l=r)})),-1!==l){var c=this.props.elementHeight,u=l*c;u>i&&u<a||(u>=a&&(u-=r.clientHeight-2*c),u=Math.min(u,s),o.scrollTop=u,this._manualScrollPe&&this._manualScrollPe.stop(),o.scrollHeight<u&&(this._manualScrollPe=new _o((function(){o.scrollTop=u,o.scrollHeight>=u&&(t._manualScrollPe.stop(),t._manualScrollPe=null)}),.25)))}}},buildElementsFromNodeEntries:function(e,r){var n=[],o=e.length,i=this.props,a=i.entriesProps,s=i.elementStyle,l=i.tableKeys,c=i.passScrollingStateToChildren;return a=Eo(Eo({},a),{},{style:s}),c&&(a.parentIsScrolling=this.state.isScrolling),e.forEach(function(e,i){var s;if(e.parent)s=Eo({node:e.node,key:i+":"+e.node.getPath(),id:e.node.getPath(),mainIcon:Io.PARENT_FOLDER_ICON,firstLine:"..",className:"list-parent-node",secondLine:this.getMessage("react.1"),onClick:this.clickRow.bind(this),onDoubleClick:this.doubleClickRow.bind(this),showSelector:!1,selectorDisabled:!0,noHover:!1},a),this.props.entryRenderParentIcon&&!this.props.tableKeys?s.iconCell=this.props.entryRenderParentIcon(e.node,e):s.mainIcon=Io.PARENT_FOLDER_ICON,l&&(s.onClick=s.onDoubleClick),n.push(t().createElement(ue,s));else if(e.groupHeader){var c=e.groupHeader,u=e.groupHeaderLabel;this.props.entryRenderGroupHeader&&(u=this.props.entryRenderGroupHeader(c,u)),s=Eo({node:null,key:i+":"+c,id:c,mainIcon:null,firstLine:u,className:"list-group-header",onClick:null,showSelector:!1,selectorDisabled:!0,noHover:!0},a),e.groupFill&&(s.style=Eo(Eo({},s.style),{},{visibility:"hidden"})),n.push(t().createElement(ue,s))}else(s=Eo({node:e.node,onClick:this.clickRow.bind(this),onDoubleClick:this.doubleClickRow.bind(this),onSelect:this.toggleSelection.bind(this),key:i+":"+e.node.getPath(),id:e.node.getPath(),renderIcon:this.props.entryRenderIcon,renderFirstLine:this.props.entryRenderFirstLine,renderSecondLine:this.props.entryRenderSecondLine,renderThirdLine:this.props.entryRenderThirdLine,renderActions:this.props.entryRenderActions,showSelector:r,selected:!(!this.state||!this.state.selection)&&this.state.selection.get(e.node),actions:t().createElement(qn,{node:e.node,actions:e.actions,dataModel:this.dm}),selectorDisabled:!(this.props.entryEnableSelector?this.props.entryEnableSelector(e.node):e.node.isLeaf())},a)).isFirst=0===i,s.isLast=i===o-1,i++,this.props.renderCustomEntry?n.push(this.props.renderCustomEntry(s)):l?(this.props.defaultGroupBy?(s.tableKeys=Eo({},l),delete s.tableKeys[this.props.defaultGroupBy]):s.tableKeys=l,n.push(t().createElement(Tr,s))):!e.node.isLeaf()||e.node.getMetadata().has("local:dropFunc")?n.push(t().createElement(Ln,s)):n.push(t().createElement(Dn,s))}.bind(this)),n},prepareSortFunction:function(){var e=(this.state||{}).sortingInfo;if(!e)return null;var t,r=e.attribute,n=e.direction,o=e.sortType;return t="file-natural"===o?mo:function(e,t,r){return function(n,o){if(n.getMetadata().has("local:pinSort")&&!o.getMetadata().has("local:pinSort"))return-1;if(o.getMetadata().has("local:pinSort")&&!n.getMetadata().has("local:pinSort"))return 1;var i;if("number"===t){var a=n.getMetadata().get(e)||0,s=o.getMetadata().get(e)||0;a=parseFloat(a),s=parseFloat(s),i="asc"===r?a-s:s-a}else if("string"===t){var l=n.getMetadata().get(e)||"",c=o.getMetadata().get(e)||"";i="asc"===r?l.localeCompare(c):c.localeCompare(l)}if(0===i){var u=n.getLabel().localeCompare(o.getLabel(),void 0,{numeric:!0});i="asc"===r?u:-u}return i}}(r,o,n),function(e,r){return e.parent?-1:r.parent?1:t(e.node,r.node)}},buildElements:function(e,t,r){var n,o,i,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0,s=r||this.props.node,l=a||this.props,c=this.prepareSortFunction();if(!this.indexedElements||this.indexedElements.length!==s.getChildren().size){this.indexedElements=[];var u,f,p,d,y=l.defaultGroupBy,h=l.groupByLabel,m=void 0!==h&&h;y&&(u={},f=[],p={}),l.skipParentNavigation||!s.getParent()||l.dataModel.getContextNode()===s&&!l.skipInternalDataModel||(o=!0,this.indexedElements.push({node:s.getParent(),parent:!0,actions:null})),s.getChildren().forEach(function(e){if(e.getMetadata().has("cursor")){var t=parseInt(e.getMetadata().get("cursor"));this._currentCursor=Math.max(this._currentCursor?this._currentCursor:0,t)}if(!l.filterNodes||l.filterNodes(e)){var r,n=this.getActionsForNode(this.dm,e);y?(r=l.groupByValueFunc?l.groupByValueFunc(e.getMetadata().get(y))||"N/A":e.getMetadata().get(y)||"N/A",u[r]||(u[r]=[],f.push(r)),m&&e.getMetadata().has(m)&&!p[r]&&(p[r]=e.getMetadata().get(m)),u[r].push({node:e,parent:!1,actions:n})):this.indexedElements.push({node:e,parent:!1,actions:n})}}.bind(this)),y&&(l.groupSkipUnique&&1===f.length?(d=this.indexedElements).push.apply(d,function(e){if(Array.isArray(e))return ko(e)}(i=u[f[0]])||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(i)||Co(i)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()):(n=!0,(f=f.sort()).map(function(e,t){var r=e;if(p[e]?r=p[e]:l.renderGroupLabels&&(r=l.renderGroupLabels(y,e)),this.indexedElements.push({node:null,groupHeader:e,groupHeaderLabel:r,parent:!1,actions:null}),c&&u[e].sort(c),this.indexedElements=this.indexedElements.concat(u[e]),l.elementsPerLine>1){var n=l.elementsPerLine-u[e].length%l.elementsPerLine-1;0===t&&o&&(n-=1);for(var i=0;i<n;i++)this.indexedElements.push({node:null,groupHeader:Math.random(),groupFill:!0,parent:!1,actions:null})}}.bind(this))))}return!n&&c&&this.indexedElements.sort(c),this.indexedElements.slice(e,t)},rebuildLoadedElements:function(){var e=this.buildElements(0,Math.max(this.state.elements.length,this.props.infiniteSliceCount)),t=e.length?200:0;this.setState({elements:e,infiniteLoadBeginBottomOffset:t})},handleInfiniteLoad:function(){var e=this.state.elements.length,t=this.buildElements(e,e+this.props.infiniteSliceCount),r=t.length?200:0;this.setState({isInfiniteLoading:!1,elements:this.state.elements.concat(t),infiniteLoadBeginBottomOffset:r})},remoteSortingInfo:function(e){if(!e)return null;var t=e.getMetadata(),r=t.get("paginationData")||new Map,n=t.get("remoteOrder")||new Map;return r.get("total")>1?n.has("order_column")&&n.has("order_direction")?{remote:!0,attribute:n.get("order_column"),direction:n.get("order_direction")}:-1:0},renderToolbar:function(){var e=this,r=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=this.state.sortingInfo;if(r)return this.props.sortKeys?t().createElement(cn,{displayMode:"hidden",tableKeys:this.props.sortKeys,columnClicked:this.onColumnSort,sortingInfo:n}):null;var o,i,a=[t().createElement(g.FontIcon,{key:1,tooltip:"Reload",className:"mdi mdi-reload"+(this.state.loading?" rotating":""),onClick:this.reload})],s=2;if(this.props.sortKeys&&(a.push(t().createElement(cn,{key:s,displayMode:"menu",tableKeys:this.props.sortKeys,columnClicked:this.onColumnSort,sortingInfo:n})),s++),this.props.additionalActions&&a.push(this.props.additionalActions),this.props.node.getMetadata().get("paginationData")&&this.props.node.getMetadata().get("paginationData").get("total")>1&&(i=t().createElement(vn,{dataModel:this.dm,node:this.props.node})),this.props.listTitle&&(o=t().createElement(g.ToolbarGroup,{key:0,float:"left"},t().createElement("div",{className:"list-title"},this.props.listTitle))),this.props.searchResultData)o=t().createElement(g.ToolbarGroup,{key:0,float:"left"},t().createElement("div",{style:{fontSize:12,fontWeight:500,color:"#9e9e9e"}},this.getMessage("searchengine.topbar.title")+" "+this.props.searchResultData.term)),a=t().createElement(g.RaisedButton,{key:1,label:this.getMessage("86"),primary:!0,onClick:this.props.searchResultData.toggleState,style:{marginRight:-10}});else if(this.actionsCache.multiple.size||this.props.multipleActions){var l=this.getMessage("react.2"),c={transform:"translateX(-80px)"},u=Eo({width:24},c),f=Eo({},c),p=this.state,d=p.showSelector,y=p.selection,h=p.bulkSelectorChecked;d&&(u={width:24,transform:"translateX(-12px)"},f={transform:"translateX(-40px)"}),y&&d&&(l+=" ("+y.size+")"),o=t().createElement(g.ToolbarGroup,{key:0,float:"left",className:"hide-on-vertical-layout"},t().createElement(g.Checkbox,{checked:h,onCheck:function(t,r){return e.selectAll(r)},style:u}),t().createElement(g.FlatButton,{label:l,onClick:function(){return e.toggleSelector()},style:f})),d&&(a=[],(this.props.multipleActions||this.actionsCache.multiple).forEach(function(e){a.push(t().createElement(g.RaisedButton,{key:0,label:e.options.text,"data-action":e.options.name,onClick:this.applyMultipleAction,primary:!0,disabled:!y||!y.size,style:{marginLeft:5}}))}.bind(this)),a=t().createElement("span",null,a))}return t().createElement(g.Toolbar,{style:this.props.toolbarStyle},o,t().createElement(g.ToolbarGroup,{key:1,float:"right"},i,a))},render:function(){var e,r,n,o=this,i="material-list vertical-layout layout-fill",a=this.props,s=a.className,l=a.showSelector,c=a.tableKeys,u=a.defaultGroupBy,f=a.dataModel,p=a.node,d=a.additionalActions,y=a.customToolbar,h=a.hideToolbar,m=a.emptyStateProps,b=a.entryHandleClicks;if(s&&(i+=" "+s),l&&(i+=" list-show-selectors"),c&&(i+=" table-mode"),c){var v;u?delete(v=Eo({},c))[u]:v=this.props.tableKeys;var g=this.state,O=g.sortingInfo,S=g.loading;e=t().createElement(jn,{tableKeys:v,loading:S,reload:this.reload,ref:"loading_indicator",dm:f,node:p,additionalActions:d,onHeaderClick:this.onColumnSort,sortingInfo:O})}else e=y||(h?null:this.renderToolbar()),(h||y)&&(r=this.renderToolbar(!0));if(m&&p.isLoaded()&&!p.isLoading()&&(!this.state.elements.length||1===this.state.elements.length&&this.state.elements[0].parent)){var w={};if(1===this.state.elements.length&&this.state.elements[0].parent){var P=this.state.elements[0].node;w={actionLabelId:"react.1",actionIconClassName:Io.PARENT_FOLDER_ICON,actionCallback:function(e){b&&b(P,Io.CLICK_TYPE_DOUBLE,e)}}}n=t().createElement(co,Po({},m,w))}else m&&m.checkEmptyState&&m.checkEmptyState(p)&&(n=t().createElement(co,m));var j,E,x=this.buildElementsFromNodeEntries(this.state.elements,this.state.showSelector),C=this.props,k=C.verticalScroller,R=C.usePlaceHolder,_=x;if(!x.length&&R&&(_=t().createElement(ho,this.props)),n)_=n;else if(k)j=function(e){return t().createElement(G(),{speed:.8,horizontalScroll:!1,style:{height:e},verticalScrollbarStyle:{borderRadius:10,width:6},verticalContainerStyle:{width:8}},t().createElement("div",null,_))};else{if(c)return t().createElement("div",{className:i,tabIndex:"0",onKeyDown:this.onKeyDown,style:Eo(Eo({},this.props.style),{},{overflowX:"auto"})},r,t().createElement("div",{style:{display:"flex",flexDirection:"column",flex:1,height:"100%",width:"100%",minWidth:"fit-content"}},e,t().createElement(To,{className:n?"layout-fill vertical_layout":"layout-fill"},(function(e){return t().createElement(H(),{elementHeight:o.state.elementHeight?o.state.elementHeight:o.props.elementHeight,containerHeight:e||1,infiniteLoadBeginEdgeOffset:o.state.infiniteLoadBeginBottomOffset,onInfiniteLoad:o.handleInfiniteLoad,handleScroll:o.onScroll,ref:o.infinite},_)}))));E=function(e){return t().createElement(H(),{elementHeight:o.state.elementHeight?o.state.elementHeight:o.props.elementHeight,containerHeight:e||1,infiniteLoadBeginEdgeOffset:o.state.infiniteLoadBeginBottomOffset,onInfiniteLoad:o.handleInfiniteLoad,handleScroll:o.onScroll,ref:o.infinite},j?j(e):_)}}return t().createElement("div",{className:i,tabIndex:"0",onKeyDown:this.onKeyDown,style:this.props.style},e,r,t().createElement(To,{className:n?"layout-fill vertical_layout":"layout-fill"},E||function(e){return _}))}});function Mo(e){return Mo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mo(e)}function Ao(){return Ao=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ao.apply(this,arguments)}function Do(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Lo(n.key),n)}}function Lo(e){var t=function(e,t){if("object"!==Mo(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==Mo(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===Mo(t)?t:String(t)}function No(e,t){return No=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},No(e,t)}function zo(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Bo(e){return Bo=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Bo(e)}var Uo=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&No(e,t)}(s,e);var r,n,o,i,a=(o=s,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Bo(o);if(i){var r=Bo(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===Mo(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return zo(e)}(this,e)});function s(e){var t,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),r=(t=a.call(this,e)).props.presetDataModel?t.props.presetDataModel:PydioDataModel.RemoteDataModelFactory(t.props.nodeProviderProperties);var n=t.props.presetRootNode||r.getRootNode();return t.props.nodeClicked&&(t.openEditor=function(e){return this.props.nodeClicked(e),!1}.bind(zo(t)),t._selObserver=function(e){var r=e.memo.getSelectedNodes();r.length&&(t.props.nodeClicked(r[0]),e.memo.setSelectedNodes([]))},r.observe("selection_changed",t._selObserver)),t.props.reloadOnServerMessage&&t.props.pydio&&(t._smObs=function(e){XMLUtils.XPathSelectSingleNode(e,this.props.reloadOnServerMessage)&&this.reload()}.bind(zo(t)),t.props.pydio.observe("server_message",t._smObs),t.props.pydio.observe("server_message:"+t.props.reloadOnServerMessage,t.reload)),t.state={node:n,dataModel:r},t}return r=s,(n=[{key:"reload",value:function(){this.refs.list&&this.isMounted()&&this.refs.list.reload()}},{key:"componentWillUnmount",value:function(){this._smObs&&(this.props.pydio.stopObserving("server_message",this._smObs),this.props.pydio.stopObserving("server_message:"+this.props.reloadOnServerMessage,this.reload)),this._selObserver&&this.state.dataModel.stopObserving("selection_changed",this._selObserver)}},{key:"componentWillReceiveProps",value:function(e){if(this.props.nodeProviderProperties&&this.props.nodeProviderProperties!==e.nodeProviderProperties){var t=this.state,r=t.dataModel,n=t.node,o=new RemoteNodeProvider(e.nodeProviderProperties);r.setAjxpNodeProvider(o),n.updateProvider(o),this.setState({dataModel:r,node:n})}else this.props.presetDataModel!==e.presetDataModel&&this.setState({dataModel:e.presetDataModel,node:e.presetRootNode||e.presetDataModel.getRootNode()})}},{key:"render",value:function(){return t().createElement("div",{className:this.props.heightAutoWithMax?"":"layout-fill vertical-layout",style:this.props.containerStyle},t().createElement(Io,Ao({},this.props,{openEditor:this.openEditor,ref:"list",style:Object.assign({height:"100%"},this.props.style||{}),node:this.state.node,dataModel:this.state.dataModel,actionBarGroups:this.props.actionBarGroups,skipParentNavigation:!0,observeNodeReload:!0,hideToolbar:!0})))}}])&&Do(r.prototype,n),Object.defineProperty(r,"prototype",{writable:!1}),s}(t().Component);function Fo(){return Fo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Fo.apply(this,arguments)}function Zo(e,t){return Zo=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Zo(e,t)}function Wo(e){return Wo=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Wo(e)}function Ho(e){return Ho="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ho(e)}function qo(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Go(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Vo(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Go(Object(r),!0).forEach((function(t){$o(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Go(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function $o(e,t,r){return(t=Jo(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ko(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Yo(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Jo(n.key),n)}}function Xo(e,t,r){return t&&Yo(e.prototype,t),r&&Yo(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Jo(e){var t=function(e,t){if("object"!==Ho(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==Ho(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===Ho(t)?t:String(t)}var Qo=Z().requireLib("boot").moment,ei=Z().requireLib("hoc").ThemedModernStyles,ti=function(){function e(t,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;Ko(this,e),this.state=Vo({},t),!t.sortCol&&n&&(this.state.sortCol=n,this.state.sortDir=o||"asc"),this.onSort=r}return Xo(e,[{key:"renderHeader",value:function(e,r){var n=this,o=this.state,i=o.sortCol,a=o.sortDir,s={cursor:"pointer",position:"relative"},l={left:-17,position:"absolute"};if(i!==e||""===a)return t().createElement("span",{onClick:function(){n.onSort(e,"asc")},style:s},r);var c=r;return"asc"===a?c=t().createElement("span",{onClick:function(){n.onSort(e,"desc")},style:s},r," ",t().createElement("span",{style:l,className:"mdi mdi-arrow-up"})):"desc"===a&&(c=t().createElement("span",{onClick:function(){n.onSort(e,"")},style:s},r," ",t().createElement("span",{style:l,className:"mdi mdi-arrow-down"}))),c}},{key:"setData",value:function(e,t){this.columns=e,this.data=t}},{key:"sorted",value:function(){var e=this.state,t=e.sortCol,r=e.sortDir;if(!t||!r)return this.data;var n,o=function(e){if(Array.isArray(e))return qo(e)}(n=this.data)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(n)||function(e,t){if(e){if("string"==typeof e)return qo(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?qo(e,t):void 0}}(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),i=this.columns.filter((function(e){return e.name===t}))[0],a=i.sorter;return a?(o.sort((function(e,n){var o,s;return a.value?(o=a.value(e),s=a.value(n)):i.renderCell?(o=i.renderCell(e),s=i.renderCell(n)):(o=e[t],s=n[t]),"string"===a.type?(o||(o=""),s||(s=""),o=o.toLowerCase(),s=s.toLowerCase()):"number"===a.type&&(o=parseInt(o),s=parseInt(s)),"asc"===r?o>s?1:o<s?-1:0:o<s?1:o>s?-1:0})),o):this.data}}]),e}(),ri=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Zo(e,t)}(i,e);var r,n,o=(r=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Wo(r);if(n){var o=Wo(this).constructor;e=Reflect.construct(t,arguments,o)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===Ho(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function i(e){var t;return Ko(this,i),(t=o.call(this,e)).state={},t}return Xo(i,[{key:"onRowSelection",value:function(e){var t=this.props,r=t.data,n=t.onSelectRows;if(n)if("none"===e)n([]);else if("all"===e)n(r);else{var o=r,i=this.computeSorter();i&&(o=i.sorted());var a=this.computePagination();a.use&&(o=o.slice(a.sliceStart,a.sliceEnd));var s=[];e.map((function(e){var t=o.slice(0,e).filter((function(e){return e.expandedRow})).length;t&&(e-=t),s.push(o[e])})),n(s)}}},{key:"loadStoredValue",value:function(){var e=this.props,t=e.storageKey,r=e.columns;if(!t)return null;if(!localStorage.getItem(t+".sort"))return null;try{var n=JSON.parse(localStorage.getItem(t+".sort")),o=n.col,i=n.dir;return 0===r.filter((function(e){return e.name===o})).length||-1===["asc","desc",""].indexOf(i)?null:{col:o,dir:i}}catch(e){return null}}},{key:"computeSorter",value:function(){var e,t=this,r=this.props,n=r.columns,o=r.data,i=r.storageKey,a=n.filter((function(e){return e.sorter}));if(a.length){var s,l=a[0].name,c=a.filter((function(e){return e.sorter.default})),u=this.loadStoredValue();u?(l=u.col,s=u.dir):c.length&&(l=c[0].name,c[0].sorter.defaultDir&&(s=c[0].sorter.defaultDir)),(e=new ti(this.state,(function(e,r){t.setState({sortCol:e,sortDir:r}),i&&localStorage.setItem(i+".sort",JSON.stringify({col:e,dir:r}))}),l,s)).setData(n,o)}return e}},{key:"computePagination",value:function(){var e=this.props,t=e.data,r=e.paginate,n=e.defaultPageSize,o=e.pagination;if(o)return Vo(Vo({},o),{},{use:!0});if(!r||!t||!t.length)return{use:!1};var i=this.state.pageSize||n||r[0];if(t.length<=i)return{use:!1};for(var a=this.state.page,s=void 0===a?1:a,l=Math.ceil(t.length/i),c=(s-1)*i,u=Math.min(s*i,t.length),f=[],p=1;p<=l;p++)f.push(p);return{use:!0,sliceStart:c,sliceEnd:u,pages:f,page:s,pageSize:i,pageSizes:r}}},{key:"renderPagination",value:function(e){var r=this,n=this.props,o=n.data,i=n.muiTheme,a=e.page,s=e.pageSize,l=e.pages,c=e.pageSizes,u=e.sliceStart,f=e.sliceEnd,p=e.nextDisabled,d=e.prevDisabled,y=e.onPageNext,h=e.onPagePrev,m=e.onPageSizeChange;return t().createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"flex-end",color:"#757575"}},c.length>1&&t().createElement("div",{style:{paddingRight:10}},Z().getMessages()["material.paginator.rows"]," :"),c.length>1&&t().createElement("div",{style:{width:90}},t().createElement(g.SelectField,Fo({},ei(i).selectField,{fullWidth:!0,value:s,onChange:function(e,t,n){m?m(n):r.setState({page:1,pageSize:n})}}),c.map((function(e){return t().createElement(g.MenuItem,{value:e,primaryText:e})})))),h&&t().createElement(g.IconButton,{iconClassName:"mdi mdi-chevron-left",disabled:d,onClick:function(){return h()}}),!h&&t().createElement(g.IconButton,{iconClassName:"mdi mdi-chevron-left",disabled:1===a,onClick:function(){return r.setState({page:a-1})}}),(u||f)&&t().createElement("div",null,u+1,"-",f," ",Z().getMessages()["material.paginator.of"]," ",o.length),y&&t().createElement(g.IconButton,{iconClassName:"mdi mdi-chevron-right",disabled:p,onClick:function(){return y()}}),!y&&t().createElement(g.IconButton,{iconClassName:"mdi mdi-chevron-right",disabled:a===l.length,onClick:function(){return r.setState({page:a+1})}}))}},{key:"render",value:function(){var e=this.props,r=e.columns,n=e.deselectOnClickAway,o=e.emptyStateString,i=e.masterStyles,a=void 0===i?{}:i,s=e.emptyStateStyle,l=e.onSelectRows,c=e.computeRowStyle,u=this.props,f=u.actions,p=u.hideHeaders,d=this.props,y=d.data,h=d.showCheckboxes,m=a.actionsColor||"rgba(0,0,0,.33)",b=this.computeSorter();b&&(y=b.sorted());var v,O=this.computePagination();O.use&&(y=y.slice(O.sliceStart,O.sliceEnd),v=this.renderPagination(O));var S,w=0;f&&f.length&&(S=!0,w=1);var P=[];y.map((function(e){var n;if(c&&(n=c(e)),e.Subheader){var o=Vo({fontSize:12,color:"#616161",backgroundColor:"#FAFAFA",fontWeight:500},e.style);P.push(t().createElement(g.TableRow,{className:"media-small-hide",style:Vo({},a.row)},t().createElement(g.TableRowColumn,{colSpan:r.length+w,style:o},e.Subheader)))}else if(e.colSpan)P.push(t().createElement(g.TableRow,{style:Vo(Vo({},e.rowStyle),a.row)},t().createElement(g.TableRowColumn,{colSpan:r.length+w,style:Vo({height:"auto",paddingLeft:0,paddingRight:0,backgroundColor:"transparent"},e.cellStyle)},e.element)));else{var i=Vo(Vo({},n),a.row);e.expandedRow&&(i=Vo(Vo({},i),a.expanderRow)),P.push(t().createElement(g.TableRow,{selectable:void 0!==l,style:i},r.map((function(r){var n=e[r.name],o=n;return r.useMoment&&n?o=n=Qo(new Date(1e3*parseInt(n))).fromNow():r.renderCell&&(n=r.renderCell(e))&&"object"===Ho(n)&&n.element&&n.text&&(o=n.text,n=n.element),t().createElement(g.TableRowColumn,{style:r.style||{},title:"object"===Ho(o)?null:o,className:r.hideSmall?"media-small-hide":null},n)})),S&&t().createElement(g.TableRowColumn,{style:{overflow:"visible",textOverflow:"none",width:48*f.length+32}},f.map((function(r){var n=!!r.disable&&r.disable(e);return t().createElement(g.IconButton,{style:{padding:14,opacity:n?.5:null},iconStyle:{fontSize:20,color:m},onClick:function(t){t.stopPropagation(),r.onClick(e)},iconClassName:r.iconClassName,tooltip:r.tooltip,disabled:n})}))))),e.expandedRow&&P.push(t().createElement(g.TableRow,{selectable:!1,style:Vo(Vo({},a.row),a.expandedRow)},t().createElement(g.TableRowColumn,{colSpan:r.length+w,style:Vo({height:"auto",paddingLeft:0,paddingRight:0,backgroundColor:"transparent"},e.cellStyle)},e.expandedRow)))}}));var j=r.map((function(e){var r=e.label;return b&&e.sorter&&(r=b.renderHeader(e.name,e.label)),t().createElement(g.TableHeaderColumn,{style:Vo(Vo({},e.headerStyle),{},{height:48,backgroundColor:"#F5F5F5",fontWeight:500},a.head),className:e.hideSmall?"media-small-hide":null},r)}));return S&&j.push(t().createElement(g.TableHeaderColumn,{style:Vo({width:48*f.length+32,height:48,backgroundColor:"#F5F5F5"},a.head)})),o&&!P.length&&(h=!1,P=[t().createElement(g.TableRow,null,t().createElement(g.TableRowColumn,{colSpan:r.length,style:s},o))]),(y.length&&y[0].Subheader||o&&!P.length)&&P.unshift(t().createElement(g.TableRow,{style:Vo({borderBottom:"none",height:0},a.row)},r.map((function(e){var r=e.style||{};return t().createElement(g.TableRowColumn,{style:Vo(Vo({},r),{},{height:0}),className:e.hideSmall?"media-small-hide":null})})))),t().createElement(g.Table,{onRowSelection:this.onRowSelection.bind(this),multiSelectable:h},!p&&t().createElement(g.TableHeader,{displaySelectAll:h,adjustForCheckbox:h,enableSelectAll:h},t().createElement(g.TableRow,{style:a.row},j)),t().createElement(g.TableBody,{deselectOnClickaway:n,displayRowCheckbox:h},P),v&&t().createElement(g.TableFooter,null,t().createElement(g.TableRow,{style:{backgroundColor:"#fafafa"}},t().createElement(g.TableRowColumn,{colSpan:r.length},v))))}}]),i}(t().Component);(ri=(0,K.muiThemeable)()(ri)).PropTypes={data:U().array,columns:U().array,onSelectRows:U().func,emptyStateString:U().string};const ni=t()["undefined"!=typeof document&&void 0!==document.createElement?"useLayoutEffect":"useEffect"],oi=function(t,r,n,o){var i=e.useRef(n),a=e.useRef(o);ni((function(){i.current=n,a.current=o})),ni((function(){var e=t&&"current"in t?t.current:t;if(e){var n=0;e.addEventListener(r,s);var o=a.current;return function(){n=1,e.removeEventListener(r,s),o&&o()}}function s(){if(!n){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];i.current.apply(this,t)}}}),[t,r])};function ii(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ai(e){return ai="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ai(e)}var si="undefined",li=("undefined"==typeof window?"undefined":ai(window))!==si?window:{},ci=("undefined"==typeof performance?"undefined":ai(performance))!==si?performance:Date,ui=function(){return ci.now()},fi="AnimationFrame",pi="cancel"+fi,di="request"+fi,yi=li[di]&&li[di].bind(li),hi=li[pi]&&li[pi].bind(li);if(!yi||!hi){var mi=0;yi=function(e){var t=ui(),r=Math.max(mi+1e3/60,t);return setTimeout((function(){e(mi=r)}),r-t)},hi=function(e){return clearTimeout(e)}}var bi=function(e){hi(e.v||-1)},vi=function(e,t){var r=ui(),n={};return n.v=yi((function o(){ui()-r>=t?e.call(null):n.v=yi(o)})),n};const gi=function(t){var r=e.useRef(t);return e.useEffect((function(){r.current=t})),r};var Oi="undefined"!=typeof performance?performance:Date,Si=function(){return Oi.now()};function wi(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:30,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=gi(t),i=1e3/r,a=e.useRef(0),s=e.useRef(),l=function(){return s.current&&clearTimeout(s.current)},c=[r,n,o];function u(){a.current=0,l()}return e.useEffect((function(){return u}),c),e.useCallback((function(){var e=arguments,t=Si(),r=function(){a.current=t,l(),o.current.apply(null,e)},c=a.current;if(n&&0===c)return r();if(t-c>i){if(c>0)return r();a.current=t}l(),s.current=setTimeout((function(){r(),a.current=0}),i)}),c)}function Pi(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,s=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return ji(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?ji(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ji(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Ei=0,xi=1,Ci=0,ki=1,Ri={low:0,max:0,high:0,C:2,P:void 0,R:void 0,L:void 0,list:void 0};function _i(e){var t=e.high;e.L===Ri&&e.R===Ri?e.max=t:e.L===Ri?e.max=Math.max(e.R.max,t):e.R===Ri?e.max=Math.max(e.L.max,t):e.max=Math.max(Math.max(e.L.max,e.R.max),t)}function Ti(e){for(var t=e;t.P!==Ri;)_i(t.P),t=t.P}function Ii(e,t){if(t.R!==Ri){var r=t.R;t.R=r.L,r.L!==Ri&&(r.L.P=t),r.P=t.P,t.P===Ri?e.root=r:t===t.P.L?t.P.L=r:t.P.R=r,r.L=t,t.P=r,_i(t),_i(r)}}function Mi(e,t){if(t.L!==Ri){var r=t.L;t.L=r.R,r.R!==Ri&&(r.R.P=t),r.P=t.P,t.P===Ri?e.root=r:t===t.P.R?t.P.R=r:t.P.L=r,r.R=t,t.P=r,_i(t),_i(r)}}function Ai(e,t,r){t.P===Ri?e.root=r:t===t.P.L?t.P.L=r:t.P.R=r,r.P=t.P}function Di(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}Ri.P=Ri,Ri.L=Ri,Ri.R=Ri;var Li=function(e,t){for(var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=function(){var e={root:Ri,size:0},t={};return{insert:function(r,n,o){for(var i=e.root,a=Ri;i!==Ri&&r!==(a=i).low;)i=r<i.low?i.L:i.R;if(r===a.low&&a!==Ri){if(!function(e,t,r){for(var n,o=e.list;o;){if(o.index===r)return!1;if(t>o.high)break;n=o,o=o.next}return n||(e.list={index:r,high:t,next:o}),n&&(n.next={index:r,high:t,next:n.next}),!0}(a,n,o))return;return a.high=Math.max(a.high,n),_i(a),Ti(a),t[o]=a,void e.size++}var s={low:r,high:n,max:n,C:Ei,P:a,L:Ri,R:Ri,list:{index:o,high:n,next:null}};a===Ri?e.root=s:(s.low<a.low?a.L=s:a.R=s,Ti(s)),function(e,t){for(var r;t.P.C===Ei;)t.P===t.P.P.L?(r=t.P.P.R).C===Ei?(t.P.C=xi,r.C=xi,t.P.P.C=Ei,t=t.P.P):(t===t.P.R&&Ii(e,t=t.P),t.P.C=xi,t.P.P.C=Ei,Mi(e,t.P.P)):(r=t.P.P.L).C===Ei?(t.P.C=xi,r.C=xi,t.P.P.C=Ei,t=t.P.P):(t===t.P.L&&Mi(e,t=t.P),t.P.C=xi,t.P.P.C=Ei,Ii(e,t.P.P));e.root.C=xi}(e,s),t[o]=s,e.size++},remove:function(r){var n=t[r];if(void 0!==n){delete t[r];var o=function(e,t){var r=e.list;if(r.index===t)return null===r.next?Ci:(e.list=r.next,ki);var n=r;for(r=r.next;null!==r;){if(r.index===t)return n.next=r.next,ki;n=r,r=r.next}}(n,r);if(void 0!==o){if(o===ki)return n.high=n.list.high,_i(n),Ti(n),void e.size--;var i,a=n,s=a.C;n.L===Ri?(i=n.R,Ai(e,n,n.R)):n.R===Ri?(i=n.L,Ai(e,n,n.L)):(a=function(e){for(;e.L!==Ri;)e=e.L;return e}(n.R),s=a.C,i=a.R,a.P===n?i.P=a:(Ai(e,a,a.R),a.R=n.R,a.R.P=a),Ai(e,n,a),a.L=n.L,a.L.P=a,a.C=n.C),_i(i),Ti(i),s===xi&&function(e,t){for(var r;t!==Ri&&t.C===xi;)t===t.P.L?((r=t.P.R).C===Ei&&(r.C=xi,t.P.C=Ei,Ii(e,t.P),r=t.P.R),r.L.C===xi&&r.R.C===xi?(r.C=Ei,t=t.P):(r.R.C===xi&&(r.L.C=xi,r.C=Ei,Mi(e,r),r=t.P.R),r.C=t.P.C,t.P.C=xi,r.R.C=xi,Ii(e,t.P),t=e.root)):((r=t.P.L).C===Ei&&(r.C=xi,t.P.C=Ei,Mi(e,t.P),r=t.P.L),r.R.C===xi&&r.L.C===xi?(r.C=Ei,t=t.P):(r.L.C===xi&&(r.R.C=xi,r.C=Ei,Ii(e,r),r=t.P.L),r.C=t.P.C,t.P.C=xi,r.L.C=xi,Mi(e,t.P),t=e.root));t.C=xi}(e,i),e.size--}}},search:function(t,r,n){for(var o=[e.root];0!==o.length;){var i=o.pop();if(!(i===Ri||t>i.max)&&(i.L!==Ri&&o.push(i.L),i.R!==Ri&&o.push(i.R),i.low<=r&&i.high>=t))for(var a=i.list;null!==a;)a.high>=t&&n(a.index,i.low),a=a.next}},get size(){return e.size}}}(),o=new Array(e),i=[],a=new Array(e),s=0;s<e;s++)o[s]=0,a[s]=[];return{columnCount:e,columnWidth:t,set:function(e){for(var s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,l=0,c=1;c<o.length;c++)o[c]<o[l]&&(l=c);var u=o[l]||0;o[l]=u+s+r,a[l].push(e),i[e]={left:l*(t+r),top:u,height:s,column:l},n.insert(u,u+s,e)},get:function(e){return i[e]},update:function(t){for(var s=new Array(e),l=0,c=0;l<t.length-1;l++){var u=t[l],f=i[u];f.height=t[++l],n.remove(u),n.insert(f.top,f.top+f.height,u),s[f.column]=void 0===s[f.column]?u:Math.min(u,s[f.column])}for(l=0;l<s.length;l++)if(void 0!==s[l]){var p=a[l],d=Ni(p,s[l]),y=a[l][d],h=i[y];for(o[l]=h.top+h.height+r,c=d+1;c<p.length;c++){var m=p[c],b=i[m];b.top=o[l],o[l]=b.top+b.height+r,n.remove(m),n.insert(b.top,b.top+b.height,m)}}},range:function(e,t,r){return n.search(e,t,(function(e,t){return r(e,i[e].left,t)}))},estimateHeight:function(t,r){var i=Math.max(0,Math.max.apply(null,o));return t===n.size?i:i+Math.ceil((t-n.size)/e)*r},shortestColumn:function(){return o.length>1?Math.min.apply(null,o):o[0]||0},size:function(){return n.size}}},Ni=function(e,t){for(var r=0,n=e.length-1;r<=n;){var o=r+n>>>1,i=e[o];if(i===t)return o;i<=t?r=o+1:n=o-1}return-1},zi=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:8,n=arguments.length>3?arguments[3]:void 0;return n=n||Math.floor(e/(t+r))||1,[Math.floor((e-r*(n-1))/n),n]},Bi=[],Ui=function(e){try{return new e}catch(e){var t={};return{set:function(e,r){t[e]=r},get:function(e){return t[e]}}}};const Fi=function(e,t){var r,n,o,i,a,s,l,c,u,f=(l=(n=e).length,c=Ui(n[0]),u=1===l,l<3?{g:function(e){return void 0===(o=c.get(e[0]))||u?o:o.get(e[1])},s:function(e,t){return u?c.set(e[0],t):void 0===(o=c.get(e[0]))?((i=Ui(n[1])).set(e[1],t),c.set(e[0],i)):o.set(e[1],t),t}}:{g:function(e){for(s=c,a=0;a<l;a++)if(void 0===(s=s.get(e[a])))return;return s},s:function(e,t){for(s=c,a=0;a<l-1;a++)void 0===(i=s.get(e[a]))?(i=Ui(n[a+1]),s.set(e[a],i),s=i):s=i;return s.set(e[l-1],t),t}}),p=f.g,d=f.s;return function(){return void 0===(r=p(arguments))?d(arguments,t.apply(null,arguments)):r}};var Zi=function(){if("undefined"!=typeof Map)return Map;function e(e,t){var r=-1;return e.some((function(e,n){return e[0]===t&&(r=n,!0)})),r}return function(){function t(){this.__entries__=[]}return Object.defineProperty(t.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),t.prototype.get=function(t){var r=e(this.__entries__,t),n=this.__entries__[r];return n&&n[1]},t.prototype.set=function(t,r){var n=e(this.__entries__,t);~n?this.__entries__[n][1]=r:this.__entries__.push([t,r])},t.prototype.delete=function(t){var r=this.__entries__,n=e(r,t);~n&&r.splice(n,1)},t.prototype.has=function(t){return!!~e(this.__entries__,t)},t.prototype.clear=function(){this.__entries__.splice(0)},t.prototype.forEach=function(e,t){void 0===t&&(t=null);for(var r=0,n=this.__entries__;r<n.length;r++){var o=n[r];e.call(t,o[1],o[0])}},t}()}(),Wi="undefined"!=typeof window&&"undefined"!=typeof document&&window.document===document,Hi=void 0!==a.g&&a.g.Math===Math?a.g:"undefined"!=typeof self&&self.Math===Math?self:"undefined"!=typeof window&&window.Math===Math?window:Function("return this")(),qi="function"==typeof requestAnimationFrame?requestAnimationFrame.bind(Hi):function(e){return setTimeout((function(){return e(Date.now())}),1e3/60)},Gi=2,Vi=20,$i=["top","right","bottom","left","width","height","size","weight"],Ki="undefined"!=typeof MutationObserver,Yi=function(){function e(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=function(e,t){var r=!1,n=!1,o=0;function i(){r&&(r=!1,e()),n&&s()}function a(){qi(i)}function s(){var e=Date.now();if(r){if(e-o<Gi)return;n=!0}else r=!0,n=!1,setTimeout(a,t);o=e}return s}(this.refresh.bind(this),Vi)}return e.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},e.prototype.removeObserver=function(e){var t=this.observers_,r=t.indexOf(e);~r&&t.splice(r,1),!t.length&&this.connected_&&this.disconnect_()},e.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},e.prototype.updateObservers_=function(){var e=this.observers_.filter((function(e){return e.gatherActive(),e.hasActive()}));return e.forEach((function(e){return e.broadcastActive()})),e.length>0},e.prototype.connect_=function(){Wi&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),Ki?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},e.prototype.disconnect_=function(){Wi&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},e.prototype.onTransitionEnd_=function(e){var t=e.propertyName,r=void 0===t?"":t,n=$i.some((function(e){return!!~r.indexOf(e)}));n&&this.refresh()},e.getInstance=function(){return this.instance_||(this.instance_=new e),this.instance_},e.instance_=null,e}(),Xi=function(e,t){for(var r=0,n=Object.keys(t);r<n.length;r++){var o=n[r];Object.defineProperty(e,o,{value:t[o],enumerable:!1,writable:!1,configurable:!0})}return e},Ji=function(e){return e&&e.ownerDocument&&e.ownerDocument.defaultView||Hi},Qi=oa(0,0,0,0);function ea(e){return parseFloat(e)||0}function ta(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];return t.reduce((function(t,r){return t+ea(e["border-"+r+"-width"])}),0)}var ra="undefined"!=typeof SVGGraphicsElement?function(e){return e instanceof Ji(e).SVGGraphicsElement}:function(e){return e instanceof Ji(e).SVGElement&&"function"==typeof e.getBBox};function na(e){return Wi?ra(e)?function(e){var t=e.getBBox();return oa(0,0,t.width,t.height)}(e):function(e){var t=e.clientWidth,r=e.clientHeight;if(!t&&!r)return Qi;var n=Ji(e).getComputedStyle(e),o=function(e){for(var t={},r=0,n=["top","right","bottom","left"];r<n.length;r++){var o=n[r],i=e["padding-"+o];t[o]=ea(i)}return t}(n),i=o.left+o.right,a=o.top+o.bottom,s=ea(n.width),l=ea(n.height);if("border-box"===n.boxSizing&&(Math.round(s+i)!==t&&(s-=ta(n,"left","right")+i),Math.round(l+a)!==r&&(l-=ta(n,"top","bottom")+a)),!function(e){return e===Ji(e).document.documentElement}(e)){var c=Math.round(s+i)-t,u=Math.round(l+a)-r;1!==Math.abs(c)&&(s-=c),1!==Math.abs(u)&&(l-=u)}return oa(o.left,o.top,s,l)}(e):Qi}function oa(e,t,r,n){return{x:e,y:t,width:r,height:n}}var ia=function(){function e(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=oa(0,0,0,0),this.target=e}return e.prototype.isActive=function(){var e=na(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},e.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},e}(),aa=function(e,t){var r,n,o,i,a,s,l,c=(n=(r=t).x,o=r.y,i=r.width,a=r.height,s="undefined"!=typeof DOMRectReadOnly?DOMRectReadOnly:Object,l=Object.create(s.prototype),Xi(l,{x:n,y:o,width:i,height:a,top:o,right:n+i,bottom:a+o,left:n}),l);Xi(this,{target:e,contentRect:c})},sa=function(){function e(e,t,r){if(this.activeObservations_=[],this.observations_=new Zi,"function"!=typeof e)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=t,this.callbackCtx_=r}return e.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(e instanceof Ji(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)||(t.set(e,new ia(e)),this.controller_.addObserver(this),this.controller_.refresh())}},e.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(e instanceof Ji(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)&&(t.delete(e),t.size||this.controller_.removeObserver(this))}},e.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},e.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach((function(t){t.isActive()&&e.activeObservations_.push(t)}))},e.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,t=this.activeObservations_.map((function(e){return new aa(e.target,e.broadcastRect())}));this.callback_.call(e,t,e),this.clearActive()}},e.prototype.clearActive=function(){this.activeObservations_.splice(0)},e.prototype.hasActive=function(){return this.activeObservations_.length>0},e}(),la="undefined"!=typeof WeakMap?new WeakMap:new Zi,ca=function e(t){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var r=Yi.getInstance(),n=new sa(t,r,this);la.set(this,n)};["observe","unobserve","disconnect"].forEach((function(e){ca.prototype[e]=function(){var t;return(t=la.get(this))[e].apply(t,arguments)}}));const ua=void 0!==Hi.ResizeObserver?Hi.ResizeObserver:ca;var fa=new WeakMap;function pa(){var t=e.useState(da)[1];return e.useRef((function(){return t({})})).current}var da={},ya=Fi([WeakMap],(function(e,t){var r,n,o,i,a=(r=function(r){for(var n=[],o=0;o<r.length;o++){var i=r[o],a=i.target.offsetHeight;if(a>0){var s=fa.get(i.target);if(void 0!==s){var l=e.get(s);void 0!==l&&a!==l.height&&n.push(s,a)}}}n.length>0&&(e.update(n),t(n))},n=[],o=null,i=function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];n=t,o||(o=requestAnimationFrame((function(){o=null,r.apply(void 0,n)})))},i.cancel=function(){o&&(cancelAnimationFrame(o),o=null)},i),s=new ua(a),l=s.disconnect.bind(s);return s.disconnect=function(){l(),a.cancel()},s}));function ha(e){return ha="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ha(e)}function ma(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,va(n.key),n)}}function ba(e,t,r){return t&&ma(e.prototype,t),r&&ma(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function va(e){var t=function(e,t){if("object"!==ha(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==ha(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===ha(t)?t:String(t)}var ga=ba((function e(){var t,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.set=void 0,this.get=void 0,this.get=function(e){return e===t?r:void 0},this.set=function(e,n){t=e,r=n}}));const Oa=ga,Sa=function(e,t){var r,n,o=t||wa;return function(){return r&&o(arguments,r)?n:n=e.apply(null,r=arguments)}};var wa=function(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]};function Pa(e){return Pa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pa(e)}var ja=e.createElement,Ea="0",xa=Fi([Oa,{},WeakMap,Oa],(function(e,t,r,n){return ja(e,{index:t,data:r,width:n})})),Ca=Sa((function(e,t){return{position:"relative",width:"100%",maxWidth:"100%",height:Math.ceil(t),maxHeight:Math.ceil(t),willChange:e?"contents":void 0,pointerEvents:e?"none":void 0}})),ka=function(e,t){return e[0]===t[0]&&e[1]===t[1]},Ra=Sa((function(e,t){return Object.assign({},e,t)}),ka);function _a(e,t){return t}var Ta=Sa((function(e){return{width:e,zIndex:-1e3,visibility:"hidden",position:"absolute",writingMode:"horizontal-tb"}}),(function(e,t){return e[0]===t[0]})),Ia=Sa((function(e,t){return function(r){return function(n){null!==n&&(t&&(t.observe(n),fa.set(n,r)),void 0===e.get(r)&&e.set(r,n.offsetHeight))}}}),ka);function Ma(e){return Ma="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ma(e)}function Aa(){return Aa=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Aa.apply(this,arguments)}function Da(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function La(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Da(Object(r),!0).forEach((function(t){Na(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Da(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Na(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==Ma(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==Ma(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===Ma(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function za(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,s=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Ba(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Ba(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ba(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Ua=Z().requireLib("hoc").useImagePreview,Fa={2:{scaleX:-1,scaleY:1},3:{rotate:"180deg"},4:{rotate:"180deg",scaleX:-1,scaleY:1},5:{rotate:"90deg",scaleX:1,scaleY:-1,tX:-1,tY:1},6:{rotate:"90deg",tX:-1,tY:-1},7:{rotate:"270deg",scaleX:1,scaleY:-1,tX:1,tY:-1},8:{rotate:"270deg",tX:1,tY:1}};function Za(e){var t=[];return e.rotate&&t.push("rotate(".concat(e.rotate,")")),e.scaleX&&t.push("scale(".concat(e.scaleX,", ").concat(e.scaleY,")")),e.translateX&&t.push("translate(".concat(e.translateX,"px,").concat(e.translateY,"px)")),t.join(" ")}var Wa=(0,Lr.debounce)((function(){window.dispatchEvent(new Event("resize"))}),500),Ha=kr((function(r){var n=r.width,o=r.data,i=o.node,a=o.parent,s=o.dataModel,l=o.entryProps,c=r.setInlineEditionAnchor,u=function(e){var t=.5;if(e.getMetadata().has("ImageDimensions")){var r=e.getMetadata().get("ImageDimensions");t=r.Height/r.Width}return{ratio:t,src:Ua(e).src}}(i),f=u.ratio,p=u.src,d=za((0,e.useState)(s.getSelectedNodes().indexOf(i)>-1),2),y=d[0],h=d[1],m=za((0,e.useState)(!1),2),b=m[0],v=m[1];(0,e.useEffect)((function(){var e=function(){h(s.getSelectedNodes().indexOf(i)>-1)};return s.observe("selection_changed",e),function(){s.stopObserving("selection_changed",e)}}),[y,i]);var g=l.handleClicks,O=l.renderIcon,S=l.renderActions,w=Z().getMessages()["react.1"],P={};if(p&&f&&i.getMetadata().get("image_exif_orientation")){var j=parseInt(i.getMetadata().get("image_exif_orientation"));if(Fa[j]){var E=La({},Fa[j]);if(j<5)P={transform:Za(E)};else{var x=n*(f=1/f),C=(n-x)/2;E.translateX=C*E.tX,E.translateY=C*E.tY,P={transform:Za(E),width:x}}}}var k=["masonry-card"];b&&k.push("hover"),y&&k.push("selected"),p&&k.push("has-src");var R=(0,e.useRef)(null);return(0,e.useEffect)((function(){c&&R.current&&c(R.current)}),[i]),t().createElement(fe,{node:i,style:{width:n,height:n*f,position:"relative"},className:k.join(" "),onClick:function(e){return g(i,a?Io.CLICK_TYPE_DOUBLE:Io.CLICK_TYPE_SIMPLE,e)},onDoubleClick:function(e){return g(i,Io.CLICK_TYPE_DOUBLE,e)},onMouseOver:function(){return v(!0)},onMouseOut:function(){return v(!1)}},p&&t().createElement(qa,{className:"masonry-image",src:p,alt:i.getPath(),style:La({width:n},P)}),a&&t().createElement("div",{className:"mimefont-container"},t().createElement("div",{className:"mimefont mdi mdi-chevron-left"})),!a&&!p&&O(i),!a&&t().createElement("div",{style:{position:"absolute",top:0,left:0}},S(i)),p&&t().createElement("div",{className:"masonry-label-overlay",style:{position:"absolute",bottom:0,left:0,right:0,height:50}}),t().createElement("div",{className:"masonry-label",ref:R,style:La({display:b||y||!p?"block":"none"},{position:"absolute",bottom:0,left:0,right:0,height:32,padding:"6px 10px",fontWeight:500,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",borderRadius:"0 0 2px 2px"})},a?w:i.getLabel()))}),(function(e){return e.data.node})),qa=function(r){var n=r.src,o=r.alt,i=r.style,a=r.className,s=(0,e.useRef)(),l=function(t){var r=za((0,e.useState)(!1),2),n=r[0],o=r[1];return(0,e.useEffect)((function(){var e=new IntersectionObserver((function(e){var t,r,n=za(e,1)[0];if(!(n.target&&!n.rootBounds&&(t=n.target,r=t.getBoundingClientRect(),r.top>=0&&r.left>=0&&r.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&r.right<=(window.innerWidth||document.documentElement.clientWidth))))return n.isIntersecting?o(n.isIntersecting):void 0;o(!0)}),{threshold:.1,root:null});return e.observe(t.current),function(){e.disconnect()}}),[t]),n}(s),c=La({},i);return c.transition="opacity 550ms cubic-bezier(0.23, 1, 0.32, 1) 0ms",l||(c.opacity=0),t().createElement("img",{ref:s,alt:o,src:l?n:null,style:c,className:a})};function Ga(e,t){var r=[];return e.getChildren().forEach((function(e,n){r.push(La({id:"item-"+n,node:e},t))})),r.sort((function(e,t){return mo(e.node,t.node)})),e.getParent()&&r.unshift(La({id:"item-parent",parent:!0,node:e.getParent()},t)),r}const Va=t().memo((function(r){var n=r.className,o=r.dataModel,i=r.entryProps,a=r.emptyStateProps,s=r.containerStyle,l=void 0===s?{}:s,c=r.columnWidth,u=void 0===c?220:c,f=r.onScroll,p={dataModel:o,entryProps:i},d=function(){return Ga(o.getContextNode(),p)},y=za((0,e.useState)(d),2),h=y[0],m=y[1],b=za((0,e.useState)(o.getContextNode()),2),v=b[0],g=b[1];(0,e.useEffect)((function(){var e=function(){var e=o.getContextNode();e.isLoaded()?g(e):e.observeOnce("loaded",(function(){return g(e)}))};return o.observe("context_changed",e),function(){o.stopObserving("context_changed",e)}})),(0,e.useEffect)((function(){m(d());var e=function(){m(Ga(v,p)),Wa()},t=function(){m(Ga(v,p)),window.dispatchEvent(new Event("resize")),Wa()};return v.observe("child_added",t),v.observe("child_removed",e),v.observe("child_replaced",t),function(){v.stopObserving("child_added",t),v.stopObserving("child_removed",e),v.stopObserving("child_replaced",t)}}),[v]),v.isLoaded()||(v.observeOnce("loaded",(function(){m(Ga(v,p))})),v.load());var O,S,w,P,j,E,x,C,k=(0,e.useRef)(null),R=(O=k,S=function(){var e=O.current;if(e){var t=getComputedStyle(e),r=parseFloat;return{width:e.clientWidth-r(t.paddingTop)-r(t.paddingBottom),height:e.clientHeight-r(t.paddingLeft)-r(t.paddingRight)}}return{width:0,height:0}},x=e.useState(S),C=2,P=(w=function(e){if(Array.isArray(e))return e}(x)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,s=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(x,C)||function(e,t){if(e){if("string"==typeof e)return ii(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?ii(e,t):void 0}}(x,C)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())[0],j=w[1],E=function(){return j(S())},oi(window,"resize",E),oi(window,"orientationchange",E),ni((function(){j(S())}),[]),P),_=R.width,T=R.height,I=function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=r.offset,o=void 0===n?0:n,i=r.fps,a=void 0===i?12:i,s=t&&"current"in t?t.current:t,l=function(){return s?"scrollTop"in s?s.scrollTop:s.pageYOffset||s.scrollY:0},c=Pi(function(t,r,n){var o=e.useState(t);return[o[0],wi(o[1],r,void 0)]}(l,a),2),u=c[0],f=c[1],p=Pi(e.useState(!1),2),d=p[0],y=p[1];function h(){y(!1)}return ni((function(){if(s){var e,t=!1,r=function(){return e&&bi(e)},n=function(){t||(f(l()),y(!0),r(),e=vi(h,1e3/a))};return s.addEventListener("scroll",n),function(){s.removeEventListener("scroll",n),r(),t=!0}}}),[s,a]),{scrollTop:Math.max(0,u-o),isScrolling:d}}(k),M=I.scrollTop,A=I.isScrolling;(0,e.useEffect)((function(){Wa()}),[l.marginLeft]),f&&(0,e.useEffect)((function(){f({scrollTop:M})}),[M]);var D=function(t){var r=t.width,n=t.columnWidth,o=void 0===n?200:n,i=t.columnGutter,a=void 0===i?0:i,s=t.columnCount,l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Bi,c=function(){var e=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,s=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Di(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Di(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(zi(r,o,a,s),2),t=e[0],n=e[1];return Li(n,t,a)},u=e.useRef();void 0===u.current&&(u.current=c());var f=e.useRef(l),p=[r,o,a,s],d=e.useRef(p),y=!p.every((function(e,t){return d.current[t]===e}));if(y||!l.every((function(e,t){return f.current[t]===e}))){var h=u.current,m=c();if(f.current=l,d.current=p,y)for(var b=h.size(),v=0;v<b;v++){var g=h.get(v);m.set(v,void 0!==g?g.height:0)}u.current=m}return u.current}({width:_,columnWidth:u,columnGutter:8},[h,u]),L=function(t){var r=pa(),n=ya(t,r);function o(){return n.disconnect()}return e.useEffect((function(){return o}),[n]),n}(D),N=function(t){var r,n=t.positioner,o=t.resizeObserver,i=t.items,a=t.as,s=void 0===a?"div":a,l=t.id,c=t.className,u=t.style,f=t.role,p=void 0===f?"grid":f,d=t.tabIndex,y=void 0===d?0:d,h=t.containerRef,m=t.itemAs,b=void 0===m?"div":m,v=t.itemStyle,g=t.itemHeightEstimate,O=void 0===g?300:g,S=t.itemKey,w=void 0===S?_a:S,P=t.overscanBy,j=void 0===P?2:P,E=t.scrollTop,x=t.isScrolling,C=t.height,k=t.render,R=t.onRender,_=0,T=pa(),I=Ia(n,o),M=i.length,A=n.columnWidth,D=n.columnCount,L=n.range,N=n.estimateHeight,z=n.size,B=n.shortestColumn,U=z(),F=B(),Z=[],W="list"===p?"listitem":"grid"===p?"gridcell":void 0,H=gi(R),q=E+(j*=C),G=F<q&&U<M;if(L(Math.max(0,E-j/2),q,(function(e,t,n){var o=i[e],a=w(o,e),s={top:n,left:t,width:A,writingMode:"horizontal-tb",position:"absolute"};Z.push(ja(b,{key:a,ref:I(e),role:W,style:"object"===Pa(v)&&null!==v?Object.assign({},s,v):s},xa(k,e,o,A))),void 0===r?(_=e,r=e):(_=Math.min(_,e),r=Math.max(r,e))})),G)for(var V=Math.min(M-U,Math.ceil((E+j-F)/O*D)),$=U,K=Ta(A);$<U+V;$++){var Y=i[$],X=w(Y,$);Z.push(ja(b,{key:X,ref:I($),role:W,style:"object"===Pa(v)?Object.assign({},K,v):K},xa(k,$,Y,A)))}e.useEffect((function(){"function"==typeof H.current&&void 0!==r&&H.current(_,r,i),Ea="1"}),[_,r,i,H]),e.useEffect((function(){G&&T()}),[G]);var J=Ca(x,N(M,O));return ja(s,{ref:h,key:Ea,id:l,role:p,className:c,tabIndex:y,style:"object"===Pa(u)?Ra(J,u):J,children:Z})}({positioner:D,resizeObserver:L,items:h,height:T,scrollTop:M,isScrolling:A,overscanBy:6,render:Ha}),z=a&&!v.isLoading()&&(!h||!h.length);return t().createElement("div",{style:La({flex:1,padding:8,overflowY:"auto"},l),className:n,ref:k,onKeyDown:function(e){"Enter"===e.key&&o.getUniqueNode()?i.handleClicks(o.getUniqueNode(),Io.CLICK_TYPE_DOUBLE,e):"Delete"===e.key&&Z().getInstance().Controller.fireActionByKey("key_delete")}},z&&t().createElement(co,Aa({pydio:Z().getInstance()},a)),!z&&N)}));function $a(e){return $a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$a(e)}function Ka(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ya(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Ja(n.key),n)}}function Xa(e,t,r){return t&&Ya(e.prototype,t),r&&Ya(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Ja(e){var t=function(e,t){if("object"!==$a(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==$a(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===$a(t)?t:String(t)}function Qa(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&es(e,t)}function es(e,t){return es=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},es(e,t)}function ts(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=rs(e);if(t){var o=rs(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(e,t){if(t&&("object"===$a(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,r)}}function rs(e){return rs=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},rs(e)}var ns=function(r){Qa(o,r);var n=ts(o);function o(t){var r;return Ka(this,o),(r=n.call(this,t)).root=(0,e.createRef)(),r}return Xa(o,[{key:"componentDidMount",value:function(){this.props.selected&&this.root.current&&this.root.current.scrollIntoView({behavior:"smooth"})}},{key:"render",value:function(){var r=this.props,n=r.item,o=r.prev,i=r.next,a=r.itemUuid,s=r.itemMoment,l=r.itemDesc,c=r.itemAnnotations,u=r.itemActions,f=r.selected,p=r.onSelect,d=r.color,y=s(n),h="tl-block",m="sep-date",b=!1;if(o){var v=s(o);y.format("L")===v.format("L")?(h+=" similar",b=!0):(h+=" newday",m+=" newday")}var g,O=c(n,o,i),S=u(n,o,i);p&&(g=function(){p(a(n))}),f&&(h+=" tl-selected");var w={fontWeight:500,color:d,cursor:"pointer",display:"inline-block",marginLeft:6};return t().createElement(e.Fragment,null,!b&&t().createElement("div",{className:m},t().createElement("div",{className:"daymonth"},y.format("DD")),t().createElement("div",{className:"dayweek"},y.format("ddd"))),t().createElement("div",{className:h,ref:this.root},t().createElement("div",{className:"tl-date"},t().createElement("div",{className:"daymonth"},y.format("DD")),t().createElement("div",{className:"dayweek"},y.format("ddd"))),t().createElement("div",{className:"tl-dot"}),t().createElement("div",{className:"tl-card"+(g?" tl-selectable":""),onClick:g},t().createElement("div",{className:"tl-desc"},t().createElement("div",{className:"desc-date"},y.format(b?"LT":"llll")),l(n,o,i)),t().createElement("div",{className:"tl-actions"},O,f&&S&&t().createElement("div",null,S.map((function(e){return t().createElement("a",{onClick:e.onClick,style:w},e.label)})))))))}}]),o}(e.Component),os=function(e){Qa(n,e);var r=ts(n);function n(e){var t;return Ka(this,n),(t=r.call(this,e)).state={},t}return Xa(n,[{key:"makeStyle",value:function(e){var r=e.palette.mui3["on-surface"],n=e.palette.mui3.tertiary,o=e.palette.mui3["outline-variant"],i=e.palette.mui3.surface,a="0px 1px 3px "+e.palette.mui3["outline-variant"],s="\n        .timeline{\n            color: ".concat(r,";\n        }\n        .timeline .tl-line {\n            border-right: 3px dashed ").concat(o,"; \n        }\n        .timeline .tl-timeline .tl-block .tl-dot{\n            background-color: ").concat(n,";\n            box-shadow: ").concat(n," 0px 0px 4px;\n        }\n        .timeline .tl-timeline .tl-block .tl-dot:before{\n            border-color: ").concat(n,"\n        }\n        .timeline .tl-timeline .tl-block .tl-card.tl-selectable:hover, \n        .timeline .tl-timeline .tl-block.tl-selected .tl-card {\n            box-shadow: ").concat(a,"\n        }\n        .timeline .tl-timeline .daymonth{\n            color: ").concat(n,"\n        }\n        .timeline .tl-card{\n            background-color: ").concat(i,";\n        }\n        ");return t().createElement("style",{type:"text/css"},s)}},{key:"render",value:function(){var e,r=this,n=this.props.muiTheme,o=this.props,i=o.items,a=o.className,s=void 0===a?"":a,l=o.useSelection,c=void 0!==l&&l,u=o.preSelection,f=this.props,p=f.itemUuid,d=f.itemMoment,y=f.itemActions,h=f.itemAnnotations,m=f.itemDesc,b=f.onItemSelect,v=this.props,g=v.loadMoreAction,O=v.loadMoreLabel,S=v.loadMoreDisabled,w=this.state.selection,P=void 0===w?u:w;return n.palette.mui3.tertiary,b?e=b:c&&(e=function(e){r.setState({selection:e})}),t().createElement("div",{className:"timeline "+s},t().createElement("div",{className:"tl-line"}),t().createElement("div",{className:"tl-timeline"},i.map((function(r,o){return t().createElement(ns,{item:r,prev:o>0?i[o-1]:null,next:o<i.length-1?i[o+1]:null,selected:!!c&&p(r)===P,onSelect:e,itemUuid:p,itemMoment:d,itemActions:y,itemAnnotations:h,itemDesc:m,color:n.palette.mui3.primary})})),g&&t().createElement("div",{className:"tl-block tl-more"},t().createElement("div",{className:"tl-date"}),t().createElement("div",{className:"tl-dot"}),t().createElement("div",{className:"tl-card tl-selectable",style:{color:n.palette.mui3.primary},onClick:S?null:g},O))),this.makeStyle(n))}}]),n}(e.Component);const is=os=(0,K.muiThemeable)()(os);function as(e){return as="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},as(e)}function ss(){return ss=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ss.apply(this,arguments)}function ls(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function cs(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,gs(n.key),n)}}function us(e,t,r){return t&&cs(e.prototype,t),r&&cs(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function fs(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ps(e,t)}function ps(e,t){return ps=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},ps(e,t)}function ds(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=hs(e);if(t){var o=hs(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(e,t){if(t&&("object"===as(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return ys(e)}(this,r)}}function ys(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function hs(e){return hs=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},hs(e)}function ms(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function bs(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ms(Object(r),!0).forEach((function(t){vs(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ms(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function vs(e,t,r){return(t=gs(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gs(e){var t=function(e,t){if("object"!==as(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==as(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===as(t)?t:String(t)}var Os=Z().requireLib("hoc").withContextMenu,Ss=function(e){return t().createElement("div",e)};Ss=Os(Ss);var ws=z()({displayName:"SimpleTreeNode",propTypes:{collapse:U().bool,forceExpand:U().bool,childrenOnly:U().bool,depth:U().number,onNodeSelect:U().func,node:U().instanceOf(AjxpNode),dataModel:U().instanceOf(PydioDataModel),forceLabel:U().string,nodeIsSelected:U().func,showLoader:U().bool,checkboxes:U().array,checkboxesValues:U().object,checkboxesComputeStatus:U().func,onCheckboxCheck:U().func,paddingOffset:U().number,offsetSize:U().number},getDefaultProps:function(){return{collapse:!1,childrenOnly:!1,depth:0,paddingOffset:0,offsetSize:20,onNodeSelect:function(e){}}},listenToNode:function(e){this._childrenListener=function(){this.isMounted()&&this.setState({children:this._nodeToChildren(e)})}.bind(this),this._nodeListener=function(){this.isMounted()&&this.forceUpdate()}.bind(this),e.observe("child_added",this._childrenListener),e.observe("child_removed",this._childrenListener),e.observe("loaded",this._childrenListener),e.observe("loading",this._nodeListener),e.observe("node_replaced",this._nodeListener)},stopListening:function(e){e.stopObserving("child_added",this._childrenListener),e.stopObserving("child_removed",this._childrenListener),e.stopObserving("loaded",this._childrenListener),e.stopObserving("loading",this._nodeListener),e.stopObserving("node_replaced",this._nodeListener)},componentDidMount:function(){this.listenToNode(this.props.node)},componentWillUnmount:function(){this.stopListening(this.props.node)},componentWillReceiveProps:function(e){var t=this.props.node,r=e.node;if(r===t&&r.getMetadata().get("paginationData")){var n=this.state.children.map((function(e){return e.setParent(r),e})),o=this.state.children.map((function(e){return e.getPath()}));this._nodeToChildren(r).forEach((function(e){-1===o.indexOf(e.getPath())&&n.push(e)})),this.setState({children:n})}else this.setState({children:this._nodeToChildren(r)});r!==t&&(this.stopListening(t),this.listenToNode(r))},getInitialState:function(){return{showChildren:!this.props.collapse||this.props.forceExpand,children:this._nodeToChildren(this.props.node)}},_nodeToChildren:function(){var e=[];return this.props.node.getChildren().forEach((function(t){t.isLeaf()&&"ajxp_browsable_archive"!==t.getAjxpMime()||e.push(t)})),e.sort((function(e,t){return e.isRecycle()?1:t.isRecycle()?-1:e.getLabel().localeCompare(t.getLabel(),void 0,{numeric:!0})})),e},onNodeSelect:function(e){this.props.onNodeSelect&&this.props.onNodeSelect(this.props.node),e.preventDefault(),e.stopPropagation()},onChildDisplayToggle:function(e){this.props.node.getChildren().size&&this.setState({showChildren:!this.state.showChildren}),e.preventDefault(),e.stopPropagation()},nodeIsSelected:function(e){return this.props.nodeIsSelected?this.props.nodeIsSelected(e):-1!==this.props.dataModel.getSelectedNodes().indexOf(e)},render:function(){var e,r=this.props,o=r.node,i=r.dataModel,a=r.childrenOnly,s=r.canDrop,l=r.isOverCurrent,c=r.checkboxes,u=r.checkboxesComputeStatus,f=r.checkboxesValues,p=r.onCheckboxCheck,d=r.depth,y=r.paddingOffset,h=r.offsetSize,m=r.forceExpand,b=r.selectedItemStyle,v=r.getItemStyle,O=r.getRightIcon,w=r.forceLabel,P=r.showLoader,j=r.noPaginator;if(this.state.children.length)e=t().createElement("span",{onClick:this.onChildDisplayToggle},this.state.showChildren||m?t().createElement("span",{className:"tree-icon mdi mdi-menu-down"}):t().createElement("span",{className:"tree-icon mdi mdi-menu-right"}));else{var E="tree-icon mdi mdi-menu-right";o.isLoaded()&&(E+=" no-folder-children"),e=t().createElement("span",{className:E})}var x,C=this.nodeIsSelected(o)?"mui-menu-item mui-is-selected":"mui-menu-item";if(!a){var k;if(s&&l&&(C+=" droppable-active"),c){var R={},_=!1,T={},I="";if(u){var M=u(o);R=M.VALUES,_=M.INHERITED,T=M.DISABLED,M.CLASSNAME&&(I=" "+M.CLASSNAME)}else f&&f[o.getPath()]&&(R=f[o.getPath()]);var A=[];k=c.map(function(e){var r=void 0!==R[e]&&R[e],n=function(t,r){p(o,e,r)}.bind(this);return r&&A.push(e),t().createElement(g.Checkbox,{name:e,key:e+"-"+(r?"true":"false"),checked:r,onCheck:n,disabled:T[e],className:"cbox-"+e,style:{width:44}})}.bind(this)),C+=_?" inherited ":"",C+=A.length?" checkbox-values-"+A.join("-"):" checkbox-values-empty",k=t().createElement("div",{style:{display:"flex",alignItems:"center"},className:"tree-checkboxes"+I},k)}var D,L={paddingLeft:y+d*h};this.nodeIsSelected(o)&&b&&(L=bs(bs({},L),b)),v&&(L=bs(bs({},L),v(o))),O&&(D=O(o));var N,z="mdi mdi-folder",B=o.getAjxpMime();"ajxp_browsable_archive"===B?z="mdi mdi-archive":"ajxp_recycle"===B&&(z="mdi mdi-delete"),P&&o.isLoading()&&(N=t().createElement(g.CircularProgress,{size:14,style:{marginLeft:7},thickness:1})),x=t().createElement(Ss,{node:o,className:"tree-item "+C+(k?" has-checkboxes":""),style:L},t().createElement("div",{className:"tree-item-label",style:{display:"flex",alignItems:"center"},onClick:this.onNodeSelect,title:o.getLabel(),"data-id":o.getPath()},e,t().createElement("span",{className:"tree-icon "+z}),t().createElement("span",{style:{flex:1}},w||o.getLabel()),N,D),k)}var U=[],F=function(e){return e},Z=!1;if(S()&&this.props.connectDropTarget&&this.props.connectDragSource){var W=this.props.connectDragSource,H=this.props.connectDropTarget;F=function(e){W(n().findDOMNode(e)),H(n().findDOMNode(e))},Z=!0}return(this.state.showChildren||m)&&(U=this.state.children.map(function(e){var r=bs(bs({},this.props),{},{forceLabel:null,childrenOnly:!1,key:e.getPath(),node:e,depth:d+1});return t().createElement(Z?Ps:ws,r)}.bind(this))),t().createElement("li",{ref:F,className:"treenode"+o.getPath().replace(/\//g,"_")},x,t().createElement("ul",null,!j&&o.getMetadata().has("paginationData")&&parseInt(o.getMetadata().get("paginationData").get("total"))>1&&t().createElement(js,{node:o,dataModel:i,depth:d+1,paddingOffset:y}),U))}}),Ps=ws;S()&&(Ps=S().flow(S().DragSource(p.NODE_PROVIDER,b,d),S().DropTarget(p.NODE_PROVIDER,v,y))(ws));var js=function(e){fs(n,e);var r=ds(n);function n(){return ls(this,n),r.apply(this,arguments)}return us(n,[{key:"goTo",value:function(e){var t=this.props,r=t.dataModel,n=t.node;n.getMetadata().get("paginationData").set("new_page",e),r.requireContextChange(n)}},{key:"render",value:function(){var e=this,r=this.props,n=r.node,o=r.depth,i=r.paddingOffset,a=r.offsetSize,s=(r.muiTheme,{style:{width:24,height:24,padding:0}}),l=n.getMetadata().get("paginationData"),c=l.get("current"),u=l.get("total"),f=Z().getMessages()[331]+" "+c+" / "+u;return t().createElement("li",null,t().createElement("div",{style:{paddingLeft:i+o*a,paddingTop:5,paddingBottom:5,display:"flex",alignItems:"center"}},t().createElement("div",{style:{paddingLeft:14,paddingRight:6},className:"mdi mdi-format-list-bulleted"}),t().createElement("div",{style:{display:"flex",alignItems:"center",borderRadius:3,marginRight:10}},t().createElement(g.IconButton,ss({iconClassName:"mdi mdi-chevron-left",onClick:function(){e.goTo(c-1)},disabled:1===c},s)),t().createElement("div",{style:{padding:"0 20px",flex:1,textAlign:"center",fontSize:13}},f),t().createElement(g.IconButton,ss({iconClassName:"mdi mdi-chevron-right",onClick:function(){e.goTo(c+1)},disabled:c===u},s)))))}}]),n}(t().Component);js=(0,K.muiThemeable)()(js);var Es=function(e){fs(n,e);var r=ds(n);function n(){var e;ls(this,n);for(var t=arguments.length,o=new Array(t),i=0;i<t;i++)o[i]=arguments[i];return vs(ys(e=r.call.apply(r,[this].concat(o))),"onNodeSelect",(function(t){e.props.onNodeSelect?e.props.onNodeSelect(t):e.props.dataModel.setSelectedNodes([t])})),e}return us(n,[{key:"render",value:function(){return t().createElement("ul",{className:this.props.className},t().createElement(Ps,{childrenOnly:!this.props.showRoot,forceExpand:this.props.forceExpand,node:this.props.node?this.props.node:this.props.dataModel.getRootNode(),dataModel:this.props.dataModel,onNodeSelect:this.onNodeSelect,nodeIsSelected:this.props.nodeIsSelected,forceLabel:this.props.rootLabel,checkboxes:this.props.checkboxes,checkboxesValues:this.props.checkboxesValues,checkboxesComputeStatus:this.props.checkboxesComputeStatus,onCheckboxCheck:this.props.onCheckboxCheck,selectedItemStyle:this.props.selectedItemStyle,getItemStyle:this.props.getItemStyle,getRightIcon:this.props.getRightIcon,paddingOffset:this.props.paddingOffset,offsetSize:this.props.offsetSize,noPaginator:this.props.noPaginator,showLoader:this.props.showLoader}))}}]),n}(t().Component);vs(Es,"propTypes",{showRoot:U().bool,rootLabel:U().string,onNodeSelect:U().func,node:U().instanceOf(AjxpNode).isRequired,dataModel:U().instanceOf(PydioDataModel).isRequired,selectable:U().bool,selectableMultiple:U().bool,initialSelectionModel:U().array,onSelectionChange:U().func,forceExpand:U().bool,nodeIsSelected:U().func,showLoader:U().bool,checkboxes:U().array,checkboxesValues:U().object,checkboxesComputeStatus:U().func,onCheckboxCheck:U().func,paddingOffset:U().number,offsetSize:U().number}),vs(Es,"defaultProps",{showRoot:!0,onNodeSelect:Es.onNodeSelect});var xs=function(e){fs(n,e);var r=ds(n);function n(){var e;ls(this,n);for(var t=arguments.length,o=new Array(t),i=0;i<t;i++)o[i]=arguments[i];return vs(ys(e=r.call.apply(r,[this].concat(o))),"onNodeSelect",(function(t){e.props.onNodeSelect?e.props.onNodeSelect(t):e.props.dataModel.setSelectedNodes([t])})),e}return us(n,[{key:"render",value:function(){return t().createElement("ul",{className:this.props.className},t().createElement(ws,{childrenOnly:!this.props.showRoot,forceExpand:this.props.forceExpand,node:this.props.node?this.props.node:this.props.dataModel.getRootNode(),dataModel:this.props.dataModel,onNodeSelect:this.onNodeSelect,nodeIsSelected:this.props.nodeIsSelected,forceLabel:this.props.rootLabel,checkboxes:this.props.checkboxes,checkboxesValues:this.props.checkboxesValues,checkboxesComputeStatus:this.props.checkboxesComputeStatus,onCheckboxCheck:this.props.onCheckboxCheck,selectedItemStyle:this.props.selectedItemStyle,getItemStyle:this.props.getItemStyle,getRightIcon:this.props.getRightIcon,paddingOffset:this.props.paddingOffset,offsetSize:this.props.offsetSize,showLoader:this.props.showLoader}))}}]),n}(t().Component);vs(xs,"propTypes",{showRoot:U().bool,rootLabel:U().string,onNodeSelect:U().func,node:U().instanceOf(AjxpNode).isRequired,dataModel:U().instanceOf(PydioDataModel).isRequired,selectable:U().bool,selectableMultiple:U().bool,initialSelectionModel:U().array,onSelectionChange:U().func,forceExpand:U().bool,nodeIsSelected:U().func,showLoader:U().bool,checkboxes:U().array,checkboxesValues:U().object,checkboxesComputeStatus:U().func,onCheckboxCheck:U().func,paddingOffset:U().number,offsetSize:U().number}),vs(xs,"defaultProps",{showRoot:!0,onNodeSelect:xs.onNodeSelect});var Cs=function(e){fs(n,e);var r=ds(n);function n(){var e;ls(this,n);for(var t=arguments.length,o=new Array(t),i=0;i<t;i++)o[i]=arguments[i];return vs(ys(e=r.call.apply(r,[this].concat(o))),"nodeObserver",(function(){var t=e.props.dataModel.getRootNode();t.isLoaded()?e.forceUpdate():t.observeOnce("loaded",function(){this.forceUpdate()}.bind(ys(e)))})),vs(ys(e),"treeNodeSelected",(function(t){e.props.onNodeSelected?e.props.onNodeSelected(t):e.props.dataModel.requireContextChange(t)})),vs(ys(e),"nodeIsSelected",(function(t){return t===e.props.dataModel.getContextNode()})),e}return us(n,[{key:"componentDidMount",value:function(){var e=this.props.dataModel;this._dmObs=this.nodeObserver,e.observe("context_changed",this._dmObs),e.observe("root_node_changed",this._dmObs),this.nodeObserver()}},{key:"componentWillUnmount",value:function(){if(this._dmObs){var e=this.props.dataModel;e.stopObserving("context_changed",this._dmObs),e.stopObserving("root_node_changed",this._dmObs)}}},{key:"render",value:function(){return this.props.draggable?t().createElement(Es,{onNodeSelect:this.treeNodeSelected,nodeIsSelected:this.nodeIsSelected,dataModel:this.props.dataModel,node:this.props.rootNode||this.props.dataModel.getRootNode(),showRoot:!!this.props.showRoot,selectedItemStyle:this.props.selectedItemStyle,getItemStyle:this.props.getItemStyle,getRightIcon:this.props.getRightIcon,rootLabel:this.props.rootLabel,noPaginator:this.props.noPaginator,paddingOffset:this.props.paddingOffset,offsetSize:this.props.offsetSize,className:"folders-tree"+(this.props.className?" "+this.props.className:"")}):t().createElement(xs,{onNodeSelect:this.treeNodeSelected,nodeIsSelected:this.nodeIsSelected,dataModel:this.props.dataModel,node:this.props.rootNode||this.props.dataModel.getRootNode(),selectedItemStyle:this.props.selectedItemStyle,getItemStyle:this.props.getItemStyle,getRightIcon:this.props.getRightIcon,showRoot:!!this.props.showRoot,rootLabel:this.props.rootLabel,noPaginator:this.props.noPaginator,paddingOffset:this.props.paddingOffset,offsetSize:this.props.offsetSize,className:"folders-tree"+(this.props.className?" "+this.props.className:"")})}}]),n}(t().Component);function ks(e){return ks="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ks(e)}function Rs(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function _s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Rs(Object(r),!0).forEach((function(t){Ts(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Rs(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Ts(e,t,r){return(t=Ms(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Is(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Ms(n.key),n)}}function Ms(e){var t=function(e,t){if("object"!==ks(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==ks(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===ks(t)?t:String(t)}function As(e,t){return As=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},As(e,t)}function Ds(e){return Ds=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Ds(e)}vs(Cs,"propTypes",{pydio:U().instanceOf(Z()).isRequired,dataModel:U().instanceOf(PydioDataModel).isRequired,className:U().string,onNodeSelected:U().func,draggable:U().bool,rootLabel:U().string});var Ls=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&As(e,t)}(s,e);var r,n,o,i,a=(o=s,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Ds(o);if(i){var r=Ds(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===ks(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function s(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),(t=a.call(this,e)).state={show:!1},t}return r=s,(n=[{key:"show",value:function(){this.setState({show:!0})}},{key:"hide",value:function(){this.setState({show:!1})}},{key:"render",value:function(){if(this.props.tooltip){var e,r={};this.props.label||this.props.labelElement?this.state.show&&(r={bottom:-10,top:"inherit"}):r={position:"relative"},this.props.label?e=t().createElement("span",{className:"ellipsis-label"},this.props.label):this.props.labelElement&&(e=this.props.labelElement);var n=this.props.style||{position:"relative"};return t().createElement("span",{onMouseEnter:this.show.bind(this),onMouseLeave:this.hide.bind(this),style:n,className:this.props.className},e,this.props.children,t().createElement("div",{label:this.props.tooltip,style:_s(_s({},r),{},{display:this.state.show?"block":"none"}),className:this.props.tooltipClassName}))}return this.props.label?t().createElement("span",null,this.props.label):this.props.labelElement?this.props.labelElement:t().createElement("span",null,this.props.children)}}])&&Is(r.prototype,n),Object.defineProperty(r,"prototype",{writable:!1}),s}(t().Component);function Ns(e){return Ns="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ns(e)}function zs(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Bs(e,t,r){return(t=Fs(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Us(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Fs(n.key),n)}}function Fs(e){var t=function(e,t){if("object"!==Ns(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==Ns(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===Ns(t)?t:String(t)}function Zs(e,t){return Zs=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Zs(e,t)}function Ws(e){return Ws=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Ws(e)}var Hs=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Zs(e,t)}(s,e);var r,n,o,i,a=(o=s,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Ws(o);if(i){var r=Ws(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===Ns(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function s(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),a.call(this,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?zs(Object(r),!0).forEach((function(t){Bs(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zs(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({colorIndicator:""},e))}return r=s,(n=[{key:"render",value:function(){return t().createElement(g.Paper,{style:{display:"inline-block",marginLeft:16}},t().createElement("div",{className:"figure-badge",style:this.props.colorIndicator?{borderLeftColor:this.props.colorIndicator}:{}},t().createElement("div",{className:"figure"},this.props.figure),t().createElement("div",{className:"legend"},this.props.legend)))}}])&&Us(r.prototype,n),Object.defineProperty(r,"prototype",{writable:!1}),s}(t().Component);const qs=require("clipboard");var Gs=a.n(qs);function Vs(e){return Vs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vs(e)}function $s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ks(e,t,r){return(t=Xs(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ys(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Xs(n.key),n)}}function Xs(e){var t=function(e,t){if("object"!==Vs(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==Vs(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===Vs(t)?t:String(t)}function Js(e,t){return Js=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Js(e,t)}function Qs(e){return Qs=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Qs(e)}var el=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Js(e,t)}(l,e);var r,n,o,i,s=(o=l,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Qs(o);if(i){var r=Qs(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===Vs(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function l(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),(t=s.call(this,e)).state={copyMessage:null},t}return r=l,n=[{key:"componentDidMount",value:function(){this.attachClipboard()}},{key:"componentDidUpdate",value:function(){this.attachClipboard()}},{key:"attachClipboard",value:function(){this._clip&&this._clip.destroy(),this.refs["copy-button"]&&(this._clip=new(Gs())(this.refs["copy-button"],{text:function(e){return this.props.inputValue}.bind(this)}),this._clip.on("success",function(){this.setState({copyMessage:this.props.getMessage(this.props.inputCopyMessage||"192")},this.clearCopyMessage.bind(this))}.bind(this)),this._clip.on("error",function(){var e;e=0===a.g.navigator.platform.indexOf("Mac")?this.props.getMessage("144"):this.props.getMessage("143"),this.refs.input.focus(),this.setState({copyMessage:e},this.clearCopyMessage.bind(this))}.bind(this)))}},{key:"clearCopyMessage",value:function(){a.g.setTimeout(function(){this.setState({copyMessage:""})}.bind(this),3e3)}},{key:"render",value:function(){var e=null;if(this.state.copyMessage){var r=function(){return{__html:this.state.copyMessage}}.bind(this);e=t().createElement("div",{style:{color:"rgba(0,0,0,0.23)"},className:"copy-message",dangerouslySetInnerHTML:r()})}var n=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?$s(Object(r),!0).forEach((function(t){Ks(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$s(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({position:"absolute",right:-8,bottom:13,fontSize:15,color:this.props.buttonColor||"rgba(0, 150, 136, 0.52)",height:26,width:26,lineHeight:"28px",textAlign:"center",cursor:"pointer",borderRadius:"50%"},this.props.buttonStyle);return t().createElement("div",null,t().createElement("div",{style:{position:"relative"}},t().createElement(g.TextField,{fullWidth:!0,ref:"input",floatingLabelText:this.props.floatingLabelText,floatingLabelStyle:{whiteSpace:"nowrap"},underlineShow:this.props.underlineShow,defaultValue:this.props.inputValue,className:this.props.inputClassName,multiLine:this.props.multiLine,rows:this.props.rows,rowsMax:this.props.rowsMax,readOnly:!0,onClick:function(e){e.currentTarget.select()},style:{marginTop:-10,width:"92%",fontSize:14}}),t().createElement("span",{ref:"copy-button",style:n,title:this.props.getMessage("191"),className:"copy-button mdi mdi-content-copy"})),e)}}],n&&Ys(r.prototype,n),Object.defineProperty(r,"prototype",{writable:!1}),l}(t().Component);function tl(e){return tl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tl(e)}function rl(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function nl(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?rl(Object(r),!0).forEach((function(t){ol(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rl(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function ol(e,t,r){return(t=ll(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function il(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function al(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,ll(n.key),n)}}function sl(e,t,r){return t&&al(e.prototype,t),r&&al(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function ll(e){var t=function(e,t){if("object"!==tl(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==tl(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===tl(t)?t:String(t)}function cl(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ul(e,t)}function ul(e,t){return ul=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},ul(e,t)}function fl(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=pl(e);if(t){var o=pl(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(e,t){if(t&&("object"===tl(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,r)}}function pl(e){return pl=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},pl(e)}var dl=Z().requireLib("hoc"),yl=dl.PlaceHolder,hl=dl.PhRoundShape,ml=dl.PhTextRow,bl=dl.AdditionalIcons,vl=function(e){cl(n,e);var r=fl(n);function n(){return il(this,n),r.apply(this,arguments)}return sl(n,[{key:"render",value:function(){var e=this.props,r=e.iconClassName,n=e.legend,o=e.data,i=e.dataStyle,a=e.legendStyle,s=e.iconStyle,l=e.placeHolder,c=e.placeHolderReady,u=e.muiTheme,f={icon:nl({margin:"16px 20px 0"},s),legend:nl({fontSize:12,color:u.palette.mui3["on-surface"],fontWeight:500},a),data:nl({fontSize:14,paddingRight:6,overflow:"hidden",textOverflow:"ellipsis"},i)},p=t().createElement("div",{style:nl({display:"flex",marginBottom:8,overflow:"hidden"},this.props.style)},t().createElement("div",{style:{width:64}},t().createElement(g.FontIcon,{color:u.palette.mui3.secondary||"#aaaaaa",className:r,style:f.icon})),t().createElement("div",{style:{flex:1}},t().createElement("div",{style:f.legend},n),t().createElement("div",{style:f.data},o)));if(l){var d=t().createElement("div",{style:nl({display:"flex",marginBottom:16,overflow:"hidden"},this.props.style)},t().createElement("div",{style:{width:64}},t().createElement(hl,{style:{width:35,height:35,margin:"10px 15px 0"}})),t().createElement("div",{style:{flex:1}},t().createElement("div",{style:nl(nl({},f.legend),{},{maxWidth:100})},t().createElement(ml,null)),t().createElement("div",{style:nl(nl({},f.data),{},{marginRight:24})},t().createElement(ml,{style:{height:"1.3em",marginTop:"0.4em"}}))));return t().createElement(yl,{ready:c,showLoadingAnimation:!0,customPlaceholder:d},p)}return p}}]),n}(t().Component);vl=(0,K.muiThemeable)()(vl);var gl=function(e){cl(n,e);var r=fl(n);function n(){return il(this,n),r.apply(this,arguments)}return sl(n,[{key:"render",value:function(){var e=this.props,r=e.title,n=e.onDismissAction,o=e.onEditAction,i=e.onDeleteAction,a=e.otherActions,s=e.moreMenuItems,l=e.children,c=e.muiTheme,u=e.style,f=e.headerSmall,p=e.editTooltip,d=e.deleteTooltip,y=c.palette.mui3["secondary-container"],h=c.palette.mui3["on-secondary-container"],m=c.palette.mui3.primary,b={headerHeight:"auto",buttonBarHeight:60,headerBg:y,headerColor:h,buttonBar:{display:"flex",height:60},fabTop:80,button:{style:{},iconStyle:{color:m}}};f&&(b={headerHeight:"auto",headerBg:y,headerColor:h,buttonBar:{display:"flex",alignItems:"center",height:42,padding:"0 7px 0 16px"},fabTop:60,button:{style:{width:38,height:38,padding:9},iconStyle:{color:m,fontSize:18}}});var v=bl.DeleteOutline;return t().createElement("div",{style:nl({width:"100%",position:"relative"},u)},t().createElement(g.Paper,{zDepth:0,style:{backgroundColor:b.headerBg,color:b.headerColor,height:b.headerHeight,borderRadius:"2px 2px 0 0"}},t().createElement("div",{style:b.buttonBar},f&&t().createElement("span",{style:{flex:1,fontSize:14,fontWeight:500}},r),!f&&t().createElement("span",{style:{flex:1}}),a,o&&f&&t().createElement(g.IconButton,{style:b.button.style,iconStyle:b.button.iconStyle,iconClassName:"mdi mdi-pencil",onClick:o,tooltip:p,tooltipPosition:"bottom-left"}),i&&t().createElement(g.IconButton,{style:b.button.style,iconStyle:b.button.iconStyle,onClick:i,tooltip:d,tooltipPosition:"bottom-left"},t().createElement(v,null)),s&&s.length>0&&t().createElement(g.IconMenu,{anchorOrigin:{vertical:"top",horizontal:f?"right":"left"},targetOrigin:{vertical:"top",horizontal:f?"right":"left"},iconButtonElement:t().createElement(g.IconButton,{style:b.button.style,iconStyle:b.button.iconStyle,iconClassName:"mdi mdi-dots-vertical"})},s),n&&t().createElement(g.IconButton,{style:b.button.style,iconStyle:b.button.iconStyle,iconClassName:"mdi mdi-close",onClick:n})),!f&&t().createElement("div",{style:{paddingLeft:o?64:20,fontSize:20,lineHeight:"26px",paddingBottom:16}},r)),t().createElement("div",{style:{paddingTop:12,paddingBottom:8,position:"relative"}},o&&!f&&t().createElement(g.FloatingActionButton,{onClick:o,backgroundColor:c.palette.mui3.tertiary,mini:!0,style:{position:"absolute",top:-20,left:10}},t().createElement(g.FontIcon,{className:"mdi mdi-pencil",style:{color:c.palette.mui3["on-tertiary"]}})),l))}}]),n}(t().Component);function Ol(e){return Ol="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ol(e)}function Sl(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,wl(n.key),n)}}function wl(e){var t=function(e,t){if("object"!==Ol(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==Ol(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===Ol(t)?t:String(t)}function Pl(e,t){return Pl=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Pl(e,t)}function jl(e){return jl=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},jl(e)}gl=(0,K.muiThemeable)()(gl);var El=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Pl(e,t)}(s,e);var r,n,o,i,a=(o=s,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=jl(o);if(i){var r=jl(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===Ol(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function s(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),a.apply(this,arguments)}return r=s,(n=[{key:"render",value:function(){var e=this.props.node,r=parseInt(e.getMetadata().get("ws_quota_usage")),n=parseInt(e.getMetadata().get("ws_quota"));r=Math.min(r,n);var o=Math.round(r/n*100),i="#4caf50";o>90?i="#e53935":o>60&&(i="#ff9800");var a=Z().getMessages()["workspace.quota-usage"]+" ("+ye().roundFileSize(n)+")",s=t().createElement("div",{style:{borderRadius:4,display:"flex",marginRight:25,alignItems:"center",marginTop:5,backgroundColor:"#f5f5f5",padding:"7px 8px"}},t().createElement("div",{style:{flex:1,paddingRight:12}},t().createElement(g.LinearProgress,{mode:"determinate",min:0,max:n,value:r,color:i})),t().createElement("div",{style:{color:"#bdbdbd",fontWeight:500,fontSize:18}},o,"%"));return t().createElement(vl,{iconClassName:"mdi mdi-gauge",legend:a,data:s,iconStyle:{marginTop:30}})}}])&&Sl(r.prototype,n),Object.defineProperty(r,"prototype",{writable:!1}),s}(t().Component);function xl(e){return xl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xl(e)}var Cl=["style","titleStyle","iconStyleRight","iconStyleLeft"];function kl(){return kl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},kl.apply(this,arguments)}function Rl(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function _l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Rl(Object(r),!0).forEach((function(t){Tl(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Rl(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Tl(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==xl(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==xl(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===xl(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Il(e){return Il="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Il(e)}function Ml(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Al(n.key),n)}}function Al(e){var t=function(e,t){if("object"!==Il(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==Il(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===Il(t)?t:String(t)}function Dl(e,t){return Dl=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Dl(e,t)}function Ll(e){return Ll=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Ll(e)}var Nl={node:U().instanceOf(AjxpNode).isRequired,registry:U().instanceOf(Registry).isRequired,editorData:U().object.isRequired,icon:U().bool},zl=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Dl(e,t)}(s,e);var r,n,o,i,a=(o=s,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Ll(o);if(i){var r=Ll(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===Il(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function s(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),(t=a.call(this,e)).state={ready:!1},t}return r=s,(n=[{key:"componentDidMount",value:function(){var e=this,t=this.props,r=t.editorData;t.registry.loadEditorResources(r.resourcesManager,(function(){return e.setState({ready:!0})}))}},{key:"render",value:function(){var e,r=this.props.editorData;return this.state.ready?(e=FuncUtils.getFunctionByName(r.editorClass,window))?t().createElement(e.Editor,this.props):t().createElement("div",null,"Cannot find editor component ("+r.editorClass+")!"):null}}])&&Ml(r.prototype,n),Object.defineProperty(r,"prototype",{writable:!1}),s}(t().Component);zl.propTypes=Nl,zl.defaultProps={icon:!1};const Bl=zl;var Ul=a(62610),Fl=a.n(Ul),Zl=a(13674),Wl=a.n(Zl);function Hl(e){return Hl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hl(e)}function ql(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Gl(n.key),n)}}function Gl(e){var t=function(e,t){if("object"!==Hl(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==Hl(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===Hl(t)?t:String(t)}function Vl(e,t){return Vl=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Vl(e,t)}function $l(e){return $l=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},$l(e)}var Kl=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Vl(e,t)}(a,Observable);var t,r,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=$l(n);if(o){var r=$l(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===Hl(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function a(e,t,r){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(n=i.call(this))._namespace=e,n._pydio=r,n._cards=n.getUserPreference("Cards"),n._cards||(n._cards=t),n}return t=a,r=[{key:"getUserPreference",value:function(e){var t=this._namespace+e,r=this._pydio.user.getPreference("gui_preferences",!0);return r&&r[t]?r[t]:null}},{key:"saveUserPreference",value:function(e,t){var r=this._namespace+e,n=this._pydio.user.getPreference("gui_preferences",!0);n||(n={}),n[r]=t,this._pydio.user.setPreference("gui_preferences",n,!0),this._pydio.user.savePreference("gui_preferences")}},{key:"saveCards",value:function(e){this.saveUserPreference("Cards",e)}},{key:"resetCards",value:function(){this.saveUserPreference("Cards",null)}},{key:"setCards",value:function(e){this._cards=e,this.notify("cards",this._cards),this.saveCards(e)}},{key:"getCards",value:function(){return this._cards}},{key:"removeCard",value:function(e){var t,r=-1,n=this.getCards();n.map((function(t,n){t.id==e&&(r=n)})),-1!=r?(t=0==r?n.slice(1):r==n.length-1?n.slice(0,-1):n.slice(0,r).concat(n.slice(r+1)),this.setCards(t)):console.warn("Card ID not found, this is strange.",e)}},{key:"createCardId",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=LangUtils.computeStringSlug(e.title);t&&(r+="-"+Math.round(100*Math.random()+10));var n=!1;return this._cards.map(function(e){e.id==r&&(n=!0)}.bind(this)),n&&(r=this.createCardId(e,!0)),r}},{key:"addCard",value:function(e){e.id=this.createCardId(e),this.setCards(this._cards.concat([e]))}}],r&&ql(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),a}();function Yl(e){return Yl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yl(e)}function Xl(){return Xl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Xl.apply(this,arguments)}function Jl(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Ql(n.key),n)}}function Ql(e){var t=function(e,t){if("object"!==Yl(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==Yl(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===Yl(t)?t:String(t)}function ec(e,t){return ec=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},ec(e,t)}function tc(e){return tc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},tc(e)}var rc=a(16689),nc=a(10757).requireLib("boot"),oc=nc.PydioContextConsumer,ic=nc.AsyncComponent,ac=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ec(e,t)}(s,e);var t,r,n,o,i=(n=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=tc(n);if(o){var r=tc(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===Yl(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function s(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),(t=i.call(this,e)).state={selectedIndex:0,availableWidgets:t.listAvailableWidgets()},t}return t=s,r=[{key:"listAvailableWidgets",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=[],r=[];return this.props.namespaces.map((function(e){if(a.g[e]){for(var n in a.g[e])if(a.g[e].hasOwnProperty(n)){var o=a.g[e][n];o.hasBuilderFields&&o.hasBuilderFields()&&t.push({reactClass:o,fullName:e+"."+o.displayName})}}else r.push(e)})),r.length&&!e&&ResourcesManager.loadClassesAndApply(r,function(){this.setState({availableWidgets:this.listAvailableWidgets(!0)})}.bind(this)),t}},{key:"onDropDownChange",value:function(e,t,r){var n={};0!=t&&r.payload.reactClass.getBuilderFields().map((function(e){e.default&&(n[e.name]=e.default)})),this.props.onEditStatusChange&&this.props.onEditStatusChange(0!=t),this.setState({selectedIndex:t,selectedWidget:r.payload,currentFormValues:n})}},{key:"cancel",value:function(){this.props.onEditStatusChange&&this.props.onEditStatusChange(!1),this.setState({selectedIndex:0})}},{key:"onFormValueChange",value:function(e){this.setState({currentFormValues:e})}},{key:"onFormSubmit",value:function(){var e=this.state.currentFormValues,t=this.state.selectedWidget,r=e.title?e.title:e.legend;r||(r=this.state.selectedWidget.reactClass.builderDisplayName),this.props.onCreateCard({componentClass:t.fullName,title:r,props:e}),this.cancel()}},{key:"resetLayout",value:function(){window.confirm(this.props.getMessage("home.51"))&&this.props.onResetLayout()}},{key:"render",value:function(){var e,t,r=this.props.getMessage,n=([{payload:0,text:r("home.50")}].concat(this.state.availableWidgets.map((function(e,t){return{payload:e,text:e.reactClass.builderDisplayName}}))),rc.createElement("div",null,"DropDownMenu (to be re-implemented)"));if(0!==this.state.selectedIndex){var o=this.state.selectedWidget.reactClass.getBuilderFields(),i={};o.map((function(e){e.default&&(i[e.name]=e.default)})),this.state.currentFormValues&&(i=LangUtils.mergeObjectsRecursive(i,this.state.currentFormValues)),e=rc.createElement(ic,{namespace:"PydioForm",componentName:"FormPanel",parameters:o,depth:-1,values:i,onChange:this.onFormValueChange}),t=rc.createElement("div",{style:{textAlign:"center",paddingBottom:100}},rc.createElement(g.RaisedButton,{label:r("home.52"),onClick:this.onFormSubmit})," ",rc.createElement(g.RaisedButton,{label:r("54",""),onClick:this.cancel}))}return rc.createElement(g.Paper,Xl({},this.props,{zDepth:3}),rc.createElement("h3",null,r("home.53")),rc.createElement("div",{className:"legend"},r("home.54"),rc.createElement("br",null),r("home.55")),n,e,t,rc.createElement("div",{style:{position:"absolute",bottom:30,left:10}},rc.createElement(g.FlatButton,{disabled:0!=this.state.selectedIndex,label:r("home.56"),secondary:!0,onClick:this.resetLayout})))}}],r&&Jl(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),s}(rc.Component);function sc(e){return sc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sc(e)}function lc(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function cc(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?lc(Object(r),!0).forEach((function(t){uc(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lc(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function uc(e,t,r){return(t=yc(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fc(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function pc(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,yc(n.key),n)}}function dc(e,t,r){return t&&pc(e.prototype,t),r&&pc(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function yc(e){var t=function(e,t){if("object"!==sc(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==sc(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===sc(t)?t:String(t)}function hc(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&mc(e,t)}function mc(e,t){return mc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},mc(e,t)}function bc(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=gc(e);if(t){var o=gc(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(e,t){if(t&&("object"===sc(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return vc(e)}(this,r)}}function vc(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function gc(e){return gc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},gc(e)}ac=oc(ac);var Oc=a(16689),Sc=a(10757).requireLib("boot").PydioContextConsumer,wc=function(e){hc(r,e);var t=bc(r);function r(e,n){var o;return fc(this,r),(o=t.call(this,e,n))._storeObserver=function(t){var r=this;this._forceUpdate=!0,this.setState({cards:e.store.getCards()},(function(){r._forceUpdate=!1}))}.bind(vc(o)),e.store.observe("cards",o._storeObserver),o.state={cards:e.store.getCards()},o.requests=[],o.throttle=xn().getThrottler({concurrent:6}),o.restClient=xn().getRestClient({silent:!0,plugins:[o.throttle.plugin(),function(e){return o.requests.push(e),e}]}),a.e(597).then(a.t.bind(a,25993,23)).then((function(e){o.setState({rgl:e.default})})),o}return dc(r,[{key:"saveFullLayouts",value:function(e){var t={};Object.keys(e).forEach((function(r){t[r]=e[r].map((function(e){return{i:e.i,h:e.h,w:e.w,x:e.x,y:e.y}}))}));var r=this.props.store.getUserPreference("Layout");Wl()(r,t)||this.props.store.saveUserPreference("Layout",t)}},{key:"onLayoutChange",value:function(e,t){this._blockLayoutSave||this.saveFullLayouts(t)}},{key:"componentWillUnmount",value:function(){this.props.store.stopObserving("cards",this._storeObserver),this.throttle.options({active:!1}),this.requests.filter((function(e){return e.xhr})).map((function(e){return e.xhr.abort()}))}},{key:"componentWillReceiveProps",value:function(e){this.props&&e.editMode!==this.props.editMode&&Object.keys(this.refs).forEach(function(t){this.refs[t].toggleEditMode(e.editMode)}.bind(this))}},{key:"shouldComponentUpdate",value:function(e,t){return this._forceUpdate||t.rgl!==this.state.rgl||!1}},{key:"removeCard",value:function(e){this.props.removeCard(e)}},{key:"buildCards",value:function(e){var t=this,r=0,n={lg:[],md:[],sm:[],xs:[],xxs:[]},o=[],i=[],s=(Math.random(),this.props.store.getUserPreference("Layout")),l=function(e,t,r,n,o){var i=e.getGridLayout(n,o);return i.handle="h4",r.gridHandle&&(i.handle=r.gridHandle),i.i=t,i};return e.map((function(e){var c,u=e.componentClass.split("."),f=u[0],p=u[1];if(a.g[f]&&a.g[f][p]){c=a.g[f][p];var d=cc({},e.props),y=d.key=e.id||"item_"+r;d.ref=y,d.restClient=t.restClient,d.pydio=t.props.pydio,d.onCloseAction=function(){t.removeCard(y)},d.preferencesProvider=t.props.store;var h=0,m=0;e.defaultPosition&&(h=e.defaultPosition.x,m=e.defaultPosition.y);var b=l(c,y,e,h,m);for(var v in n)if(n.hasOwnProperty(v)){var g,O=n[v];if(s&&s[v]&&s[v].map((function(e){e.i===y&&e.h===b.h&&(g=e)})),g)O.push(g);else if(e.defaultLayouts&&e.defaultLayouts[v]){var S=l(c,y,e,e.defaultLayouts[v].x,e.defaultLayouts[v].y);O.push(S)}else O.push(b)}r++,o.push(Oc.createElement(c,d))}else a.g[f]||i.push(f)})),i.length&&(this._blockLayoutSave=!0,Fl().loadClassesAndApply(i,function(){this.setState({additionalNamespacesLoaded:i},function(){this._blockLayoutSave=!1}.bind(this))}.bind(this))),{cards:o,layouts:n}}},{key:"render",value:function(){var e=this.state.rgl;if(!e)return null;var t=this.buildCards(this.state.cards),r=t.cards,n=t.layouts,o=e.Responsive,i=(0,e.WidthProvider)(o);return Oc.createElement(i,{className:"dashboard-layout",cols:this.props.cols||{lg:10,md:8,sm:8,xs:4,xxs:2},layouts:n,rowHeight:5,onLayoutChange:this.onLayoutChange.bind(this),isDraggable:!this.props.disableDrag,style:this.props.style,autoSize:!1},r)}}]),r}(Oc.Component),Pc=function(e){hc(r,e);var t=bc(r);function r(e){var n;fc(this,r),n=t.call(this,e);var o=new Kl(e.storeNamespace,e.defaultCards,e.pydio);return n.state={editMode:!1,store:o},n}return dc(r,[{key:"removeCard",value:function(e){this.state.store.removeCard(e)}},{key:"addCard",value:function(e){this.state.store.addCard(e)}},{key:"resetCardsAndLayout",value:function(){this.state.store.saveUserPreference("Layout",null),this.state.store.setCards(this.props.defaultCards)}},{key:"toggleEditMode",value:function(){this.setState({editMode:!this.state.editMode})}},{key:"render",value:function(){var e,t=this,r=function(e){this.setState({widgetEditing:e})}.bind(this);this.props.builderNamespaces&&this.state.editMode&&(e=Oc.createElement(ac,{className:"admin-helper-panel",namespaces:this.props.builderNamespaces,onCreateCard:this.addCard.bind(this),onResetLayout:this.resetCardsAndLayout.bind(this),onEditStatusChange:r,getMessage:function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"ajxp_admin";return t.props.getMessage(e,r)}}));var n=this.props.rglStyle||{};return Oc.createElement("div",{style:cc(cc({},this.props.style),{},{width:"100%",flex:"1"}),className:this.state.editMode?"builder-open":""},!this.props.disableEdit&&Oc.createElement("div",{style:{position:"absolute",bottom:30,right:18,zIndex:11}},Oc.createElement(g.FloatingActionButton,{tooltip:this.props.getMessage("home.49"),onClick:this.toggleEditMode.bind(this),iconClassName:this.state.editMode?"mdi mdi-check":"mdi mdi-pencil",mini:this.state.editMode,disabled:this.state.editMode&&this.state.widgetEditing})),e,Oc.createElement("div",{className:"home-dashboard",style:{height:"100%"}},Oc.createElement(wc,{disableDrag:this.props.disableDrag,cols:this.props.cols,store:this.state.store,style:n,pydio:this.props.pydio,editMode:this.state.editMode,removeCard:this.removeCard.bind(this)})))}}]),r}(Oc.Component);function jc(e){return jc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jc(e)}function Ec(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function xc(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ec(Object(r),!0).forEach((function(t){Cc(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ec(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Cc(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==jc(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==jc(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===jc(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}Pc=Sc(Pc);const kc={propTypes:{showCloseAction:U().bool,onCloseAction:U().func},focusItem:function(){this.setState({focus:!0})},blurItem:function(){this.setState({focus:!1})},mergeStyleWithFocus:function(){return xc(xc({},this.props.style),{},{zIndex:this.state.focus?1:null})},getInitialSate:function(){return{focus:!1,showCloseAction:!1}},toggleEditMode:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;void 0===e?this.setState({showCloseAction:!(this.state&&this.state.showCloseAction)}):this.setState({showCloseAction:e})},getCloseButton:function(){if(this.state&&this.state.showCloseAction){var e=this.props.onCloseAction||function(){};return React.createElement("div",{style:{position:"absolute",backgroundColor:"rgba(0,0,0,0.53)",zIndex:10,top:0,left:0,bottom:0,right:0,display:"flex",alignItems:"center",justifyContent:"center"}},React.createElement(g.FlatButton,{label:Z().getInstance().MessageHash["ajxp_admin.home.48"],className:"card-close-button",onClick:e,style:{color:"white"}}))}return null},statics:{getGridLayout:function(e,t){return{x:e||0,y:t||0,w:this.gridWidth||4,h:this.gridHeight||12,isResizable:!1}},hasBuilderFields:function(){return!!this.builderFields},getBuilderFields:function(){return this.builderFields}}};function Rc(e){return Rc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rc(e)}function _c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Tc(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?_c(Object(r),!0).forEach((function(t){Ic(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_c(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Ic(e,t,r){return(t=Ac(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Mc(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Ac(n.key),n)}}function Ac(e){var t=function(e,t){if("object"!==Rc(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==Rc(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===Rc(t)?t:String(t)}function Dc(e,t){return Dc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Dc(e,t)}function Lc(e){return Lc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Lc(e)}var Nc=a(580),zc=a(16689).Component,Bc=a(39455).FlatButton,Uc=a(13173).muiThemeable;function Fc(e){return Fc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fc(e)}function Zc(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Wc(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Hc(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Wc(Object(r),!0).forEach((function(t){qc(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Wc(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function qc(e,t,r){return(t=Vc(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Gc(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Vc(n.key),n)}}function Vc(e){var t=function(e,t){if("object"!==Fc(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==Fc(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===Fc(t)?t:String(t)}function $c(e,t){return $c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},$c(e,t)}function Kc(e){return Kc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Kc(e)}var Yc=Z().requireLib("boot").PydioContextConsumer,Xc=Z().requireLib("hoc").ModernSelectField,Jc=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&$c(e,t)}(s,e);var r,n,o,i,a=(o=s,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Kc(o);if(i){var r=Kc(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===Fc(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function s(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),a.apply(this,arguments)}return r=s,n=[{key:"render",value:function(){var e,r,n,o=this.props,i=o.item,a=o.paginatorCallback,s=o.paginatorType,l=o.style,c=o.getMessage,u=o.paginatorLabel,f=o.muiTheme,p=(0,K.getMuiTheme)(Hc(Hc({},f),{},{zIndex:{layer:3e3,popover:3001}}));if(i.pagination){for(var d=i.pagination,y=d.start,h=d.max,m=d.interval,b=Math.ceil(h/m),v=Math.ceil(y/m),O=[],S=0;S<b;S++)O.push(S);e=t().createElement(g.MuiThemeProvider,{muiTheme:p},t().createElement(Xc,{floatingLabelText:c(331),style:{width:60},dropDownMenuProps:{anchorOrigin:{vertical:"center",horizontal:"right"}},fullWidth:!0,value:v,onChange:function(e,t,r){a(r*m+"-"+(r+1)*m)}},O.map((function(e){return t().createElement(g.MenuItem,{value:e,key:e,primaryText:e+1})}))))}if("alpha"===s){var w="abcdefghijklmnopqrstuvwxyz0123456789".split("");w=[-1].concat(function(e){if(Array.isArray(e))return Zc(e)}(n=w)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(n)||function(e,t){if(e){if("string"==typeof e)return Zc(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Zc(e,t):void 0}}(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}());var P=i.currentParams&&i.currentParams.alpha_pages&&i.currentParams.value||-1;r=t().createElement(g.MuiThemeProvider,{muiTheme:p},t().createElement(Xc,{floatingLabelText:c(625),style:{width:60,marginLeft:8},dropDownMenuProps:{anchorOrigin:{vertical:"center",horizontal:"right"}},fullWidth:!0,value:P,onChange:function(e,t,r){a(r)}},w.map((function(e){return t().createElement(g.MenuItem,{value:e,key:e,primaryText:-1===e?c(597,""):e})}))))}return t().createElement("div",{style:Hc(Hc({},l),{},{display:"flex",paddingRight:8,alignItems:"center"})},t().createElement("div",{style:{flex:1,height:20}},u||c(249,"")),e,r)}}],n&&Gc(r.prototype,n),Object.defineProperty(r,"prototype",{writable:!1}),s}(e.Component);Jc.propTypes={item:U().object,paginatorCallback:U().func.isRequired,pydio:U().instanceOf(Z()),mode:U().oneOf(["book","selector","popover"]).isRequired},Jc=Yc(Jc),Jc=(0,K.muiThemeable)()(Jc);var Qc=a(4305),eu=a.n(Qc);function tu(e){return tu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tu(e)}function ru(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function nu(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ru(Object(r),!0).forEach((function(t){lu(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ru(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function ou(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,cu(n.key),n)}}function iu(e,t){return iu=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},iu(e,t)}function au(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function su(e){return su=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},su(e)}function lu(e,t,r){return(t=cu(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cu(e){var t=function(e,t){if("object"!==tu(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==tu(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===tu(t)?t:String(t)}var uu=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&iu(e,t)}(a,e);var t,r,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=su(n);if(o){var r=su(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===tu(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return au(e)}(this,e)});function a(e,t){var r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),lu(au(r=i.call(this,e,t)),"state",{});var n=e.onSearch;return e.setSearchTerm||(r.state={value:""},r.search=eu()((function(){n(r.state.value)}),300)),r}return t=a,r=[{key:"onChange",value:function(e,t){var r=this.props.setSearchTerm;r?r(t):(this.setState({value:t}),this.search())}},{key:"render",value:function(){var e=this,t=this.props,r=t.underlineShow,n=t.searchLabel,o=t.style,i=t.inputStyle,a=t.underlineStyle,s=t.underlineFocusStyle,l=t.hintStyle,c=t.searchTerm,u=this.state.value;return React.createElement("div",{style:nu({minWidth:320},o)},React.createElement(g.TextField,{fullWidth:!0,value:u||c,onChange:function(t,r){return e.onChange(t,r)},hintText:n,inputStyle:i,hintStyle:l,underlineStyle:a,underlineFocusStyle:s,underlineShow:void 0===r||r}))}}],r&&ou(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),a}(e.Component);uu.propTypes={searchLabel:U().string.isRequired,onSearch:U().func.isRequired,style:U().object,underlineShow:U().bool};const fu=require("pydio/model/idm-object-helper");var pu=a.n(fu);const du=require("pydio/model/cell");var yu=a.n(du);function hu(e){return hu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hu(e)}function mu(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,bu(n.key),n)}}function bu(e){var t=function(e,t){if("object"!==hu(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==hu(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===hu(t)?t:String(t)}const vu=function(){function e(t,r,n){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.props={pydio:t,cellModel:r,acl:n,addressBookItem:o}}var t,r;return t=e,(r=[{key:"createCell",value:function(){var e,t=this.props,r=t.addressBookItem,n=t.pydio,o=n.MessageHash;r.IdmUser?e=r.IdmUser:r.IdmRole&&(e=r.IdmRole),e&&n.user.getIdmUser().then((function(t){var i=pu().extractLabelFromIdmObject(t),a=pu().extractLabelFromIdmObject(r.IdmUser||r.IdmRole),s=new(yu());s.setLabel(i+", "+a),s.setDescription("Created by "+i),s.addUser(e),s.save().then((function(e){n.UI.displayMessage("SUCCESS",o[643].replace("%s",a))})).catch((function(e){n.UI.displayMessage("ERROR",o[644].replace("%s",e.message))}))}))}},{key:"addToCell",value:function(){var e,t=this.props,r=t.addressBookItem,n=t.cellModel;r.IdmUser?e=r.IdmUser:r.IdmRole&&(e=r.IdmRole),e&&(n.addUser(e),n.save())}},{key:"removeFromCell",value:function(){var e=this.props,t=e.acl,r=e.cellModel;r.removeUser(t.RoleId),r.save()}},{key:"renderItems",value:function(){var e,t,r,n=this.props,o=n.pydio,i=n.cellModel,a=n.acl,s=n.addressBookItem,l=o.MessageHash,c=[];if(a?a.User&&a.User.Login===o.user.id:"user"===t&&o.user.id===e)return c;if(s&&(e=s.id,"group"===(t=s.type)&&s.IdmRole&&(e=s.IdmRole.Uuid,t="team")),r=a?pu().extractLabel(o,a):s.label,!0===i)return o.getPluginConfigs("auth").get("USER_CREATE_CELLS")?[React.createElement(g.MenuItem,{primaryText:l[640].replace("%s",r),onClick:this.createCell.bind(this)})]:[];var u,f=i.isEditable(),p=i.getAcls();return Object.keys(p).map((function(r){var n=p[r];(a?a.RoleId===n.RoleId:"user"===t&&n.User&&n.User.Login===e||"group"===t&&n.Group&&n.Group.Uuid===e||"team"===t&&n.Role&&n.Role.Uuid===e)&&(u=!0)})),u?c.push(React.createElement(g.MenuItem,{primaryText:l[641],disabled:!f,onClick:this.removeFromCell.bind(this)})):c.push(React.createElement(g.MenuItem,{primaryText:l[642],disabled:!f,onClick:this.addToCell.bind(this)})),o.getPluginConfigs("auth").get("USER_CREATE_CELLS")&&c.push(React.createElement(g.Divider,null),React.createElement(g.MenuItem,{primaryText:l[640].replace("%s",r),onClick:this.createCell.bind(this)})),c}}])&&mu(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),e}(),gu={list:{},listItem:{style:{fontSize:13},innerDivStyle:{padding:"10px 56px 10px 62px"}},avatar:{avatarSize:26,style:{top:5}},iconMenu:{style:{top:4,right:8}},iconButton:{style:{width:26,height:26,padding:5,right:8},iconStyle:{color:"rgba(0,0,0,.33)",fontSize:20}},divider:{style:{marginLeft:62}},className:"compact"},Ou=require("pydio/lang/observable");var Su=a.n(Ou);function wu(e){return wu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wu(e)}function Pu(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ju(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Pu(Object(r),!0).forEach((function(t){Eu(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Pu(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Eu(e,t,r){return(t=Ru(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xu(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,s=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Cu(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Cu(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Cu(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ku(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Ru(n.key),n)}}function Ru(e){var t=function(e,t){if("object"!==wu(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==wu(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===wu(t)?t:String(t)}var _u=xn().getRestClient().getIdmApi(),Tu=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,r;return t=e,r=[{key:"childrenAsPromise",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=e.childrenLoader,n=e.itemsLoader,o=e.leafLoaded,i=e.collectionsLoaded,a=e.leafs,s=e.collections,l=t?n:r,c=t?o:i;return new Promise((function(r,n){!c&&l?l(e,(function(n){t?(e.leafs=n,e.leafLoaded=!0):(e.collections=n,e.collectionsLoaded=!0),r(n)})):r((t?a:s)||[])}))}},{key:"computePagination",value:function(e){var t;return e.Users?t=e.Users.length:e.Groups?t=e.Groups.length:e.Teams&&(t=e.Teams.length),e.Total>t?{start:e.Offset,end:e.Offset+e.Limit,max:e.Total,interval:e.Limit}:null}},{key:"prepareIdmUser",value:function(e){var t;if(arguments.length>1&&void 0!==arguments[1]&&arguments[1]){var r=[];r.push(Z().getMessages()[e.Attributes&&"shared"===e.Attributes.profile?"589":"590"]),"/"!==e.GroupPath&&r.push(e.GroupPath),t=r.join(" - ")}return{id:e.Login,label:e.Attributes&&e.Attributes.displayName?e.Attributes.displayName:e.Login,avatar:e.Attributes&&e.Attributes.avatar?e.Attributes.avatar:void 0,type:"user",IdmUser:e,secondaryText:t}}},{key:"prepareIdmGroup",value:function(e){var t;return arguments.length>1&&void 0!==arguments[1]&&arguments[1]&&(t=e.GroupPath+e.GroupLabel),{id:e.Uuid,label:e.Attributes&&e.Attributes.displayName?e.Attributes.displayName:e.GroupLabel,type:"group",icon:"mdi mdi-account-multiple",secondaryText:t,IdmUser:e}}},{key:"prepareTeam",value:function(t){var r;return arguments.length>1&&void 0!==arguments[1]&&arguments[1]&&(r=Z().getMessages()[603]),{id:t.Uuid,label:t.Label,type:"team",icon:"mdi mdi-account-multiple-outline",itemsLoader:e.loadTeamUsers,_notSelectable:!0,secondaryText:r,IdmRole:t}}},{key:"loadTeams",value:function(t,r){var n=0,o=50;if(t.range){var i=xu(t.range.split("-"),2),a=i[0],s=i[1];n=parseInt(a),o=(s=parseInt(s))-n}var l={};Z().getInstance().getController().actions.has("user_team_create")&&(l={type:"team",remove:"574",multiple:!0}),_u.listTeams("",n,o).then((function(n){t.pagination=e.computePagination(n);var o=n.Teams.map((function(r){return ju(ju({_parent:t},e.prepareTeam(r)),{},{actions:l})}));r(o)}))}},{key:"loadGroups",value:function(t,r){var n="/",o="";t.IdmUser&&(n=$().trimRight(t.IdmUser.GroupPath,"/")+"/"+t.IdmUser.GroupLabel),t.currentParams&&t.currentParams.has_search&&(o=t.currentParams.value),_u.listGroups(n,o,!1,0,1e3).then((function(n){var o=n.Groups.map((function(r){return ju(ju({_parent:t},e.prepareIdmGroup(r)),{},{childrenLoader:t.childrenLoader?e.loadGroups:null,itemsLoader:t.itemsLoader?e.loadGroupUsers:null,currentParams:t.currentParams&&t.currentParams.alpha_pages?ju({},t.currentParams):{}})}));r(o)}))}},{key:"loadExternalUsers",value:function(t,r){var n="",o=0,i=50;if(t.currentParams&&t.currentParams.alpha_pages&&(n=t.currentParams.value),t.range){var a=xu(t.range.split("-"),2),s=a[0],l=a[1];o=parseInt(s),i=(l=parseInt(l))-o}var c=xn().getClient().getPydioObject();_u.listUsers("/",n,!0,o,i,"shared").then((function(n){t.pagination=e.computePagination(n);var o=n.Users.filter((function(e){return e.Login!==c.user.id})).map((function(r){return ju(ju({_parent:t},e.prepareIdmUser(r)),{},{external:!0})}));r(o)}))}},{key:"loadGroupUsers",value:function(t,r){var n="/",o="",i=0,a=50;if(t.IdmUser&&(n=$().trimRight(t.IdmUser.GroupPath,"/")+"/"+t.IdmUser.GroupLabel),t.currentParams&&(t.currentParams.alpha_pages||t.currentParams.has_search)&&(o=t.currentParams.value),t.range){var s=xu(t.range.split("-"),2),l=s[0],c=s[1];i=parseInt(l),a=(c=parseInt(c))-i}var u=xn().getClient().getPydioObject();_u.listUsers(n,o,!1,i,a,"!shared").then((function(n){t.pagination=e.computePagination(n);var o=n.Users.filter((function(e){return e.Login!==u.user.id&&"pydio.anon.user"!==e.Login})).map((function(r){return ju({_parent:t},e.prepareIdmUser(r))}));r(o)}))}},{key:"loadTeamUsers",value:function(t,r){var n=0,o=50,i="";if(t.range){var a=xu(t.range.split("-"),2),s=a[0],l=a[1];n=parseInt(s),o=(l=parseInt(l))-n}t.currentParams&&(t.currentParams.alpha_pages||t.currentParams.has_search)&&(i=t.currentParams.value),_u.listUsersWithRole(t.IdmRole.Uuid,n,o,i).then((function(n){t.pagination=e.computePagination(n);var o=n.Users.map((function(r){return ju({_parent:t},e.prepareIdmUser(r))}));r(o)}))}},{key:"globalSearch",value:function(t,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:50,i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],a=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],s=!(arguments.length>6&&void 0!==arguments[6])||arguments[6];t="*"+t;var l=xn().getClient().getPydioObject(),c=[];if(i||a){var u=i?a?"":"shared":"!shared",f=_u.listUsers("/",t,!0,n,o,u).then((function(t){return t.Users.filter((function(e){return e.Login!==l.user.id&&"pydio.anon.user"!==e.Login})).map((function(t){return ju(ju({},e.prepareIdmUser(t,!0)),{},{external:t.Attributes&&"shared"===t.Attributes.profile})}))})).then((function(e){return{users:e}}));c.push(f);var p=_u.listGroups("/",t,!0,n,o).then((function(t){return t.Groups.map((function(t){return ju(ju({},e.prepareIdmGroup(t,!0)),{},{childrenLoader:e.loadGroups,itemsLoader:e.loadGroupUsers})}))})).then((function(e){return{groups:e}}));c.push(p)}if(s){var d=_u.listTeams(t,n,o).then((function(t){return t.Teams.map((function(t){return ju({},e.prepareTeam(t,!0))}))})).then((function(e){return{teams:e}}));c.push(d)}return Promise.all(c).then((function(e){var t=e.reduce((function(e,t){return ju(ju({},e),t)}),{});return r(t),t}))}}],null&&ku(t.prototype,null),r&&ku(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}(),Iu=a(82702);function Mu(e){return Mu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mu(e)}function Au(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Du(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Au(Object(r),!0).forEach((function(t){Zu(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Au(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Lu(e){return function(e){if(Array.isArray(e))return Nu(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return Nu(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Nu(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Nu(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function zu(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Wu(n.key),n)}}function Bu(e,t){return Bu=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Bu(e,t)}function Uu(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Fu(e){return Fu=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Fu(e)}function Zu(e,t,r){return(t=Wu(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Wu(e){var t=function(e,t){if("object"!==Mu(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==Mu(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===Mu(t)?t:String(t)}var Hu=(0,Lr.debounce)(Tu.globalSearch,350),qu=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Bu(e,t)}(a,e);var t,r,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Fu(n);if(o){var r=Fu(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===Mu(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Uu(e)}(this,e)});function a(e,t){var r,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"local",s=arguments.length>4&&void 0!==arguments[4]&&arguments[4],l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),Zu(Uu(r=i.call(this)),"pydio",null),Zu(Uu(r),"mode","book"),Zu(Uu(r),"teamsOnly",!1),Zu(Uu(r),"usersOnly",!1),Zu(Uu(r),"usersFrom","local"),Zu(Uu(r),"loading",!1),Zu(Uu(r),"root",null),Zu(Uu(r),"selectedItem",null),Zu(Uu(r),"rightPanelItem",null),Zu(Uu(r),"onItemSelected",null),Zu(Uu(r),"pendingCreateItem",null),Zu(Uu(r),"searchTerm",""),Zu(Uu(r),"searchMode",!1),Zu(Uu(r),"searchItem",null),Zu(Uu(r),"selectionMode",!1),Zu(Uu(r),"multipleSelection",[]),Zu(Uu(r),"reloadCurrentAtPage",(function(e){var t=r.selectedItem;t.leafLoaded=!1,t.collectionsLoaded=!1,-1===e?t.currentParams=null:-1!==e.indexOf("-")?t.range=e:(t.range=null,t.currentParams={alpha_pages:"true",value:e}),r.setContext(t)})),Zu(Uu(r),"reloadCurrentWithSearch",(function(e){if(e){var t=r.selectedItem;t.leafLoaded=!1,t.collectionsLoaded=!1,t.currentParams={has_search:!0,value:e,existing_only:!0},r.setContext(t)}else r.reloadCurrentAtPage(-1)})),Zu(Uu(r),"deleteItems",(function(e,t){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2]||confirm(r.m(278)))switch(e.actions.type){case"users":Promise.all(t.map((function(e){return r.rightPanelItem===e&&(r.rightPanelItem=null),xn().getRestClient().getIdmApi().deleteIdmUser(e.IdmUser)}))).then((function(){r.reloadContext()}));break;case"teams":Promise.all(t.map((function(e){return r.rightPanelItem===e&&(r.rightPanelItem=null),xn().getRestClient().getIdmApi().deleteRole(e.IdmRole.Uuid)}))).then((function(){r.reloadContext()}));break;case"team":Promise.all(t.map((function(t){return xn().getRestClient().getIdmApi().removeUserFromTeam(e.IdmRole.Uuid,t.IdmUser.Login)}))).then((function(){r.reloadContext()}))}})),r.pydio=e,r.mode=t,r.teamsOnly=s,r.usersOnly=n,r.usersFrom=o,r.onItemSelected=l;var c=r.pydio.getPluginConfigs("core.auth");return r._teamsEditable=r.pydio.getController().actions.has("user_team_create"),r._externalsAllowed=c.get("USER_CREATE_USERS"),r}return t=a,r=[{key:"getRoot",value:function(){return this.searchMode&&this.searchItem?this.searchItem:this.root}},{key:"contextItem",value:function(){return this.selectedItem}},{key:"setContext",value:function(e,t){var r=this;return"selector"===this.mode&&e.IdmRole&&e.IdmRole.IsTeam?(this.leafItemClicked(e),Promise.resolve()):(this.loading=!0,this.notify("update"),Tu.childrenAsPromise(e,!1).then((function(){Tu.childrenAsPromise(e,!0).then((function(){r.selectedItem=e,r.loading=!1,r.notify("update")})).then((function(){t&&t()}))})))}},{key:"contextIsGroup",value:function(){return this.selectedItem&&(this.selectedItem.IdmUser&&this.selectedItem.IdmUser.IsGroup||"PYDIO_GRP_/"===this.selectedItem.id)}},{key:"contextIsTeam",value:function(){return this.selectedItem&&this.selectedItem.IdmRole&&this.selectedItem.IdmRole.IsTeam}},{key:"reloadContext",value:function(){var e=this;return this.selectedItem?(this.selectedItem.leafLoaded=!1,this.selectedItem.collectionsLoaded=!1,this.setContext(this.selectedItem,(function(){if(e.rightPanelItem){var t=e.rightPanelItem.id,r=null,n=e.selectedItem.leafs||[],o=e.selectedItem.collections||[];[].concat(Lu(n),Lu(o)).forEach((function(e){e.id===t&&(r=e)})),e.rightPanelItem=r,e.notify("update")}}))):Promise.resolve}},{key:"setGlobalSearch",value:function(e,t){var r=this;e!==this.searchMode&&(e?(this.searchItem||(this.searchItem={id:"search",label:this.m("583"),type:"root"}),this.savedContext=this.contextItem(),this.searchItem.collections=[],this.setContext(this.searchItem)):(this.searchItem.collections=[],this.setContext(this.savedContext))),this.searchMode=e,this.searchTerm=t,this.searchTerm&&Hu(t,(function(e){r.searchItem.collections=[];var t,n,o=r.prepareTopFolders(r.searchItem);e.users&&(t=e.users.filter((function(e){return e.external})),n=e.users.filter((function(e){return!e.external}))),void 0!==t&&r.searchItem.collections.push(Du(Du({},o.shared),{},{leafs:t})),e.teams&&r.searchItem.collections.push(Du(Du({},o.teams),{},{collections:e.teams})),(void 0!==n||e.groups)&&(n&&n.length,e.groups&&e.groups.length,r.searchItem.collections.push(Du(Du({},o.directory),{},{collections:e.groups,leafs:n})));var i=Du({},o.results);r.searchItem.collections.forEach((function(e){var t,r;(t=i.collections).push.apply(t,Lu(e.collections.map((function(t){return t._parent=e,Du(Du({},t),{},{_parent:i})})))),(r=i.leafs).push.apply(r,Lu(e.leafs.map((function(t){return t._parent=e,Du(Du({},t),{},{_parent:i})})))),e.notExpandable=!0,e.label+=" (".concat(e.collections.length+e.leafs.length,")")})),i.label+=" (".concat(i.collections.length+i.leafs.length,")"),r.searchItem.collections.unshift(i),r.setContext(i),r.notify("update")}),0,50,this._externalsAllowed),this.notify("update")}},{key:"getSearchStatus",value:function(){return{searchMode:this.searchMode,searchTerm:this.searchTerm}}},{key:"rightItem",value:function(){return this.rightPanelItem}},{key:"leafItemClicked",value:function(e){if(this.onItemSelected){var t=new Iu.User(e.id,e.label,e.type,e.group,e.avatar,e.temporary,e.external);return e.trusted_server_id&&(t.trustedServerId=e.trusted_server_id,t.trustedServerLabel=e.trusted_server_label),t._uuid=e.uuid,e.IdmUser&&(t.IdmUser=e.IdmUser),e.IdmRole&&(t.IdmRole=e.IdmRole),void this.onItemSelected(t)}this.rightPanelItem=e,this.notify("update")}},{key:"clearRightItem",value:function(){this.rightPanelItem=null,this.notify("update")}},{key:"teamsEditable",value:function(){return this._teamsEditable}},{key:"deleteMultipleSelection",value:function(){this.selectionMode=!1,this.deleteItems(this.selectedItem,this.multipleSelection)}},{key:"setCreateItem",value:function(){this.pendingCreateItem=this.selectedItem,this.notify("update")}},{key:"clearCreateItem",value:function(){this.pendingCreateItem=null,this.notify("update")}},{key:"createItem",value:function(){return this.pendingCreateItem}},{key:"setSelectionMode",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;this.selectionMode=void 0===e?!this.selectionMode:e,this.multipleSelection=[],this.notify("update")}},{key:"getSelectionMode",value:function(){return this.selectionMode}},{key:"setMultipleSelection",value:function(e){this.multipleSelection=e,this.notify("update")}},{key:"getMultipleSelection",value:function(){return this.multipleSelection}},{key:"initTree",value:function(){var e={};if(this._teamsEditable&&(e={type:"teams",create:"+ "+this.m(569),remove:this.m(570),multiple:!0}),this.teamsOnly)return this.root=Du(Du({},this.prepareTopFolders(null).teams),{},{childrenLoader:Tu.loadTeams,actions:e}),void(this.selectedItem=this.root);this.root={id:"root",label:this.m(592),type:"root",collections:[]};var t=this.prepareTopFolders(this.root);"remote"!==this.usersFrom&&(this._externalsAllowed&&this.root.collections.push(Du(Du({},t.shared),{},{itemsLoader:Tu.loadExternalUsers,actions:{type:"users",create:"+ "+this.m(484),remove:this.m(582),multiple:!0}})),this.usersOnly||this.root.collections.push(Du(Du({},t.teams),{},{childrenLoader:Tu.loadTeams,actions:e})),this.root.collections.push(Du(Du({},t.directory),{},{childrenLoader:Tu.loadGroups,itemsLoader:Tu.loadGroupUsers}))),this.selectedItem="selector"===this.mode?this.root:this.root.collections[0]}},{key:"prepareTopFolders",value:function(e){return{shared:{id:"ext",label:this.m(593),icon:"mdi mdi-account-network",_parent:e,_notSelectable:!0,collections:[],leafs:[]},teams:{id:"teams",label:this.m(568),icon:"mdi mdi-account-multiple",_parent:e,_notSelectable:!0,collections:[],leafs:[]},directory:{id:"PYDIO_GRP_/",label:this.m(584),icon:"mdi mdi-account-box",_parent:e,_notSelectable:!0,collections:[],leafs:[]},results:{id:"results",label:this.m("599-a"),icon:"mdi mdi-magnify",_parent:e,notExpandable:!0,collections:[],leafs:[]}}}},{key:"m",value:function(e){return this.pydio.MessageHash[e]||e}}],r&&zu(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),a}(Su());const Gu=qu;function Vu(e){return Vu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vu(e)}function $u(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ku(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?$u(Object(r),!0).forEach((function(t){Yu(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$u(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Yu(e,t,r){return(t=tf(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Xu(e){return function(e){if(Array.isArray(e))return Ju(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return Ju(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Ju(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ju(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Qu(){return Qu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Qu.apply(this,arguments)}function ef(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,tf(n.key),n)}}function tf(e){var t=function(e,t){if("object"!==Vu(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==Vu(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===Vu(t)?t:String(t)}function rf(e,t){return rf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},rf(e,t)}function nf(e){return nf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},nf(e)}var of=a(10757).requireLib("boot"),af=of.Loader,sf=of.PydioContextConsumer,lf=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&rf(e,t)}(s,e);var r,n,o,i,a=(o=s,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=nf(o);if(i){var r=nf(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===Vu(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function s(e,t){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),a.call(this,e,t)}return r=s,(n=[{key:"render",value:function(){var e=this.props,r=e.pydio,n=e.item,o=e.mode,i=e.loading,a=e.showAllParents,s=e.enableSearch,l=e.searchLabel,c=e.onSearch,u=e.getMessage,f=e.bookColumn,p=e.toolbar,d=e.style,y=this.props.model;y||(y=new Gu(r,"inner"));var h=y.getMultipleSelection(),m=y.getSelectionMode(),b=this.props.listStyles,v=void 0===b?{}:b;"selector"!==o&&"inner"!==o||(v=gu);var O,S,w,P=v.className,j=v.avatar?v.avatar.avatarSize:36,E=n.collections||[],x=n.leafs||[],C=[],k=[],R={};"teams"===n.id?(R={paginatorFolder:n.pagination?"numeric":null,paginatorLabel:n.label,paginatorCallback:function(e){return y.reloadCurrentAtPage(e)}},y.teamsEditable()?(O=u(571,""),S=u(572,"")):(O=u("571.readonly",""),S=u("572.readonly",""))):"ext"===n.id?(O=u(585,""),S=u(586,""),n.pagination&&(w=!0,R={paginatorType:"alpha",paginatorCallback:function(e){return y.reloadCurrentAtPage(e)}})):(y.contextIsGroup()||y.contextIsTeam())&&(w=!0,R={paginatorType:!(n.currentParams&&n.currentParams.has_search)&&"alpha",paginatorCallback:function(e){return y.reloadCurrentAtPage(e)}}),R.paginatorFolder?C.push({subheader:t().createElement(Jc,Qu({},this.props,R,{style:{lineHeight:"20px",padding:"14px 0"}}))}):E.length&&(x.length||w)&&C.push({subheader:u("532")}),R.paginatorType?k.push({subheader:t().createElement(Jc,Qu({},this.props,R,{style:{lineHeight:"20px",padding:"14px 0"}}))}):w&&k.push({subheader:u("249")});var _,T=[].concat(C,Xu(E),k,Xu(x)),I=T.length,M=[];if("book"===o&&n._parent&&(n._parent._parent&&"teams"!==n._parent.id||a)&&(M.push(t().createElement(g.ListItem,Qu({key:"__parent__",primaryText:"..",onClick:function(e){e.stopPropagation(),y.setContext(n._parent)},leftAvatar:t().createElement(g.Avatar,{icon:t().createElement(g.FontIcon,{className:"mdi mdi-arrow-up"}),size:j})},v.listItem))),I&&M.push(t().createElement(g.Divider,{inset:!0,key:"parent-divider"}))),T.forEach(function(e,n){var i=this;if(e.subheader)M.push(t().createElement(g.Subheader,{key:e.subheader},e.subheader));else{var a,s=t().createElement(Kf,{avatarSize:j,pydio:this.props.pydio||r,userId:e.id,userLabel:e.label,avatar:e.avatar,icon:e.icon,idmUser:e.IdmUser,userType:e.type||"group",avatarOnly:!0,useDefaultAvatar:!0,style:v.avatar?v.avatar.style:{}}),l=function(t){t.stopPropagation(),i.props.onItemClicked(e)};if(E.indexOf(e)>-1?(l=function(t){t.stopPropagation(),y.setContext(e)},"selector"!==o||e._notSelectable||this.props.usersOnly||(a=t().createElement(g.IconButton,Qu({iconClassName:"mdi mdi-account-multiple-plus",tooltip:u("addressbook.pick.group"),tooltipPosition:"top-left",iconStyle:{color:"rgba(0,0,0,0.33)"},onClick:function(){i.props.onItemClicked(e)}},v.iconButton)))):"inner"===o&&this.props.onDeleteAction&&(a=t().createElement(g.IconButton,Qu({iconClassName:"mdi mdi-delete",tooltip:u(257),tooltipPosition:"top-left",iconStyle:{color:"rgba(0,0,0,0.13)",hoverColor:"rgba(0,0,0,0.53)"},onClick:function(){i.props.onDeleteAction(i.props.item,[e])}},v.iconButton))),f&&this.props.actionsForCell&&e.type){var c=new vu(r,this.props.actionsForCell,null,e).renderItems();a=c.length?t().createElement(g.IconMenu,Qu({},v.iconMenu,{iconButtonElement:t().createElement(g.IconButton,Qu({iconClassName:"mdi mdi-dots-vertical",iconStyle:{color:"rgba(0,0,0,.33)"}},v.iconButton)),targetOrigin:{horizontal:"right",vertical:"top"},anchorOrigin:{horizontal:"right",vertical:"top"},desktop:!0}),c):null}var p,d={overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"};e.secondaryText&&(d.fontWeight=500,p=t().createElement("span",{style:{fontSize:13,color:"var(--md-sys-color-on-surface-variant)"}},e.secondaryText)),M.push(t().createElement(g.ListItem,Qu({key:e.id,primaryText:t().createElement("div",{style:d},e.label),secondaryText:p,onClick:l,disabled:"inner"===o,leftAvatar:!m&&s,rightIconButton:a,leftCheckbox:m&&t().createElement(g.Checkbox,{checked:h.indexOf(e)>-1,onCheck:function(t,r){if(r)y.setMultipleSelection([].concat(Xu(h),[e]));else{var n=[].concat(Xu(h.slice(0,h.indexOf(e))),Xu(h.slice(h.indexOf(e)+1)));y.setMultipleSelection(n)}}})},v.listItem))),"inner"!==o&&n<I-1&&M.push(t().createElement(g.Divider,Qu({inset:!0,key:e.id+"-divider"},v.divider)))}}.bind(this)),!M.length){var A={style:{backgroundColor:"transparent",minHeight:300},iconClassName:"mdi mdi-account-off",primaryTextId:O||u(629),secondaryTextId:"book"===o&&S||null};"book"===o&&n.actions&&n.actions.create&&(A=Ku(Ku({},A),{},{actionLabelId:u(n.actions.create),actionCallback:function(){return y.setCreateItem()}})),"compact"===P&&(A=Ku(Ku({},A),{},{style:{backgroundColor:"transparent",minHeight:150},iconStyle:{fontSize:40},legendStyle:{fontSize:13}})),_=t().createElement(co,A)}return t().createElement("div",{style:Ku({flex:1,flexDirection:"column",display:"flex",width:"100%",overflowX:"hidden"},d),onClick:this.props.onClick,className:P},p,!_&&!i&&t().createElement(g.List,{style:{flex:1,overflowY:"inner"!==o?"auto":"initial"}},this.props.subHeader&&t().createElement(g.Subheader,null,this.props.subHeader),M),i&&t().createElement(af,{style:{flex:1}}),!i&&_,"selector"===o&&s&&f&&t().createElement(uu,{searchLabel:l,onSearch:c,style:{padding:"0 20px",minWidth:null},underlineShow:!1}))}}])&&ef(r.prototype,n),Object.defineProperty(r,"prototype",{writable:!1}),s}(t().Component);function cf(e){return cf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cf(e)}function uf(){return uf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},uf.apply(this,arguments)}function ff(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,pf(n.key),n)}}function pf(e){var t=function(e,t){if("object"!==cf(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==cf(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===cf(t)?t:String(t)}function df(e,t){return df=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},df(e,t)}function yf(e){return yf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},yf(e)}lf.propTypes={item:U().object,onDeleteAction:U().func,onItemClicked:U().func,onFolderClicked:U().func,onEditLabel:U().func,mode:U().oneOf(["book","selector","inner"]),bookColumn:U().bool},lf=sf(lf),lf=(0,K.muiThemeable)()(lf);var hf=a(16689).Component,mf=a(39455),bf=mf.Divider,vf=mf.Subheader,gf=mf.List,Of=mf.ListItem,Sf=mf.FontIcon,wf=mf.Avatar,Pf=a(56880),jf=a(10757).requireLib("boot").PydioContextConsumer,Ef=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&df(e,t)}(a,e);var t,r,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=yf(n);if(o){var r=yf(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===cf(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function a(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),i.apply(this,arguments)}return t=a,(r=[{key:"render",value:function(){var e=this,t=this.props,r=t.graph,n=t.pydio,o=t.getMessage,i=t.muiTheme,a=t.reloadAction,s=n.getController().actions.has("user_team_create"),l=[];if(r.teams&&r.teams.length){var c=null;s&&(c=function(t,r){Pf.getRestClient().getIdmApi().removeUserFromTeam(r[0].id,e.props.userId,(function(e){e&&e.message&&n.UI.displayMessage("SUCCESS",e.message),a()}))}),l.push(React.createElement("div",{key:"teams"},React.createElement(lf,{subHeader:o(581).replace("%s",r.teams.length),onItemClicked:function(){},item:{leafs:r.teams},mode:"inner",onDeleteAction:c})))}if(r.cells){var u=Object.values(r.cells).filter((function(e){return"ROOM"===e.Scope})),f="mui3"===i.userTheme?i.palette.mui3.tertiary:"#009688",p="mui3"===i.userTheme?i.palette.mui3["on-tertiary"]:"#fff";u.length&&l.push(React.createElement("div",null,l.length?React.createElement(bf,null):null,React.createElement(vf,null,1===u.length?o("601"):o("602").replace("%1",u.length)),React.createElement(gf,{style:{paddingTop:0}},u.map((function(e){return React.createElement(Of,uf({disabled:!0,leftAvatar:React.createElement(wf,{icon:React.createElement(Sf,{className:"mdi mdi-share-variant",style:{color:p}}),backgroundColor:f,size:gu.avatar.avatarSize,style:gu.avatar.style}),primaryText:e.Label,rightIconButton:React.createElement(g.IconButton,uf({iconClassName:"mdi mdi-open-in-new",tooltip:"Go to Cell",tooltipPosition:"top-left",onClick:function(){n.triggerRepositoryChange(e.UUID)}},gu.iconButton))},gu.listItem))})))))}return React.createElement("div",null,l)}}])&&ff(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),a}(hf);function xf(e){return xf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xf(e)}Ef=jf((0,K.muiThemeable)()(Ef));var Cf=["style"],kf=["style"];function Rf(){return Rf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Rf.apply(this,arguments)}function _f(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function Tf(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function If(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Tf(Object(r),!0).forEach((function(t){Mf(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Tf(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Mf(e,t,r){return(t=Df(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Af(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Df(n.key),n)}}function Df(e){var t=function(e,t){if("object"!==xf(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==xf(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===xf(t)?t:String(t)}function Lf(e,t){return Lf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Lf(e,t)}function Nf(e){return Nf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Nf(e)}var zf=a(4305),Bf=a(39105),Uf=a(39455),Ff=Uf.FontIcon,Zf=Uf.Paper,Wf=Uf.Avatar,Hf=Uf.CardTitle,qf=a(13173).muiThemeable,Gf=a(85829),Vf=a(82702).UsersApi,$f=Z().requireLib("hoc").ThemedContainers.Popover,Kf=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Lf(e,t)}(s,e);var r,n,o,i,a=(o=s,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Nf(o);if(i){var r=Nf(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===xf(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function s(e,t){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),(r=a.call(this,e,t)).state={user:null,avatar:null,graph:null,local:!1},r}return r=s,(n=[{key:"componentDidMount",value:function(){this.loadPublicData(this.props.userId,this.props.idmUser)}},{key:"componentWillReceiveProps",value:function(e){this.props.userId&&this.props.userId===e.userId&&e.graphRand===this.props.graphRand||(this.setState({label:e.userId}),this.loadPublicData(e.userId,e.idmUser))}},{key:"componentWillUnmount",value:function(){this._userLoggedObs&&this.props.pydio.stopObserving("user_logged",this._userLoggedObs)}},{key:"loadPublicData",value:function(e,t){var r=this,n=this.props,o=n.userType,i=n.richCard,a=n.pydio;"group"!==o&&"team"!==o&&Vf.getUserPromise(e,t).then((function(t){t.isLocal()&&!r._userLoggedObs&&(r._userLoggedObs=function(t){null!==t&&r.loadPublicData(e)},a.observe("user_logged",r._userLoggedObs)),r.setState({user:t,avatar:t.getAvatar(),local:t.isLocal()}),i&&!t.isNotFound()&&xn().getRestClient().getIdmApi().loadUserGraph(e).then((function(e){var t={cells:{},teams:[]};e.SharedCells&&e.SharedCells.forEach((function(r){t.cells=e.SharedCells})),e.BelongsToTeams&&e.BelongsToTeams.forEach((function(e){t.teams.push({id:e.Uuid,label:e.Label,type:"team",IdmRole:e})})),r.setState({graph:t})}))})).catch((function(e){r.setState({loadError:!0})}))}},{key:"render",value:function(){var e=this,r=this.state,n=r.user,o=r.avatar,i=r.graph,a=r.local,l=r.loadError,c=this.props,u=c.pydio,f=c.userId,p=c.userType,d=c.icon,y=c.style,h=c.labelStyle,m=c.avatarLetters,b=c.avatarStyle,v=c.avatarSize,g=c.cardStyle,O=c.cardTitleStyle,S=c.cardSubtitleStyle,w=c.className,P=c.labelMaxChars,j=c.labelClassName,E=c.avatarClassName,x=c.displayLabel,C=c.displayLocalLabel,k=c.displayLabelChevron,R=c.labelChevronStyle,_=c.displayAvatar,T=c.useDefaultAvatar,I=c.richCard,M=c.muiTheme,A=c.noActionsPanel;if(!f)return t().createElement("div",null,"ERROR : empty userId ! ");var D,L,N,z,B,U,F,Z,W,H,q,G,V=this.state.label,$=l,K=!1;if(n?(V=n.getLabel(),$=n.isNotFound(),n.isPublic()&&(V=u.MessageHash.public_link_user,K=!0)):V||(V=this.props.userLabel||this.props.userId),a&&C&&(V=u.MessageHash[634]),P&&V&&V.length>P&&(V.split(" ").length>1?(D=V,V=V.split(" ").map((function(e){return e[0]})).join("")):V.split("@").length>1&&(D=V,V=V.split("@")[0].split(".").length>1?V.split("@")[0].split(".").map((function(e){return e[0]})).join(""):V.split("@")[0])),I&&(_=!0,T=!0,x=!0),_&&!o&&V&&(!x||T)){var Y,X=M.palette.avatarsColor;switch("group"!==p&&"team"!==p&&0!==f.indexOf("PYDIO_GRP_/")&&0!==f.indexOf("/USER_TEAM/")||(X=Bf(X).darken(.2).toString()),p){case"group":Y="mdi mdi-account-multiple",L="289",U="folder-avatar";break;case"team":Y="mdi mdi-account-multiple-outline",L="603",U="folder-avatar";break;case"remote":Y="mdi mdi-account-network",L="604",U="folder-avatar";break;default:Y="mdi mdi-account",n?n.getExternal()?(L="589",n.isPublic()&&(L="589",V=u.MessageHash.public_link_user,Y="mdi mdi-link")):L="590":L="288"}d&&(Y=d),L&&(L=u.MessageHash[L]),I?(B=t().createElement(Ff,{className:Y,style:{color:X}}),z="#f5f5f5"):(z=X,Y&&!m?B=t().createElement(Ff,{className:Y}):(N=V.split(" ").map((function(e){return e[0]})).join("").substring(0,2)).length<2&&(N=V.substring(0,2)))}if(I){_=!0,y=If(If({},y),{},{flexDirection:"column"}),void 0===v&&(v=50),b=If({position:"absolute",right:16,top:12},b);var J=function(){Gf.getInstance().deleteKey("user_public_data-graph",e.props.userId),e.loadPublicData(e.props.userId,e.props.idmUser)};F=function(){J(),e.props.reloadAction&&e.props.reloadAction()},Z=function(){J(),e.props.onEditAction&&e.props.onEditAction()}}else if(a||$||K||!this.props.richOnHover){if(!a&&!$&&!K&&this.props.richOnClick){H=zf(H=function(){e.lockedBySubPopover||e.setState({showPopover:!1})},350),q=function(t){e.setState({showPopover:!0,popoverAnchor:t.currentTarget}),H.cancel()};var Q=function(t){e.setState({showPopover:!0}),H.cancel()},ee=this.props,te=(ee.style,_f(ee,kf));G=t().createElement($f,{open:this.state.showPopover,anchorEl:this.state.popoverAnchor,onRequestClose:function(t){"clickAway"===t&&e.lockedBySubPopover||e.setState({showPopover:!1})},anchorOrigin:{horizontal:"left",vertical:"bottom"},targetOrigin:{horizontal:"left",vertical:"top"},useLayerForClickAway:!1},t().createElement(Zf,{zDepth:2,style:{width:220,height:320,overflowY:"auto"},onMouseOver:Q,onMouseOut:H},t().createElement(s,Rf({},te,{richCard:!0,richOnHover:!1,cardSize:220,lockOnSubPopoverOpen:function(t){e.lockedBySubPopover=t,Q()}}))))}}else{H=zf(H=function(){e.lockedBySubPopover||e.setState({showPopover:!1})},350),W=function(t){e.setState({showPopover:!0,popoverAnchor:t.currentTarget}),H.cancel()};var re=function(t){e.setState({showPopover:!0}),H.cancel()},ne=this.props,oe=(ne.style,_f(ne,Cf));G=t().createElement($f,{open:this.state.showPopover,anchorEl:this.state.popoverAnchor,onRequestClose:function(t){"clickAway"===t&&e.lockedBySubPopover||e.setState({showPopover:!1})},anchorOrigin:{horizontal:"left",vertical:"center"},targetOrigin:{horizontal:"right",vertical:"center"},useLayerForClickAway:!1},t().createElement(Zf,{zDepth:2,style:{width:220,height:320,overflowY:"auto"},onMouseOver:re,onMouseOut:H},t().createElement(s,Rf({},oe,{richCard:!0,richOnHover:!1,cardSize:220,lockOnSubPopoverOpen:function(t){e.lockedBySubPopover=t,re()}}))))}if(o){var ie=o;ie.indexOf("?")>=0?ie+="&dim="+v:ie+="?dim="+v,B=t().createElement(Ff,{style:{backgroundImage:"url("+ie+")",backgroundSize:"cover",margin:0,width:"100%",height:"100%",borderRadius:"50%",backgroundPosition:"center"}})}var ae,se=t().createElement(Wf,{icon:B,size:v,style:this.props.avatarOnly?this.props.style:b,backgroundColor:z,className:U||E},N);return this.props.avatarOnly?se:(I?se=t().createElement("div",{style:{textAlign:"center"}},se):$&&(V=u.MessageHash["user.unknown"]),x&&k&&(ae=t().createElement("span",{className:"mdi mdi-chevron-down",style:If(If({},R),{},{marginLeft:4,fontSize:"0.8em"})})),t().createElement("div",{className:w,style:y,onMouseOver:W,onMouseOut:H,onClick:q},_&&(o||N||B)&&se,x&&!I&&t().createElement("div",{title:D,className:j,style:h},V),ae,x&&I&&t().createElement(Hf,{style:If({textAlign:"center"},g),title:V,subtitle:L,titleStyle:If({},O),subtitleStyle:If({},S)}),I&&n&&this.props.actionsPanel,I&&i&&!A&&t().createElement(Ef,Rf({graph:i},this.props,{userLabel:V,reloadAction:F,onEditAction:Z})),this.props.children,G))}}])&&Af(r.prototype,n),Object.defineProperty(r,"prototype",{writable:!1}),s}(t().Component);Kf.propTypes={userId:U().string.isRequired,pydio:U().instanceOf(Z()),userLabel:U().string,userType:U().oneOf(["user","group","remote","team"]),icon:U().string,richCard:U().bool,richOnHover:U().bool,richOnClick:U().bool,userEditable:U().bool,onEditAction:U().func,onDeleteAction:U().func,reloadAction:U().func,displayLabel:U().bool,displayLocalLabel:U().bool,displayAvatar:U().bool,avatarOnly:U().bool,useDefaultAvatar:U().bool,avatarSize:U().number,avatarLetters:U().bool,noActionsPanel:U().bool,className:U().string,labelClassName:U().string,avatarClassName:U().string,style:U().object,labelStyle:U().object,avatarStyle:U().object},Kf.defaultProps={displayLabel:!0,displayAvatar:!0,avatarSize:40,userType:"user",className:"user-avatar-widget",labelClassName:"user-label"},Kf=qf()(Kf);var Yf=a(7180),Xf=a.n(Yf);const Jf=require("pydio/util/pass");var Qf=a.n(Jf);const ep=require("pydio/http/policies");var tp=a.n(ep);const rp=require("cells-sdk");function np(e){return np="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},np(e)}function op(e){return function(e){if(Array.isArray(e))return ip(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return ip(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?ip(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ip(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ap(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function sp(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ap(Object(r),!0).forEach((function(t){lp(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ap(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function lp(e,t,r){return(t=up(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cp(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,up(n.key),n)}}function up(e){var t=function(e,t){if("object"!==np(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==np(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===np(t)?t:String(t)}function fp(e,t){return fp=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},fp(e,t)}function pp(e){return pp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},pp(e)}var dp=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&fp(e,t)}(s,e);var r,n,o,i,a=(o=s,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=pp(o);if(i){var r=pp(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===np(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function s(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s);var r=sp({},e);return e.subjectsDisabled||(r.subjectsDisabled={READ:{},WRITE:{}}),e.cellAcls&&Object.keys(e.cellAcls).map((function(t){e.cellAcls[t].RoleId&&(r.subjectsDisabled.READ["role:"+e.cellAcls[t].RoleId]=!0)})),(t=a.call(this,r)).state={edit:!1,loading:!0,policies:[],diffPolicies:{add:{},remove:{}},hideGroups:!0===Z().getInstance().getPluginConfigs("action.advanced_settings").get("DISABLE_SHARE_GROUPS")},t}return r=s,n=[{key:"componentDidMount",value:function(){this.setState({loading:!0}),this.reload()}},{key:"reload",value:function(){var e=this,t=this.props,r=t.resourceType,n=t.resourceId,o=pydio.user,i=[tp().loadPolicies(r,n),o.getIdmUser()];"team"!==r&&i.push(xn().getRestClient().getIdmApi().listTeams()),Promise.all(i).then((function(t){var n=t[0],o=n[0].Resource,i=t[1],a=[];"team"!==r&&t[2]&&(a=t[2].Teams),e.setState({policies:n,idmUser:i,userTeams:a,loading:!1,resourceUuid:o})})).catch((function(t){e.setState({error:t.message,loading:!1})}))}},{key:"revert",value:function(){this.setState({dirtyPolicies:null,diffPolicies:{add:{},remove:{}}})}},{key:"save",value:function(){var e=this,t=this.state,r=t.dirtyPolicies,n=t.diffPolicies,o=this.props,i=o.resourceType,a=o.resourceId,s=o.onSavePolicies;tp().savePolicies(i,a,r).then((function(t){e.setState({policies:t,dirtyPolicies:null,diffPolicies:{add:{},remove:{}}}),s&&s(n)})).catch((function(t){e.setState({error:t.message})}))}},{key:"removePolicy",value:function(e,t){var r=this.state,n=r.policies,o=r.dirtyPolicies,i=r.diffPolicies;o&&(n=o);var a=[];n.map((function(r){r.Action===e&&r.Subject===t||a.push(r)})),i.remove[e+"///"+t]=!0,i.add[e+"///"+t]&&delete i.add[e+"///"+t],this.setState({dirtyPolicies:a,diffPolicies:i})}},{key:"addPolicy",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=this.state,o=n.policies,i=n.dirtyPolicies,a=n.resourceUuid,s=n.diffPolicies,l=op(i||o),c=new rp.ServiceResourcePolicy;c.Resource=a,c.Effect="allow",c.Subject=t,c.Action=e,l.push(c),s.add[e+"///"+t]=!0,s.remove[e+"///"+t]&&delete s.remove[e+"///"+t],r?this.setState({dirtyPolicies:l,diffPolicies:s,pickedUser:null,pickedLabel:null}):this.setState({dirtyPolicies:l,diffPolicies:s})}},{key:"hasOneWrite",value:function(e){var t=this.state.idmUser,r=t.Roles.map((function(e){return"role:"+e.Uuid}));r.push("user:"+t.Login);for(var n=0;n<r.length;n++)for(var o=0;o<e.length;o++)if(e[o].Subject===r[n]&&"WRITE"===e[o].Action)return!0;return!1}},{key:"findCrtUserSubject",value:function(e){var t=this.state.idmUser,r=["user:"+t.Login,"role:"+t.Uuid],n=e.filter((function(e){return r.indexOf(e.Subject)>-1}));return n.length?n[0].Subject:r[0]}},{key:"listUserRoles",value:function(e){var t=this.state,r=t.hideGroups,n=t.idmUser,o=this.findCrtUserSubject(e),i=this.hasOneWrite(e),a={};n.Roles.map((function(e){e.GroupRole&&!r&&(a["role:"+e.Uuid]=e.Label)})),(a=sp(sp({},this.listOtherUsersSubjects(e,o)),a))[o]="You";for(var s=Object.keys(a),l=[],c=s.length-1;c>=0;c--){var u=s[c],f=a[u];l.push(this.renderLine(u,f,e,!i||u===o))}return{groupBlocks:l,hasWrite:i}}},{key:"listUserTeams",value:function(e,t,r){var n=this;return e.map((function(e){return n.renderLine("role:"+e.Uuid,e.Label,t,r)}))}},{key:"listOtherUsersSubjects",value:function(e,t){var r=this.props,n=r.resourceId,o=r.cellAcls,i=this.state.hideGroups,a={};return e.map((function(e){if(0===e.Subject.indexOf("user:")&&e.Subject!==t&&e.Subject!=="user:"+n&&(a[e.Subject]=e.Subject.substr("user:".length)),o&&0===e.Subject.indexOf("role:")&&o[e.Subject.substr("role:".length)]){var r=e.Subject.substr("role:".length);if(o[r].User){var s=o[r].User;t!=="user:"+s.Login&&t!=="role:"+s.Uuid&&(a[e.Subject]=s.Attributes&&s.Attributes.displayName?s.Attributes.displayName:s.Login)}else if(o[r].Group&&!i){var l=o[r].Group;a[e.Subject]=l.Attributes&&l.Attributes.displayName?l.Attributes.displayName:l.GroupLabel}}})),a}},{key:"pickUser",value:function(e){var t,r;if(e.IdmUser){var n=e.IdmUser,o=n.Attributes||{};n.IsGroup?(t="role:"+n.Uuid,r=o.displayName||n.GroupLabel):(t="user:"+n.Login,r=o.displayName||n.Login)}else{var i=e.IdmRole;t="role:"+i.Uuid,r=i.Label}this.setState({pickedUser:t,pickedLabel:r})}},{key:"renderLine",value:function(e,r,n,o){var i=this,a=arguments.length>4&&void 0!==arguments[4]&&arguments[4],s=this.props,l=s.subjectsDisabled,c=s.subjectsHidden,u=s.readonly;if(c&&c[e])return null;var f=!1,p=!1,d=function(){i.addPolicy("READ",e,a)},y=function(){i.addPolicy("WRITE",e,a)};n.map((function(t){t.Subject===e&&("WRITE"===t.Action?(p="WRITE"===t.Action,y=function(){i.removePolicy("WRITE",e)}):"READ"===t.Action&&(f="READ"===t.Action,d=function(){i.removePolicy("READ",e)}))}));var h=o,m=o;return u?(m=!0,h=!0):(l&&l.READ&&l.READ[e]&&(m=!0),l&&l.WRITE&&l.WRITE[e]&&(h=!0)),t().createElement("div",{style:{display:"flex",margin:10,marginRight:0}},t().createElement("div",{style:{flex:1}},r),t().createElement(g.Checkbox,{checked:f,disabled:m,style:{width:40},onCheck:d}),t().createElement(g.Checkbox,{checked:p,disabled:h,style:{width:40},onCheck:y}))}},{key:"render",value:function(){var e=this,r=this.props.muiTheme,n=r.appBar,o=r.palette.mui3,i=void 0===o?{}:o,a={title:{paddingLeft:10,backgroundColor:n.color,display:"flex",alignItems:"center",fontSize:16,color:n.textColor},subheader:{margin:10,fontWeight:500,color:i["on-surface-variant"],display:"flex"},subject:{margin:10},head:{display:"inline-block",width:40,textAlign:"center",fontSize:10}},s=this.state,l=s.edit,c=s.policies,u=s.dirtyPolicies,f=s.error,p=s.idmUser,d=s.userTeams,y=s.loading,h=s.pickedUser,m=s.pickedLabel,b=this.props,v=b.onDismiss,O=b.style,S=b.skipTitle,w=b.resourceId,P=b.pydio,j=b.userListExcludes,E=void 0===j?[]:j,x=b.readonly,C=b.description,k=[],R=P.MessageHash;if(!l)return t().createElement("div",{style:O},!S&&t().createElement("div",{style:sp(sp({},a.title),{},{height:48})},t().createElement("span",{style:{flex:1}},R["visibility.panel.title"]),v&&t().createElement(g.IconButton,{iconClassName:"mdi mdi-close",onClick:v,iconStyle:{color:n.textColor}})),t().createElement("div",{style:{padding:20,fontWeight:500,textAlign:"justify"}},t().createElement("div",{style:{paddingBottom:20}},C),t().createElement("div",{style:{textAlign:"center"}},t().createElement(g.RaisedButton,{label:R["visibility.panel.edit"],primary:!0,onClick:function(){e.setState({edit:!0})}}))));if(!y&&!f){var _=this.listUserRoles(u||c),T=_.groupBlocks,I=_.hasWrite,M=this.listUserTeams(d,u||c,!I),A=t().createElement("div",null,t().createElement("span",{style:a.head},R["visibility.panel.right-read"]),t().createElement("span",{style:a.head},R["visibility.panel.right-edit"]));if(T.length&&(k.push(t().createElement("div",{style:a.subheader},t().createElement("span",{style:{flex:1}},R["visibility.panel.list.users"]),A)),k.push(T),k.push(t().createElement(g.Divider,null))),M.length&&(k.push(t().createElement("div",{style:a.subheader},t().createElement("span",{style:{flex:1}},R["visibility.panel.list.teams"]),A)),k.push(M),k.push(t().createElement(g.Divider,null))),h)k.push(t().createElement("div",{style:a.subheader},R["visibility.panel.setvisible"])),k.push(this.renderLine(h,m,c,!1,!0)),k.push(t().createElement("div",{style:{textAlign:"right"}},t().createElement(g.FlatButton,{label:R[54],onClick:function(){e.setState({pickedUser:null,pickedLabel:null})}}))),k.push(t().createElement(g.Divider,null));else if(!x){var D="user:"+p.Login,L=this.listOtherUsersSubjects(u||c,D),N=[];Object.keys(L).map((function(e){N.push(L[e])})),k.push(t().createElement("div",{style:a.subheader},R["visibility.panel.setvisible"])),k.push(t().createElement("div",{style:{margin:"-10px 10px 0"}},t().createElement(Qy,{className:"share-form-users",fieldLabel:R["visibility.panel.pickuser"],renderSuggestion:function(e){return t().createElement("div",{style:{fontSize:13}},e.getExtendedLabel())},onValueSelected:this.pickUser.bind(this),usersOnly:!1,existingOnly:!0,excludes:[w].concat(op(E),N),pydio:P,showAddressBook:!1,usersFrom:"local"}))),k.push(t().createElement(g.Divider,null))}k.pop()}return t().createElement("div",{style:O},t().createElement("div",{style:a.title},t().createElement("span",{style:{flex:1}},S?"":R["visibility.panel.title"]),u&&t().createElement(g.IconButton,{iconClassName:"mdi mdi-undo-variant",tooltip:R["visibility.panel.revert"],onClick:this.revert.bind(this),iconStyle:{color:n.textColor}}),u&&t().createElement(g.IconButton,{iconClassName:"mdi mdi-content-save",tooltip:R["visibility.panel.save"],onClick:this.save.bind(this),iconStyle:{color:n.textColor}}),!u&&v&&t().createElement(g.IconButton,{iconClassName:"mdi mdi-close",onClick:v,iconStyle:{color:n.textColor}})),f&&t().createElement("div",null,R["visibility.panel.error"],": ",f),t().createElement("div",null,k))}}],n&&cp(r.prototype,n),Object.defineProperty(r,"prototype",{writable:!1}),s}(t().Component);function yp(e){return yp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yp(e)}function hp(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function mp(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?hp(Object(r),!0).forEach((function(t){bp(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hp(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function bp(e,t,r){return(t=gp(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vp(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,gp(n.key),n)}}function gp(e){var t=function(e,t){if("object"!==yp(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==yp(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===yp(t)?t:String(t)}function Op(e,t){return Op=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Op(e,t)}function Sp(e){return Sp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Sp(e)}dp.PropTypes={pydio:U().instanceOf(Z()),resourceType:U().string.isRequired,resourceId:U().string.isRequired,description:U().string.isRequired,onSavePolicies:U().func,userListExcludes:U().array,subjectsDisabled:U().array,subjectsHidden:U().object,readonly:U().bool,cellAcls:U().object,onDismiss:U().func,style:U().object,skipTitle:U().bool},dp=(0,K.muiThemeable)()(dp);var wp=a(16689),Pp=a(56880),jp=a(62610),Ep=a(85829),xp=a(39455).IconButton,Cp=a(13173).muiThemeable,kp=a(10757).requireLib("boot"),Rp=kp.PydioContextConsumer,_p=kp.AsyncComponent,Tp=Z().requireLib("hoc").ThemedContainers.Popover,Ip=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Op(e,t)}(a,e);var t,r,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Sp(n);if(o){var r=Sp(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===yp(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function a(e,t){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(r=i.call(this,e,t)).state={showPicker:!1,pickerAnchor:null,showMailer:!1,mailerAnchor:null,showPolicies:!1,policiesAnchor:null},r}return t=a,r=[{key:"onTeamSelected",value:function(e){var t=this.props,r=t.userId,n=t.reloadAction;this.setState({showPicker:!1}),e.IdmRole&&e.IdmRole.IsTeam&&Pp.getRestClient().getIdmApi().addUserToTeam(e.IdmRole.Uuid,r,(function(){Ep.getInstance().deleteKey("user_public_data-graph",r),n()}))}},{key:"onUserSelected",value:function(e){var t=this.props,r=t.team,n=t.reloadAction;Pp.getRestClient().getIdmApi().addUserToTeam(r.id,e.IdmUser.Login,n)}},{key:"openPicker",value:function(e){this.setState({showPicker:!0,pickerAnchor:e.currentTarget})}},{key:"openPolicies",value:function(e){this.setState({showPolicies:!0,policiesAnchor:e.currentTarget})}},{key:"openMailer",value:function(e){var t=this,r=e.currentTarget;jp.loadClassesAndApply(["PydioMailer"],(function(){t.setState({mailerLibLoaded:!0},(function(){t.setState({showMailer:!0,mailerAnchor:r})}))}))}},{key:"componentDidUpdate",value:function(e,t){this.props.lockOnSubPopoverOpen&&(!this.state.showPicker&&!this.state.showMailer||t.showPicker||t.showMailer?this.state.showPicker||this.state.showMailer||!t.showPicker&&!t.showMailer||this.props.lockOnSubPopoverOpen(!1):this.props.lockOnSubPopoverOpen(!0))}},{key:"render",value:function(){var e,t,r=this,n=this.props,o=n.pydio,i=n.getMessage,a=n.muiTheme,s=n.userEditable,l=n.userId,c=n.style,u=n.otherPopoverMouseOver,f=n.team,p=n.user,d=n.onEditAction,y=n.onDeleteAction,h=n.buttonStyle,m=n.iconStyle,b=o.getController().actions.has("user_team_create"),v="mui3"===a.userTheme?a.palette.mui3.primary:a.palette.accent2Color,g={button:mp({border:"0px solid "+v,backgroundColor:"mui3"===a.userTheme?a.palette.mui3["primary-container"]:"transparent",borderRadius:"50%",margin:"0 4px",width:36,height:36,padding:8},h),icon:mp({fontSize:20,color:v},m)},O={},S=[];return p&&p.IdmUser&&p.IdmUser.Attributes&&(p.IdmUser.Attributes.hasEmail||p.IdmUser.Attributes.email)&&(S.push({key:"message",label:i(598),icon:"email",callback:this.openMailer.bind(this)}),O[p.IdmUser.Login]=p.IdmUser),f?(e="team",t=f.id,b&&S.push({key:"users",label:i(599),icon:"account-multiple-plus",callback:this.openPicker.bind(this)})):(e="user",t=l,b&&S.push({key:"teams",label:i(573),icon:"account-multiple-plus",callback:this.openPicker.bind(this)})),!s||f&&!b||(d&&S.push({key:"edit",label:i(f?580:600),icon:"pencil",callback:d}),S.push({key:"policies",label:"Visibility",icon:"security",callback:this.openPolicies.bind(this)}),y&&S.push({key:"delete",label:i(f?570:582),icon:"delete",callback:y})),0===S.length?null:wp.createElement("div",{style:mp({},c)},S.map((function(e){return wp.createElement(xp,{key:e.key,style:g.button,iconStyle:g.icon,tooltip:e.label,iconClassName:"mdi mdi-"+e.icon,onClick:e.callback})})),wp.createElement(Tp,{open:this.state.showPicker,anchorEl:this.state.pickerAnchor,anchorOrigin:{horizontal:"right",vertical:"top"},targetOrigin:{horizontal:"right",vertical:"top"},onRequestClose:function(){r.setState({showPicker:!1})},useLayerForClickAway:!1,style:{zIndex:2200}},wp.createElement("div",{style:{width:256,height:320}},wp.createElement(By,{mode:"selector",pydio:o,loaderStyle:{width:320,height:320},onItemSelected:f?this.onUserSelected.bind(this):this.onTeamSelected.bind(this),teamsOnly:!f,usersOnly:!!f}))),wp.createElement(Tp,{open:this.state.showMailer,anchorEl:this.state.mailerAnchor,anchorOrigin:{horizontal:"right",vertical:"top"},targetOrigin:{horizontal:"right",vertical:"top"},useLayerForClickAway:!1,style:{zIndex:2200}},wp.createElement("div",{style:{width:256,height:320}},this.state.mailerLibLoaded&&wp.createElement(_p,{namespace:"PydioMailer",componentName:"Pane",pydio:o,zDepth:0,panelTitle:i(598),uniqueUserStyle:!0,users:O,templateId:"DM",templateData:{From:o.user.getPreference("displayName")||o.user.id},onDismiss:function(){r.setState({showMailer:!1})},onFieldFocus:u}))),wp.createElement(Tp,{open:this.state.showPolicies,anchorEl:this.state.policiesAnchor,anchorOrigin:{horizontal:"right",vertical:"top"},targetOrigin:{horizontal:"right",vertical:"top"},useLayerForClickAway:!1,style:{zIndex:2e3}},wp.createElement("div",{style:{width:256,height:320}},wp.createElement(dp,{description:o.MessageHash["visibility.users.advanced"],pydio:o,resourceType:e,resourceId:t,onDismiss:function(){r.setState({showPolicies:!1})}}))))}}],r&&vp(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),a}(wp.Component);function Mp(e){return Mp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mp(e)}Ip.propTypes={user:U().object,team:U().object,userEditable:U().bool,pydio:U().object,getMessage:U().func,userId:U().string,style:U().object,onEditAction:U().func,onDeleteAction:U().func,reloadAction:U().func},Ip=Rp(Ip),Ip=Cp()(Ip);var Ap=["style"];function Dp(){return Dp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Dp.apply(this,arguments)}function Lp(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Np(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Lp(Object(r),!0).forEach((function(t){zp(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Lp(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function zp(e,t,r){return(t=Up(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Bp(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Up(n.key),n)}}function Up(e){var t=function(e,t){if("object"!==Mp(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==Mp(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===Mp(t)?t:String(t)}function Fp(e,t){return Fp=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Fp(e,t)}function Zp(e){return Zp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Zp(e)}var Wp=a(39455),Hp=Wp.TextField,qp=Wp.FlatButton,Gp=Wp.CardTitle,Vp=a(10757).requireLib("boot").PydioContextConsumer,$p=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Fp(e,t)}(s,e);var r,n,o,i,a=(o=s,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Zp(o);if(i){var r=Zp(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===Mp(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function s(e,t){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),(r=a.call(this,e,t)).state={label:r.props.item.label},r}return r=s,n=[{key:"loadMembers",value:function(e){var t=this;this.setState({loading:!0}),Tu.childrenAsPromise(e,!1).then((function(r){Tu.childrenAsPromise(e,!0).then((function(r){t.setState({members:e.leafs,loading:!1})}))}))}},{key:"componentWillMount",value:function(){this.loadMembers(this.props.item)}},{key:"componentWillReceiveProps",value:function(e){this.loadMembers(e.item),this.setState({label:e.item.label})}},{key:"onLabelChange",value:function(e,t){this.setState({label:t})}},{key:"updateLabel",value:function(){var e=this;this.state.label!==this.props.item.label&&xn().getRestClient().getIdmApi().updateTeamLabel(this.props.item.IdmRole.Uuid,this.state.label,(function(){e.props.onUpdateAction(e.props.item)})),(0,this.props.setEdit)(!1)}},{key:"render",value:function(){var e,r=this,n=this.props,o=n.model,i=n.item,a=n.onDeleteAction,s=n.getMessage,l=n.edit,c=n.setEdit,u=n.muiTheme,f={team:i,userEditable:this.props.item.IdmRole.PoliciesContextEditable,onDeleteAction:function(){r.props.onDeleteAction(i._parent,[i])},onEditAction:function(){c(!0)},reloadAction:function(){r.props.onUpdateAction(i)}};e=l?t().createElement("div",{style:{display:"flex",alignItems:"center",padding:12}},t().createElement(Hp,{style:{flex:1,fontSize:24},fullWidth:!0,disabled:!1,underlineShow:!1,value:this.state.label,onChange:this.onLabelChange.bind(this)}),t().createElement(qp,{secondary:!0,label:s(48),onClick:function(){r.updateLabel()}})):t().createElement(Gp,{style:{padding:"12px 16px 4px"},title:this.state.label,subtitle:i.leafs&&i.leafs.length?s(576).replace("%s",i.leafs.length):s(577)});var p=this.props,d=(p.style,function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(p,Ap)),y={};return"mui3"!==u.userTheme&&(y={borderTop:"1px solid #e0e0e0",borderBottom:"1px solid #e0e0e0"}),t().createElement("div",null,t().createElement("div",{style:{paddingBottom:4}},e,t().createElement(Ip,Dp({},d,f,{style:Np({paddingLeft:8},y)}))),t().createElement(lf,{model:o,subHeader:s(575),onItemClicked:function(){},item:i,mode:"inner",onDeleteAction:a}))}}],n&&Bp(r.prototype,n),Object.defineProperty(r,"prototype",{writable:!1}),s}(t().Component);function Kp(e){return Kp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kp(e)}function Yp(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Xp(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Yp(Object(r),!0).forEach((function(t){Jp(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Yp(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Jp(e,t,r){return(t=ed(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Qp(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,ed(n.key),n)}}function ed(e){var t=function(e,t){if("object"!==Kp(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==Kp(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===Kp(t)?t:String(t)}function td(e,t){return td=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},td(e,t)}function rd(e){return rd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},rd(e)}$p.propTypes={pydio:U().instanceOf(Pydio),item:U().object,style:U().object,onRequestClose:U().func,onDeleteAction:U().func,onUpdateAction:U().func},$p=Vp((0,K.muiThemeable)()($p));var nd=Z().requireLib("form"),od=nd.Manager,id=nd.FormPanel,ad=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&td(e,t)}(s,e);var r,n,o,i,a=(o=s,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=rd(o);if(i){var r=rd(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===Kp(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function s(e,t){var r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s);var n=(r=a.call(this,e,t)).props,o=n.pydio,i=n.newUserName,l=n.editMode,c=n.userData,u=o.getPluginConfigs("action.share").get("SHARED_USERS_TMP_PREFIX");u&&!i.startsWith(u)||(u="");var f={new_password:"",send_email:o.Parameters.get("validMailer")};if(l&&c&&c.IdmUser){var p=c.IdmUser;r.getParameters().forEach((function(e){var t,r=e.name,n=e.IdmUserField,o=e.scope,i=e.pluginId;n?t=p[n]:"user"===o&&p.Attributes?t=p.Attributes[r]:i&&p.Attributes["parameter:"+i+":"+r]&&(t=JSON.parse(p.Attributes["parameter:"+i+":"+r])),void 0!==t&&(f[r]=t)}))}else f.new_user_id=u+i,f.lang=o.currentLanguage;return r.state={values:f},r}return r=s,n=[{key:"getCreateUserParameters",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=[],r=this.props.pydio,n=r.MessageHash,o=r.getPluginConfigs("action.share").get("SHARED_USERS_TMP_PREFIX");t.push({IdmUserField:"Login",description:n[533],readonly:e,expose:"true",label:n[522],name:e?"existing_user_id":"new_user_id",scope:"user",type:"valid-login",mandatory:!0,default:o||""},{IdmUserField:"Password",description:n[534],editable:"true",expose:"true",label:n[523],name:"new_password",scope:"user",type:"valid-password",mandatory:!0,direction:"column"});for(var i=r.getPluginConfigs("auth").get("NEWUSERS_EDIT_PARAMETERS").split(","),a=0;a<i.length;a++)i[a]="user/preferences/pref[@exposed]|//param[@name='"+i[a]+"']";var s=i.join("|");return od.parseParameters(r.getXmlRegistry(),s).map((function(e){t.push(e)})),!e&&r.Parameters.get("validMailer")&&t.push({description:n[536],editable:"true",expose:"true",label:n[535],name:"send_email",scope:"user",type:"boolean",mandatory:!0}),t}},{key:"getDefaultProps",value:function(){return{editMode:!1}}},{key:"getParameters",value:function(){return this._parsedParameters||(this._parsedParameters=this.getCreateUserParameters(this.props.editMode)),this._parsedParameters}},{key:"getValuesForPost",value:function(e){return od.getValuesForPOST(this.getParameters(),this.state.values,e)}},{key:"onValuesChange",value:function(e){this.setState({values:e})}},{key:"changeValidStatus",value:function(e){this.setState({valid:e})}},{key:"submitCreationForm",value:function(){var e,t=this,r=this.props,n=r.editMode,o=r.userData;n&&(e=o.IdmUser),xn().getRestClient().getIdmApi().putExternalUser(this.state.values,this.getParameters(),e).then((function(e){t.props.onUserCreated(Iu.User.fromIdmUser(e))}))}},{key:"cancelCreationForm",value:function(){this.props.onCancel()}},{key:"render",value:function(){var e=this.props,r=e.pydio,n=e.editMode,o=e.formShowLegends,i=void 0===o||o,a=this.state.valid;return a||!n||this.state.values.new_password||(a=!0),t().createElement(g.Paper,{zDepth:void 0===this.props.zDepth?2:this.props.zDepth,style:Xp({minHeight:250,display:"flex",flexDirection:"column"},this.props.style)},t().createElement(id,{className:"reset-pydio-forms",depth:-1,parameters:this.getParameters(),values:this.state.values,onChange:this.onValuesChange.bind(this),onValidStatusChange:this.changeValidStatus.bind(this),panelStyle:{overflowY:"auto",flex:1},variant:"v2",variantShowLegend:i}),t().createElement(g.Divider,{style:{flexShrink:0}}),t().createElement("div",{style:{padding:8,textAlign:"right"}},t().createElement(g.FlatButton,{label:r.MessageHash[54],onClick:this.cancelCreationForm.bind(this)}),t().createElement(g.FlatButton,{label:this.props.editMode?r.MessageHash[519]:r.MessageHash[484],primary:!0,onClick:this.submitCreationForm.bind(this),disabled:!a})))}}],n&&Qp(r.prototype,n),Object.defineProperty(r,"prototype",{writable:!1}),s}(t().Component);function sd(e){return sd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sd(e)}function ld(){return ld=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ld.apply(this,arguments)}function cd(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ud(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?cd(Object(r),!0).forEach((function(t){fd(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cd(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function fd(e,t,r){return(t=dd(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pd(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,dd(n.key),n)}}function dd(e){var t=function(e,t){if("object"!==sd(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==sd(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===sd(t)?t:String(t)}function yd(e,t){return yd=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},yd(e,t)}function hd(e){return hd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},hd(e)}ad.propTypes={newUserName:U().string,onUserCreated:U().func.isRequired,onCancel:U().func.isRequired,editMode:U().bool,userData:U().object};var md=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&yd(e,t)}(s,e);var r,n,o,i,a=(o=s,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=hd(o);if(i){var r=hd(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===sd(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function s(e,t){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),(r=a.call(this,e,t)).state={},r}return r=s,(n=[{key:"render",value:function(){var e,r=this,n=this.props,o=n.pydio,i=n.item,a=n.model,s=n.onDeleteAction,l=n.onUpdateAction,c=n.edit,u=n.setEdit,f=n.muiTheme,p=this.state.graphRand,d={avatarStyle:{zIndex:1}},y=i._parent&&"ext"===i._parent.id,h={};"mui3"!==f.userTheme&&(h={borderTop:"1px solid #e0e0e0",borderBottom:"1px solid #e0e0e0"});var m=t().createElement(Ip,{pydio:o,model:a,user:i,userId:i.id,userEditable:y&&i.IdmUser.PoliciesContextEditable,onDeleteAction:function(){s(i._parent,[i])},onEditAction:function(){u(!0)},reloadAction:function(){l(i),r.setState({graphRand:Math.random()})},style:ud({padding:8,textAlign:"center"},h)});return c&&(e=t().createElement(ad,{pydio:o,zDepth:0,style:{flex:1,borderRadius:0,borderTop:"1px solid var(--md-sys-color-outline-variant-50)"},newUserName:i.id,editMode:!0,userData:i,onUserCreated:function(){l(i),u(!1)},onCancel:function(){u(!1)},formShowLegends:!0})),d=ud(ud({},d),{},{avatarSize:40,avatarStyle:{left:20,top:20,right:"inherit"},cardStyle:{textAlign:"left",padding:"20px 16px 24px 74px"},cardTitleStyle:{fontSize:14,fontWeight:500,lineHeight:"20px"},cardSubtitleStyle:{fontSize:13,fontWeight:400,lineHeight:"14px"}}),t().createElement("div",{style:c?{height:"100%",display:"flex",flexDirection:"column"}:{}},t().createElement(Kf,ld({userId:this.props.item.id,richCard:!0,pydio:this.props.pydio,cardSize:this.props.style.width,cardStyle:{textAlign:"left",padding:"12px 16px 4px"},actionsPanel:!c&&m,noActionsPanel:c,graphRand:p},d)),e)}}])&&pd(r.prototype,n),Object.defineProperty(r,"prototype",{writable:!1}),s}(t().Component);function bd(e){return bd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bd(e)}function vd(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function gd(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?vd(Object(r),!0).forEach((function(t){Od(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vd(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Od(e,t,r){return(t=wd(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Sd(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,wd(n.key),n)}}function wd(e){var t=function(e,t){if("object"!==bd(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==bd(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===bd(t)?t:String(t)}function Pd(e,t){return Pd=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Pd(e,t)}function jd(e){return jd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},jd(e)}md.propTypes={pydio:U().instanceOf(Pydio),item:U().object,style:U().object,onRequestClose:U().func,onDeleteAction:U().func,onUpdateAction:U().func},md=(0,K.muiThemeable)()(md);var Ed=a(580),xd=a(16689),Cd=a(39455),kd=Cd.Paper,Rd=Cd.IconButton,_d=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Pd(e,t)}(a,e);var t,r,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=jd(n);if(o){var r=jd(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===bd(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function a(e,t){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(r=i.call(this,e,t)).state={edit:!1},r.props.model.observe("update",(function(){return r.forceUpdate()})),r}return t=a,r=[{key:"componentWillReceiveProps",value:function(e){e.item!==this.props.item&&this.setState({edit:!1})}},{key:"render",value:function(){var e,t=this,r=this.props,n=r.model,o=r.style,i=r.zDepth,a=void 0===i?2:i,s=this.state.edit,l=n.rightItem(),c=function(){n.clearRightItem()},u=gd(gd({},this.props),{},{item:l,onRequestClose:c,onDeleteAction:function(e,t,r){return n.deleteItems(e,t,r)},onCreateAction:function(e){n.setCreateItem(e)},onUpdateAction:function(e){var r=t.props.model;e._parent&&e._parent===r.contextItem()&&r.reloadContext()},edit:s,setEdit:function(e){return t.setState({edit:e})}});return l&&"user"===l.type?e=xd.createElement(md,u):l&&l.IdmRole&&l.IdmRole.IsTeam&&(e=xd.createElement($p,u)),xd.createElement(kd,{zDepth:a,style:gd({position:"relative",borderRadius:6},o)},xd.createElement(Rd,{iconClassName:"mdi mdi-close",style:{position:"absolute",top:12,right:12,zIndex:2},iconStyle:{color:"#e0e0e0"},onClick:c}),e)}}],r&&Sd(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),a}(xd.Component);function Td(e){return Td="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Td(e)}function Id(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Md(n.key),n)}}function Md(e){var t=function(e,t){if("object"!==Td(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==Td(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===Td(t)?t:String(t)}function Ad(e,t){return Ad=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Ad(e,t)}function Dd(e){return Dd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Dd(e)}_d.propTypes={pydio:Ed.instanceOf(Pydio),item:Ed.object,style:Ed.object,onRequestClose:Ed.func,onDeleteAction:Ed.func,onUpdateAction:Ed.func};var Ld=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ad(e,t)}(s,e);var r,n,o,i,a=(o=s,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Dd(o);if(i){var r=Dd(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===Td(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function s(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),a.apply(this,arguments)}return r=s,(n=[{key:"onClick",value:function(){this.props.onClick(this.props.entry)}},{key:"buildNestedItems",value:function(e){var r=this.props,n=r.style,o=r.innerDivStyle,i=r.avatarSize;return e.map(function(e){return t().createElement(s,{nestedLevel:this.props.nestedLevel+1,entry:e,onClick:this.props.onClick,selected:this.props.selected,showIcons:!0,style:n,innerDivStyle:o,avatarSize:i})}.bind(this))}},{key:"render",value:function(){var e,r=this.props,n=r.showIcons,o=r.entry,i=(r.selected,r.style),a=r.innerDivStyle,s=r.avatarSize,l=void 0===s?36:s,c=o.id,u=o.label,f=o.icon,p=o.collections||[],d=this.buildNestedItems(p);return f&&n&&(g.FontIcon,e=t().createElement(g.Avatar,{icon:t().createElement(g.FontIcon,{className:f}),size:l})),t().createElement(g.ListItem,{nestedLevel:this.props.nestedLevel,key:c,primaryText:u,onClick:this.onClick.bind(this),nestedItems:d,initiallyOpen:!0,leftAvatar:e,innerDivStyle:a,style:i})}}])&&Id(r.prototype,n),Object.defineProperty(r,"prototype",{writable:!1}),s}(e.Component);function Nd(e){return Nd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nd(e)}function zd(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Bd(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?zd(Object(r),!0).forEach((function(t){Ud(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zd(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Ud(e,t,r){return(t=Wd(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Fd(){return Fd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Fd.apply(this,arguments)}function Zd(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Wd(n.key),n)}}function Wd(e){var t=function(e,t){if("object"!==Nd(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==Nd(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===Nd(t)?t:String(t)}function Hd(e,t){return Hd=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Hd(e,t)}function qd(e){return qd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},qd(e)}Ld.propTypes={nestedLevel:U().number,selected:U().string,onClick:U().func};var Gd=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Hd(e,t)}(s,e);var r,n,o,i,a=(o=s,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=qd(o);if(i){var r=qd(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===Nd(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function s(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),t=a.call(this,e),e.model.observe("update",(function(){return t.forceUpdate()})),t}return r=s,(n=[{key:"render",value:function(){var e=this.props,r=e.listStyles,n=void 0===r?{}:r,o=e.rootStyle,i=void 0===o?{}:o,a=e.model,s=[],l=a.contextItem();return a.getRoot().collections.map(function(e){s.push(t().createElement(Ld,Fd({key:e.id,selected:l&&l.id,nestedLevel:0,entry:e,onClick:function(e,t){return a.setContext(e,t)}},n.listItem,{avatarSize:n.avatar?n.avatar.avatarSize:void 0,showIcons:!0}))),s.push(t().createElement(g.Divider,{key:e.id+"-divider"}))}.bind(this)),s.pop(),t().createElement("div",{style:Bd(Bd({},i),{},{zIndex:2})},t().createElement(g.List,null,s))}}])&&Zd(r.prototype,n),Object.defineProperty(r,"prototype",{writable:!1}),s}(t().Component);function Vd(e){return Vd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vd(e)}function $d(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Kd(n.key),n)}}function Kd(e){var t=function(e,t){if("object"!==Vd(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==Vd(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===Vd(t)?t:String(t)}function Yd(e,t){return Yd=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Yd(e,t)}function Xd(e){return Xd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Xd(e)}var Jd=Z().requireLib("boot").PydioContextConsumer,Qd=Z().requireLib("hoc").ModernTextField,ey=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Yd(e,t)}(a,e);var t,r,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Xd(n);if(o){var r=Xd(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===Vd(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function a(e,t){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(r=i.call(this,e,t)).state={value:""},r}return t=a,r=[{key:"onChange",value:function(e,t){this.setState({value:t})}},{key:"submitCreationForm",value:function(){var e=this.state.value;xn().getRestClient().getIdmApi().saveSelectionAsTeam(e,[],this.props.onTeamCreated)}},{key:"render",value:function(){var e=this,t=this.props.getMessage;return React.createElement("div",null,React.createElement("div",{style:{padding:20}},React.createElement("div",null,t(591)),React.createElement(Qd,{focusOnMount:!0,floatingLabelText:t(578),value:this.state.value,onChange:this.onChange.bind(this),fullWidth:!0,onKeyPress:function(t){"Enter"===t.key&&e.submitCreationForm()},variant:"v2"})),React.createElement("div",null,React.createElement("div",{style:{textAlign:"right",padding:8}},React.createElement(g.FlatButton,{label:t(49),onClick:this.props.onCancel.bind(this)}),React.createElement(g.FlatButton,{label:t(579),primary:!0,onClick:this.submitCreationForm.bind(this)}))))}}],r&&$d(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),a}(e.Component);function ty(e){return ty="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ty(e)}function ry(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ny(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ry(Object(r),!0).forEach((function(t){oy(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ry(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function oy(e,t,r){return(t=ay(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function iy(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,ay(n.key),n)}}function ay(e){var t=function(e,t){if("object"!==ty(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==ty(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===ty(t)?t:String(t)}function sy(e,t){return sy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},sy(e,t)}function ly(e){return ly=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},ly(e)}ey.propTypes={onTeamCreated:U().func.isRequired,onCancel:U().func.isRequired},ey=Jd(ey);var cy=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&sy(e,t)}(s,e);var r,n,o,i,a=(o=s,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=ly(o);if(i){var r=ly(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===ty(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function s(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),t=a.call(this,e),e.model.observe("update",(function(){return t.forceUpdate()})),t}return r=s,(n=[{key:"render",value:function(){var e,r,n,o=this.props,i=o.pydio,a=o.model,s=o.onCancel,l=o.afterSubmit,c=a.createItem();c&&("users"===c.actions.type?(n={display:"flex",flexDirection:"column",overflow:"hidden"},e=a.m(484,""),r=t().createElement(ad,{zDepth:0,style:{display:"flex",flexDirection:"column",flex:1,marginTop:-20},newUserName:"",onUserCreated:l,onCancel:s,pydio:i})):"teams"===c.actions.type?(e=a.m(569,""),r=t().createElement(ey,{onTeamCreated:l,onCancel:s})):"team"===c.actions.type&&(e=null,r=t().createElement(By,{pydio:i,mode:"selector",usersOnly:!0,disableSearch:!0,onItemSelected:function(e){xn().getRestClient().getIdmApi().addUserToTeam(e.IdmRole.Uuid,e.IdmUser.Login).then((function(){a.reloadContext()}))}})));var u=this.props.muiTheme,f="mui3"===u.userTheme?{style:{background:u.dialog.containerBackground}}:void 0;return t().createElement(g.Dialog,{contentStyle:{width:420,minWidth:380,maxWidth:"100%",padding:0},bodyStyle:ny({padding:0},n),title:t().createElement("div",{style:{padding:20}},e),actions:null,modal:!1,open:!!c,paperProps:f,onRequestClose:function(){s()}},r)}}])&&iy(r.prototype,n),Object.defineProperty(r,"prototype",{writable:!1}),s}(t().Component);const uy=cy=(0,K.muiThemeable)()(cy);function fy(e){return fy="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fy(e)}function py(){return py=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},py.apply(this,arguments)}function dy(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function yy(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?dy(Object(r),!0).forEach((function(t){gy(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dy(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function hy(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Oy(n.key),n)}}function my(e,t){return my=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},my(e,t)}function by(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function vy(e){return vy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},vy(e)}function gy(e,t,r){return(t=Oy(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Oy(e){var t=function(e,t){if("object"!==fy(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==fy(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===fy(t)?t:String(t)}var Sy=function(r){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&my(e,t)}(l,r);var n,o,i,a,s=(i=l,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=vy(i);if(a){var r=vy(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===fy(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return by(e)}(this,e)});function l(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return gy(by(e=s.call.apply(s,[this].concat(r))),"state",{editLabel:!1}),e}return n=l,o=[{key:"onLabelKeyEnter",value:function(e){"Enter"===e.key&&this.updateLabel()}},{key:"onLabelChange",value:function(e,t){this.setState({editValue:t})}},{key:"updateLabel",value:function(){var e=this.props.model,t=this.state.editValue;t!==e.contextItem().label&&xn().getRestClient().getIdmApi().updateTeamLabel(e.contextItem().IdmRole.Uuid,t,(function(){var t=e.contextItem()._parent;e.setContext(t,(function(){e.reloadContext().then((function(){}))}))})),this.setState({editLabel:!1})}},{key:"render",value:function(){var r=this,n=this.props,o=n.muiTheme,i=n.bookColumn,a=n.mode,s=n.getMessage,l=n.pydio,c=n.style,u=n.model,f=n.searchLabel,p=n.onSearch,d=n.searchTerm,y=n.setSearchTerm,h=n.searchMode,m=n.setSearchMode,b=n.enableSearch,v=u.contextItem(),O=u.getSelectionMode(),S=function(){return u.reloadContext()},w="mui3"===o.userTheme?o.palette.mui3.primary:o.palette.accent2Color,P={toolbarHeight:"book"===a?56:48,titleFontsize:"book"===a?20:16,titleFontWeight:400,titlePadding:10,button:{border:"1px solid "+w,backgroundColor:"transparent",borderRadius:"50%",margin:"0 4px",width:36,height:36,padding:6},icon:{fontSize:18,color:w}};i&&(P.titleFontsize=14,P.titleFontWeight=500,P.titlePadding="10px 6px 10px 16px",P.button.margin="0",P.button.border="0",P.icon.color=w);var j={searchLabel:f,onSearch:p,searchTerm:d,setSearchTerm:y,style:{flex:1,minWidth:110}};"selector"===a?(j.inputStyle={color:"white"},j.hintStyle={color:"rgba(255,255,255,.5)"},j.underlineStyle={borderColor:"rgba(255,255,255,.5)"},j.underlineFocusStyle={borderColor:"white"}):(j.underlineShow=!1,j.style=yy(yy({},j.style),{},{borderRadius:o.borderRadius,background:o.palette.mui3["surface-2"],height:38,display:"flex",alignItems:"center",paddingLeft:16,marginRight:8}));var E,x,C="mdi mdi-account-plus";if(v.actions&&"teams"===v.actions.type&&(C="mdi mdi-account-multiple-plus"),("book"===a||i)&&u.contextIsTeam()&&u.teamsEditable()){var k=u.contextItem();x=!0,E=t().createElement(Ip,py({},this.props,{team:u.contextItem(),userEditable:!0,reloadAction:function(){u.reloadContext()},onDeleteAction:function(){if(confirm(r.props.getMessage(278))){var e=k._parent;u.setContext(e,(function(){u.deleteItems(e,[k],!0)}))}},style:{backgroundColor:"transparent",borderTop:0,borderBottom:0},buttonStyle:P.button,iconStyle:P.icon}))}var R=this.state,_=R.editLabel,T=R.editValue,I=v.label;x&&!O&&_&&(I=t().createElement("div",{style:{display:"flex",alignItems:"center",flex:1}},t().createElement(g.TextField,{style:{fontSize:20},value:T,onChange:this.onLabelChange.bind(this),onKeyDown:this.onLabelKeyEnter.bind(this),autoFocus:!0}),t().createElement(g.IconButton,{iconStyle:{color:o.palette.mui3.primary},secondary:!0,iconClassName:"mdi mdi-content-save",tooltip:s(48),onClick:function(){r.updateLabel()}})));var M="selector"===a&&v._parent,A="book"===a&&v.actions&&v.actions.multiple,D="book"===a,L=("book"===a||"selector"===a&&i)&&v.actions&&v.actions.create&&!O,N=i&&!v._parent&&l.user.getRepositoriesList().has("directory"),z="book"===a&&v.actions&&v.actions.remove&&O,B=b&&!i,U=S&&("book"===a||"selector"===a&&i),F=x&&!_&&!O;if("book"===a&&!i&&"xs"!==o.breakpoint&&"s"!==o.breakpoint){for(var Z=[I],W=v;W._parent;)Z.push(t().createElement("span",{className:"mdi mdi-chevron-right"}),t().createElement("span",null,W._parent.label)),W=W._parent;Z.reverse(),I=t().createElement("div",{style:{display:"flex",alignItems:"center"}},Z)}var H,q=yy({color:o.palette.mui3["on-surface"],padding:P.titlePadding,height:P.toolbarHeight,minHeight:P.toolbarHeight,borderRadius:"2px 2px 0 0",display:"flex",alignItems:"center"},c);return N&&(H="mui3"===o.userTheme?function(){l.triggerRepositoryChange("directory")}:function(){l.Controller.fireAction("open_address_book")}),t().createElement("div",{style:q},M&&t().createElement(g.IconButton,{style:{marginLeft:-10},iconStyle:{color:P.titleColor},iconClassName:"mdi mdi-chevron-left",onClick:function(){var e;e=v._parent,u.setContext(e,undefined)}}),D&&t().createElement(g.IconButton,{style:{marginLeft:-10},iconStyle:{color:P.titleColor},iconClassName:v.icon,onClick:function(){}}),t().createElement("div",{style:yy({flex:2,fontSize:P.titleFontsize,fontWeight:P.titleFontWeight},{whiteSpace:"nowrap",textOverflow:"ellipsis",overflow:"hidden"})},I),B&&!O&&t().createElement(e.Fragment,null,t().createElement(uu,j),h&&t().createElement(g.IconButton,{style:P.button,iconStyle:P.icon,iconClassName:"mdi mdi-close",tooltipPosition:"bottom-left",tooltip:l.MessageHash[86],onClick:function(){return m(!1)}})),N&&t().createElement(g.IconButton,{style:P.button,iconStyle:P.icon,iconClassName:"mdi mdi-account-box-outline",tooltipPosition:"bottom-left",tooltip:l.MessageHash[411],onClick:H}),L&&t().createElement(g.IconButton,{style:P.button,iconStyle:P.icon,iconClassName:C,tooltipPosition:"bottom-left",tooltip:s(v.actions.create),onClick:function(){return u.setCreateItem()}}),z&&t().createElement(g.RaisedButton,{secondary:!0,label:s(v.actions.remove),disabled:!u.getMultipleSelection().length,onClick:function(){return u.deleteMultipleSelection()}}),F&&t().createElement(g.IconButton,{style:P.button,iconStyle:P.icon,iconClassName:"mdi mdi-pencil",tooltipPosition:"bottom-left",tooltip:l.MessageHash[6],onClick:function(){r.setState({editLabel:!0,editValue:v.label})},disabled:u.loading}),!O&&E,A&&t().createElement(g.IconButton,{style:P.button,iconStyle:P.icon,iconClassName:"mdi mdi-checkbox-multiple"+(O?"-marked-outline":"-blank-outline"),tooltipPosition:"bottom-left",tooltip:l.MessageHash["addressbook.pick.multiple"],onClick:function(){u.setSelectionMode()}}),U&&!h&&t().createElement(g.IconButton,{style:P.button,iconStyle:P.icon,iconClassName:"mdi mdi-refresh",tooltipPosition:"bottom-left",tooltip:l.MessageHash[149],onClick:S,disabled:u.loading}))}}],o&&hy(n.prototype,o),Object.defineProperty(n,"prototype",{writable:!1}),l}(t().Component);const wy=Sy=(0,K.muiThemeable)()(Sy);function Py(e){return Py="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Py(e)}function jy(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ey(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?jy(Object(r),!0).forEach((function(t){Ty(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jy(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function xy(){return xy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},xy.apply(this,arguments)}function Cy(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Iy(n.key),n)}}function ky(e,t){return ky=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},ky(e,t)}function Ry(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _y(e){return _y=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},_y(e)}function Ty(e,t,r){return(t=Iy(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Iy(e){var t=function(e,t){if("object"!==Py(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==Py(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===Py(t)?t:String(t)}var My=Z().requireLib("boot"),Ay=My.PydioContextConsumer,Dy=My.PydioContextProvider,Ly=Z().requireLib("hoc").ThemedContainers,Ny=Ly.Popover,zy=Ly.IconButton,By=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ky(e,t)}(s,e);var r,n,o,i,a=(o=s,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=_y(o);if(i){var r=_y(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===Py(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Ry(e)}(this,e)});function s(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),Ty(Ry(t=a.call(this,e)),"openPopover",(function(e){t.setState({popoverOpen:!0,popoverAnchor:e.currentTarget})})),Ty(Ry(t),"closePopover",(function(){t.setState({popoverOpen:!1})}));var r=e.pydio,n=e.mode,o=e.usersOnly,i=e.usersFrom,l=e.teamsOnly,c=e.onItemSelected,u=new Gu(r,n,o,i,l,c);return u.initTree(),u.observe("update",(function(){t.forceUpdate()})),t.state={model:u},t}return r=s,n=[{key:"componentDidMount",value:function(){this.state.model.reloadContext()}},{key:"render",value:function(){var e=this.props,r=e.mode,n=e.getMessage,o=e.bookColumn,i=e.listStyles,a=e.pydio;if("popover"===r){var l=t().createElement(zy,{style:{position:"absolute",padding:15,zIndex:100,right:0,bottom:0,display:this.state.loading?"none":"initial"},iconStyle:{fontSize:19},iconClassName:"mdi mdi-book-open-variant",onClick:this.openPopover}),c=Dy(s,a,a.UI.themeBuilder);return t().createElement("span",null,l,t().createElement(Ny,{open:this.state.popoverOpen,anchorEl:this.state.popoverAnchor,anchorOrigin:{horizontal:"right",vertical:"top"},targetOrigin:{horizontal:"left",vertical:"top"},onRequestClose:this.closePopover,style:{marginLeft:20},zDepth:2},t().createElement("div",{style:{width:320,height:420}},t().createElement(c,xy({},this.props,{mode:"selector",style:{height:420}})))))}var u,f,p,d=this.state.model,y=d.rightItem(),h=d.contextItem(),m={width:256,overflowY:"auto",overflowX:"hidden"},b=this.props.muiTheme.palette.mui3,v=void 0===b?{}:b,g={};!this.props.disableSearch&&d.contextIsGroup()&&(g={enableSearch:!0,searchLabel:n(595,""),onSearch:function(e){return d.reloadCurrentWithSearch(e)}}),"inner"!==r&&(p=t().createElement(wy,xy({pydio:a,model:d,mode:r,bookColumn:o,getMessage:n},g))),u=t().createElement(lf,xy({model:d,item:h,mode:r,bookColumn:o,toolbar:p,onItemClicked:function(e){return d.leafItemClicked(e)},onFolderClicked:function(e,t){return d.setContext(e,t)},onClick:function(){return d.clearRightItem()},loading:d.loading,emptyStatePrimaryText:void 0,emptyStateSecondaryText:void 0,actionsForCell:this.props.actionsForCell,usersOnly:this.props.usersOnly,listStyles:i},g)),f=t().createElement(_d,{pydio:this.props.pydio,model:d,style:Ey(Ey({},m),{},{position:"absolute",transformOrigin:"right",background:v["surface-3"],width:"book"===r?320:280,right:10,bottom:10,top:120,zIndex:2,transform:y?null:"scale(0)"})});var O=this.props.style||{},S={background:v["surface-3"],color:v["on-surface-variant"],borderRight:"1px solid #e0e0e0"};return t().createElement("div",{style:Ey({display:"flex",height:"selector"===r?320:450},O)},"book"===r&&t().createElement(Gd,{model:d,listStyles:i,rootStyle:Ey(Ey(Ey({},m),S),{},{zIndex:2})}),u,f,t().createElement(uy,{pydio:a,model:d,onCancel:function(){d.clearCreateItem()},afterSubmit:function(){d.clearCreateItem(),d.reloadContext()}}),t().createElement("style",{type:"text/css",dangerouslySetInnerHTML:{__html:(this.props.muiTheme.palette,"\n.folder-avatar::before {\n    content: '\\F24B';\n    font-family: 'Material Design Icons';\n    position: absolute;\n    color: rgb(54, 113, 143);\n    font-size: 40px;\n    top: 11px;\n    left: -2px;\n}\n.compact .folder-avatar::before {\n    font-size: 30px;\n    top: 5px;\n}\n.folder-avatar span.mdi {\n    font-size: 20px !important;\n    color: #fff !important;\n    height: 12.8px !important;\n    margin: 7.3px !important;\n}\n.compact .folder-avatar span.mdi {\n    font-size: 13px !important;\n}\n.folder-avatar {\n    background-color: transparent !important;\n}\n")}}))}}],n&&Cy(r.prototype,n),Object.defineProperty(r,"prototype",{writable:!1}),s}(t().Component);function Uy(e){return Uy="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Uy(e)}function Fy(e){return function(e){if(Array.isArray(e))return Wy(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Zy(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Zy(e,t){if(e){if("string"==typeof e)return Wy(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Wy(e,t):void 0}}function Wy(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Hy(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Ky(n.key),n)}}function qy(e,t){return qy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},qy(e,t)}function Gy(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Vy(e){return Vy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Vy(e)}function $y(e,t,r){return(t=Ky(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ky(e){var t=function(e,t){if("object"!==Uy(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==Uy(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===Uy(t)?t:String(t)}Ty(By,"propTypes",{pydio:U().instanceOf(Z()),mode:U().oneOf(["book","selector","popover"]).isRequired,bookColumn:U().bool,onItemSelected:U().func,usersOnly:U().bool,usersFrom:U().oneOf(["local","remote","any"]),disableSearch:U().bool,muiTheme:U().object,popoverStyle:U().object,popoverButton:U().object,popoverContainerStyle:U().object,popoverIconButtonStyle:U().object}),Ty(By,"defaultProps",{mode:"book",usersOnly:!1,usersFrom:"any",teamsOnly:!1,disableSearch:!1}),By=Ay(By),By=(0,K.muiThemeable)()(By);var Yy=Z().requireLib("hoc"),Xy=Yy.ModernAutoComplete,Jy=Yy.ThemedContainers.Popover,Qy=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&qy(e,t)}(s,e);var r,n,o,i,a=(o=s,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Vy(o);if(i){var r=Vy(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===Uy(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Gy(e)}(this,e)});function s(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return $y(Gy(e=a.call.apply(a,[this].concat(n))),"state",{dataSource:[],loading:!1,searchText:"",minChars:parseInt(Z().getInstance().getPluginConfigs("core.auth").get("USERS_LIST_COMPLETE_MIN_CHARS")),hideGroups:!0===Z().getInstance().getPluginConfigs("action.advanced_settings").get("DISABLE_SHARE_GROUPS")}),$y(Gy(e),"suggestionLoader",(function(t,r){var n=e.props,o=n.excludes,i=n.usersOnly,a=e.state.hideGroups;e.setState({loading:e.state.loading+1});var s=xn().getRestClient().getIdmApi(),l=[];l.push(s.listUsers("/",t,!0,0,20)),a||i?l.push(Promise.resolve({Groups:[]})):l.push(s.listGroups("/",t,!0,0,20)),i?l.push(Promise.resolve({Teams:[]})):l.push(s.listTeams(t,0,20)),Promise.all(l).then((function(t){e.setState({loading:e.state.loading-1});var n,i,a=(i=3,function(e){if(Array.isArray(e))return e}(n=t)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,s=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(n,i)||Zy(n,i)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),s=a[0],l=a[1],c=a[2];s=s.Users,l=l.Groups,c=c.Teams,o&&o.length&&(s=s.filter((function(e){return-1===o.indexOf(e.Login)})),l=l.filter((function(e){return-1===o.indexOf(e.GroupLabel)})),c=c.filter((function(e){return o.indexOf(-1===e.Label)}))),r([].concat(Fy(l.map((function(e){return{IdmUser:e}}))),Fy(c.map((function(e){return{IdmRole:e}}))),Fy(s.map((function(e){return{IdmUser:e}})))))}))})),$y(Gy(e),"textFieldUpdate",(function(t){e.setState({searchText:t}),e.state.minChars&&t&&t.length<e.state.minChars||e.loadBuffered(t,350)})),$y(Gy(e),"getPendingSearchText",(function(){return e.state.searchText||!1})),$y(Gy(e),"loadBuffered",(function(r,n){if(r||!e._emptyValueList){var o=e.props,i=o.existingOnly,a=o.freeValueAllowed,s=o.excludes;Xf().bufferCallback("remote_users_search",n,function(){this.setState({loading:!0});var e=[Z().getInstance().user.id,"pydio.anon.user"];this.suggestionLoader(r,function(n){var o=!1,l=n.filter((function(t){return!(t.IdmUser&&!t.IdmUser.IsGroup&&e.indexOf(t.IdmUser.Login)>-1)})).filter((function(e){return!s||(e.IdmUser&&e.IdmUser.IsGroup?0===s.filter((function(t){return t===e.IdmUser.Uuid})).length:e.IdmUser?0===s.filter((function(t){return t===e.IdmUser.Login})).length:0===s.filter((function(t){return t===e.IdmRole.Uuid})).length)})).map((function(e){var n,i,a;return e.IdmUser&&e.IdmUser.IsGroup?(n=e.IdmUser.GroupLabel,a=e.IdmUser.Attributes&&e.IdmUser.Attributes.displayName?e.IdmUser.Attributes.displayName:n,i="mdi mdi-folder-account"):e.IdmUser?(n=e.IdmUser.Login,a=e.IdmUser.Attributes&&e.IdmUser.Attributes.displayName?e.IdmUser.Attributes.displayName:n,i=e.IdmUser.Attributes&&"shared"===e.IdmUser.Attributes.profile?"mdi mdi-account":"mdi mdi-account-box-outline"):(n=e.IdmRole.Uuid,a=e.IdmRole.Label,i="mdi mdi-account-multiple-outline"),o|=a===r,{userObject:e,text:n,value:t().createElement(g.MenuItem,{primaryText:a,leftIcon:t().createElement(g.FontIcon,{className:i,style:{margin:"0 12px"}})})}}));if(r||(this._emptyValueList=l),r&&!o&&(!i||a)){r=this.slugLogin(r);var c=Z().getMessages()[448]||"create",u=t().createElement(g.MenuItem,{primaryText:r+(a?"":" ("+c+")"),leftIcon:t().createElement(g.FontIcon,{className:"mdi mdi-account-plus",style:{margin:"0 12px"}})});l=[{text:r,value:u}].concat(Fy(l))}this.setState({dataSource:l,loading:!1})}.bind(this))}.bind(Gy(e)))}else e.setState({dataSource:e._emptyValueList})})),$y(Gy(e),"onCompleterRequest",(function(t,r){var n=e.props,o=n.freeValueAllowed,i=n.onValueSelected;if(-1===r&&(e.state.dataSource.map((function(e){e.text===t&&(t=e)})),t&&!t.userObject&&o))return i({FreeValue:t.text}),void e.setState({searchText:"",dataSource:[]});t&&(t.userObject?i(t.userObject):o?i({FreeValue:t.text}):e.setState({createUser:t.text}),e.setState({searchText:"",dataSource:[]}))})),$y(Gy(e),"onUserCreated",(function(t){e.props.onValueSelected(t),e.setState({createUser:null})})),$y(Gy(e),"onCreationCancelled",(function(){e.setState({createUser:null})})),$y(Gy(e),"openAddressBook",(function(t){e.setState({addressBookOpen:!0,addressBookAnchor:t.currentTarget})})),$y(Gy(e),"closeAddressBook",(function(){e.setState({addressBookOpen:!1})})),$y(Gy(e),"onAddressBookItemSelected",(function(t){e.props.onValueSelected(t)})),e}return r=s,(n=[{key:"componentWillReceiveProps",value:function(){this._emptyValueList=null}},{key:"slugLogin",value:function(e){return e=e.toLowerCase(),""===Qf().isValidLogin(e)?e:$().computeStringSlug(e)}},{key:"render",value:function(){var e=this,r=this.props,n=r.pydio,o=r.className,i=r.fieldLabel,a=r.underlineHide,s=r.showAddressBook,l=r.usersFrom,c=this.state,u=c.dataSource,f=c.createUser;return t().createElement("div",{style:{position:"relative",overflow:"visible"},ref:function(t){e._popoverAnchor=t}},t().createElement(Xy,{filter:g.AutoComplete.noFilter,dataSource:u,searchText:this.state.searchText,onUpdateInput:this.textFieldUpdate,className:o,openOnFocus:!0,floatingLabelText:i,floatingLabelFixed:!0,underlineShow:!a,fullWidth:!0,onNewRequest:this.onCompleterRequest,listStyle:{maxHeight:350,overflowY:"auto"},onFocus:function(){e.loadBuffered(e.state.searchText,100)},disabled:f,hintText:f?n.MessageHash[485]+" ("+f+")":null}),!f&&t().createElement("div",{style:{position:"absolute",right:s?44:10,bottom:14,height:20,width:20}},t().createElement(g.RefreshIndicator,{size:20,left:0,top:0,status:this.state.loading?"loading":"hide"})),!f&&s&&t().createElement(By,{mode:"popover",pydio:n,loaderStyle:{width:320,height:420},onItemSelected:this.onAddressBookItemSelected,usersFrom:l,disableSearch:!0}),t().createElement(Jy,{open:f,anchorEl:this._popoverAnchor,anchorOrigin:{horizontal:"left",vertical:"bottom"},targetOrigin:{horizontal:"left",vertical:"top"},onRequestClose:this.onCreationCancelled,canAutoPosition:!1,style:this._popoverAnchor?{width:this._popoverAnchor.clientWidth}:{},zDepth:3},f&&t().createElement(ad,{onUserCreated:this.onUserCreated.bind(this),onCancel:this.onCreationCancelled.bind(this),style:{width:"100%",height:320},newUserName:f,pydio:n})))}}])&&Hy(r.prototype,n),Object.defineProperty(r,"prototype",{writable:!1}),s}(t().Component);function eh(e){return eh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},eh(e)}function th(){return th=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},th.apply(this,arguments)}function rh(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function nh(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?rh(Object(r),!0).forEach((function(t){lh(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rh(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function oh(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,ch(n.key),n)}}function ih(e,t){return ih=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},ih(e,t)}function ah(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function sh(e){return sh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},sh(e)}function lh(e,t,r){return(t=ch(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ch(e){var t=function(e,t){if("object"!==eh(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==eh(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===eh(t)?t:String(t)}$y(Qy,"propTypes",{renderSuggestion:U().func.isRequired,onValueSelected:U().func.isRequired,fieldLabel:U().string.isRequired,excludes:U().array.isRequired,usersOnly:U().bool,usersFrom:U().oneOf(["local","remote","any"]),existingOnly:U().bool,freeValueAllowed:U().bool,className:U().string});var uh=Z().requireLib("hoc").ThemedContainers.Popover,fh=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ih(e,t)}(l,e);var r,o,i,a,s=(i=l,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=sh(i);if(a){var r=sh(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===eh(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return ah(e)}(this,e)});function l(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return lh(ah(e=s.call.apply(s,[this].concat(r))),"state",{showMenu:!1}),lh(ah(e),"showMenu",(function(t){var r;r=t?t.currentTarget:e._buttonDOM,e.setState({showMenu:!0,anchor:r})})),lh(ah(e),"menuClicked",(function(t,r,n){e.setState({showMenu:!1})})),e}return r=l,(o=[{key:"componentDidMount",value:function(){var e=this;this.props.openOnEvent&&this.props.pydio.observe(this.props.openOnEvent,(function(){e.showMenu()}))}},{key:"render",value:function(){var e,r=this,o=this.state,i=o.showMenu,a=o.anchor,s=t().createElement("span",{style:{whiteSpace:"nowrap"}},this.props.buttonTitle," ",t().createElement("span",{className:"mdi mdi-menu-down"})),l=this.props.buttonHoverColor||"rgba(255,255,255,0.2)",c={primary:this.props.primary,secondary:this.props.secondary,disabled:this.props.disabled,label:s,onClick:this.showMenu,labelStyle:nh({},this.props.buttonLabelStyle),style:this.props.buttonStyle,backgroundColor:i?l:this.props.buttonBackgroundColor,hoverColor:this.props.buttonHoverColor},u=this.props.menuItems;return u.length&&(e=this.props.raised?t().createElement(g.RaisedButton,th({},c,{ref:function(e){r._buttonDOM=n().findDOMNode(e)}})):t().createElement(g.FlatButton,th({},c,{ref:function(e){r._buttonDOM=n().findDOMNode(e)}}))),t().createElement("span",{id:this.props.id,className:this.props.className},e,t().createElement(uh,{className:"menuPopover",open:i,anchorEl:a,anchorOrigin:{horizontal:this.props.direction||"left",vertical:"bottom"},targetOrigin:{horizontal:this.props.direction||"left",vertical:"top"},onRequestClose:function(){r.setState({showMenu:!1})},style:{marginTop:1},useLayerForClickAway:!1},Dr.itemsToMenu(u,this.menuClicked)))}}])&&oh(r.prototype,o),Object.defineProperty(r,"prototype",{writable:!1}),l}(t().Component);lh(fh,"propTypes",{buttonTitle:U().oneOfType([U().string,U().object]).isRequired,menuItems:U().array.isRequired,className:U().string,raised:U().bool,direction:U().oneOf(["left","right"])});const ph=qr(fh),dh=require("pydio/model/context-menu");var yh=a.n(dh);function hh(e){return hh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hh(e)}function mh(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function bh(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?mh(Object(r),!0).forEach((function(t){wh(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mh(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function vh(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Ph(n.key),n)}}function gh(e,t){return gh=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},gh(e,t)}function Oh(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Sh(e){return Sh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Sh(e)}function wh(e,t,r){return(t=Ph(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ph(e){var t=function(e,t){if("object"!==hh(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==hh(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===hh(t)?t:String(t)}var jh=a(580),Eh=a(66405),xh=Z().requireLib("hoc").ThemedContainers.Paper,Ch=function(r){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&gh(e,t)}(l,r);var n,o,i,a,s=(i=l,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Sh(i);if(a){var r=Sh(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===hh(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Oh(e)}(this,e)});function l(t){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),wh(Oh(r=s.call(this,t)),"showMenu",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;r.setState({showMenu:!0,style:e,menuItems:t||r.state.menuItems})})),wh(Oh(r),"hideMenu",(function(e){if(!e)return r.setState({showMenu:!1}),void(r.props.onMenuClosed&&r.props.onMenuClosed());if(void 0===e||2!==e.button||"contextmenu"===e.type){var t=Eh.findDOMNode(r.menuRef.current);t&&t.contains(e.target)||t===e.target||(r.setState({showMenu:!1}),r.props.onMenuClosed&&r.props.onMenuClosed())}})),wh(Oh(r),"menuClicked",(function(e,t,n){r.hideMenu()})),r.menuRef=(0,e.createRef)(),r.state={showMenu:!1,menuItems:t.menuItems},r}return n=l,(o=[{key:"componentDidMount",value:function(){this._observer=this.hideMenu.bind(this)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("click",this._observer,!1)}},{key:"componentWillReceiveProps",value:function(e){e.menuItems&&this.setState({menuItems:e.menuItems})}},{key:"componentDidUpdate",value:function(e,t){this.state.showMenu?document.addEventListener("click",this._observer,!1):document.removeEventListener("click",this._observer,!1)}},{key:"render",value:function(){var e=this.props,r=e.menuProps,n=e.zDepth,o=void 0===n?1:n,i=this.state,a=i.style,s=void 0===a?{}:a,l=i.menuItems,c=bh(bh({},s),{},{zIndex:1e3}),u=Dr.itemsToMenu(l,this.menuClicked.bind(this),!1,bh({ref:this.menuRef,desktop:!0,display:"right",width:250},r));return this.state.showMenu?t().createElement(xh,{zDepth:o||1,ref:"menuContainer",className:"menu-positioner",style:c},u):null}}])&&vh(n.prototype,o),Object.defineProperty(n,"prototype",{writable:!1}),l}(t().Component);function kh(e){return kh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kh(e)}function Rh(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,_h(n.key),n)}}function _h(e){var t=function(e,t){if("object"!==kh(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==kh(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===kh(t)?t:String(t)}function Th(e,t){return Th=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Th(e,t)}function Ih(e){return Ih=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Ih(e)}wh(Ch,"propTypes",{menuItems:jh.array.isRequired,onExternalClickCheckElements:jh.func,className:jh.string,style:jh.object,onMenuClosed:jh.func});var Mh=a(16689),Ah=Mh.Component,Dh=Mh.createRef,Lh=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Th(e,t)}(a,e);var t,r,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Ih(n);if(o){var r=Ih(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===kh(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this,e)).menu=Dh(),t}return t=a,(r=[{key:"modelOpen",value:function(e){var t=yh().getInstance().getPosition(),r=this.props.pydio;if(e){var n=r.getContextHolder();-1===n.getSelectedNodes().indexOf(e)?(r.observeOnce("actions_refreshed",function(e){this.openMenu("selectionContext",t)}.bind(this)),n.setSelectedNodes([e])):this.openMenu("selectionContext",t)}else this.openMenu("genericContext",t)}},{key:"openMenu",value:function(e,t){var r=this.computeMenuItems(e);this._items=r,this.props.pydio.UI.MOBILE_EXTENSIONS?this.menu.current.showMenu({bottom:0,left:0,right:0,height:200,zIndex:1e4,overflowY:"auto"},r):(t=this.computeVisiblePosition(t,r),this.menu.current.showMenu({top:t.y,left:t.x},r))}},{key:"computeMenuItems",value:function(e){var t=this.props.pydio.Controller.getContextActions(e,["inline","info_panel","info_panel_share"]);return Dr.pydioActionsToItems(t)}},{key:"computeVisiblePosition",value:function(e,t){var r=16;t.map((function(e){e.separator?r+=16:r+=32}));var n=Math.max(document.documentElement.clientWidth,window.innerWidth||0),o=Math.max(document.documentElement.clientHeight,window.innerHeight||0);return e.x+250>n?e.x=Math.max(e.x-250,10)-8:e.x+=8,e.y+r>o?e.y=Math.max(e.y-r,10)-8:e.y+=8,e}},{key:"componentDidMount",value:function(){this._modelOpen=this.modelOpen.bind(this),yh().getInstance().observe("open",this._modelOpen)}},{key:"componentWillUnmount",value:function(){yh().getInstance().stopObserving("open",this._modelOpen)}},{key:"render",value:function(){var e=this.props.pydio.UI.MOBILE_EXTENSIONS;return React.createElement(Ch,{ref:this.menu,menuItems:this._items||[],onMenuClosed:this.props.onMenuClosed,menuProps:e?{width:600,autoWidth:!1,desktop:!1}:{},zDepth:e?2:1})}}])&&Rh(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),a}(Ah);function Nh(e){return Nh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nh(e)}function zh(){return zh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},zh.apply(this,arguments)}function Bh(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Uh(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Bh(Object(r),!0).forEach((function(t){qh(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Bh(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Fh(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Gh(n.key),n)}}function Zh(e,t){return Zh=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Zh(e,t)}function Wh(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Hh(e){return Hh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Hh(e)}function qh(e,t,r){return(t=Gh(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Gh(e){var t=function(e,t){if("object"!==Nh(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==Nh(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===Nh(t)?t:String(t)}var Vh=Z().requireLib("hoc").ThemedContainers.Popover,$h=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Zh(e,t)}(l,e);var r,o,i,a,s=(i=l,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Hh(i);if(a){var r=Hh(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===Nh(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Wh(e)}(this,e)});function l(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return qh(Wh(e=s.call.apply(s,[this].concat(r))),"state",{showMenu:!1}),qh(Wh(e),"showMenu",(function(t){var r;r=t?t.currentTarget:e._buttonDOM,e.setState({showMenu:!0,anchor:r})})),qh(Wh(e),"menuClicked",(function(t,r,n){e.setState({showMenu:!1})})),e}return r=l,(o=[{key:"componentDidMount",value:function(){var e=this;this.props.openOnEvent&&this.props.pydio.observe(this.props.openOnEvent,(function(){e.showMenu()}))}},{key:"render",value:function(){var e,r,o=this,i=this.props,a=i.id,s=i.masterAction,l=i.buttonTitle,c=i.primary,u=i.secondary,f=i.disabled,p=i.raised,d=i.menuItems,y=i.buttonStyle,h=i.buttonLabelStyle,m=i.className,b=i.direction,v=i.muiTheme,O=Uh({},h),S=Uh({},h);O.paddingRight?O.paddingRight/=Math.floor(3):O.paddingRight=8,S.paddingLeft?S.paddingLeft/=Math.floor(3):S.paddingLeft=8,S.paddingRight=S.paddingLeft;var w={primary:c,secondary:u,disabled:f,label:l,style:Uh(Uh({},y),{},{minWidth:60,borderRadius:"".concat(v.borderRadius,"px 0 0 ").concat(v.borderRadius,"px")}),labelStyle:O,onClick:s},P={primary:c,secondary:u,disabled:f,label:t().createElement("span",{className:"mdi mdi-menu-down"}),style:Uh(Uh({},y),{},{minWidth:16,borderRadius:"0 ".concat(v.borderRadius,"px ").concat(v.borderRadius,"px 0")}),labelStyle:S,onClick:this.showMenu},j=this.state,E=j.showMenu,x=j.anchor,C=j.over;d.length&&(p?(r=t().createElement(g.RaisedButton,zh({},P,{ref:function(e){o._buttonDOM=n().findDOMNode(e)}})),e=t().createElement(g.RaisedButton,w)):(r=t().createElement(g.FlatButton,zh({},P,{ref:function(e){o._buttonDOM=n().findDOMNode(e)}})),e=t().createElement(g.FlatButton,w)));var k={whiteSpace:"nowrap",borderRadius:v.borderRadius};return t().createElement("span",{id:a,className:m,onMouseOver:function(){o.setState({over:!0})},onMouseOut:function(){o.setState({over:!1})},style:C||E?Uh({backgroundColor:"rgba(153, 153, 153, 0.2)"},k):k},e,r,t().createElement(Vh,{className:"menuPopover",open:E,anchorEl:x,anchorOrigin:{horizontal:b||"left",vertical:"bottom"},targetOrigin:{horizontal:b||"left",vertical:"top"},onRequestClose:function(){o.setState({showMenu:!1})},style:{marginTop:1},useLayerForClickAway:!1},Dr.itemsToMenu(d,this.menuClicked)))}}])&&Fh(r.prototype,o),Object.defineProperty(r,"prototype",{writable:!1}),l}(t().Component);qh($h,"propTypes",{buttonTitle:U().oneOfType([U().string,U().object]).isRequired,masterAction:U().func.isRequired,menuItems:U().array.isRequired,className:U().string,raised:U().bool,direction:U().oneOf(["left","right"])});const Kh=qr((0,K.muiThemeable)()($h));function Yh(e){return Yh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yh(e)}function Xh(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Jh(n.key),n)}}function Jh(e){var t=function(e,t){if("object"!==Yh(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==Yh(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===Yh(t)?t:String(t)}function Qh(e,t){return Qh=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Qh(e,t)}function em(e){return em=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},em(e)}var tm=a(580),rm=a(16689),nm=Z().requireLib("hoc").ThemedContainers,om=nm.Popover,im=nm.IconButton,am=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Qh(e,t)}(a,e);var t,r,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=em(n);if(o){var r=em(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===Yh(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function a(e,t){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(r=i.call(this,e,t)).state={showPopover:!1},r}return t=a,(r=[{key:"showPopover",value:function(e){this.setState({showPopover:!0,anchor:e.currentTarget})}},{key:"render",value:function(){var e=this;return rm.createElement("span",{className:"toolbars-button-menu "+(this.props.className?this.props.className:"")},rm.createElement(im,{ref:"menuButton",tooltip:this.props.buttonTitle,iconClassName:this.props.buttonClassName,onClick:this.showPopover.bind(this),iconStyle:this.props.buttonStyle}),rm.createElement(om,{open:this.state.showPopover,anchorEl:this.state.anchor,anchorOrigin:{horizontal:this.props.direction||"right",vertical:"bottom"},targetOrigin:{horizontal:this.props.direction||"right",vertical:"top"},onRequestClose:function(){e.setState({showPopover:!1})},useLayerForClickAway:!1},this.props.popoverContent))}}])&&Xh(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),a}(rm.Component);am.propTypes={buttonTitle:tm.string.isRequired,buttonClassName:tm.string.isRequired,className:tm.string,direction:tm.oneOf(["right","left"]),popoverContent:tm.object.isRequired};const sm=am;function lm(e){return lm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lm(e)}function cm(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function um(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?cm(Object(r),!0).forEach((function(t){fm(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cm(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function fm(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==lm(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==lm(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===lm(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pm(e){return function(e){if(Array.isArray(e))return dm(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return dm(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?dm(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function dm(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var ym=Z().requireLib("hoc").ThemedContainers.IconButton;const hm=z()({displayName:"Toolbar",propTypes:{toolbars:U().array,groupOtherList:U().array,renderingType:U().string,controller:U().instanceOf(Controller),toolbarStyle:U().object,buttonStyle:U().object,fabAction:U().string,buttonMenuNoLabel:U().bool},componentDidMount:function(){var e=function(){this.isMounted()&&this.setState({groups:this.props.controller.getToolbarsActions(this.props.toolbars,this.props.groupOtherList)})}.bind(this);this._observer=(0,Lr.debounce)(e,50),this.props.controller===pydio.Controller?pydio.observe("actions_refreshed",this._observer):this.props.controller.observe("actions_refreshed",this._observer)},componentWillUnmount:function(){this.props.controller===pydio.Controller?pydio.stopObserving("actions_refreshed",this._observer):this.props.controller.stopObserving("actions_refreshed",this._observer)},componentWillReceiveProps:function(e){e.toolbars!==this.props.toolbars&&this.setState({groups:this.props.controller.getToolbarsActions(e.toolbars,e.groupOtherList)})},getInitialState:function(){return{groups:this.props.controller.getToolbarsActions(this.props.toolbars,this.props.groupOtherList)}},getDefaultProps:function(){return{controller:a.g.pydio.Controller,renderingType:"button",groupOtherList:[]}},render:function(){var e=this.state.groups,r=[],n=this.props,o=n.toolbars,i=n.renderingType,a=n.groupOtherList,s=n.buttonStyle,l=n.mergeItemsAsOneMenu,c=n.tooltipPosition,u=n.controller,f=n.fabAction,p=n.fabButtonStyle,d=void 0===p?{}:p,y=n.toolbarStyle,h=n.buttonMenuNoLabel,m=n.buttonMenuPopoverDirection,b=n.flatButtonStyle,v=pm(o);a.length&&(v=v.concat(["MORE_ACTION"]));var O=!1,S=[];if(v.map((function(n){e.has(n)&&e.get(n).map((function(e){if(!e.deny){var o,a,p,y,v,w=e.options.name;if(p=pydio.MessageHash[e.options.text_id]||e.options.text,y=e.options.icon_class,"MORE_ACTION"===n){var P=e.subMenuItems.dynamicItems,j=[];P.map((function(e){e.separator?j.push(e):e.actionId&&!e.actionId.deny&&j.push(e.actionId.getMenuData())})),o=Dr.pydioActionsToItems(j),y="mdi mdi-dots-vertical"}else e.subMenuItems.staticItems?o=Dr.pydioActionsToItems(e.subMenuItems.staticItems):e.subMenuItems.dynamicBuilder?o=Dr.pydioActionsToItems(e.subMenuItems.dynamicBuilder(u)):e.subMenuItems.popoverContent&&(a=e.subMenuItems.popoverContent);if(o&&e.subMenuItems.masterAction){var E=u.getActionByName(e.subMenuItems.masterAction);E&&!E.deny&&(v=function(){E.apply()})}if(l&&void 0!==o)S=[].concat(pm(S),[{subHeader:p}],pm(o),[{separator:!0}]);else{var x="action-"+e.options.name;if("button-icon"===i&&(p=t().createElement("span",{className:"button-icon"},t().createElement("span",{className:"button-icon-icon "+y}),t().createElement("span",{className:"button-icon-label"},p))),o)"button"===i||"button-icon"===i?v?r.push(t().createElement(Kh,{key:w,className:x,buttonTitle:p,menuItems:o,masterAction:v,buttonStyle:b,buttonLabelStyle:s,direction:m})):r.push(t().createElement(ph,{key:w,className:x,buttonTitle:h?"":p,menuItems:o,buttonStyle:b,buttonLabelStyle:s,direction:m})):r.push(t().createElement(rn,{key:w,className:x,onMenuClicked:function(e){e.payload()},buttonClassName:y,buttonTitle:p,menuItems:o,buttonStyle:s,style:b,popoverDirection:m}));else if(a)r.push(t().createElement(sm,{key:w,className:x,buttonClassName:y,buttonTitle:p,buttonStyle:s,popoverContent:a}));else{var C=function(){e.apply()};f&&f===w?(O=!0,r.push(t().createElement(g.FloatingActionButton,{key:w,onClick:C,iconClassName:y,mini:!0,backgroundColor:d.backgroundColor,iconStyle:d.color?{color:d.color}:null,style:{position:"absolute",top:-20,left:10}}))):"button-icon"===i||"button"===i?r.push(t().createElement(g.FlatButton,{key:w,className:x,onClick:C,label:p,labelStyle:s,style:b})):r.push(t().createElement(ym,{key:w,iconClassName:y+" "+x,iconStyle:s,style:b,onClick:C,tooltip:p,tooltipPosition:c}))}}}}))})),l&&S.length){S.pop();var w=this.props,P=w.mergedMenuIcom,j=w.mergedMenuTitle;r.push(t().createElement(rn,{key:o.join("-"),className:"toolbar-"+o.join("-"),onMenuClicked:function(e){e.payload()},buttonClassName:P,buttonTitle:j,menuItems:S,buttonStyle:s,style:b,popoverDirection:m}))}var E=this.props.className?this.props.className:"";E+=" toolbar",r.length||(E+=" empty-toolbar");var x=um({},y);return O&&(x=um(um({},y),{},{minHeight:41})),t().createElement("div",{className:E,style:x,id:this.props.id},r)}});var mm=a(7522),bm=a(1267),vm=a(44305),gm=a(1697);function Om(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Sm=["sx"],wm=function(e){var t,r,n={systemProps:{},otherProps:{}},o=null!=(t=null==e||null==(r=e.theme)?void 0:r.unstable_sxConfig)?t:gm.Z;return Object.keys(e).forEach((function(t){o[t]?n.systemProps[t]=e[t]:n.otherProps[t]=e[t]})),n},Pm=a(74099),jm=["className","component"],Em=a(21142);const xm=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.defaultTheme,n=t.defaultClassName,o=void 0===n?"MuiBox-root":n,i=t.generateClassName,a=(0,mm.ZP)("div",{shouldForwardProp:function(e){return"theme"!==e&&"sx"!==e&&"as"!==e}})(bm.Z),s=e.forwardRef((function(e,t){var n=(0,Pm.Z)(r),s=function(e){var t,r,n=e.sx,o=(0,ve.Z)(e,Sm),i=wm(o),a=i.systemProps,s=i.otherProps;return t=Array.isArray(n)?[a].concat(function(e){if(Array.isArray(e))return Om(e)}(r=n)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(r)||function(e,t){if(e){if("string"==typeof e)return Om(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Om(e,t):void 0}}(r)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()):"function"==typeof n?function(){var e=n.apply(void 0,arguments);return(0,vm.P)(e)?(0,be.Z)({},a,e):a}:(0,be.Z)({},a,n),(0,be.Z)({},s,{sx:t})}(e),l=s.className,c=s.component,u=void 0===c?"div":c,f=(0,ve.Z)(s,jm);return(0,Lt.jsx)(a,(0,be.Z)({as:u,ref:t,className:(0,Wt.Z)(l,i?i(o):o),theme:n},f))}));return s}({defaultTheme:(0,a(82013).Z)(),defaultClassName:"MuiBox-root",generateClassName:Em.Z.generate});var Cm=a(15785);function km(){return(0,Pm.Z)(Cm.Z)}function Rm(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,n={};return Object.keys(e).forEach((function(o){n[o]=e[o].reduce((function(e,n){if(n){var o=t(n);""!==o&&e.push(o),r&&r[n]&&e.push(r[n])}return e}),[]).join(" ")})),n}var _m=a(9118),Tm=a(44880),Im=a(90678),Mm=a(92466);const Am=e.createContext({});var Dm=a(43547);function Lm(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,s=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Nm(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Nm(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Nm(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var zm=["element"],Bm=e.createContext({}),Um=function(){};function Fm(t){var r=t.children,n=t.id,o=Lm(e.useState([]),2),i=o[0],a=o[1],s=e.useCallback((function(e){var t=e.element,r=(0,ve.Z)(e,zm);a((function(e){var n;if(0===e.length)return[(0,be.Z)({},r,{element:t,index:0})];var o=function(e,t){for(var r=0,n=e.length-1;r<=n;){var o=Math.floor((r+n)/2);if(e[o].element===t)return o;e[o].element.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_PRECEDING?n=o-1:r=o+1}return r}(e,t);if(e[o]&&e[o].element===t)n=e;else{var i=(0,be.Z)({},r,{element:t,index:o});(n=e.slice()).splice(o,0,i)}return n.forEach((function(e,t){e.index=t})),n}))}),[]),l=e.useCallback((function(e){a((function(t){return t.filter((function(t){return e!==t.element}))}))}),[]),c=e.useMemo((function(){return{descendants:i,registerDescendant:s,unregisterDescendant:l,parentId:n}}),[i,s,l,n]);return(0,Lt.jsx)(Bm.Provider,{value:c,children:r})}function Zm(e){return(0,Bt.Z)("MuiTreeView",e)}function Wm(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,s=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Hm(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Hm(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Hm(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}(0,Ut.Z)("MuiTreeView",["root"]);var qm=["children","className","defaultCollapseIcon","defaultEndIcon","defaultExpanded","defaultExpandIcon","defaultParentIcon","defaultSelected","disabledItemsFocusable","disableSelection","expanded","id","multiSelect","onBlur","onFocus","onKeyDown","onNodeFocus","onNodeSelect","onNodeToggle","selected"],Gm=(0,rr.ZP)("ul",{name:"MuiTreeView",slot:"Root",overridesResolver:function(e,t){return t.root}})({padding:0,margin:0,listStyle:"none",outline:0});function Vm(e,t,r){for(var n=t;n<e.length;n+=1)if(r===e[n])return n;return-1}function $m(){return!1}var Km=[],Ym=[],Xm=e.forwardRef((function(t,r){var n=(0,nr.Z)({props:t,name:"MuiTreeView"}),o=n.children,i=n.className,a=n.defaultCollapseIcon,s=n.defaultEndIcon,l=n.defaultExpanded,c=void 0===l?Km:l,u=n.defaultExpandIcon,f=n.defaultParentIcon,p=n.defaultSelected,d=void 0===p?Ym:p,y=n.disabledItemsFocusable,h=void 0!==y&&y,m=n.disableSelection,b=void 0!==m&&m,v=n.expanded,g=n.id,O=n.multiSelect,S=void 0!==O&&O,w=n.onBlur,P=n.onFocus,j=n.onKeyDown,E=n.onNodeFocus,x=n.onNodeSelect,C=n.onNodeToggle,k=n.selected,R=(0,ve.Z)(n,qm),_="rtl"===km().direction,T=(0,be.Z)({},n,{defaultExpanded:c,defaultSelected:d,disabledItemsFocusable:h,disableSelection:b,multiSelect:S}),I=function(e){return Rm({root:["root"]},Zm,e.classes)}(T),M=(0,_m.Z)(g),A=e.useRef(null),D=(0,Tm.Z)(A,r),L=Wm(e.useState(null),2),N=L[0],z=L[1],B=e.useRef({}),U=e.useRef({}),F=Wm((0,Im.Z)({controlled:v,default:c,name:"TreeView",state:"expanded"}),2),Z=F[0],W=F[1],H=Wm((0,Im.Z)({controlled:k,default:d,name:"TreeView",state:"selected"}),2),q=H[0],G=H[1],V=e.useCallback((function(e){return!!Array.isArray(Z)&&-1!==Z.indexOf(e)}),[Z]),$=e.useCallback((function(e){return B.current[e]&&B.current[e].expandable}),[]),K=e.useCallback((function(e){return Array.isArray(q)?-1!==q.indexOf(e):q===e}),[q]),Y=e.useCallback((function(e){var t=B.current[e];if(!t)return!1;if(t.disabled)return!0;for(;null!=t.parentId;)if((t=B.current[t.parentId]).disabled)return!0;return!1}),[]),X=function(e){return Object.keys(B.current).map((function(e){return B.current[e]})).filter((function(t){return t.parentId===e})).sort((function(e,t){return e.index-t.index})).map((function(e){return e.id}))},J=function(e){var t=X(e);return h||(t=t.filter((function(e){return!Y(e)}))),t},Q=function(e){if(V(e)&&J(e).length>0)return J(e)[0];for(var t=B.current[e];null!=t;){var r=J(t.parentId),n=r[r.indexOf(t.id)+1];if(n)return n;t=B.current[t.parentId]}return null},ee=function(e){var t=B.current[e],r=J(t.parentId),n=r.indexOf(e);if(0===n)return t.parentId;for(var o=r[n-1];V(o)&&J(o).length>0;)o=J(o).pop();return o},te=function(){for(var e=J(null).pop();V(e);)e=J(e).pop();return e},re=function(){return J(null)[0]},ne=function(e,t){t&&(z(t),E&&E(e,t))},oe=function(e,t){return ne(e,Q(t))},ie=function(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:N;t=-1!==Z.indexOf(r)?Z.filter((function(e){return e!==r})):[r].concat(Z),C&&C(e,t),W(t)},ae=e.useRef(null),se=e.useRef(!1),le=e.useRef([]),ce=function(e,t){var r=q.slice(),n=t.start,o=t.next,i=t.current;o&&i&&(-1===le.current.indexOf(i)&&(le.current=[]),se.current?-1!==le.current.indexOf(o)?(r=r.filter((function(e){return e===n||e!==i})),le.current=le.current.filter((function(e){return e===n||e!==i}))):(r.push(o),le.current.push(o)):(r.push(o),le.current.push(i,o)),x&&x(e,r),G(r))},ue=function(e,t){var r=q.slice(),n=t.start,o=t.end;se.current&&(r=r.filter((function(e){return-1===le.current.indexOf(e)})));var i=function(e,t){for(var r=function(e,t){if(e===t)return[e,t];var r=B.current[e],n=B.current[t];if(r.parentId===n.id||n.parentId===r.id)return n.parentId===r.id?[r.id,n.id]:[n.id,r.id];for(var o=[r.id],i=[n.id],a=r.parentId,s=n.parentId,l=-1!==i.indexOf(a),c=-1!==o.indexOf(s),u=!0,f=!0;!c&&!l;)u&&(o.push(a),u=null!==a,!(l=-1!==i.indexOf(a))&&u&&(a=B.current[a].parentId)),f&&!l&&(i.push(s),f=null!==s,!(c=-1!==o.indexOf(s))&&f&&(s=B.current[s].parentId));var p=l?a:s,d=X(p),y=o[o.indexOf(p)-1],h=i[i.indexOf(p)-1];return d.indexOf(y)<d.indexOf(h)?[e,t]:[t,e]}(e,t),n=Wm(r,2),o=n[0],i=n[1],a=[o],s=o;s!==i;)s=Q(s),a.push(s);return a}(n,o);i=i.filter((function(e){return!Y(e)})),le.current=i;var a=r.concat(i);a=a.filter((function(e,t){return a.indexOf(e)===t})),x&&x(e,a),G(a)},fe=function(e,t){var r;r=-1!==q.indexOf(t)?q.filter((function(e){return e!==t})):[t].concat(q),x&&x(e,r),G(r)},pe=function(e,t){var r=S?[t]:t;x&&x(e,r),G(r)},de=function(e,t){return!!t&&(arguments.length>2&&void 0!==arguments[2]&&arguments[2]?fe(e,t):pe(e,t),ae.current=t,se.current=!1,le.current=[],!0)},ye=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=t.start,o=void 0===n?ae.current:n,i=t.end,a=t.current;r?ce(e,{start:o,next:i,current:a}):null!=o&&null!=i&&ue(e,{start:o,end:i}),se.current=!0},he=e.useCallback((function(e){var t=e.id,r=e.index,n=e.parentId,o=e.expandable,i=e.idAttribute,a=e.disabled;B.current[t]={id:t,index:r,parentId:n,expandable:o,idAttribute:i,disabled:a}}),[]),me=e.useCallback((function(e){var t=(0,be.Z)({},B.current);delete t[e],B.current=t,z((function(t){return t===e&&A.current===(0,Mm.Z)(A.current).activeElement?X(null)[0]:t}))}),[]),ge=e.useCallback((function(e,t){U.current[e]=t}),[]),Oe=e.useCallback((function(e){var t=(0,be.Z)({},U.current);delete t[e],U.current=t}),[]),Se=function(e){return $(N)&&(V(N)?oe(e,N):Y(N)||ie(e)),!0},we=function(e){if(V(N)&&!Y(N))return ie(e,N),!0;var t,r=(t=N,B.current[t].parentId);return!!r&&(ne(e,r),!0)},Pe=B.current[N]?B.current[N].idAttribute:null;return(0,Lt.jsx)(Am.Provider,{value:{icons:{defaultCollapseIcon:a,defaultExpandIcon:u,defaultParentIcon:f,defaultEndIcon:s},focus:ne,toggleExpansion:ie,isExpanded:V,isExpandable:$,isFocused:function(e){return N===e},isSelected:K,isDisabled:Y,selectNode:b?$m:de,selectRange:b?$m:ye,multiSelect:S,disabledItemsFocusable:h,mapFirstChar:ge,unMapFirstChar:Oe,registerNode:he,unregisterNode:me,treeId:M},children:(0,Lt.jsx)(Fm,{children:(0,Lt.jsx)(Gm,(0,be.Z)({role:"tree",id:M,"aria-activedescendant":Pe,"aria-multiselectable":S,className:(0,Wt.Z)(I.root,i),ref:D,tabIndex:0,onKeyDown:function(e){var t=!1,r=e.key;if(!e.altKey&&e.currentTarget===e.target&&N){var n,o=e.ctrlKey||e.metaKey;switch(r){case" ":b||Y(N)||(S&&e.shiftKey?(ye(e,{end:N}),t=!0):t=S?de(e,N,!0):de(e,N)),e.stopPropagation();break;case"Enter":Y(N)||($(N)?(ie(e),t=!0):t=S?de(e,N,!0):de(e,N)),e.stopPropagation();break;case"ArrowDown":S&&e.shiftKey&&!b&&function(e,t){Y(Q(t))||ye(e,{end:Q(t),current:t},!0)}(e,N),oe(e,N),t=!0;break;case"ArrowUp":S&&e.shiftKey&&!b&&function(e,t){Y(ee(t))||ye(e,{end:ee(t),current:t},!0)}(e,N),function(e,t){ne(e,ee(t))}(e,N),t=!0;break;case"ArrowRight":t=_?we(e):Se(e);break;case"ArrowLeft":t=_?Se(e):we(e);break;case"Home":S&&o&&e.shiftKey&&!b&&!Y(N)&&function(e,t){ae.current||(ae.current=t);var r=se.current?ae.current:t;ye(e,{start:r,end:re()})}(e,N),function(e){ne(e,re())}(e),t=!0;break;case"End":S&&o&&e.shiftKey&&!b&&!Y(N)&&function(e,t){ae.current||(ae.current=t);var r=se.current?ae.current:t;ye(e,{start:r,end:te()})}(e,N),function(e){ne(e,te())}(e),t=!0;break;default:"*"===r?(function(e,t){var r=B.current[t],n=X(r.parentId).filter((function(e){return $(e)&&!V(e)})),o=Z.concat(n);n.length>0&&(W(o),C&&C(e,o))}(e,N),t=!0):S&&o&&"a"===r.toLowerCase()&&!b?(function(e){ye(e,{start:re(),end:te()})}(e),t=!0):!o&&!e.shiftKey&&(n=r)&&1===n.length&&n.match(/\S/)&&(function(e,t,r){var n,o,i=r.toLowerCase(),a=[],s=[];Object.keys(U.current).forEach((function(e){var t=U.current[e],r=B.current[e],n=!r.parentId||V(r.parentId),o=!h&&Y(e);n&&!o&&(a.push(e),s.push(t))})),(n=a.indexOf(t)+1)>=a.length&&(n=0),-1===(o=Vm(s,n,i))&&(o=Vm(s,0,i)),o>-1&&ne(e,a[o])}(e,N,r),t=!0)}t&&(e.preventDefault(),e.stopPropagation()),j&&j(e)}},onFocus:function(e){if(e.target===e.currentTarget){var t=Array.isArray(q)?q[0]:q;ne(e,t||J(null)[0])}P&&P(e)},onBlur:function(e){z(null),w&&w(e)},ownerState:T},R,{children:o}))})})}));const Jm=Xm;function Qm(e,t){return Qm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Qm(e,t)}const eb=t().createContext(null);var tb="unmounted",rb="exited",nb="entering",ob="entered",ib="exiting",ab=function(e){var r,o;function i(t,r){var n;n=e.call(this,t,r)||this;var o,i=r&&!r.isMounting?t.enter:t.appear;return n.appearStatus=null,t.in?i?(o=rb,n.appearStatus=nb):o=ob:o=t.unmountOnExit||t.mountOnEnter?tb:rb,n.state={status:o},n.nextCallback=null,n}o=e,(r=i).prototype=Object.create(o.prototype),r.prototype.constructor=r,Qm(r,o),i.getDerivedStateFromProps=function(e,t){return e.in&&t.status===tb?{status:rb}:null};var a=i.prototype;return a.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},a.componentDidUpdate=function(e){var t=null;if(e!==this.props){var r=this.state.status;this.props.in?r!==nb&&r!==ob&&(t=nb):r!==nb&&r!==ob||(t=ib)}this.updateStatus(!1,t)},a.componentWillUnmount=function(){this.cancelNextCallback()},a.getTimeouts=function(){var e,t,r,n=this.props.timeout;return e=t=r=n,null!=n&&"number"!=typeof n&&(e=n.exit,t=n.enter,r=void 0!==n.appear?n.appear:t),{exit:e,enter:t,appear:r}},a.updateStatus=function(e,t){if(void 0===e&&(e=!1),null!==t)if(this.cancelNextCallback(),t===nb){if(this.props.unmountOnExit||this.props.mountOnEnter){var r=this.props.nodeRef?this.props.nodeRef.current:n().findDOMNode(this);r&&function(e){e.scrollTop}(r)}this.performEnter(e)}else this.performExit();else this.props.unmountOnExit&&this.state.status===rb&&this.setState({status:tb})},a.performEnter=function(e){var t=this,r=this.props.enter,o=this.context?this.context.isMounting:e,i=this.props.nodeRef?[o]:[n().findDOMNode(this),o],a=i[0],s=i[1],l=this.getTimeouts(),c=o?l.appear:l.enter;e||r?(this.props.onEnter(a,s),this.safeSetState({status:nb},(function(){t.props.onEntering(a,s),t.onTransitionEnd(c,(function(){t.safeSetState({status:ob},(function(){t.props.onEntered(a,s)}))}))}))):this.safeSetState({status:ob},(function(){t.props.onEntered(a)}))},a.performExit=function(){var e=this,t=this.props.exit,r=this.getTimeouts(),o=this.props.nodeRef?void 0:n().findDOMNode(this);t?(this.props.onExit(o),this.safeSetState({status:ib},(function(){e.props.onExiting(o),e.onTransitionEnd(r.exit,(function(){e.safeSetState({status:rb},(function(){e.props.onExited(o)}))}))}))):this.safeSetState({status:rb},(function(){e.props.onExited(o)}))},a.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},a.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},a.setNextCallback=function(e){var t=this,r=!0;return this.nextCallback=function(n){r&&(r=!1,t.nextCallback=null,e(n))},this.nextCallback.cancel=function(){r=!1},this.nextCallback},a.onTransitionEnd=function(e,t){this.setNextCallback(t);var r=this.props.nodeRef?this.props.nodeRef.current:n().findDOMNode(this),o=null==e&&!this.props.addEndListener;if(r&&!o){if(this.props.addEndListener){var i=this.props.nodeRef?[this.nextCallback]:[r,this.nextCallback],a=i[0],s=i[1];this.props.addEndListener(a,s)}null!=e&&setTimeout(this.nextCallback,e)}else setTimeout(this.nextCallback,0)},a.render=function(){var e=this.state.status;if(e===tb)return null;var r=this.props,n=r.children,o=(r.in,r.mountOnEnter,r.unmountOnExit,r.appear,r.enter,r.exit,r.timeout,r.addEndListener,r.onEnter,r.onEntering,r.onEntered,r.onExit,r.onExiting,r.onExited,r.nodeRef,(0,ve.Z)(r,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return t().createElement(eb.Provider,{value:null},"function"==typeof n?n(e,o):t().cloneElement(t().Children.only(n),o))},i}(t().Component);function sb(){}ab.contextType=eb,ab.propTypes={},ab.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:sb,onEntering:sb,onEntered:sb,onExit:sb,onExiting:sb,onExited:sb},ab.UNMOUNTED=tb,ab.EXITED=rb,ab.ENTERING=nb,ab.ENTERED=ob,ab.EXITING=ib;const lb=ab;var cb=a(5197);function ub(e){return ub="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ub(e)}function fb(e,t){var r,n,o=e.timeout,i=e.easing,a=e.style,s=void 0===a?{}:a;return{duration:null!=(r=s.transitionDuration)?r:"number"==typeof o?o:o[t.mode]||0,easing:null!=(n=s.transitionTimingFunction)?n:"object"===ub(i)?i[t.mode]:i,delay:s.transitionDelay}}function pb(e){return(0,Bt.Z)("MuiCollapse",e)}function db(e){return db="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},db(e)}function yb(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==db(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==db(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===db(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}(0,Ut.Z)("MuiCollapse",["root","horizontal","vertical","entered","hidden","wrapper","wrapperInner"]);var hb=["addEndListener","children","className","collapsedSize","component","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","orientation","style","timeout","TransitionComponent"],mb=(0,rr.ZP)("div",{name:"MuiCollapse",slot:"Root",overridesResolver:function(e,t){var r=e.ownerState;return[t.root,t[r.orientation],"entered"===r.state&&t.entered,"exited"===r.state&&!r.in&&"0px"===r.collapsedSize&&t.hidden]}})((function(e){var t=e.theme,r=e.ownerState;return(0,he.Z)({height:0,overflow:"hidden",transition:t.transitions.create("height")},"horizontal"===r.orientation&&{height:"auto",width:0,transition:t.transitions.create("width")},"entered"===r.state&&(0,he.Z)({height:"auto",overflow:"visible"},"horizontal"===r.orientation&&{width:"auto"}),"exited"===r.state&&!r.in&&"0px"===r.collapsedSize&&{visibility:"hidden"})})),bb=(0,rr.ZP)("div",{name:"MuiCollapse",slot:"Wrapper",overridesResolver:function(e,t){return t.wrapper}})((function(e){var t=e.ownerState;return(0,he.Z)({display:"flex",width:"100%"},"horizontal"===t.orientation&&{width:"auto",height:"100%"})})),vb=(0,rr.ZP)("div",{name:"MuiCollapse",slot:"WrapperInner",overridesResolver:function(e,t){return t.wrapperInner}})((function(e){var t=e.ownerState;return(0,he.Z)({width:"100%"},"horizontal"===t.orientation&&{width:"auto",height:"100%"})})),gb=e.forwardRef((function(t,r){var n=(0,nr.Z)({props:t,name:"MuiCollapse"}),o=n.addEndListener,i=n.children,a=n.className,s=n.collapsedSize,l=void 0===s?"0px":s,c=n.component,u=n.easing,f=n.in,p=n.onEnter,d=n.onEntered,y=n.onEntering,h=n.onExit,m=n.onExited,b=n.onExiting,v=n.orientation,g=void 0===v?"vertical":v,O=n.style,S=n.timeout,w=void 0===S?cb.x9.standard:S,P=n.TransitionComponent,j=void 0===P?lb:P,E=(0,me.Z)(n,hb),x=(0,he.Z)({},n,{orientation:g,collapsedSize:l}),C=function(e){var t=e.orientation,r=e.classes,n={root:["root","".concat(t)],entered:["entered"],hidden:["hidden"],wrapper:["wrapper","".concat(t)],wrapperInner:["wrapperInner","".concat(t)]};return(0,At.Z)(n,pb,r)}(x),k=km(),R=e.useRef(),_=e.useRef(null),T=e.useRef(),I="number"==typeof l?"".concat(l,"px"):l,M="horizontal"===g,A=M?"width":"height";e.useEffect((function(){return function(){clearTimeout(R.current)}}),[]);var D=e.useRef(null),L=(0,Tm.Z)(r,D),N=function(e){return function(t){if(e){var r=D.current;void 0===t?e(r):e(r,t)}}},z=function(){return _.current?_.current[M?"clientWidth":"clientHeight"]:0},B=N((function(e,t){_.current&&M&&(_.current.style.position="absolute"),e.style[A]=I,p&&p(e,t)})),U=N((function(e,t){var r=z();_.current&&M&&(_.current.style.position="");var n=fb({style:O,timeout:w,easing:u},{mode:"enter"}),o=n.duration,i=n.easing;if("auto"===w){var a=k.transitions.getAutoHeightDuration(r);e.style.transitionDuration="".concat(a,"ms"),T.current=a}else e.style.transitionDuration="string"==typeof o?o:"".concat(o,"ms");e.style[A]="".concat(r,"px"),e.style.transitionTimingFunction=i,y&&y(e,t)})),F=N((function(e,t){e.style[A]="auto",d&&d(e,t)})),Z=N((function(e){e.style[A]="".concat(z(),"px"),h&&h(e)})),W=N(m),H=N((function(e){var t=z(),r=fb({style:O,timeout:w,easing:u},{mode:"exit"}),n=r.duration,o=r.easing;if("auto"===w){var i=k.transitions.getAutoHeightDuration(t);e.style.transitionDuration="".concat(i,"ms"),T.current=i}else e.style.transitionDuration="string"==typeof n?n:"".concat(n,"ms");e.style[A]=I,e.style.transitionTimingFunction=o,b&&b(e)}));return(0,Lt.jsx)(j,(0,he.Z)({in:f,onEnter:B,onEntered:F,onEntering:U,onExit:Z,onExited:W,onExiting:H,addEndListener:function(e){"auto"===w&&(R.current=setTimeout(e,T.current||0)),o&&o(D.current,e)},nodeRef:D,timeout:"auto"===w?null:w},E,{children:function(e,t){return(0,Lt.jsx)(mb,(0,he.Z)({as:c,className:(0,Wt.Z)(C.root,a,{entered:C.entered,exited:!f&&"0px"===I&&C.hidden}[e]),style:(0,he.Z)(yb({},M?"minWidth":"minHeight",I),O),ownerState:(0,he.Z)({},x,{state:e}),ref:L},t,{children:(0,Lt.jsx)(bb,{ownerState:(0,he.Z)({},x,{state:e}),className:C.wrapper,ref:_,children:(0,Lt.jsx)(vb,{ownerState:(0,he.Z)({},x,{state:e}),className:C.wrapperInner,children:i})})}))}}))}));gb.muiSupportAuto=!0;const Ob=gb;var Sb=a(83026),wb=["classes","className","displayIcon","expansionIcon","icon","label","nodeId","onClick","onMouseDown"];const Pb=e.forwardRef((function(t,r){var n=t.classes,o=t.className,i=t.displayIcon,a=t.expansionIcon,s=t.icon,l=t.label,c=t.nodeId,u=t.onClick,f=t.onMouseDown,p=(0,ve.Z)(t,wb),d=function(t){var r=e.useContext(Am),n=r.focus,o=r.isExpanded,i=r.isExpandable,a=r.isFocused,s=r.isDisabled,l=r.isSelected,c=r.multiSelect,u=r.selectNode,f=r.selectRange,p=r.toggleExpansion,d=!!i&&i(t),y=!!o&&o(t),h=!!a&&a(t),m=!!s&&s(t),b=!!l&&l(t);return{disabled:m,expanded:y,selected:b,focused:h,handleExpansion:function(e){if(!m){h||n(e,t);var r=c&&(e.shiftKey||e.ctrlKey||e.metaKey);!d||r&&o(t)||p(e,t)}},handleSelection:function(e){m||(h||n(e,t),c&&(e.shiftKey||e.ctrlKey||e.metaKey)?e.shiftKey?f(e,{end:t}):u(e,t,!0):u(e,t))},preventSelection:function(e){(e.shiftKey||e.ctrlKey||e.metaKey||m)&&e.preventDefault()}}}(c),y=d.disabled,h=d.expanded,m=d.selected,b=d.focused,v=d.handleExpansion,g=d.handleSelection,O=d.preventSelection,S=s||a||i;return(0,Lt.jsxs)("div",(0,be.Z)({className:(0,Wt.Z)(o,n.root,h&&n.expanded,m&&n.selected,b&&n.focused,y&&n.disabled),onClick:function(e){v(e),g(e),u&&u(e)},onMouseDown:function(e){O(e),f&&f(e)},ref:r},p,{children:[(0,Lt.jsx)("div",{className:n.iconContainer,children:S}),(0,Lt.jsx)("div",{className:n.label,children:l})]}))}));function jb(e){return(0,Bt.Z)("MuiTreeItem",e)}const Eb=(0,Ut.Z)("MuiTreeItem",["root","group","content","expanded","selected","focused","disabled","iconContainer","label"]);function xb(e){return xb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xb(e)}function Cb(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function kb(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==xb(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==xb(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===xb(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Rb=["children","className","collapseIcon","ContentComponent","ContentProps","endIcon","expandIcon","disabled","icon","id","label","nodeId","onClick","onMouseDown","TransitionComponent","TransitionProps"],_b=(0,rr.ZP)("li",{name:"MuiTreeItem",slot:"Root",overridesResolver:function(e,t){return t.root}})({listStyle:"none",margin:0,padding:0,outline:0}),Tb=(0,rr.ZP)(Pb,{name:"MuiTreeItem",slot:"Content",overridesResolver:function(e,t){return[t.content,t.iconContainer&&kb({},"& .".concat(Eb.iconContainer),t.iconContainer),t.label&&kb({},"& .".concat(Eb.label),t.label)]}})((function(e){var t,r=e.theme;return kb(t={padding:"0 8px",width:"100%",display:"flex",alignItems:"center",cursor:"pointer",WebkitTapHighlightColor:"transparent","&:hover":{backgroundColor:(r.vars||r).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}}},"&.".concat(Eb.disabled),{opacity:(r.vars||r).palette.action.disabledOpacity,backgroundColor:"transparent"}),kb(t,"&.".concat(Eb.focused),{backgroundColor:(r.vars||r).palette.action.focus}),kb(t,"&.".concat(Eb.selected),kb({backgroundColor:r.vars?"rgba(".concat(r.vars.palette.primary.mainChannel," / ").concat(r.vars.palette.action.selectedOpacity,")"):(0,Sb.Fq)(r.palette.primary.main,r.palette.action.selectedOpacity),"&:hover":{backgroundColor:r.vars?"rgba(".concat(r.vars.palette.primary.mainChannel," / calc(").concat(r.vars.palette.action.selectedOpacity," + ").concat(r.vars.palette.action.hoverOpacity,"))"):(0,Sb.Fq)(r.palette.primary.main,r.palette.action.selectedOpacity+r.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:r.vars?"rgba(".concat(r.vars.palette.primary.mainChannel," / ").concat(r.vars.palette.action.selectedOpacity,")"):(0,Sb.Fq)(r.palette.primary.main,r.palette.action.selectedOpacity)}}},"&.".concat(Eb.focused),{backgroundColor:r.vars?"rgba(".concat(r.vars.palette.primary.mainChannel," / calc(").concat(r.vars.palette.action.selectedOpacity," + ").concat(r.vars.palette.action.focusOpacity,"))"):(0,Sb.Fq)(r.palette.primary.main,r.palette.action.selectedOpacity+r.palette.action.focusOpacity)})),kb(t,"& .".concat(Eb.iconContainer),{marginRight:4,width:15,display:"flex",flexShrink:0,justifyContent:"center","& svg":{fontSize:18}}),kb(t,"& .".concat(Eb.label),(0,be.Z)({width:"100%",minWidth:0,paddingLeft:4,position:"relative"},r.typography.body1)),t})),Ib=(0,rr.ZP)(Ob,{name:"MuiTreeItem",slot:"Group",overridesResolver:function(e,t){return t.group}})({margin:0,padding:0,marginLeft:17}),Mb=e.forwardRef((function(t,r){var n=(0,nr.Z)({props:t,name:"MuiTreeItem"}),o=n.children,i=n.className,a=n.collapseIcon,s=n.ContentComponent,l=void 0===s?Pb:s,c=n.ContentProps,u=n.endIcon,f=n.expandIcon,p=n.disabled,d=n.icon,y=n.id,h=n.label,m=n.nodeId,b=n.onClick,v=n.onMouseDown,g=n.TransitionComponent,O=void 0===g?Ob:g,S=n.TransitionProps,w=(0,ve.Z)(n,Rb),P=e.useContext(Am),j=P.icons,E=void 0===j?{}:j,x=P.focus,C=P.isExpanded,k=P.isFocused,R=P.isSelected,_=P.isDisabled,T=P.multiSelect,I=P.disabledItemsFocusable,M=P.mapFirstChar,A=P.unMapFirstChar,D=P.registerNode,L=P.unregisterNode,N=P.treeId,z=null;null!=y?z=y:N&&m&&(z="".concat(N,"-").concat(m));var B,U,F,Z,W,H=(Z=e.useState(null),W=2,function(e){if(Array.isArray(e))return e}(Z)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,s=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(Z,W)||function(e,t){if(e){if("string"==typeof e)return Cb(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Cb(e,t):void 0}}(Z,W)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),q=H[0],G=H[1],V=e.useRef(null),$=(0,Tm.Z)(G,r),K=function(t){var r=Lm(e.useState(),2)[1],n=e.useContext(Bm),o=n.registerDescendant,i=void 0===o?Um:o,a=n.unregisterDescendant,s=void 0===a?Um:a,l=n.descendants,c=void 0===l?[]:l,u=n.parentId,f=void 0===u?null:u,p=function(e,r){for(var n=0;n<e.length;n+=1)if(e[n].element===t.element)return n;return-1}(c),d=function(t){var r=e.useRef(null);return e.useEffect((function(){r.current=t}),[t]),r.current}(c),y=c.some((function(e,t){return d&&d[t]&&d[t].element!==e.element}));return(0,Dm.Z)((function(){if(t.element)return i((0,be.Z)({},t,{index:p})),function(){s(t.element)};r({})}),[i,s,p,y,t]),{parentId:f,index:p}}(e.useMemo((function(){return{element:q,id:m}}),[m,q])),Y=K.index,X=K.parentId,J=Boolean(Array.isArray(o)?o.length:o),Q=!!C&&C(m),ee=!!k&&k(m),te=!!R&&R(m),re=!!_&&_(m),ne=(0,be.Z)({},n,{expanded:Q,focused:ee,selected:te,disabled:re}),oe=function(e){return Rm({root:["root"],content:["content"],expanded:["expanded"],selected:["selected"],focused:["focused"],disabled:["disabled"],iconContainer:["iconContainer"],label:["label"],group:["group"]},jb,e.classes)}(ne);return J&&(U=Q?a||E.defaultCollapseIcon:f||E.defaultExpandIcon),B=J?E.defaultParentIcon:u||E.defaultEndIcon,e.useEffect((function(){if(D&&L&&-1!==Y)return D({id:m,idAttribute:z,index:Y,parentId:X,expandable:J,disabled:p}),function(){L(m)}}),[D,L,X,Y,m,J,p,z]),e.useEffect((function(){if(M&&A&&h)return M(m,V.current.textContent.substring(0,1).toLowerCase()),function(){A(m)}}),[M,A,m,h]),T?F=te:te&&(F=!0),(0,Lt.jsxs)(_b,(0,be.Z)({className:(0,Wt.Z)(oe.root,i),role:"treeitem","aria-expanded":J?Q:null,"aria-selected":F,"aria-disabled":re||null,ref:$,id:z,tabIndex:-1},w,{ownerState:ne,onFocus:function(e){e.target===e.currentTarget&&("function"==typeof e.target.getRootNode?e.target.getRootNode():(0,Mm.Z)(e.target)).getElementById(N).focus({preventScroll:!0});var t=!I&&re;ee||e.currentTarget!==e.target||t||x(e,m)},children:[(0,Lt.jsx)(Tb,(0,be.Z)({as:l,ref:V,classes:{root:oe.content,expanded:oe.expanded,selected:oe.selected,focused:oe.focused,disabled:oe.disabled,iconContainer:oe.iconContainer,label:oe.label},label:h,nodeId:m,onClick:b,onMouseDown:v,icon:d,expansionIcon:U,displayIcon:B,ownerState:ne},c)),o&&(0,Lt.jsx)(Fm,{id:m,children:(0,Lt.jsx)(Ib,(0,be.Z)({as:O,unmountOnExit:!0,className:oe.group,in:Q,component:"ul",role:"group"},S,{children:o}))})]}))}));const Ab=Mb;var Db=a(26454),Lb=a(14741),Nb=["labelIcon","labelInfo","labelText"];function zb(e){return zb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zb(e)}function Bb(){return Bb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Bb.apply(this,arguments)}function Ub(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==zb(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==zb(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===zb(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Fb=(0,rr.ZP)(Ab)((function(e){e.theme;var t,r=e.muiTheme;return Ub(t={color:r.palette.mui3.secondary},"& .".concat(Eb.content),Ub({color:"inherit",borderRadius:20,paddingTop:8,paddingBottom:8,paddingRight:8,transition:"background-color 250ms cubic-bezier(0.23, 1, 0.32, 1) 0ms","&.Mui-expanded":{fontWeight:500},"&:hover":{backgroundColor:r.hoverBackgroundColor},"&.Mui-focused":{backgroundColor:"transparent"},"&.Mui-selected, &.Mui-selected.Mui-focused":{backgroundColor:r.palette.mui3["secondary-container"],color:r.palette.mui3["on-secondary-container"]}},"& .".concat(Eb.label),{fontSize:13,fontWeight:500,color:"inherit"})),Ub(t,"& .".concat(Eb.group),Ub({marginLeft:0},"& .".concat(Eb.content),{paddingLeft:16})),t}));function Zb(e){var r=e.labelIcon,n=e.labelInfo,o=e.labelText,i=function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(e,Nb);return t().createElement(Fb,Bb({label:t().createElement(xm,{sx:{display:"flex",alignItems:"center",p:.5,pr:0}},r,t().createElement("span",{style:{flex:1,fontWeight:"inherit",flexGrow:1}},o),t().createElement("span",null,n)),style:{color:"inherit"}},i))}function Wb(e){e.pydio;var r=e.muiTheme,n=e.style,o=e.model,i={},a=function e(n){return!n.collections||n.notExpandable?[]:n.collections.map((function(n){return i[n.id]=n,t().createElement(Zb,{muiTheme:r,nodeId:n.id,labelText:n.label,labelIcon:t().createElement("span",{style:{fontSize:16,marginRight:10},className:n.icon})},e(n))}))}(o.getRoot());return t().createElement(Jm,{"aria-label":"gmail",defaultExpanded:["3"],defaultCollapseIcon:t().createElement(Db.Z,null),defaultExpandIcon:t().createElement(Lb.Z,null),defaultEndIcon:t().createElement("div",{style:{width:24}}),selected:o.contextItem().id,onNodeSelect:function(e,t){i[t]&&o.setContext(i[t])},style:n},a)}Zb.propTypes={labelIcon:U().object.isRequired,labelInfo:U().string,labelText:U().string.isRequired};var Hb,qb=(Hb=function(e,t){return Hb=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},Hb(e,t)},function(e,t){function r(){this.constructor=e}Hb(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),Gb=function(){return Gb=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Gb.apply(this,arguments)},Vb={width:"100%",height:"10px",top:"0px",left:"0px",cursor:"row-resize"},$b={width:"10px",height:"100%",top:"0px",left:"0px",cursor:"col-resize"},Kb={width:"20px",height:"20px",position:"absolute"},Yb={top:Gb(Gb({},Vb),{top:"-5px"}),right:Gb(Gb({},$b),{left:void 0,right:"-5px"}),bottom:Gb(Gb({},Vb),{top:void 0,bottom:"-5px"}),left:Gb(Gb({},$b),{left:"-5px"}),topRight:Gb(Gb({},Kb),{right:"-10px",top:"-10px",cursor:"ne-resize"}),bottomRight:Gb(Gb({},Kb),{right:"-10px",bottom:"-10px",cursor:"se-resize"}),bottomLeft:Gb(Gb({},Kb),{left:"-10px",bottom:"-10px",cursor:"sw-resize"}),topLeft:Gb(Gb({},Kb),{left:"-10px",top:"-10px",cursor:"nw-resize"})},Xb=function(t){function r(){var e=null!==t&&t.apply(this,arguments)||this;return e.onMouseDown=function(t){e.props.onResizeStart(t,e.props.direction)},e.onTouchStart=function(t){e.props.onResizeStart(t,e.props.direction)},e}return qb(r,t),r.prototype.render=function(){return e.createElement("div",{className:this.props.className||"",style:Gb(Gb({position:"absolute",userSelect:"none"},Yb[this.props.direction]),this.props.replaceStyles||{}),onMouseDown:this.onMouseDown,onTouchStart:this.onTouchStart},this.props.children)},r}(e.PureComponent),Jb=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Qb=function(){return Qb=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Qb.apply(this,arguments)},ev={width:"auto",height:"auto"},tv=function(e,t,r){return Math.max(Math.min(e,r),t)},rv=function(e,t){return Math.round(e/t)*t},nv=function(e,t){return new RegExp(e,"i").test(t)},ov=function(e){return Boolean(e.touches&&e.touches.length)},iv=function(e,t,r){void 0===r&&(r=0);var n=t.reduce((function(r,n,o){return Math.abs(n-e)<Math.abs(t[r]-e)?o:r}),0),o=Math.abs(t[n]-e);return 0===r||o<r?t[n]:e},av=function(e){return"auto"===(e=e.toString())||e.endsWith("px")||e.endsWith("%")||e.endsWith("vh")||e.endsWith("vw")||e.endsWith("vmax")||e.endsWith("vmin")?e:e+"px"},sv=function(e,t,r,n){if(e&&"string"==typeof e){if(e.endsWith("px"))return Number(e.replace("px",""));if(e.endsWith("%"))return t*(Number(e.replace("%",""))/100);if(e.endsWith("vw"))return r*(Number(e.replace("vw",""))/100);if(e.endsWith("vh"))return n*(Number(e.replace("vh",""))/100)}return e},lv=["as","style","className","grid","snap","bounds","boundsByDirection","size","defaultSize","minWidth","minHeight","maxWidth","maxHeight","lockAspectRatio","lockAspectRatioExtraWidth","lockAspectRatioExtraHeight","enable","handleStyles","handleClasses","handleWrapperStyle","handleWrapperClass","children","onResizeStart","onResize","onResizeStop","handleComponent","scale","resizeRatio","snapGap"],cv="__resizable_base__",uv=function(t){function n(e){var r=t.call(this,e)||this;return r.ratio=1,r.resizable=null,r.parentLeft=0,r.parentTop=0,r.resizableLeft=0,r.resizableRight=0,r.resizableTop=0,r.resizableBottom=0,r.targetLeft=0,r.targetTop=0,r.appendBase=function(){if(!r.resizable||!r.window)return null;var e=r.parentNode;if(!e)return null;var t=r.window.document.createElement("div");return t.style.width="100%",t.style.height="100%",t.style.position="absolute",t.style.transform="scale(0, 0)",t.style.left="0",t.style.flex="0 0 100%",t.classList?t.classList.add(cv):t.className+=cv,e.appendChild(t),t},r.removeBase=function(e){var t=r.parentNode;t&&t.removeChild(e)},r.ref=function(e){e&&(r.resizable=e)},r.state={isResizing:!1,width:void 0===(r.propsSize&&r.propsSize.width)?"auto":r.propsSize&&r.propsSize.width,height:void 0===(r.propsSize&&r.propsSize.height)?"auto":r.propsSize&&r.propsSize.height,direction:"right",original:{x:0,y:0,width:0,height:0},backgroundStyle:{height:"100%",width:"100%",backgroundColor:"rgba(0,0,0,0)",cursor:"auto",opacity:0,position:"fixed",zIndex:9999,top:"0",left:"0",bottom:"0",right:"0"},flexBasis:void 0},r.onResizeStart=r.onResizeStart.bind(r),r.onMouseMove=r.onMouseMove.bind(r),r.onMouseUp=r.onMouseUp.bind(r),r}return Jb(n,t),Object.defineProperty(n.prototype,"parentNode",{get:function(){return this.resizable?this.resizable.parentNode:null},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"window",{get:function(){return this.resizable&&this.resizable.ownerDocument?this.resizable.ownerDocument.defaultView:null},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"propsSize",{get:function(){return this.props.size||this.props.defaultSize||ev},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"size",{get:function(){var e=0,t=0;if(this.resizable&&this.window){var r=this.resizable.offsetWidth,n=this.resizable.offsetHeight,o=this.resizable.style.position;"relative"!==o&&(this.resizable.style.position="relative"),e="auto"!==this.resizable.style.width?this.resizable.offsetWidth:r,t="auto"!==this.resizable.style.height?this.resizable.offsetHeight:n,this.resizable.style.position=o}return{width:e,height:t}},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"sizeStyle",{get:function(){var e=this,t=this.props.size,r=function(t){if(void 0===e.state[t]||"auto"===e.state[t])return"auto";if(e.propsSize&&e.propsSize[t]&&e.propsSize[t].toString().endsWith("%")){if(e.state[t].toString().endsWith("%"))return e.state[t].toString();var r=e.getParentSize();return Number(e.state[t].toString().replace("px",""))/r[t]*100+"%"}return av(e.state[t])};return{width:t&&void 0!==t.width&&!this.state.isResizing?av(t.width):r("width"),height:t&&void 0!==t.height&&!this.state.isResizing?av(t.height):r("height")}},enumerable:!1,configurable:!0}),n.prototype.getParentSize=function(){if(!this.parentNode)return this.window?{width:this.window.innerWidth,height:this.window.innerHeight}:{width:0,height:0};var e=this.appendBase();if(!e)return{width:0,height:0};var t=!1,r=this.parentNode.style.flexWrap;"wrap"!==r&&(t=!0,this.parentNode.style.flexWrap="wrap"),e.style.position="relative",e.style.minWidth="100%",e.style.minHeight="100%";var n={width:e.offsetWidth,height:e.offsetHeight};return t&&(this.parentNode.style.flexWrap=r),this.removeBase(e),n},n.prototype.bindEvents=function(){this.window&&(this.window.addEventListener("mouseup",this.onMouseUp),this.window.addEventListener("mousemove",this.onMouseMove),this.window.addEventListener("mouseleave",this.onMouseUp),this.window.addEventListener("touchmove",this.onMouseMove,{capture:!0,passive:!1}),this.window.addEventListener("touchend",this.onMouseUp))},n.prototype.unbindEvents=function(){this.window&&(this.window.removeEventListener("mouseup",this.onMouseUp),this.window.removeEventListener("mousemove",this.onMouseMove),this.window.removeEventListener("mouseleave",this.onMouseUp),this.window.removeEventListener("touchmove",this.onMouseMove,!0),this.window.removeEventListener("touchend",this.onMouseUp))},n.prototype.componentDidMount=function(){if(this.resizable&&this.window){var e=this.window.getComputedStyle(this.resizable);this.setState({width:this.state.width||this.size.width,height:this.state.height||this.size.height,flexBasis:"auto"!==e.flexBasis?e.flexBasis:void 0})}},n.prototype.componentWillUnmount=function(){this.window&&this.unbindEvents()},n.prototype.createSizeForCssProperty=function(e,t){var r=this.propsSize&&this.propsSize[t];return"auto"!==this.state[t]||this.state.original[t]!==e||void 0!==r&&"auto"!==r?e:"auto"},n.prototype.calculateNewMaxFromBoundary=function(e,t){var r,n,o=this.props.boundsByDirection,i=this.state.direction,a=o&&nv("left",i),s=o&&nv("top",i);if("parent"===this.props.bounds){var l=this.parentNode;l&&(r=a?this.resizableRight-this.parentLeft:l.offsetWidth+(this.parentLeft-this.resizableLeft),n=s?this.resizableBottom-this.parentTop:l.offsetHeight+(this.parentTop-this.resizableTop))}else"window"===this.props.bounds?this.window&&(r=a?this.resizableRight:this.window.innerWidth-this.resizableLeft,n=s?this.resizableBottom:this.window.innerHeight-this.resizableTop):this.props.bounds&&(r=a?this.resizableRight-this.targetLeft:this.props.bounds.offsetWidth+(this.targetLeft-this.resizableLeft),n=s?this.resizableBottom-this.targetTop:this.props.bounds.offsetHeight+(this.targetTop-this.resizableTop));return r&&Number.isFinite(r)&&(e=e&&e<r?e:r),n&&Number.isFinite(n)&&(t=t&&t<n?t:n),{maxWidth:e,maxHeight:t}},n.prototype.calculateNewSizeFromDirection=function(e,t){var r=this.props.scale||1,n=this.props.resizeRatio||1,o=this.state,i=o.direction,a=o.original,s=this.props,l=s.lockAspectRatio,c=s.lockAspectRatioExtraHeight,u=s.lockAspectRatioExtraWidth,f=a.width,p=a.height,d=c||0,y=u||0;return nv("right",i)&&(f=a.width+(e-a.x)*n/r,l&&(p=(f-y)/this.ratio+d)),nv("left",i)&&(f=a.width-(e-a.x)*n/r,l&&(p=(f-y)/this.ratio+d)),nv("bottom",i)&&(p=a.height+(t-a.y)*n/r,l&&(f=(p-d)*this.ratio+y)),nv("top",i)&&(p=a.height-(t-a.y)*n/r,l&&(f=(p-d)*this.ratio+y)),{newWidth:f,newHeight:p}},n.prototype.calculateNewSizeFromAspectRatio=function(e,t,r,n){var o=this.props,i=o.lockAspectRatio,a=o.lockAspectRatioExtraHeight,s=o.lockAspectRatioExtraWidth,l=void 0===n.width?10:n.width,c=void 0===r.width||r.width<0?e:r.width,u=void 0===n.height?10:n.height,f=void 0===r.height||r.height<0?t:r.height,p=a||0,d=s||0;if(i){var y=(u-p)*this.ratio+d,h=(f-p)*this.ratio+d,m=(l-d)/this.ratio+p,b=(c-d)/this.ratio+p,v=Math.max(l,y),g=Math.min(c,h),O=Math.max(u,m),S=Math.min(f,b);e=tv(e,v,g),t=tv(t,O,S)}else e=tv(e,l,c),t=tv(t,u,f);return{newWidth:e,newHeight:t}},n.prototype.setBoundingClientRect=function(){if("parent"===this.props.bounds){var e=this.parentNode;if(e){var t=e.getBoundingClientRect();this.parentLeft=t.left,this.parentTop=t.top}}if(this.props.bounds&&"string"!=typeof this.props.bounds){var r=this.props.bounds.getBoundingClientRect();this.targetLeft=r.left,this.targetTop=r.top}if(this.resizable){var n=this.resizable.getBoundingClientRect(),o=n.left,i=n.top,a=n.right,s=n.bottom;this.resizableLeft=o,this.resizableRight=a,this.resizableTop=i,this.resizableBottom=s}},n.prototype.onResizeStart=function(e,t){if(this.resizable&&this.window){var r,n=0,o=0;if(e.nativeEvent&&function(e){return Boolean((e.clientX||0===e.clientX)&&(e.clientY||0===e.clientY))}(e.nativeEvent)?(n=e.nativeEvent.clientX,o=e.nativeEvent.clientY):e.nativeEvent&&ov(e.nativeEvent)&&(n=e.nativeEvent.touches[0].clientX,o=e.nativeEvent.touches[0].clientY),this.props.onResizeStart&&this.resizable&&!1===this.props.onResizeStart(e,t,this.resizable))return;this.props.size&&(void 0!==this.props.size.height&&this.props.size.height!==this.state.height&&this.setState({height:this.props.size.height}),void 0!==this.props.size.width&&this.props.size.width!==this.state.width&&this.setState({width:this.props.size.width})),this.ratio="number"==typeof this.props.lockAspectRatio?this.props.lockAspectRatio:this.size.width/this.size.height;var i=this.window.getComputedStyle(this.resizable);if("auto"!==i.flexBasis){var a=this.parentNode;if(a){var s=this.window.getComputedStyle(a).flexDirection;this.flexDir=s.startsWith("row")?"row":"column",r=i.flexBasis}}this.setBoundingClientRect(),this.bindEvents();var l={original:{x:n,y:o,width:this.size.width,height:this.size.height},isResizing:!0,backgroundStyle:Qb(Qb({},this.state.backgroundStyle),{cursor:this.window.getComputedStyle(e.target).cursor||"auto"}),direction:t,flexBasis:r};this.setState(l)}},n.prototype.onMouseMove=function(e){var t=this;if(this.state.isResizing&&this.resizable&&this.window){if(this.window.TouchEvent&&ov(e))try{e.preventDefault(),e.stopPropagation()}catch(e){}var n=this.props,o=n.maxWidth,i=n.maxHeight,a=n.minWidth,s=n.minHeight,l=ov(e)?e.touches[0].clientX:e.clientX,c=ov(e)?e.touches[0].clientY:e.clientY,u=this.state,f=u.direction,p=u.original,d=u.width,y=u.height,h=this.getParentSize(),m=function(e,t,r,n,o,i,a){return n=sv(n,e.width,t,r),o=sv(o,e.height,t,r),i=sv(i,e.width,t,r),a=sv(a,e.height,t,r),{maxWidth:void 0===n?void 0:Number(n),maxHeight:void 0===o?void 0:Number(o),minWidth:void 0===i?void 0:Number(i),minHeight:void 0===a?void 0:Number(a)}}(h,this.window.innerWidth,this.window.innerHeight,o,i,a,s);o=m.maxWidth,i=m.maxHeight,a=m.minWidth,s=m.minHeight;var b=this.calculateNewSizeFromDirection(l,c),v=b.newHeight,g=b.newWidth,O=this.calculateNewMaxFromBoundary(o,i);this.props.snap&&this.props.snap.x&&(g=iv(g,this.props.snap.x,this.props.snapGap)),this.props.snap&&this.props.snap.y&&(v=iv(v,this.props.snap.y,this.props.snapGap));var S=this.calculateNewSizeFromAspectRatio(g,v,{width:O.maxWidth,height:O.maxHeight},{width:a,height:s});if(g=S.newWidth,v=S.newHeight,this.props.grid){var w=rv(g,this.props.grid[0]),P=rv(v,this.props.grid[1]),j=this.props.snapGap||0;g=0===j||Math.abs(w-g)<=j?w:g,v=0===j||Math.abs(P-v)<=j?P:v}var E={width:g-p.width,height:v-p.height};d&&"string"==typeof d&&(d.endsWith("%")?g=g/h.width*100+"%":d.endsWith("vw")?g=g/this.window.innerWidth*100+"vw":d.endsWith("vh")&&(g=g/this.window.innerHeight*100+"vh")),y&&"string"==typeof y&&(y.endsWith("%")?v=v/h.height*100+"%":y.endsWith("vw")?v=v/this.window.innerWidth*100+"vw":y.endsWith("vh")&&(v=v/this.window.innerHeight*100+"vh"));var x={width:this.createSizeForCssProperty(g,"width"),height:this.createSizeForCssProperty(v,"height")};"row"===this.flexDir?x.flexBasis=x.width:"column"===this.flexDir&&(x.flexBasis=x.height),(0,r.flushSync)((function(){t.setState(x)})),this.props.onResize&&this.props.onResize(e,f,this.resizable,E)}},n.prototype.onMouseUp=function(e){var t=this.state,r=t.isResizing,n=t.direction,o=t.original;if(r&&this.resizable){var i={width:this.size.width-o.width,height:this.size.height-o.height};this.props.onResizeStop&&this.props.onResizeStop(e,n,this.resizable,i),this.props.size&&this.setState(this.props.size),this.unbindEvents(),this.setState({isResizing:!1,backgroundStyle:Qb(Qb({},this.state.backgroundStyle),{cursor:"auto"})})}},n.prototype.updateSize=function(e){this.setState({width:e.width,height:e.height})},n.prototype.renderResizer=function(){var t=this,r=this.props,n=r.enable,o=r.handleStyles,i=r.handleClasses,a=r.handleWrapperStyle,s=r.handleWrapperClass,l=r.handleComponent;if(!n)return null;var c=Object.keys(n).map((function(r){return!1!==n[r]?e.createElement(Xb,{key:r,direction:r,onResizeStart:t.onResizeStart,replaceStyles:o&&o[r],className:i&&i[r]},l&&l[r]?l[r]:null):null}));return e.createElement("div",{className:s,style:a},c)},n.prototype.render=function(){var t=this,r=Object.keys(this.props).reduce((function(e,r){return-1!==lv.indexOf(r)||(e[r]=t.props[r]),e}),{}),n=Qb(Qb(Qb({position:"relative",userSelect:this.state.isResizing?"none":"auto"},this.props.style),this.sizeStyle),{maxWidth:this.props.maxWidth,maxHeight:this.props.maxHeight,minWidth:this.props.minWidth,minHeight:this.props.minHeight,boxSizing:"border-box",flexShrink:0});this.state.flexBasis&&(n.flexBasis=this.state.flexBasis);var o=this.props.as||"div";return e.createElement(o,Qb({ref:this.ref,style:n,className:this.props.className},r),this.state.isResizing&&e.createElement("div",{style:this.state.backgroundStyle}),this.props.children,this.renderResizer())},n.defaultProps={as:"div",onResizeStart:function(){},onResize:function(){},onResizeStop:function(){},enable:{top:!0,right:!0,bottom:!0,left:!0,topRight:!0,bottomRight:!0,bottomLeft:!0,topLeft:!0},style:{},grid:[1,1],lockAspectRatio:!1,lockAspectRatioExtraWidth:0,lockAspectRatioExtraHeight:0,scale:1,resizeRatio:1,snapGap:0},n}(e.PureComponent);const fv={list:{},listItem:{style:{fontSize:14},innerDivStyle:{padding:"14px 56px 14px 62px"}},avatar:{avatarSize:26,style:{top:9}},iconMenu:{style:{top:2,right:8}},iconButton:{style:{width:26,height:26,padding:5,right:8},iconStyle:{color:"rgba(0,0,0,.33)",fontSize:20}},divider:{style:{marginLeft:62}},className:"medium"};function pv(e){return pv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pv(e)}function dv(){return dv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},dv.apply(this,arguments)}function yv(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function hv(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?yv(Object(r),!0).forEach((function(t){gv(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yv(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function mv(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Ov(n.key),n)}}function bv(e,t){return bv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},bv(e,t)}function vv(e){return vv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},vv(e)}function gv(e,t,r){return(t=Ov(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ov(e){var t=function(e,t){if("object"!==pv(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==pv(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===pv(t)?t:String(t)}var Sv=Z().requireLib("boot").PydioContextConsumer,wv=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&bv(e,t)}(s,e);var r,n,o,i,a=(o=s,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=vv(o);if(i){var r=vv(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===pv(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function s(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),t=a.call(this,e);var r=e.pydio,n=e.mode,o=e.usersOnly,i=e.usersFrom,l=e.teamsOnly,c=e.onItemSelected,u=new Gu(r,n,o,i,l,c);return u.initTree(),u.observe("update",(function(){t.forceUpdate()})),t.state={model:u},t}return r=s,(n=[{key:"componentDidMount",value:function(){this.state.model.reloadContext()}},{key:"render",value:function(){var e=this,r=this.props,n=r.getMessage,o=r.pydio,i=r.style,a=r.muiTheme,s=this.state,l=s.model,c=s.rightPaneSize,u=void 0===c?256:c,f=l.rightItem(),p=l.contextItem(),d={width:"100%",height:"100%",overflowY:"auto",overflowX:"hidden"},y=hv({enableSearch:!0,searchLabel:n(583,""),setSearchTerm:function(e){return l.setGlobalSearch(!!e,e)},setSearchMode:function(e){return l.setGlobalSearch(e,"")}},l.getSearchStatus()),h=a.palette.mui3,m="xs"===a.breakpoint||"s"===a.breakpoint,b=a.darkMode?"surface":"surface-variant",v=a.darkMode?"surface-variant":"surface";return t().createElement("div",{style:hv({display:"flex",height:"100%",overflow:"hidden",flexDirection:"column",background:h[b]},i)},t().createElement("div",{style:{height:72,display:"flex",flexShrink:0,alignItems:"center"}},t().createElement(wy,dv({pydio:o,model:l,mode:"book",getMessage:n,style:{width:"100%"}},y))),t().createElement("div",{style:{display:"flex",flex:1,overflow:"hidden",margin:12,marginTop:0}},!m&&t().createElement(uv,{defaultSize:{width:256},enable:{right:!0},style:{margin:0}},t().createElement(Wb,{pydio:o,model:l,listStyles:{},muiTheme:a,style:hv(hv({},d),{},{paddingRight:8,color:h["on-surface-variant"]})})),t().createElement(lf,dv({pydio:o,model:l,item:p,mode:"book",showAllParents:m,onItemClicked:function(e){return l.leafItemClicked(e)},onFolderClicked:function(e,t){return l.setContext(e,t)},onClick:function(){return l.clearRightItem()},loading:l.loading,actionsForCell:this.props.actionsForCell,usersOnly:this.props.usersOnly,listStyles:fv,style:{borderRadius:a.borderRadius,backgroundColor:h[v]}},y)),t().createElement(uv,{size:{width:f?u:0},onResizeStop:function(t,r,n,o){e.setState({rightPaneSize:u+o.width})},enable:{left:!!f},style:{marginLeft:f?12:0,transition:"width 450ms cubic-bezier(0.23, 1, 0.32, 1) 0ms"}},t().createElement(_d,{pydio:o,model:l,zDepth:0,style:hv(hv({},d),{},{background:h[v],borderRadius:a.borderRadius})}))),t().createElement(uy,{pydio:o,model:l,onCancel:function(){l.clearCreateItem()},afterSubmit:function(){l.clearCreateItem(),l.reloadContext()}}),t().createElement("style",{type:"text/css",dangerouslySetInnerHTML:{__html:(this.props.muiTheme.palette,"\n.folder-avatar::before {\n    content: '\\F24B';\n    font-family: 'Material Design Icons';\n    position: absolute;\n    color: rgb(54, 113, 143);\n    font-size: 40px;\n    top: 11px;\n    left: -2px;\n}\n.compact .folder-avatar::before {\n    font-size: 30px;\n    top: 5px;\n}\n\n.medium .folder-avatar::before {\n    font-size: 26px;\n    top: 5px;\n}\n\n.folder-avatar span.mdi {\n    font-size: 20px !important;\n    color: #fff !important;\n    height: 12.8px !important;\n    margin: 7.3px !important;\n}\n.compact .folder-avatar span.mdi {\n    font-size: 13px !important;\n}\n.medium .folder-avatar span.mdi {\n    font-size: 13px !important;\n}\n.folder-avatar {\n    background-color: transparent !important;\n}\n.medium .folder-avatar {\n    left: 18px;\n}\n")}}))}}])&&mv(r.prototype,n),Object.defineProperty(r,"prototype",{writable:!1}),s}(t().Component);gv(wv,"propTypes",{pydio:U().instanceOf(Z()),onItemSelected:U().func,usersOnly:U().bool,usersFrom:U().oneOf(["local","remote","any"]),muiTheme:U().object}),gv(wv,"defaultProps",{mode:"book",usersOnly:!1,usersFrom:"any",teamsOnly:!1,disableSearch:!1}),wv=Sv(wv),wv=(0,K.muiThemeable)()(wv);const Pv=require("pydio/http/websocket");var jv=a.n(Pv),Ev=a(12590),xv=a.n(Ev);function Cv(e){return Cv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cv(e)}function kv(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Rv(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Mv(n.key),n)}}function _v(e,t){return _v=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},_v(e,t)}function Tv(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Iv(e){return Iv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Iv(e)}function Mv(e){var t=function(e,t){if("object"!==Cv(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==Cv(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===Cv(t)?t:String(t)}var Av=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_v(e,t)}(s,e);var t,r,n,o,i,a=(o=s,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Iv(o);if(i){var r=Iv(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===Cv(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Tv(e)}(this,e)});function s(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),function(e,t,r){(t=Mv(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(Tv(t=a.call(this,e)),"subscriptions",void 0),t.currentRepo=e.repositoryId,t.subscriptions={},t.rooms={},t.roomInfos={},t.open(),t}return t=s,r=[{key:"getIdentifier",value:function(e,t){return e+":"+t}},{key:"getRoomInfoFromIdentifier",value:function(e){var t,r,n=(t=e.split(":"),r=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,s=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(t,r)||function(e,t){if(e){if("string"==typeof e)return kv(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?kv(e,t):void 0}}(t,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}());return{roomType:n[0],objectId:n[1]}}},{key:"onRoomMessage",value:function(e){if(e){var t=e.Room,r=this.getIdentifier(t.Type,t.RoomTypeObject);this.roomInfos[r]=t}}},{key:"joinRoom",value:function(e,t,r,n){var o=this,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,a=this.getIdentifier(e,t);if(this.subscriptions[a]){var s=!1;return this.subscriptions[a].map((function(e){e.messageHandler===r&&(s=!0)})),s||this.subscriptions[a].push({messageHandler:r,roomUpdateHandler:n}),this.roomInfos[a]}if(this.connecting){if(i<3)return setTimeout((function(){o.joinRoom(e,t,r,n,i+1)}),1500),null}else if(!this.connOpen)return this.open(),setTimeout((function(){o.joinRoom(e,t,r,n,i+1)}),1500),null;this.subscriptions[e+":"+t]=[{messageHandler:r,roomUpdateHandler:n}];var l={"@type":"JOIN",Room:{Type:e,RoomTypeObject:t}};return this.ws.send(JSON.stringify(l)),this.roomInfos[a]}},{key:"loadHistory",value:function(e,t){var r=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:40,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;if(this.connecting&&i<3)setTimeout((function(){r.loadHistory(e,t,n,o,i+1)}),1500);else{var a={"@type":"HISTORY",Room:{Type:e,RoomTypeObject:t},Message:{Message:JSON.stringify({Offset:n,Limit:o})}};this.ws.send(JSON.stringify(a))}}},{key:"leaveRoom",value:function(e,t){var r=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,o=!1,i=this.getIdentifier(e,t);if(this.subscriptions[i]&&(n?(this.subscriptions[i]=this.subscriptions[i].filter((function(e){return e.messageHandler!==n})),this.subscriptions[i].length?o=!0:delete this.subscriptions[i]):delete this.subscriptions[i]),!o&&(Object.keys(this.rooms).map((function(e){r.rooms[e]===i&&delete r.rooms[e]})),this.connOpen)){var a={"@type":"LEAVE",Room:{Type:e,RoomTypeObject:t}};this.ws.send(JSON.stringify(a))}}},{key:"handleMessageReceived",value:function(e){var t=JSON.parse(e.data);if("ROOM_UPDATE"===t["@type"]){var r=this.getIdentifier(t.Room.Type,t.Room.RoomTypeObject);this.subscriptions[r]&&(this.rooms[t.Room.Uuid]||(this.rooms[t.Room.Uuid]=r),this.onRoomMessage(t),this.subscriptions[r].map((function(e){if(e.roomUpdateHandler)try{e.roomUpdateHandler(t)}catch(e){}})))}else{var n,o=!1;if("DELETE_MSG"===t["@type"]?(o=!0,n=t.Message):n=t,n.RoomUuid&&this.rooms[n.RoomUuid]){var i=this.subscriptions[this.rooms[n.RoomUuid]],a=i.filter((function(e){return e.roomUpdateHandler}));a.length&&(i=a),i.map((function(e){try{e.messageHandler(n,o)}catch(e){}}))}}}},{key:"send",value:function(e){this.ws.send(e)}},{key:"open",value:function(){var e=this;if(this.close(),this.currentRepo){var t=this.pydio.Parameters.get("ENDPOINT_WEBSOCKET").replace("/event","/chat");t&&"/"===t[0]&&(t=t.substr(1));var r=this.pydio.getFrontendUrl(),n="https:"===r.protocol?"wss":"ws",o="".concat(n,"://").concat(r.host,"/")+t;this.ws=new(xv())(o,[],{maxReconnectionDelay:6e4,reconnectionDelayGrowFactor:1.6,maxRetries:10}),this.connecting=!0,this.ws.addEventListener("open",(function(){jv().subscribeJWT(e.ws).then((function(){e.connecting=!1,e.connOpen=!0})).catch((function(){e.connecting=!1,e.connOpen=!1}))})),this.ws.addEventListener("message",(function(t){e.handleMessageReceived(t)})),this.ws.addEventListener("close",(function(t){e.connOpen=!1,e.connecting=!1,jv().logClose(t)})),this.ws.addEventListener("error",(function(e){"EHOSTDOWN"===e.code&&console.error("WebSocket maxRetries reached, host is down!")})),this.hbInterval=setInterval((function(){return e.heartbeat()}),15e3),window.onbeforeunload=function(){e.close()}}}},{key:"close",value:function(){var e=this;null!==this.ws&&(Object.keys(this.subscriptions).map((function(t){var r=e.getRoomInfoFromIdentifier(t),n=r.roomType,o=r.objectId;e.leaveRoom(n,o)})),this.ws.close(1e3,"Closing",{keepClosed:!0}),this.hbInterval&&clearInterval(this.hbInterval))}},{key:"heartbeat",value:function(){var e=this;Object.keys(this.subscriptions).map((function(t){var r=e.getRoomInfoFromIdentifier(t),n={"@type":"JOIN",Room:{Type:r.roomType,RoomTypeObject:r.objectId},Message:{Message:"PING"}};try{e.ws.send(JSON.stringify(n))}catch(e){}}))}}],n=[{key:"getInstance",value:function(e){return void 0!==s._instance||(s._instance=new s(e)),s._instance}}],r&&Rv(t.prototype,r),n&&Rv(t,n),Object.defineProperty(t,"prototype",{writable:!1}),s}(jv());const Dv=require("pydio/util/dom");var Lv=a.n(Dv);const Nv=require("react-markdown");var zv=a.n(Nv);function Bv(e){return Bv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bv(e)}function Uv(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Fv(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Uv(Object(r),!0).forEach((function(t){Zv(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Uv(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Zv(e,t,r){return(t=Hv(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Wv(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Hv(n.key),n)}}function Hv(e){var t=function(e,t){if("object"!==Bv(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==Bv(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===Bv(t)?t:String(t)}function qv(e,t){return qv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},qv(e,t)}function Gv(e){return Gv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Gv(e)}var Vv=Z().requireLib("boot"),$v=Vv.PydioContextConsumer,Kv=Vv.moment,Yv=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&qv(e,t)}(s,e);var r,n,o,i,a=(o=s,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Gv(o);if(i){var r=Gv(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===Bv(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function s(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),(t=a.call(this,e)).state={hover:!1},t}return r=s,n=[{key:"render",value:function(){var e=this,r=this.props,n=r.message,o=r.pydio,i=r.hideDate,a=r.sameAuthor,s=r.onDeleteMessage,l=r.moreLoader,c=Kv(1e3*parseFloat(n.Timestamp)),u={date:{opacity:.53,textAlign:"center",display:"flex",margin:"5px 0"},dateLine:{flex:1,margin:"10px 20px",borderBottom:"1px solid",opacity:.3},loader:{paddingTop:8,opacity:.8,textAlign:"center"},comment:{padding:"6px 16px",display:"flex",alignItems:"flex-start"},commentContent:{flex:"1",backgroundColor:"transparent",position:"relative",padding:"5px 10px",userSelect:"text",webkitUserSelect:"text"},commentTitle:{fontSize:15,fontWeight:500,padding:"2px 0px 6px"},commentDeleteBox:{position:"absolute",top:5,right:0,cursor:"pointer",fontSize:16,opacity:0,transition:Lv().getBeziersTransition()}},f=!1;o.user.id===n.Author&&(f=!0);var p,d=t().createElement("div",{style:a?{visibility:"hidden"}:{paddingTop:2}},t().createElement(Kf,{avatarSize:30,pydio:o,userId:n.Author,displayLabel:!1,richOnHover:!1,avatarLetters:!0})),y=Fv({},u.commentContent);f&&(this.state.hover&&(u.commentDeleteBox.opacity=1),p=t().createElement("span",{onClick:s,className:"mdi mdi-close",style:u.commentDeleteBox,title:o.MessageHash[7]}));var h=t().createElement("div",{style:y},p," ",t().createElement(zv(),{className:"chat-message-md",source:n.Message}));a||(h=t().createElement("div",{style:y},t().createElement("div",null,t().createElement(Kf,{labelStyle:u.commentTitle,pydio:o,displayLabel:!0,displayAvatar:!1,userId:n.Author})),t().createElement("div",null,p,t().createElement(zv(),{className:"chat-message-md",source:n.Message}))));var m={},b=Fv({},u.comment);return a&&(m=Fv(Fv({},m),{},{marginTop:-16})),this.state.hover&&(b=Fv(Fv({},b),{},{backgroundColor:"rgba(0,0,0,.01)"})),t().createElement("div",{style:m,onMouseOver:function(){e.setState({hover:!0})},onMouseOut:function(){e.setState({hover:!1})},onContextMenu:function(e){e.stopPropagation()}},l&&t().createElement("div",{style:u.loader},t().createElement(g.FlatButton,{primary:!0,label:Z().getMessages()["chat.load-older"],onClick:l})),!i&&t().createElement("div",{style:u.date},t().createElement("span",{style:u.dateLine}),t().createElement("span",{className:"date-from"},c.fromNow()),t().createElement("span",{style:u.dateLine})),t().createElement("div",{style:b},d," ",h))}}],n&&Wv(r.prototype,n),Object.defineProperty(r,"prototype",{writable:!1}),s}(t().Component);function Xv(e){return Xv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xv(e)}function Jv(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Qv(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Jv(Object(r),!0).forEach((function(t){eg(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Jv(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function eg(e,t,r){return(t=rg(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tg(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,rg(n.key),n)}}function rg(e){var t=function(e,t){if("object"!==Xv(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==Xv(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===Xv(t)?t:String(t)}function ng(e,t){return ng=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},ng(e,t)}function og(e){return og=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},og(e)}Yv.PropTypes={message:U().object,hideDate:U().bool,sameAuthor:U().bool},Yv=$v(Yv);var ig=function(r){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ng(e,t)}(l,r);var n,o,i,a,s=(i=l,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=og(i);if(a){var r=og(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===Xv(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function l(t){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),(r=s.call(this,t)).container=(0,e.createRef)(),r}return n=l,o=[{key:"render",value:function(){var e=this,r=this.props,n=r.ACLs,o=r.roomUsers,i=r.pydio,a=r.style,s=r.muiTheme,l=(this.state||{}).hover,c=void 0!==l&&l,u={container:Qv({padding:16,fontWeight:500,height:48,transition:Lv().getBeziersTransition(),overflowY:"auto"},a),user:{margin:5,whiteSpace:"nowrap",padding:"4px 10px",backgroundColor:s.darkMode?"rgba(255, 255, 255, .23)":"rgba(0, 0, 0, .1)",borderRadius:6},online:{color:"#4CAF50",marginLeft:5},offline:{marginLeft:5}},f=Object.keys(n).map((function(e){var t,r=n[e],a=pu().extractLabel(i,r);return r.User&&(t=o&&o.indexOf(r.User.Login)>-1),{online:t,label:a}}));f.sort((function(e,t){return e.online?-1:t.online?1:0}));var p=Qv({},u.container);return this.container.current&&(c?p=Qv(Qv({},p),{},{height:this.container.current.scrollHeight}):this.container.current.scrollHeight>60&&(p=Qv(Qv({},p),{},{height:56}))),t().createElement("div",{ref:this.container,onMouseEnter:function(){return e.setState({hover:!0})},onMouseLeave:function(){return e.setState({hover:!1})},style:p},f.map((function(e){var r=e.label,n=e.online;return t().createElement("span",{style:u.user},r,void 0!==n&&t().createElement("span",{className:"mdi mdi-checkbox-blank-circle"+(n?"":"-outline"),style:n?u.online:u.offline}),void 0===n&&t().createElement("span",{className:"mdi mdi-account-multiple-outline",style:u.offline}))})))}}],o&&tg(n.prototype,o),Object.defineProperty(n,"prototype",{writable:!1}),l}(t().Component);function ag(e){return ag="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ag(e)}function sg(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function lg(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?sg(Object(r),!0).forEach((function(t){cg(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):sg(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function cg(e,t,r){return(t=dg(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ug(){return ug=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ug.apply(this,arguments)}function fg(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function pg(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,dg(n.key),n)}}function dg(e){var t=function(e,t){if("object"!==ag(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==ag(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===ag(t)?t:String(t)}function yg(e,t){return yg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},yg(e,t)}function hg(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function mg(e){return mg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},mg(e)}var bg=Z().requireLib("boot"),vg=bg.PydioContextConsumer,gg=bg.moment,Og=function(r){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&yg(e,t)}(l,r);var n,o,i,a,s=(i=l,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=mg(i);if(a){var r=mg(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===ag(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return hg(e)}(this,e)});function l(t){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),(r=s.call(this,t)).client=null,r.state={messages:[],room:null,value:""},r._newMessageListener=r.onNewMessage.bind(hg(r)),r.commentPane=(0,e.createRef)(),r}return n=l,o=[{key:"componentDidMount",value:function(){this.join(this.props.roomType,this.props.roomObjectId)}},{key:"componentWillUnmount",value:function(){this.stop(),this.videoRoomConnected&&this.videoRoomConnected.disconnect()}},{key:"componentDidUpdate",value:function(e,t){if(t.messages.length<=this.state.messages.length){var r=t.messages.length>0?parseFloat(t.messages[t.messages.length-1].Timestamp):0;(this.state.messages.length>0?parseFloat(this.state.messages[this.state.messages.length-1].Timestamp):0)>r&&this.commentPane.current&&(this.commentPane.current.scrollTop=1e5)}}},{key:"componentWillReceiveProps",value:function(e){e.pydio;var t=e.roomType,r=e.roomObjectId;t===this.props.roomType&&r===this.props.roomObjectId||(this.client&&this.client.leaveRoom(this.props.roomType,this.props.roomObjectId,this._newMessageListener),this.setState({messages:[],room:null,value:""}),t&&r&&this.join(t,r))}},{key:"onRoomMessage",value:function(e){if(!this.state.firstUpdateReceived){var t=this.props,r=t.roomType,n=t.roomObjectId;this.client.loadHistory(r,n,0,40),this.setState({firstUpdateReceived:!0})}e&&this.setState({room:e.Room})}},{key:"onNewMessage",value:function(e){var t,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e){if(this.setState({firstUpdateReceived:!0}),"VIDEO_CALL"===e["@type"])return console.log("Video Enabled!",e),void this.setState({videoData:e});if(r)this.setState({messages:this.state.messages.filter((function(t){return t.Uuid!==e.Uuid}))});else{var n=[].concat((t=this.state.messages.filter((function(t){return t.Uuid!==e.Uuid})),function(e){if(Array.isArray(e))return fg(e)}(t)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(t)||function(e,t){if(e){if("string"==typeof e)return fg(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?fg(e,t):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),[e]).filter((function(e){return!!e.Message}));n.sort((function(e,t){return e.Timestamp===t.Timestamp?0:parseFloat(e.Timestamp)>parseFloat(t.Timestamp)?1:-1})),this.setState({messages:n})}}}},{key:"join",value:function(e,t){var r=this;if(t){var n=this.props.pydio;this.client=Av.getInstance(n),this.setState({firstUpdateReceived:!1},(function(){var n=r.client.joinRoom(e,t,r._newMessageListener,r.onRoomMessage.bind(r));null!==n&&r.setState({room:n})})),this.client.loadHistory(e,t,0,40)}}},{key:"more",value:function(){var e=this.props,t=e.roomType,r=e.roomObjectId,n=this.state.messages;this.client&&this.client.loadHistory(t,r,n.length-1,40)}},{key:"stop",value:function(){var e=this.props,t=e.roomType,r=e.roomObjectId;this.client&&this.client.leaveRoom(t,r,this._newMessageListener)}},{key:"postMessage",value:function(){if(this.state.value){var e=this.state.room;if(e&&e.Uuid){var t={"@type":"POST",Message:{RoomUuid:e.Uuid,Message:this.state.value}};this.client.send(JSON.stringify(t)),this.setState({value:""})}else console.error("Cannot find cell info")}}},{key:"deleteMessage",value:function(e){var t=this.state.room;if(t&&t.Uuid){var r={"@type":"DELETE_MSG",Message:e};this.client.send(JSON.stringify(r))}else console.error("Cannot find cell info")}},{key:"keyDown",value:function(e){var t=this.state.value;if("Enter"===e.key)if(e.metaKey||e.ctrlKey){var r,n,o=e.currentTarget;o.selectionEnd<t.length?(r=t.substr(0,o.selectionEnd)+"\n"+t.substr(o.selectionEnd),n=o.selectionEnd+1):n=(r=t+"\n").length,this.setState({value:r},(function(){o.setSelectionRange(n,n)}))}else e.preventDefault(),this.postMessage()}},{key:"render",value:function(){var e,r,n,o,i,a=this,s=this.props,l=s.style,c=s.msgContainerStyle,u=s.chatUsersStyle,f=s.fieldContainerStyle,p=s.fieldHint,d=s.textFieldProps,y=s.emptyStateProps,h=s.pydio,m=s.pushMessagesToBottom,b=s.computePresenceFromACLs,v=s.readonly,O=s.muiTheme,S=s.popoverPanel,w=this.state,P=w.messages,j=w.room,E=w.videoData,x=w.joinVideo,C=[],k=P.length>=40;P.forEach((function(n){var o=gg(1e3*parseFloat(n.Timestamp)).fromNow(),i=e&&e===o,s=r&&r===n.Author&&i;C.push(t().createElement(Yv,{key:n.Uuid,message:n,hideDate:i,sameAuthor:s,onDeleteMessage:function(){a.deleteMessage(n)},moreLoader:k?function(){a.more()}:null,muiTheme:O})),k=!1,e=o,r=n.Author})),m&&(n={display:"flex",flexDirection:"column"},C&&C.length&&(o=t().createElement("span",{style:{flex:1}}))),!y||C&&C.length||(i=t().createElement(co,ug({pydio:h},y)));var R=!j,_={color:X()(O.palette.mui3["on-surface-variant"]).fade(.5).toString(),whiteSpace:"nowrap"};d&&d.hintStyle&&(_=lg(lg({},_),d.hintStyle)),R&&(_=lg(lg({},_),{},{fontStyle:"italic"}));var T=lg({backgroundColor:O.palette.mui3[S?"surface-variant":"surface"]||"white",position:"relative",paddingLeft:16,paddingRight:16},f);return t().createElement("div",{style:lg({padding:0},l)},void 0!==b&&t().createElement(ig,{pydio:h,ACLs:b,roomUsers:j?j.Users:[],style:u,muiTheme:O}),t().createElement("div",{ref:this.commentPane,className:"comments_feed",style:lg(lg({maxHeight:300,overflowY:"auto"},n),c)},o,C,i),t().createElement("div",{style:T},t().createElement(g.TextField,ug({hintText:R?h.MessageHash[466]:p,value:this.state.value,onChange:function(e,t){a.setState({value:t})},multiLine:!0,onKeyDown:this.keyDown.bind(this),fullWidth:!0,underlineShow:!1,disabled:v||R},d,{hintStyle:_})),E&&t().createElement("div",{style:{position:"absolute",top:0,right:0}},t().createElement(g.IconButton,{iconStyle:{color:x?"#F44336":"#4CAF4F"},iconClassName:"mdi mdi-video"+(x?"-off":""),onClick:function(){return a.setState({joinVideo:!x})}}))),!1,t().createElement("style",{type:"text/css",dangerouslySetInnerHTML:{__html:"\n.chat-message-md *, .comments_feed .user-label, .comments_feed .date-from{\n    user-select: text;\n}\n.chat-message-md p{\n    padding-top: 0; \n    margin-bottom: 0;\n}\n.chat-message-md strong {\n    font-weight: 500;\n}\n.chat-message-md a {\n    text-decoration: underline;\n    color:#2196f3;\n}\n.chat-message-md ul {\n    padding-left: 20px;\n}\n"}}))}}],o&&pg(n.prototype,o),Object.defineProperty(n,"prototype",{writable:!1}),l}(t().Component);function Sg(e){return Sg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sg(e)}function wg(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Pg(n.key),n)}}function Pg(e){var t=function(e,t){if("object"!==Sg(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==Sg(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===Sg(t)?t:String(t)}function jg(e,t){return jg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},jg(e,t)}function Eg(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function xg(e){return xg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},xg(e)}Og.PropTypes={roomType:U().string,roomObjectId:U().string},Og=vg((0,K.muiThemeable)()(Og));var Cg=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&jg(e,t)}(s,e);var r,n,o,i,a=(o=s,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=xg(o);if(i){var r=xg(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===Sg(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Eg(e)}(this,e)});function s(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),(t=a.call(this,e)).state={newMessages:0},t._messageListener=t.onMessage.bind(Eg(t)),t}return r=s,n=[{key:"onMessage",value:function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1]?this.setState({newMessages:Math.max(0,this.state.newMessages-1)}):this.setState({newMessages:this.state.newMessages+1})}},{key:"listenToRoom",value:function(e,t){Av.getInstance(this.props.pydio).joinRoom(e,t,this._messageListener,null)}},{key:"leaveRoom",value:function(e,t){Av.getInstance(this.props.pydio).leaveRoom(e,t,this._messageListener)}},{key:"componentDidMount",value:function(){var e=this.props,t=e.roomType,r=e.objectId;this.listenToRoom(t,r)}},{key:"componentWillUnmount",value:function(){var e=this.props,t=e.roomType,r=e.objectId;this.leaveRoom(t,r)}},{key:"componentWillReceiveProps",value:function(e){var t=this,r=this.props,n=r.roomType,o=r.objectId;e.roomType===n&&e.objectId===o||(this.leaveRoom(n,o),this.setState({newMessages:0},(function(){t.listenToRoom(e.roomType,e.objectId)})))}},{key:"onClick",value:function(){this.props.pydio.Controller.fireAction("toggle_chat_panel"),this.setState({newMessages:0})}},{key:"render",value:function(){var e=this.state.newMessages;if(0===e)return null;return t().createElement("span",{onClick:this.onClick.bind(this),className:"mdi mdi-comment",style:{display:"inline-block",padding:"0 5px",fontSize:15,textAlign:"center",color:"#8BC34A",fontWeight:500,position:"relative"}},t().createElement("span",{style:{fontSize:13,display:"inline-block",position:"absolute",top:-1,marginLeft:2}},e))}}],n&&wg(r.prototype,n),Object.defineProperty(r,"prototype",{writable:!1}),s}(t().Component);function kg(e){return kg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kg(e)}function Rg(){return Rg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Rg.apply(this,arguments)}function _g(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Tg(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?_g(Object(r),!0).forEach((function(t){Ig(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_g(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Ig(e,t,r){return(t=Ag(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Mg(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Ag(n.key),n)}}function Ag(e){var t=function(e,t){if("object"!==kg(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==kg(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===kg(t)?t:String(t)}function Dg(e,t){return Dg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Dg(e,t)}function Lg(e){return Lg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Lg(e)}var Ng={root:{paddingTop:20},section:{container:{},title:{},description:{},actions:{}},action:{container:{},icon:{},title:{},description:{}},deleteButton:{},deleteIconProps:{style:{position:"absolute",top:0,right:0},iconStyle:{color:"#bdbdbd",hoverColor:"#9e9e9e"}}};const zg=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Dg(e,t)}(s,e);var r,n,o,i,a=(o=s,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Lg(o);if(i){var r=Lg(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===kg(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function s(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),e.model||(e.model={Sections:[]}),a.call(this,e)}return r=s,(n=[{key:"stProps",value:function(e,t){return{style:Ng[e][t],className:"stepper-"+e+"-"+t}}},{key:"render",value:function(){var e=this,r=this.props,n=r.model,o=r.style,i=r.onPick;return t().createElement("div",{style:Tg(Tg({},Ng.root),o),className:"bbpanel"},n.Sections.map((function(r){return t().createElement("div",e.stProps("section","container"),t().createElement("div",e.stProps("section","title"),r.title),t().createElement("div",e.stProps("section","description"),r.description),t().createElement("div",e.stProps("section","actions"),r.Actions.map((function(r){var n=r.description;return n&&n.length>70&&(n=t().createElement("span",{title:n},n.substr(0,70)+"...")),t().createElement(g.Paper,Rg({zDepth:0},e.stProps("action","container"),{onClick:function(){i(r.value)}}),r.tag&&t().createElement("div",{className:"stepper-tag"},r.tag),r.onDelete&&t().createElement("div",e.stProps("action","deleteButton"),t().createElement(g.IconButton,Rg({iconClassName:"mdi mdi-close",tooltip:"Remove",onClick:function(e){e.stopPropagation(),r.onDelete()}},Ng.deleteIconProps))),t().createElement("div",e.stProps("action","icon"),t().createElement(g.FontIcon,{color:r.tint||"#03A9F4",className:r.icon})),t().createElement("div",e.stProps("action","title"),r.title),t().createElement("div",e.stProps("action","description"),n))}))))})),t().createElement("style",{type:"text/css",dangerouslySetInnerHTML:{__html:"\n.react-mui-context .bbpanel .stepper-section-actions {\n    display: flex;\n    flex-wrap: wrap;\n}\n\n.react-mui-context .bbpanel .stepper-section-container {\n    margin-bottom: 30px;\n}\n\n.react-mui-context .bbpanel .stepper-section-title {\n    font-size: 13px;\n    font-weight: 500;\n    color: #455a64;\n    padding-bottom: 20px;    \n}\n\n.react-mui-context .bbpanel .stepper-action-container {\n    margin: 10px;\n    width: 230px;\n    height: 210px;\n    display: flex;\n    flex-direction: column;\n    font-size: 15px;\n    padding: 10px 20px;\n    border-radius: 6px !important;\n    box-shadow: 1px 10px 20px 0 rgba(40,60,75,.15);\n    cursor: pointer;\n    position:relative;\n}\n\n.react-mui-context .bbpanel .stepper-action-container:hover {\n    box-shadow: 1px 10px 20px 0 rgba(40,60,75,.3)\n}\n\n.react-mui-context .bbpanel .stepper-action-icon {\n    flex: 1;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n}\n\n.react-mui-context .bbpanel .stepper-tag {\n    position: absolute;\n    top: 15px;\n    left: 16px;\n    background-color: #B0BEC5;\n    color: white;\n    padding: 1px 5px;\n    font-size: 12px;\n    height: 19px;\n    line-height: 16px;\n    border-radius: 4px;\n    font-weight: 500;\n}\n\n.react-mui-context .bbpanel .stepper-action-icon > span {\n    font-size: 50px !important;\n}\n\n.react-mui-context .bbpanel .stepper-action-title {\n    padding-bottom: 20px;\n    font-weight: 500;\n    text-align: center;\n    font-size: 16px;\n}\n\n.react-mui-context .bbpanel .stepper-action-description {\n    text-align: center;\n    font-weight: 300;\n    font-size: 13px;\n    padding-bottom: 10px;   \n}\n"}}))}}])&&Mg(r.prototype,n),Object.defineProperty(r,"prototype",{writable:!1}),s}(t().Component);function Bg(e){return Bg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bg(e)}function Ug(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Fg(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ug(Object(r),!0).forEach((function(t){Zg(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ug(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Zg(e,t,r){return(t=Hg(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Wg(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Hg(n.key),n)}}function Hg(e){var t=function(e,t){if("object"!==Bg(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==Bg(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===Bg(t)?t:String(t)}function qg(e,t){return qg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},qg(e,t)}function Gg(e){return Gg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Gg(e)}var Vg=Z().requireLib("hoc").ModernTextField,$g=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&qg(e,t)}(s,e);var r,n,o,i,a=(o=s,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Gg(o);if(i){var r=Gg(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===Bg(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function s(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),a.apply(this,arguments)}return r=s,(n=[{key:"componentDidUpdate",value:function(e){e.random!==this.props.random&&this.refs.dialog&&setTimeout((function(){window.dispatchEvent(new Event("resize"))}),0)}},{key:"render",value:function(){var e=this.props,r=e.title,n=e.actions,o=e.open,i=e.onDismiss,a=e.onFilter,s=e.customFilter,l=e.children,c=e.dialogProps,u=r;return(i||a||s)&&(u=t().createElement("div",{style:{position:"relative",display:"flex",alignItems:"center"}},t().createElement("div",{style:{flex:1}},r),s&&t().createElement("div",{style:{marginRight:16}},s),a&&t().createElement("div",{style:{width:210,height:34,marginTop:-10,marginRight:i?50:0}},t().createElement(Vg,{hintText:"Filter list",onChange:function(e,t){a(t)},fullWidth:!0})),i&&t().createElement("div",{style:{position:"absolute",top:11,right:20}},t().createElement(g.IconButton,{iconClassName:"mdi mdi-close",onClick:i})))),t().createElement(g.Dialog,{ref:"dialog",title:u,actions:n,modal:c.modal,open:o,autoDetectWindowHeight:!0,autoScrollBodyContent:!0,contentClassName:"stepper-dialog",bodyStyle:Fg({backgroundColor:"rgb(236, 239, 241)",borderRadius:"0 0 6px 6px"},c.bodyStyle),contentStyle:Fg({width:"90%",maxWidth:"none",borderRadius:6},c.contentStyle),titleStyle:Fg({borderBottom:"none",backgroundColor:"rgb(246, 247, 248)",borderRadius:"6px 6px 0 0"},c.titleStyle)},l,t().createElement("style",{type:"text/css",dangerouslySetInnerHTML:{__html:".stepper-dialog > div{border-radius: 6px !important;}"}}))}}])&&Wg(r.prototype,n),Object.defineProperty(r,"prototype",{writable:!1}),s}(t().Component),Kg={SortableList:L,SimpleList:Io,NodeListCustomProvider:Uo,ListEntry:ue,ListPaginator:vn,MaterialTable:ri,Masonry:Va,Timeline:is,TreeView:xs,DNDTreeView:Es,FoldersTree:Cs,ClipboardTextField:el,LabelWithTip:Ls,EmptyStateView:co,SimpleFigureBadge:Hs,ModalAppBar:function(e){var r=e.style,n=e.titleStyle,o=e.iconStyleRight,i=e.iconStyleLeft,a=function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(e,Cl),s={style:_l({flexShrink:0},r),titleStyle:_l({lineHeight:"56px",height:56,marginLeft:-8},n),iconStyleRight:_l({marginTop:4},o),iconStyleLeft:_l({marginTop:4},i)};return t().createElement(g.AppBar,kl({},a,s))},GenericCard:gl,GenericLine:vl,QuotaUsageLine:El,ReactEditorOpener:Bl,DynamicGrid:Pc,DynamicGridItemMixin:kc,asGridItem:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{gridWidth:4,gridHeight:12},n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0,o=e.displayName||e.name;e=Uc()(e);var i=function(t){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Dc(e,t)}(s,t);var r,n,o,i,a=(o=s,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Lc(o);if(i){var r=Lc(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===Rc(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function s(e,t){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),(r=a.call(this,e,t)).state={focus:!1,showCloseAction:!1},r}return r=s,n=[{key:"focusItem",value:function(){this.setState({focus:!0})}},{key:"blurItem",value:function(){this.setState({focus:!1})}},{key:"mergeStyleWithFocus",value:function(){return Tc(Tc({},this.props.style),{},{zIndex:this.state.focus?1:null})}},{key:"toggleEditMode",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;void 0===e?this.setState({showCloseAction:!(this.state&&this.state.showCloseAction)}):this.setState({showCloseAction:e})}},{key:"getCloseButton",value:function(){var e=function(){};return this.props.onCloseAction&&(e=this.props.onCloseAction),React.createElement("div",{style:{position:"absolute",backgroundColor:"rgba(0,0,0,0.53)",zIndex:10,top:0,left:0,bottom:0,right:0,display:"flex",alignItems:"center",justifyContent:"center"}},React.createElement(Bc,{label:this.props.pydio.MessageHash["ajxp_admin.home.48"],className:"card-close-button",onClick:e,style:{color:"white"}}))}},{key:"render",value:function(){var t=Tc(Tc({},this.props),{},{style:this.mergeStyleWithFocus(),closeButton:this.state.showCloseAction?this.getCloseButton():null,onFocusItem:this.focusItem.bind(this),onBlurItem:this.blurItem.bind(this)});return React.createElement(e,t)}}],n&&Mc(r.prototype,n),Object.defineProperty(r,"prototype",{writable:!1}),s}(zc);return i.propTypes={onCloseAction:Nc.func},i.displayName=o,i.builderDisplayName=t,i.getGridLayout=function(e,t){return{x:e||0,y:t||0,w:r.gridWidth||4,h:r.gridHeight||12,isResizable:!1}},i.hasBuilderFields=function(){return void 0!==n},i.getBuilderFields=function(){return n},i},DynamicGridStore:Kl,DND:{Types:p,collect:d,collectDrop:y,nodeDragSource:b,nodeDropTarget:v,DNDActionParameter:h},DNDActionParameter:h,UserAvatar:Kf,UsersCompleter:Qy,TeamCreationForm:ey,AddressBook:By,DirectoryLayout:wv,ListStylesCompact:gu,ContextMenu:Lh,Toolbar:hm,ButtonMenu:ph,IconButtonMenu:rn,MenuItemsConsumer:qr,MenuUtils:Dr,Chat:Og,ChatIcon:Cg,ChatClient:Av,ResourcePoliciesPanel:dp,CellActionsRenderer:vu,Stepper:{PanelBigButtons:zg,Dialog:$g}}})(),window.PydioComponents=s})();