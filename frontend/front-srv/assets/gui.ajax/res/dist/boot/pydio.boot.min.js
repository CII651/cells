/*! For license information please see pydio.boot.min.js.LICENSE.txt */
(()=>{var e={345:(e,t,r)=>{var n,o,i;!function(a){"use strict";var s=a.document,u=[];function c(e){"function"==typeof e&&(c.isReady?e():u.push(e))}function l(e){var t="readystatechange"===e.type&&"complete"!==s.readyState;c.isReady||t||f()}function f(){c.isReady=!0;for(var e=0,t=u.length;e<t;e++)(0,u[e])()}c.isReady=!1,o=[r(568)],void 0===(i="function"==typeof(n=function(e){return"complete"===s.readyState?f():(e.bind(s,"DOMContentLoaded",l),e.bind(s,"readystatechange",l),e.bind(a,"load",l)),c})?n.apply(t,o):n)||(e.exports=i)}(window)},568:(e,t,r)=>{var n,o;!function(i){"use strict";var a=document.documentElement,s=function(){};function u(e){var t=i.event;return t.target=t.target||t.srcElement||e,t}a.addEventListener?s=function(e,t,r){e.addEventListener(t,r,!1)}:a.attachEvent&&(s=function(e,t,r){e[t+r]=r.handleEvent?function(){var t=u(e);r.handleEvent.call(r,t)}:function(){var t=u(e);r.call(e,t)},e.attachEvent("on"+t,e[t+r])});var c=function(){};a.removeEventListener?c=function(e,t,r){e.removeEventListener(t,r,!1)}:a.detachEvent&&(c=function(e,t,r){e.detachEvent("on"+t,e[t+r]);try{delete e[t+r]}catch(n){e[t+r]=void 0}}),void 0===(o="function"==typeof(n={bind:s,unbind:c})?n.call(t,r,t,e):n)||(e.exports=o)}(window)},372:function(){!function(e){"use strict";if(!e.fetch){var t={searchParams:"URLSearchParams"in e,iterable:"Symbol"in e&&"iterator"in Symbol,blob:"FileReader"in e&&"Blob"in e&&function(){try{return new Blob,!0}catch(e){return!1}}(),formData:"FormData"in e,arrayBuffer:"ArrayBuffer"in e};if(t.arrayBuffer)var r=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],n=function(e){return e&&DataView.prototype.isPrototypeOf(e)},o=ArrayBuffer.isView||function(e){return e&&r.indexOf(Object.prototype.toString.call(e))>-1};l.prototype.append=function(e,t){e=s(e),t=u(t);var r=this.map[e];this.map[e]=r?r+","+t:t},l.prototype.delete=function(e){delete this.map[s(e)]},l.prototype.get=function(e){return e=s(e),this.has(e)?this.map[e]:null},l.prototype.has=function(e){return this.map.hasOwnProperty(s(e))},l.prototype.set=function(e,t){this.map[s(e)]=u(t)},l.prototype.forEach=function(e,t){for(var r in this.map)this.map.hasOwnProperty(r)&&e.call(t,this.map[r],r,this)},l.prototype.keys=function(){var e=[];return this.forEach((function(t,r){e.push(r)})),c(e)},l.prototype.values=function(){var e=[];return this.forEach((function(t){e.push(t)})),c(e)},l.prototype.entries=function(){var e=[];return this.forEach((function(t,r){e.push([r,t])})),c(e)},t.iterable&&(l.prototype[Symbol.iterator]=l.prototype.entries);var i=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];m.prototype.clone=function(){return new m(this,{body:this._bodyInit})},y.call(m.prototype),y.call(v.prototype),v.prototype.clone=function(){return new v(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new l(this.headers),url:this.url})},v.error=function(){var e=new v(null,{status:0,statusText:""});return e.type="error",e};var a=[301,302,303,307,308];v.redirect=function(e,t){if(-1===a.indexOf(t))throw new RangeError("Invalid status code");return new v(null,{status:t,headers:{location:e}})},e.Headers=l,e.Request=m,e.Response=v,e.fetch=function(e,r){return new Promise((function(n,o){var i=new m(e,r),a=new XMLHttpRequest;a.onload=function(){var e,t,r={status:a.status,statusText:a.statusText,headers:(e=a.getAllResponseHeaders()||"",t=new l,e.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach((function(e){var r=e.split(":"),n=r.shift().trim();if(n){var o=r.join(":").trim();t.append(n,o)}})),t)};r.url="responseURL"in a?a.responseURL:r.headers.get("X-Request-URL");var o="response"in a?a.response:a.responseText;n(new v(o,r))},a.onerror=function(){o(new TypeError("Network request failed"))},a.ontimeout=function(){o(new TypeError("Network request failed"))},a.open(i.method,i.url,!0),"include"===i.credentials?a.withCredentials=!0:"omit"===i.credentials&&(a.withCredentials=!1),"responseType"in a&&t.blob&&(a.responseType="blob"),i.headers.forEach((function(e,t){a.setRequestHeader(t,e)})),a.send(void 0===i._bodyInit?null:i._bodyInit)}))},e.fetch.polyfill=!0}function s(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function u(e){return"string"!=typeof e&&(e=String(e)),e}function c(e){var r={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return t.iterable&&(r[Symbol.iterator]=function(){return r}),r}function l(e){this.map={},e instanceof l?e.forEach((function(e,t){this.append(t,e)}),this):Array.isArray(e)?e.forEach((function(e){this.append(e[0],e[1])}),this):e&&Object.getOwnPropertyNames(e).forEach((function(t){this.append(t,e[t])}),this)}function f(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function h(e){return new Promise((function(t,r){e.onload=function(){t(e.result)},e.onerror=function(){r(e.error)}}))}function p(e){var t=new FileReader,r=h(t);return t.readAsArrayBuffer(e),r}function d(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function y(){return this.bodyUsed=!1,this._initBody=function(e){if(this._bodyInit=e,e)if("string"==typeof e)this._bodyText=e;else if(t.blob&&Blob.prototype.isPrototypeOf(e))this._bodyBlob=e;else if(t.formData&&FormData.prototype.isPrototypeOf(e))this._bodyFormData=e;else if(t.searchParams&&URLSearchParams.prototype.isPrototypeOf(e))this._bodyText=e.toString();else if(t.arrayBuffer&&t.blob&&n(e))this._bodyArrayBuffer=d(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer]);else{if(!t.arrayBuffer||!ArrayBuffer.prototype.isPrototypeOf(e)&&!o(e))throw new Error("unsupported BodyInit type");this._bodyArrayBuffer=d(e)}else this._bodyText="";this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):t.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},t.blob&&(this.blob=function(){var e=f(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?f(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(p)}),this.text=function(){var e,t,r,n=f(this);if(n)return n;if(this._bodyBlob)return e=this._bodyBlob,r=h(t=new FileReader),t.readAsText(e),r;if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var t=new Uint8Array(e),r=new Array(t.length),n=0;n<t.length;n++)r[n]=String.fromCharCode(t[n]);return r.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},t.formData&&(this.formData=function(){return this.text().then(g)}),this.json=function(){return this.text().then(JSON.parse)},this}function m(e,t){var r,n,o=(t=t||{}).body;if(e instanceof m){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new l(e.headers)),this.method=e.method,this.mode=e.mode,o||null==e._bodyInit||(o=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"omit",!t.headers&&this.headers||(this.headers=new l(t.headers)),this.method=(n=(r=t.method||this.method||"GET").toUpperCase(),i.indexOf(n)>-1?n:r),this.mode=t.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&o)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(o)}function g(e){var t=new FormData;return e.trim().split("&").forEach((function(e){if(e){var r=e.split("="),n=r.shift().replace(/\+/g," "),o=r.join("=").replace(/\+/g," ");t.append(decodeURIComponent(n),decodeURIComponent(o))}})),t}function v(e,t){t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in t?t.statusText:"OK",this.headers=new l(t.headers),this.url=t.url||"",this._initBody(e)}}("undefined"!=typeof self?self:this)},848:(e,t,r)=>{function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}(function(){"use strict";var t=this;function r(e){return"string"==typeof e}function o(e,t,r){return e.call.apply(e.bind,arguments)}function i(e,t,r){if(!e)throw Error();if(2<arguments.length){var n=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,n),e.apply(t,r)}}return function(){return e.apply(t,arguments)}}function a(e,t,r){return(a=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?o:i).apply(null,arguments)}function s(e){var t=se;function r(){}r.prototype=t.prototype,e.G=t.prototype,e.prototype=new r,e.prototype.constructor=e,e.F=function(e,r,n){for(var o=Array(arguments.length-2),i=2;i<arguments.length;i++)o[i-2]=arguments[i];return t.prototype[r].apply(e,o)}}var u=String.prototype.trim?function(e){return e.trim()}:function(e){return e.replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")};function c(e,t){return-1!=e.indexOf(t)}function l(e,t){return e<t?-1:e>t?1:0}var f,h=Array.prototype.indexOf?function(e,t,r){return Array.prototype.indexOf.call(e,t,r)}:function(e,t,n){if(n=null==n?0:0>n?Math.max(0,e.length+n):n,r(e))return r(t)&&1==t.length?e.indexOf(t,n):-1;for(;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},p=Array.prototype.forEach?function(e,t,r){Array.prototype.forEach.call(e,t,r)}:function(e,t,n){for(var o=e.length,i=r(e)?e.split(""):e,a=0;a<o;a++)a in i&&t.call(n,i[a],a,e)},d=Array.prototype.filter?function(e,t,r){return Array.prototype.filter.call(e,t,r)}:function(e,t,n){for(var o=e.length,i=[],a=0,s=r(e)?e.split(""):e,u=0;u<o;u++)if(u in s){var c=s[u];t.call(n,c,u,e)&&(i[a++]=c)}return i},y=Array.prototype.reduce?function(e,t,r,n){return n&&(t=a(t,n)),Array.prototype.reduce.call(e,t,r)}:function(e,t,r,n){var o=r;return p(e,(function(r,i){o=t.call(n,o,r,i,e)})),o},m=Array.prototype.some?function(e,t,r){return Array.prototype.some.call(e,t,r)}:function(e,t,n){for(var o=e.length,i=r(e)?e.split(""):e,a=0;a<o;a++)if(a in i&&t.call(n,i[a],a,e))return!0;return!1};e:{var g=t.navigator;if(g){var v=g.userAgent;if(v){f=v;break e}}f=""}var b,w,E=c(f,"Opera")||c(f,"OPR"),x=c(f,"Trident")||c(f,"MSIE"),_=c(f,"Edge"),S=c(f,"Gecko")&&!(c(f.toLowerCase(),"webkit")&&!c(f,"Edge"))&&!(c(f,"Trident")||c(f,"MSIE"))&&!c(f,"Edge"),T=c(f.toLowerCase(),"webkit")&&!c(f,"Edge");function N(){var e=t.document;return e?e.documentMode:void 0}e:{var O="",R=(w=f,S?/rv\:([^\);]+)(\)|;)/.exec(w):_?/Edge\/([\d\.]+)/.exec(w):x?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(w):T?/WebKit\/(\S+)/.exec(w):E?/(?:Version)[ \/]?(\S+)/.exec(w):void 0);if(R&&(O=R?R[1]:""),x){var P=N();if(null!=P&&P>parseFloat(O)){b=String(P);break e}}b=O}var A={};function D(e){if(!A[e]){for(var t=0,r=u(String(b)).split("."),n=u(String(e)).split("."),o=Math.max(r.length,n.length),i=0;0==t&&i<o;i++){var a=r[i]||"",s=n[i]||"",c=/(\d*)(\D*)/g,f=/(\d*)(\D*)/g;do{var h=c.exec(a)||["","",""],p=f.exec(s)||["","",""];if(0==h[0].length&&0==p[0].length)break;t=l(0==h[1].length?0:parseInt(h[1],10),0==p[1].length?0:parseInt(p[1],10))||l(0==h[2].length,0==p[2].length)||l(h[2],p[2])}while(0==t)}A[e]=0<=t}}var C=t.document,j=C&&x?N()||("CSS1Compat"==C.compatMode?parseInt(b,10):5):void 0,B=x&&!(9<=Number(j)),L=x&&!(8<=Number(j));function M(e,t,r,n){this.a=e,this.nodeName=r,this.nodeValue=n,this.nodeType=2,this.parentNode=this.ownerElement=t}function I(e,t){var r=L&&"href"==t.nodeName?e.getAttribute(t.nodeName,2):t.nodeValue;return new M(t,e,t.nodeName,r)}function k(e){var t=null;if(1==(r=e.nodeType)&&(t=null==(t=null==(t=e.textContent)||null==t?e.innerText:t)||null==t?"":t),"string"!=typeof t)if(B&&"title"==e.nodeName.toLowerCase()&&1==r)t=e.text;else if(9==r||1==r){e=9==r?e.documentElement:e.firstChild;var r=0,n=[];for(t="";e;){do{1!=e.nodeType&&(t+=e.nodeValue),B&&"title"==e.nodeName.toLowerCase()&&(t+=e.text),n[r++]=e}while(e=e.firstChild);for(;r&&!(e=n[--r].nextSibling););}}else t=e.nodeValue;return""+t}function U(e,t,r){if(null===t)return!0;try{if(!e.getAttribute)return!1}catch(e){return!1}return L&&"class"==t&&(t="className"),null==r?!!e.getAttribute(t):e.getAttribute(t,2)==r}function F(e,t,n,o,i){return(B?X:H).call(null,e,t,r(n)?n:null,r(o)?o:null,i||new K)}function X(e,t,r,n,o){if(e instanceof Le||8==e.b||r&&null===e.b){var i=t.all;if(!i)return o;if("*"!=(e=G(e))&&!(i=t.getElementsByTagName(e)))return o;if(r){for(var a=[],s=0;t=i[s++];)U(t,r,n)&&a.push(t);i=a}for(s=0;t=i[s++];)"*"==e&&"!"==t.tagName||te(o,t);return o}return q(e,t,r,n,o),o}function H(e,t,r,n,o){return t.getElementsByName&&n&&"name"==r&&!x?(t=t.getElementsByName(n),p(t,(function(t){e.a(t)&&te(o,t)}))):t.getElementsByClassName&&n&&"class"==r?(t=t.getElementsByClassName(n),p(t,(function(t){t.className==n&&e.a(t)&&te(o,t)}))):e instanceof Ne?q(e,t,r,n,o):t.getElementsByTagName&&(t=t.getElementsByTagName(e.f()),p(t,(function(e){U(e,r,n)&&te(o,e)}))),o}function Y(e,t,r,n,o){var i;if((e instanceof Le||8==e.b||r&&null===e.b)&&(i=t.childNodes)){var a=G(e);return"*"==a||(i=d(i,(function(e){return e.tagName&&e.tagName.toLowerCase()==a})),i)?(r&&(i=d(i,(function(e){return U(e,r,n)}))),p(i,(function(e){"*"==a&&("!"==e.tagName||"*"==a&&1!=e.nodeType)||te(o,e)})),o):o}return V(e,t,r,n,o)}function V(e,t,r,n,o){for(t=t.firstChild;t;t=t.nextSibling)U(t,r,n)&&e.a(t)&&te(o,t);return o}function q(e,t,r,n,o){for(t=t.firstChild;t;t=t.nextSibling)U(t,r,n)&&e.a(t)&&te(o,t),q(e,t,r,n,o)}function G(e){if(e instanceof Ne){if(8==e.b)return"!";if(null===e.b)return"*"}return e.f()}function z(e,t){if(!e||!t)return!1;if(e.contains&&1==t.nodeType)return e==t||e.contains(t);if(void 0!==e.compareDocumentPosition)return e==t||!!(16&e.compareDocumentPosition(t));for(;t&&e!=t;)t=t.parentNode;return t==e}function $(e,r){if(e==r)return 0;if(e.compareDocumentPosition)return 2&e.compareDocumentPosition(r)?1:-1;if(x&&!(9<=Number(j))){if(9==e.nodeType)return-1;if(9==r.nodeType)return 1}if("sourceIndex"in e||e.parentNode&&"sourceIndex"in e.parentNode){var n=1==e.nodeType,o=1==r.nodeType;if(n&&o)return e.sourceIndex-r.sourceIndex;var i=e.parentNode,a=r.parentNode;return i==a?W(e,r):!n&&z(i,r)?-1*J(e,r):!o&&z(a,e)?J(r,e):(n?e.sourceIndex:i.sourceIndex)-(o?r.sourceIndex:a.sourceIndex)}return(n=(o=9==e.nodeType?e:e.ownerDocument||e.document).createRange()).selectNode(e),n.collapse(!0),(o=o.createRange()).selectNode(r),o.collapse(!0),n.compareBoundaryPoints(t.Range.START_TO_END,o)}function J(e,t){var r=e.parentNode;if(r==t)return-1;for(var n=t;n.parentNode!=r;)n=n.parentNode;return W(n,e)}function W(e,t){for(var r=t;r=r.previousSibling;)if(r==e)return-1;return 1}function K(){this.b=this.a=null,this.l=0}function Q(e){this.node=e,this.a=this.b=null}function Z(e,t){if(!e.a)return t;if(!t.a)return e;for(var r=e.a,n=t.a,o=null,i=null,a=0;r&&n;){i=r.node;var s=n.node;i==s||i instanceof M&&s instanceof M&&i.a==s.a?(i=r,r=r.a,n=n.a):0<$(r.node,n.node)?(i=n,n=n.a):(i=r,r=r.a),(i.b=o)?o.a=i:e.a=i,o=i,a++}for(i=r||n;i;)i.b=o,o=o.a=i,a++,i=i.a;return e.b=o,e.l=a,e}function ee(e,t){var r=new Q(t);r.a=e.a,e.b?e.a.b=r:e.a=e.b=r,e.a=r,e.l++}function te(e,t){var r=new Q(t);r.b=e.b,e.a?e.b.a=r:e.a=e.b=r,e.b=r,e.l++}function re(e){return(e=e.a)?e.node:null}function ne(e){return(e=re(e))?k(e):""}function oe(e,t){return new ie(e,!!t)}function ie(e,t){this.f=e,this.b=(this.c=t)?e.b:e.a,this.a=null}function ae(e){var t=e.b;if(null==t)return null;var r=e.a=t;return e.b=e.c?t.b:t.a,r.node}function se(e){this.i=e,this.b=this.g=!1,this.f=null}function ue(e){return"\n  "+e.toString().split("\n").join("\n  ")}function ce(e,t){e.g=t}function le(e,t){e.b=t}function fe(e,t){var r=e.a(t);return r instanceof K?+ne(r):+r}function he(e,t){var r=e.a(t);return r instanceof K?ne(r):""+r}function pe(e,t){var r=e.a(t);return r instanceof K?!!r.l:!!r}function de(e,t,r){se.call(this,e.i),this.c=e,this.h=t,this.o=r,this.g=t.g||r.g,this.b=t.b||r.b,this.c==be&&(r.b||r.g||4==r.i||0==r.i||!t.f?t.b||t.g||4==t.i||0==t.i||!r.f||(this.f={name:r.f.name,s:t}):this.f={name:t.f.name,s:r})}function ye(e,t,r,o,i){var a;if(t=t.a(o),r=r.a(o),t instanceof K&&r instanceof K){for(o=ae(t=oe(t));o;o=ae(t))for(a=ae(i=oe(r));a;a=ae(i))if(e(k(o),k(a)))return!0;return!1}if(t instanceof K||r instanceof K){t instanceof K?(i=t,o=r):(i=r,o=t),a=oe(i);for(var s=n(o),u=ae(a);u;u=ae(a)){switch(s){case"number":u=+k(u);break;case"boolean":u=!!k(u);break;case"string":u=k(u);break;default:throw Error("Illegal primitive type for comparison.")}if(i==t&&e(u,o)||i==r&&e(o,u))return!0}return!1}return i?"boolean"==typeof t||"boolean"==typeof r?e(!!t,!!r):"number"==typeof t||"number"==typeof r?e(+t,+r):e(t,r):e(+t,+r)}function me(e,t,r,n){this.a=e,this.w=t,this.i=r,this.m=n}!S&&!x||x&&9<=Number(j)||S&&D("1.9.1"),x&&D("9"),s(de),de.prototype.a=function(e){return this.c.m(this.h,this.o,e)},de.prototype.toString=function(){return"Binary Expression: "+this.c+ue(this.h)+ue(this.o)},me.prototype.toString=function(){return this.a};var ge={};function ve(e,t,r,n){if(ge.hasOwnProperty(e))throw Error("Binary operator already created: "+e);return e=new me(e,t,r,n),ge[e.toString()]=e}ve("div",6,1,(function(e,t,r){return fe(e,r)/fe(t,r)})),ve("mod",6,1,(function(e,t,r){return fe(e,r)%fe(t,r)})),ve("*",6,1,(function(e,t,r){return fe(e,r)*fe(t,r)})),ve("+",5,1,(function(e,t,r){return fe(e,r)+fe(t,r)})),ve("-",5,1,(function(e,t,r){return fe(e,r)-fe(t,r)})),ve("<",4,2,(function(e,t,r){return ye((function(e,t){return e<t}),e,t,r)})),ve(">",4,2,(function(e,t,r){return ye((function(e,t){return e>t}),e,t,r)})),ve("<=",4,2,(function(e,t,r){return ye((function(e,t){return e<=t}),e,t,r)})),ve(">=",4,2,(function(e,t,r){return ye((function(e,t){return e>=t}),e,t,r)}));var be=ve("=",3,2,(function(e,t,r){return ye((function(e,t){return e==t}),e,t,r,!0)}));function we(e,t,r){this.a=e,this.b=t||1,this.f=r||1}function Ee(e,t){if(t.a.length&&4!=e.i)throw Error("Primary expression must evaluate to nodeset if filter has predicate(s).");se.call(this,e.i),this.c=e,this.h=t,this.g=e.g,this.b=e.b}function xe(e,t){if(t.length<e.A)throw Error("Function "+e.j+" expects at least"+e.A+" arguments, "+t.length+" given");if(null!==e.v&&t.length>e.v)throw Error("Function "+e.j+" expects at most "+e.v+" arguments, "+t.length+" given");e.B&&p(t,(function(t,r){if(4!=t.i)throw Error("Argument "+r+" to function "+e.j+" is not of type Nodeset: "+t)})),se.call(this,e.i),this.h=e,this.c=t,ce(this,e.g||m(t,(function(e){return e.g}))),le(this,e.D&&!t.length||e.C&&!!t.length||m(t,(function(e){return e.b})))}function _e(e,t,r,n,o,i,a,s,u){this.j=e,this.i=t,this.g=r,this.D=n,this.C=o,this.m=i,this.A=a,this.v=void 0!==s?s:a,this.B=!!u}ve("!=",3,2,(function(e,t,r){return ye((function(e,t){return e!=t}),e,t,r,!0)})),ve("and",2,2,(function(e,t,r){return pe(e,r)&&pe(t,r)})),ve("or",1,2,(function(e,t,r){return pe(e,r)||pe(t,r)})),s(Ee),Ee.prototype.a=function(e){return e=this.c.a(e),He(this.h,e)},Ee.prototype.toString=function(){return"Filter:"+ue(this.c)+ue(this.h)},s(xe),xe.prototype.a=function(e){return this.h.m.apply(null,function(e){return Array.prototype.concat.apply(Array.prototype,arguments)}(e,this.c))},xe.prototype.toString=function(){var e="Function: "+this.h;if(this.c.length){var t=y(this.c,(function(e,t){return e+ue(t)}),"Arguments:");e+=ue(t)}return e},_e.prototype.toString=function(){return this.j};var Se={};function Te(e,t,r,n,o,i,a,s){if(Se.hasOwnProperty(e))throw Error("Function already created: "+e+".");Se[e]=new _e(e,t,r,n,!1,o,i,a,s)}function Ne(e,t){switch(this.h=e,this.c=void 0!==t?t:null,this.b=null,e){case"comment":this.b=8;break;case"text":this.b=3;break;case"processing-instruction":this.b=7;break;case"node":break;default:throw Error("Unexpected argument")}}function Oe(e){return"comment"==e||"text"==e||"processing-instruction"==e||"node"==e}function Re(e){this.b=e,this.a=0}Te("boolean",2,!1,!1,(function(e,t){return pe(t,e)}),1),Te("ceiling",1,!1,!1,(function(e,t){return Math.ceil(fe(t,e))}),1),Te("concat",3,!1,!1,(function(e,t){return y(function(e,t,r){return 2>=arguments.length?Array.prototype.slice.call(e,t):Array.prototype.slice.call(e,t,r)}(arguments,1),(function(t,r){return t+he(r,e)}),"")}),2,null),Te("contains",2,!1,!1,(function(e,t,r){return c(he(t,e),he(r,e))}),2),Te("count",1,!1,!1,(function(e,t){return t.a(e).l}),1,1,!0),Te("false",2,!1,!1,(function(){return!1}),0),Te("floor",1,!1,!1,(function(e,t){return Math.floor(fe(t,e))}),1),Te("id",4,!1,!1,(function(e,t){var n=9==(o=e.a).nodeType?o:o.ownerDocument,o=he(t,e).split(/\s+/),i=[];p(o,(function(e){!(e=function(e){if(B){var t=n.all[e];if(t){if(t.nodeType&&e==t.id)return t;if(t.length)return function(e,t){var n;e:{n=e.length;for(var o=r(e)?e.split(""):e,i=0;i<n;i++)if(i in o&&t.call(void 0,o[i],i,e)){n=i;break e}n=-1}return 0>n?null:r(e)?e.charAt(n):e[n]}(t,(function(t){return e==t.id}))}return null}return n.getElementById(e)}(e))||0<=h(i,e)||i.push(e)})),i.sort($);var a=new K;return p(i,(function(e){te(a,e)})),a}),1),Te("lang",2,!1,!1,(function(){return!1}),1),Te("last",1,!0,!1,(function(e){if(1!=arguments.length)throw Error("Function last expects ()");return e.f}),0),Te("local-name",3,!1,!0,(function(e,t){var r=t?re(t.a(e)):e.a;return r?r.localName||r.nodeName.toLowerCase():""}),0,1,!0),Te("name",3,!1,!0,(function(e,t){var r=t?re(t.a(e)):e.a;return r?r.nodeName.toLowerCase():""}),0,1,!0),Te("namespace-uri",3,!0,!1,(function(){return""}),0,1,!0),Te("normalize-space",3,!1,!0,(function(e,t){return(t?he(t,e):k(e.a)).replace(/[\s\xa0]+/g," ").replace(/^\s+|\s+$/g,"")}),0,1),Te("not",2,!1,!1,(function(e,t){return!pe(t,e)}),1),Te("number",1,!1,!0,(function(e,t){return t?fe(t,e):+k(e.a)}),0,1),Te("position",1,!0,!1,(function(e){return e.b}),0),Te("round",1,!1,!1,(function(e,t){return Math.round(fe(t,e))}),1),Te("starts-with",2,!1,!1,(function(e,t,r){return t=he(t,e),e=he(r,e),0==t.lastIndexOf(e,0)}),2),Te("string",3,!1,!0,(function(e,t){return t?he(t,e):k(e.a)}),0,1),Te("string-length",1,!1,!0,(function(e,t){return(t?he(t,e):k(e.a)).length}),0,1),Te("substring",3,!1,!1,(function(e,t,r,n){if(r=fe(r,e),isNaN(r)||1/0==r||-1/0==r)return"";if(n=n?fe(n,e):1/0,isNaN(n)||-1/0===n)return"";r=Math.round(r)-1;var o=Math.max(r,0);return e=he(t,e),1/0==n?e.substring(o):e.substring(o,r+Math.round(n))}),2,3),Te("substring-after",3,!1,!1,(function(e,t,r){return t=he(t,e),e=he(r,e),-1==(r=t.indexOf(e))?"":t.substring(r+e.length)}),2),Te("substring-before",3,!1,!1,(function(e,t,r){return t=he(t,e),e=he(r,e),-1==(e=t.indexOf(e))?"":t.substring(0,e)}),2),Te("sum",1,!1,!1,(function(e,t){for(var r=oe(t.a(e)),n=0,o=ae(r);o;o=ae(r))n+=+k(o);return n}),1,1,!0),Te("translate",3,!1,!1,(function(e,t,r,n){t=he(t,e),r=he(r,e);var o=he(n,e);for(e={},n=0;n<r.length;n++){var i=r.charAt(n);i in e||(e[i]=o.charAt(n))}for(r="",n=0;n<t.length;n++)r+=(i=t.charAt(n))in e?e[i]:i;return r}),3),Te("true",2,!1,!1,(function(){return!0}),0),Ne.prototype.a=function(e){return null===this.b||this.b==e.nodeType},Ne.prototype.f=function(){return this.h},Ne.prototype.toString=function(){var e="Kind Test: "+this.h;return null===this.c||(e+=ue(this.c)),e};var Pe=/\$?(?:(?![0-9-\.])(?:\*|[\w-\.]+):)?(?![0-9-\.])(?:\*|[\w-\.]+)|\/\/|\.\.|::|\d+(?:\.\d*)?|\.\d+|"[^"]*"|'[^']*'|[!<>]=|\s+|./g,Ae=/^\s/;function De(e,t){return e.b[e.a+(t||0)]}function Ce(e){return e.b[e.a++]}function je(e){return e.b.length<=e.a}function Be(e){se.call(this,3),this.c=e.substring(1,e.length-1)}function Le(e,t){var r;this.j=e.toLowerCase(),r="*"==this.j?"*":"http://www.w3.org/1999/xhtml",this.c=t?t.toLowerCase():r}function Me(e,t){if(se.call(this,e.i),this.h=e,this.c=t,this.g=e.g,this.b=e.b,1==this.c.length){var r=this.c[0];r.u||r.c!=ze||"*"!=(r=r.o).f()&&(this.f={name:r.f(),s:null})}}function Ie(){se.call(this,4)}function ke(){se.call(this,4)}function Ue(e){return"/"==e||"//"==e}function Fe(e){se.call(this,4),this.c=e,ce(this,m(this.c,(function(e){return e.g}))),le(this,m(this.c,(function(e){return e.b})))}function Xe(e,t){this.a=e,this.b=!!t}function He(e,t,r){for(r=r||0;r<e.a.length;r++)for(var n,o=e.a[r],i=oe(t),a=t.l,s=0;n=ae(i);s++){var u=e.b?a-s:s+1;if("number"==typeof(n=o.a(new we(n,u,a))))u=u==n;else if("string"==typeof n||"boolean"==typeof n)u=!!n;else{if(!(n instanceof K))throw Error("Predicate.evaluate returned an unexpected type.");u=0<n.l}if(!u){if(n=(u=i).f,!(l=u.a))throw Error("Next must be called at least once before remove.");var c=l.b,l=l.a;c?c.a=l:n.a=l,l?l.b=c:n.b=c,n.l--,u.a=null}}return t}function Ye(e,t,r,n){se.call(this,4),this.c=e,this.o=t,this.h=r||new Xe([]),this.u=!!n,t=0<(t=this.h).a.length?t.a[0].f:null,e.b&&t&&(e=t.name,e=B?e.toLowerCase():e,this.f={name:e,s:t.s});e:{for(e=this.h,t=0;t<e.a.length;t++)if((r=e.a[t]).g||1==r.i||0==r.i){e=!0;break e}e=!1}this.g=e}function Ve(e,t,r,n){this.j=e,this.f=t,this.a=r,this.b=n}s(Be),Be.prototype.a=function(){return this.c},Be.prototype.toString=function(){return"Literal: "+this.c},Le.prototype.a=function(e){var t=e.nodeType;return!(1!=t&&2!=t||(t=void 0!==e.localName?e.localName:e.nodeName,"*"!=this.j&&this.j!=t.toLowerCase()||"*"!=this.c&&this.c!=(e.namespaceURI?e.namespaceURI.toLowerCase():"http://www.w3.org/1999/xhtml")))},Le.prototype.f=function(){return this.j},Le.prototype.toString=function(){return"Name Test: "+("http://www.w3.org/1999/xhtml"==this.c?"":this.c+":")+this.j},s(Me),s(Ie),Ie.prototype.a=function(e){var t=new K;return 9==(e=e.a).nodeType?te(t,e):te(t,e.ownerDocument),t},Ie.prototype.toString=function(){return"Root Helper Expression"},s(ke),ke.prototype.a=function(e){var t=new K;return te(t,e.a),t},ke.prototype.toString=function(){return"Context Helper Expression"},Me.prototype.a=function(e){var t=this.h.a(e);if(!(t instanceof K))throw Error("Filter expression must evaluate to nodeset.");for(var r=0,n=(e=this.c).length;r<n&&t.l;r++){var o,i=e[r],a=oe(t,i.c.a);if(i.g||i.c!=We)if(i.g||i.c!=Qe)for(o=ae(a),t=i.a(new we(o));null!=(o=ae(a));)t=Z(t,o=i.a(new we(o)));else o=ae(a),t=i.a(new we(o));else{for(o=ae(a);(t=ae(a))&&(!o.contains||o.contains(t))&&8&t.compareDocumentPosition(o);o=t);t=i.a(new we(o))}}return t},Me.prototype.toString=function(){var e;if(e="Path Expression:"+ue(this.h),this.c.length){var t=y(this.c,(function(e,t){return e+ue(t)}),"Steps:");e+=ue(t)}return e},s(Fe),Fe.prototype.a=function(e){var t=new K;return p(this.c,(function(r){if(!((r=r.a(e))instanceof K))throw Error("Path expression must evaluate to NodeSet.");t=Z(t,r)})),t},Fe.prototype.toString=function(){return y(this.c,(function(e,t){return e+ue(t)}),"Union Expression:")},Xe.prototype.toString=function(){return y(this.a,(function(e,t){return e+ue(t)}),"Predicates:")},s(Ye),Ye.prototype.a=function(e){var t=e.a,r=null,n=null,o=null,i=0;if((r=this.f)&&(n=r.name,o=r.s?he(r.s,e):null,i=1),this.u)if(this.g||this.c!=$e)if(t=ae(e=oe(new Ye(Je,new Ne("node")).a(e))))for(r=this.m(t,n,o,i);null!=(t=ae(e));)r=Z(r,this.m(t,n,o,i));else r=new K;else r=F(this.o,t,n,o),r=He(this.h,r,i);else r=this.m(e.a,n,o,i);return r},Ye.prototype.m=function(e,t,r,n){return e=this.c.f(this.o,e,t,r),He(this.h,e,n)},Ye.prototype.toString=function(){var e;if(e="Step:"+ue("Operator: "+(this.u?"//":"/")),this.c.j&&(e+=ue("Axis: "+this.c)),e+=ue(this.o),this.h.a.length){var t=y(this.h.a,(function(e,t){return e+ue(t)}),"Predicates:");e+=ue(t)}return e},Ve.prototype.toString=function(){return this.j};var qe={};function Ge(e,t,r,n){if(qe.hasOwnProperty(e))throw Error("Axis already created: "+e);return t=new Ve(e,t,r,!!n),qe[e]=t}Ge("ancestor",(function(e,t){for(var r=new K,n=t;n=n.parentNode;)e.a(n)&&ee(r,n);return r}),!0),Ge("ancestor-or-self",(function(e,t){var r=new K,n=t;do{e.a(n)&&ee(r,n)}while(n=n.parentNode);return r}),!0);var ze=Ge("attribute",(function(e,t){var r=new K;if("style"==(i=e.f())&&B&&t.style)return te(r,new M(t.style,t,"style",t.style.cssText)),r;var n=t.attributes;if(n)if(e instanceof Ne&&null===e.b||"*"==i)for(var o,i=0;o=n[i];i++)B?o.nodeValue&&te(r,I(t,o)):te(r,o);else(o=n.getNamedItem(i))&&(B?o.nodeValue&&te(r,I(t,o)):te(r,o));return r}),!1),$e=Ge("child",(function(e,t,n,o,i){return(B?Y:V).call(null,e,t,r(n)?n:null,r(o)?o:null,i||new K)}),!1,!0);Ge("descendant",F,!1,!0);var Je=Ge("descendant-or-self",(function(e,t,r,n){var o=new K;return U(t,r,n)&&e.a(t)&&te(o,t),F(e,t,r,n,o)}),!1,!0),We=Ge("following",(function(e,t,r,n){var o=new K;do{for(var i=t;i=i.nextSibling;)U(i,r,n)&&e.a(i)&&te(o,i),o=F(e,i,r,n,o)}while(t=t.parentNode);return o}),!1,!0);Ge("following-sibling",(function(e,t){for(var r=new K,n=t;n=n.nextSibling;)e.a(n)&&te(r,n);return r}),!1),Ge("namespace",(function(){return new K}),!1);var Ke=Ge("parent",(function(e,t){var r=new K;if(9==t.nodeType)return r;if(2==t.nodeType)return te(r,t.ownerElement),r;var n=t.parentNode;return e.a(n)&&te(r,n),r}),!1),Qe=Ge("preceding",(function(e,t,r,n){var o=new K,i=[];do{i.unshift(t)}while(t=t.parentNode);for(var a=1,s=i.length;a<s;a++){var u=[];for(t=i[a];t=t.previousSibling;)u.unshift(t);for(var c=0,l=u.length;c<l;c++)U(t=u[c],r,n)&&e.a(t)&&te(o,t),o=F(e,t,r,n,o)}return o}),!0,!0);Ge("preceding-sibling",(function(e,t){for(var r=new K,n=t;n=n.previousSibling;)e.a(n)&&ee(r,n);return r}),!0);var Ze=Ge("self",(function(e,t){var r=new K;return e.a(t)&&te(r,t),r}),!1);function et(e){se.call(this,1),this.c=e,this.g=e.g,this.b=e.b}function tt(e){se.call(this,1),this.c=e}function rt(e,t){this.a=e,this.b=t}function nt(e){for(var t,r=[];;){ot(e,"Missing right hand side of binary expression."),t=ft(e);var n=Ce(e.a);if(!n)break;var o=(n=ge[n]||null)&&n.w;if(!o){e.a.a--;break}for(;r.length&&o<=r[r.length-1].w;)t=new de(r.pop(),r.pop(),t);r.push(t,n)}for(;r.length;)t=new de(r.pop(),r.pop(),t);return t}function ot(e,t){if(je(e.a))throw Error(t)}function it(e,t){var r=Ce(e.a);if(r!=t)throw Error("Bad token, expected: "+t+" got: "+r)}function at(e){if(")"!=(e=Ce(e.a)))throw Error("Bad token: "+e)}function st(e){if(2>(e=Ce(e.a)).length)throw Error("Unclosed literal string");return new Be(e)}function ut(e){var t,r,n=[];if(Ue(De(e.a))){if(t=Ce(e.a),r=De(e.a),"/"==t&&(je(e.a)||"."!=r&&".."!=r&&"@"!=r&&"*"!=r&&!/(?![0-9])[\w]/.test(r)))return new Ie;r=new Ie,ot(e,"Missing next location step."),t=ct(e,t),n.push(t)}else{e:{switch(r=(t=De(e.a)).charAt(0)){case"$":throw Error("Variable reference not allowed in HTML XPath");case"(":Ce(e.a),t=nt(e),ot(e,'unclosed "("'),it(e,")");break;case'"':case"'":t=st(e);break;default:if(isNaN(+t)){if(Oe(t)||!/(?![0-9])[\w]/.test(r)||"("!=De(e.a,1)){t=null;break e}for(t=Ce(e.a),t=Se[t]||null,Ce(e.a),r=[];")"!=De(e.a)&&(ot(e,"Missing function argument list."),r.push(nt(e)),","==De(e.a));)Ce(e.a);ot(e,"Unclosed function argument list."),at(e),t=new xe(t,r)}else t=new tt(+Ce(e.a))}"["==De(e.a)&&(t=new Ee(t,r=new Xe(lt(e))))}if(t){if(!Ue(De(e.a)))return t;r=t}else t=ct(e,"/"),r=new ke,n.push(t)}for(;Ue(De(e.a));)t=Ce(e.a),ot(e,"Missing next location step."),t=ct(e,t),n.push(t);return new Me(r,n)}function ct(e,t){var r,n,o,i;if("/"!=t&&"//"!=t)throw Error('Step op should be "/" or "//"');if("."==De(e.a))return n=new Ye(Ze,new Ne("node")),Ce(e.a),n;if(".."==De(e.a))return n=new Ye(Ke,new Ne("node")),Ce(e.a),n;if("@"==De(e.a))i=ze,Ce(e.a),ot(e,"Missing attribute name");else if("::"==De(e.a,1)){if(!/(?![0-9])[\w]/.test(De(e.a).charAt(0)))throw Error("Bad token: "+Ce(e.a));if(r=Ce(e.a),!(i=qe[r]||null))throw Error("No axis with name: "+r);Ce(e.a),ot(e,"Missing node name")}else i=$e;if(r=De(e.a),!/(?![0-9])[\w\*]/.test(r.charAt(0)))throw Error("Bad token: "+Ce(e.a));if("("==De(e.a,1)){if(!Oe(r))throw Error("Invalid node type: "+r);if(!Oe(r=Ce(e.a)))throw Error("Invalid type name: "+r);it(e,"("),ot(e,"Bad nodetype");var a=null;'"'!=(o=De(e.a).charAt(0))&&"'"!=o||(a=st(e)),ot(e,"Bad nodetype"),at(e),r=new Ne(r,a)}else if(-1==(o=(r=Ce(e.a)).indexOf(":")))r=new Le(r);else{var s;if("*"==(a=r.substring(0,o)))s="*";else if(!(s=e.b(a)))throw Error("Namespace prefix not declared: "+a);r=new Le(r=r.substr(o+1),s)}return o=new Xe(lt(e),i.a),n||new Ye(i,r,o,"//"==t)}function lt(e){for(var t=[];"["==De(e.a);){Ce(e.a),ot(e,"Missing predicate expression.");var r=nt(e);t.push(r),ot(e,"Unclosed predicate expression."),it(e,"]")}return t}function ft(e){if("-"==De(e.a))return Ce(e.a),new et(ft(e));var t=ut(e);if("|"!=De(e.a))e=t;else{for(t=[t];"|"==Ce(e.a);)ot(e,"Missing next union location path."),t.push(ut(e));e.a.a--,e=new Fe(t)}return e}function ht(e){switch(e.nodeType){case 1:return function(e,t){var r=Array.prototype.slice.call(arguments,1);return function(){var t=r.slice();return t.push.apply(t,arguments),e.apply(this,t)}}(dt,e);case 9:return ht(e.documentElement);case 11:case 10:case 6:case 12:return pt;default:return e.parentNode?ht(e.parentNode):pt}}function pt(){return null}function dt(e,t){if(e.prefix==t)return e.namespaceURI||"http://www.w3.org/1999/xhtml";var r=e.getAttributeNode("xmlns:"+t);return r&&r.specified?r.value||null:e.parentNode&&9!=e.parentNode.nodeType?dt(e.parentNode,t):null}function yt(e,t){if(!e.length)throw Error("Empty XPath expression.");var r=function(e){e=e.match(Pe);for(var t=0;t<e.length;t++)Ae.test(e[t])&&e.splice(t,1);return new Re(e)}(e);if(je(r))throw Error("Invalid XPath expression.");t?"function"==function(e){var t=n(e);if("object"==t){if(!e)return"null";if(e instanceof Array)return"array";if(e instanceof Object)return t;var r=Object.prototype.toString.call(e);if("[object Window]"==r)return"object";if("[object Array]"==r||"number"==typeof e.length&&void 0!==e.splice&&void 0!==e.propertyIsEnumerable&&!e.propertyIsEnumerable("splice"))return"array";if("[object Function]"==r||void 0!==e.call&&void 0!==e.propertyIsEnumerable&&!e.propertyIsEnumerable("call"))return"function"}else if("function"==t&&void 0===e.call)return"object";return t}(t)||(t=a(t.lookupNamespaceURI,t)):t=function(){return null};var o=nt(new rt(r,t));if(!je(r))throw Error("Bad token: "+Ce(r));this.evaluate=function(e,t){return new mt(o.a(new we(e)),t)}}function mt(e,t){if(0==t)if(e instanceof K)t=4;else if("string"==typeof e)t=2;else if("number"==typeof e)t=1;else{if("boolean"!=typeof e)throw Error("Unexpected evaluation result.");t=3}if(2!=t&&1!=t&&3!=t&&!(e instanceof K))throw Error("value could not be converted to the specified type");var r;switch(this.resultType=t,t){case 2:this.stringValue=e instanceof K?ne(e):""+e;break;case 1:this.numberValue=e instanceof K?+ne(e):+e;break;case 3:this.booleanValue=e instanceof K?0<e.l:!!e;break;case 4:case 5:case 6:case 7:var n=oe(e);r=[];for(var o=ae(n);o;o=ae(n))r.push(o instanceof M?o.a:o);this.snapshotLength=e.l,this.invalidIteratorState=!1;break;case 8:case 9:n=re(e),this.singleNodeValue=n instanceof M?n.a:n;break;default:throw Error("Unknown XPathResult type.")}var i=0;this.iterateNext=function(){if(4!=t&&5!=t)throw Error("iterateNext called with wrong result type");return i>=r.length?null:r[i++]},this.snapshotItem=function(e){if(6!=t&&7!=t)throw Error("snapshotItem called with wrong result type");return e>=r.length||0>e?null:r[e]}}function gt(e){this.lookupNamespaceURI=ht(e)}function vt(e,r){var n=e||t,o=n.Document&&n.Document.prototype||n.document;o.evaluate&&!r||(n.XPathResult=mt,o.evaluate=function(e,t,r,n){return new yt(e,r).evaluate(t,n)},o.createExpression=function(e,t){return new yt(e,t)},o.createNSResolver=function(e){return new gt(e)})}s(et),et.prototype.a=function(e){return-fe(this.c,e)},et.prototype.toString=function(){return"Unary Expression: -"+ue(this.c)},s(tt),tt.prototype.a=function(){return this.c},tt.prototype.toString=function(){return"Number: "+this.c},mt.ANY_TYPE=0,mt.NUMBER_TYPE=1,mt.STRING_TYPE=2,mt.BOOLEAN_TYPE=3,mt.UNORDERED_NODE_ITERATOR_TYPE=4,mt.ORDERED_NODE_ITERATOR_TYPE=5,mt.UNORDERED_NODE_SNAPSHOT_TYPE=6,mt.ORDERED_NODE_SNAPSHOT_TYPE=7,mt.ANY_UNORDERED_NODE_TYPE=8,mt.FIRST_ORDERED_NODE_TYPE=9;var bt,wt=["wgxpath","install"],Et=t;wt[0]in Et||!Et.execScript||Et.execScript("var "+wt[0]);for(;wt.length&&(bt=wt.shift());)wt.length||void 0===vt?Et=Et[bt]?Et[bt]:Et[bt]={}:Et[bt]=vt;e.exports.install=vt,e.exports.XPathResultType={ANY_TYPE:0,NUMBER_TYPE:1,STRING_TYPE:2,BOOLEAN_TYPE:3,UNORDERED_NODE_ITERATOR_TYPE:4,ORDERED_NODE_ITERATOR_TYPE:5,UNORDERED_NODE_SNAPSHOT_TYPE:6,ORDERED_NODE_SNAPSHOT_TYPE:7,ANY_UNORDERED_NODE_TYPE:8,FIRST_ORDERED_NODE_TYPE:9}}).call(r.g)}},t={};function r(n){var o=t[n];if(void 0!==o)return o.exports;var i=t[n]={exports:{}};return e[n].call(i.exports,i,i.exports,r),i.exports}r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var n={};(()=>{"use strict";r.d(n,{default:()=>h});var e=r(345),t=r.n(e);function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(void 0,i=function(e,t){if("object"!==o(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==o(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(n.key),"symbol"===o(i)?i:String(i)),n)}var i}r(848).install();var a=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,r;return t=e,r=[{key:"XPathSelectSingleNode",value:function(t,r){try{if(t.selectSingleNode&&"function"==typeof t.selectSingleNode){var n=t.selectSingleNode(r);if(n)return n}}catch(e){}if(!e.__xpe&&window.XPathEvaluator)try{e.__xpe=new XPathEvaluator}catch(e){}if(!e.__xpe){var o=(r=document.createExpression(r,null)).evaluate(t,7,null);return o.snapshotLength?o.snapshotItem(0):null}var i=e.__xpe;try{return i.evaluate(r,t,i.createNSResolver(t),XPathResult.FIRST_ORDERED_NODE_TYPE,null).singleNodeValue}catch(e){throw new Error("selectSingleNode: query: "+r+", element: "+t+", error: "+e)}}},{key:"XPathSelectNodes",value:function(t,r){try{if("function"==typeof t.selectNodes){try{t.ownerDocument&&t.ownerDocument.setProperty?t.ownerDocument.setProperty("SelectionLanguage","XPath"):t.setProperty&&t.setProperty("SelectionLanguage","XPath")}catch(e){}var n=Array.from(t.selectNodes(r));if(n)return n}}catch(e){}var o=e.__xpe;if(!o&&window.XPathEvaluator)try{e.__xpe=o=new XPathEvaluator}catch(e){}var i,a,s=[];if(!e.__xpe){for(i=(r=document.createExpression(r,null)).evaluate(t,7,null),s=[],a=0;a<i.snapshotLength;a++)Element.extend?s[a]=Element.extend(i.snapshotItem(a)):s[a]=i.snapshotItem(a);return s}try{i=o.evaluate(r,t,o.createNSResolver(t),XPathResult.ORDERED_NODE_SNAPSHOT_TYPE,null)}catch(e){throw new Error("selectNodes: query: "+r+", element: "+t+", error: "+e)}for(a=0;a<i.snapshotLength;a++)s[a]=i.snapshotItem(a);return s}},{key:"XPathGetSingleNodeText",value:function(t,r){var n=e.XPathSelectSingleNode(t,r);return e.getDomNodeText(n)}},{key:"getDomNodeText",value:function(t){var r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!t||!t.nodeType)return null;switch(t.nodeType){case 1:var n,o=[],i=t.childNodes,a=i.length;for(n=0;n<a;n++)o[n]=e.getDomNodeText(i[n],r);return o.join("");case 2:return t.value;case 3:return t.nodeValue;case 4:if(r)return t.nodeValue}return null}},{key:"parseXml",value:function(e){if(void 0!==window.DOMParser)return(new window.DOMParser).parseFromString(e,"text/xml");if(void 0!==window.ActiveXObject&&new window.ActiveXObject("MSXML2.DOMDocument.6.0")){var t=new window.ActiveXObject("MSXML2.DOMDocument.6.0");return t.validateOnParse=!1,t.async=!1,t.loadXML(e),t.setProperty("SelectionLanguage","XPath"),t}throw new Error("Cannot parse XML string")}}],null&&i(t.prototype,null),r&&i(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function s(e){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}function u(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(void 0,o=function(e,t){if("object"!==s(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==s(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(n.key),"symbol"===s(o)?o:String(o)),n)}var o}r(372);var c=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._pydio=window.pydio,this._baseUrl=t||window.ajxpServerAccessPath,this._libUrl=window.ajxpResourcesFolder+"/dist",this._parameters=new Map,this._method="post",this.discrete=!1}var t,r,n;return t=e,r=[{key:"setMethod",value:function(e){this._method=e}},{key:"showLoader",value:function(){!this.discrete&&this._pydio&&this._pydio.notify("connection-start")}},{key:"hideLoader",value:function(){!this.discrete&&this._pydio&&this._pydio.notify("connection-end")}},{key:"send",value:function(){var e=this;this.showLoader();var t=this,r={method:this._method,credentials:"same-origin"},n=this._baseUrl,o=[];this._parameters.forEach((function(e,t){e instanceof Array?e.map((function(e){o.push(t+"="+encodeURIComponent(e))})):o.push(t+"="+encodeURIComponent(e))}));var i=o.join("&");"post"===this._method?(r.headers={"Content-type":"application/x-www-form-urlencoded; charset=UTF-8"},r.body=i):n+=(n.indexOf("?")>-1?"&":"?")+i,window.fetch(n,r).then((function(e){var r=e.headers.get("Content-type");return-1!==r.indexOf("/json")?e.json().then((function(r){t.applyComplete({responseJSON:r},e)})):-1!==r.indexOf("/xml")?e.text().then((function(r){t.applyComplete({responseXML:a.parseXml(r)},e)})):e.text().then((function(r){t.applyComplete({responseText:r},e)})),e})).catch((function(t){e._pydio&&e._pydio.displayMessage("ERROR","Network error "+t.message)}))}},{key:"applyComplete",value:function(e,t){this.hideLoader();var r,n,o=this._pydio,i="Ooops, it seems that your security token has expired! Please %s by hitting refresh or F5 in your browser!",s="reload the page";window.MessageHash&&window.MessageHash[437]&&(i=window.MessageHash[437],s=window.MessageHash[438]),n=i.replace("%s","<a href='javascript:document.location.reload()' style='text-decoration: underline;'>"+s+"</a>");var u=t.headers.get("Content-type");if(e.responseXML&&e.responseXML.documentElement&&"parsererror"==e.responseXML.documentElement.nodeName?r="Parsing error : \n"+e.responseXML.documentElement.firstChild.textContent:e.responseXML&&e.responseXML.parseError&&0!=e.responseXML.parseError.errorCode?r="Parsing Error : \n"+e.responseXML.parseError.reason:u.indexOf("text/xml")>-1&&null==e.responseXML?r="Expected XML but got empty response!":-1==u.indexOf("text/xml")&&-1==u.indexOf("application/json")&&e.responseText.indexOf("<b>Fatal error</b>")>-1?r=e.responseText.replace("<br />",""):500==t.status&&(r="Internal Server Error: you should check your web server logs to find what's going wrong!"),r&&(r.startsWith("You are not allowed to access this resource.")&&(r=n),o?o.displayMessage("ERROR",r):alert(r)),e.responseXML&&e.responseXML.documentElement){if(a.XPathSelectSingleNode(e.responseXML.documentElement,"require_auth")&&o){var c=o.getContextHolder().getRootNode();c&&(o.getContextHolder().setContextNode(c),c.clear()),o.getController().fireAction("logout"),o.getController().fireAction("login")}var l=a.XPathSelectSingleNode(e.responseXML.documentElement,"message");if(l){var f=l.getAttribute("type").toUpperCase(),h=a.getDomNodeText(l);h.startsWith("You are not allowed to access this resource.")&&(h=n),o?o.displayMessage(f,h):"ERROR"==f&&alert(f+":"+h),"SUCCESS"==f&&l.parentNode.removeChild(l)}}this.onComplete&&(e.status=t.status,e.responseObject=t,this.onComplete(e)),o&&o.fire("server_answer",this)}},{key:"uploadFile",value:function(e,t,r){var n=this,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:function(){},i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:function(){},a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:function(){},s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:{},u=this.initializeXHRForUpload(r,o,i,a,s);if(s&&"PUT"===s.method)return u.send(e),u;if(window.FormData)this.sendFileUsingFormData(u,e,t);else if(window.FileReader){var c=new FileReader;c.onload=function(r){n.xhrSendAsBinary(u,e.name,r.target.result,t)},c.readAsBinaryString(e)}else e.getAsBinary&&this.xhrSendAsBinary(u,e.name,e.getAsBinary(),t);return u}},{key:"initializeXHRForUpload",value:function(e,t,r,n){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},i=new XMLHttpRequest,a=i.upload;o.withCredentials&&(i.withCredentials=!0),a.addEventListener("progress",(function(e){e.lengthComputable&&n(e)}),!1),i.onreadystatechange=function(){4===i.readyState&&(200===i.status?t(i):r(i))}.bind(this),a.onerror=function(){r(i)};var s="POST";return o.method&&(s=o.method),i.open(s,e,!0),o.customHeaders&&Object.keys(o.customHeaders).forEach((function(e){i.setRequestHeader(e,o.customHeaders[e])})),i}},{key:"sendFileUsingFormData",value:function(e,t,r){var n=new FormData;n.append(r,t),e.send(n)}},{key:"xhrSendAsBinary",value:function(e,t,r,n){var o="----MultiPartFormBoundary"+(new Date).getTime();e.setRequestHeader("Content-Type","multipart/form-data, boundary="+o);var i="--"+o+"\r\n";i+="Content-Disposition: form-data; name='"+n+"'; filename='"+unescape(encodeURIComponent(t))+"'\r\n",i+="Content-Type: application/octet-stream\r\n\r\n",i+=r+"\r\n",i+="--"+o+"--\r\n",e.sendAsBinary(i)}},{key:"loadLibrary",value:function(e,t,r){window.pydioBootstrap&&window.pydioBootstrap.parameters.get("ajxpVersion")&&-1===e.indexOf("?")&&(e+="?v="+window.pydioBootstrap.parameters.get("ajxpVersion"));var n=this._libUrl?this._libUrl+"/"+e:e,o=this._pydio,i=function(r){try{if(window.execScript)window.execScript(r);else{window.my_code=r;var n=document.getElementsByTagName("head")[0],i=document.createElement("script");i.type="text/javascript",i.innerHTML="eval(window.my_code)",n.appendChild(i),delete window.my_code,n.removeChild(i)}null!=t&&t()}catch(t){alert("error loading "+e+":"+t.message),console&&console.error(t)}o&&o.fire("server_answer")};if(r)window.fetch(n,{method:"GET",credentials:"same-origin"}).then((function(e){return e.text()})).then((function(e){i(e)}));else{var a=new XMLHttpRequest;a.onreadystatechange=function(){4==a.readyState&&(200===a.status?i(a.responseText):alert("error loading "+e+": Status code was "+a.status))}.bind(this),a.open("GET",n,!1),a.send()}}}],n=[{key:"log",value:function(t,r){e.PydioLogs||(e.PydioLogs=[]),e.PydioLogs.push({action:t,sync:r})}}],r&&u(t.prototype,r),n&&u(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function l(e){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l(e)}function f(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(void 0,o=function(e,t){if("object"!==l(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==l(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(n.key),"symbol"===l(o)?o:String(o)),n)}var o}var h=function(){function e(r){var n=this;for(var o in function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.parameters=new Map,r)r.hasOwnProperty(o)&&this.parameters.set(o,r[o]);this.detectBaseParameters(),this.parameters.get("ALERT")&&window.setTimeout((function(){window.alert(n.parameters.get("ALERT"))}),0),t()(function(){var e=!1;try{if(window.opener&&window.opener.pydioBootstrap&&this.parameters.get("serverAccessPath")===window.opener.pydioBootstrap.parameters.get("serverAccessPath")){this.parameters=window.opener.pydioBootstrap.parameters;var t=document.location.href.toQueryParams();t.external_selector_type?this.parameters.set("SELECTOR_DATA",{type:t.external_selector_type,data:t}):this.parameters.get("SELECTOR_DATA")&&this.parameters.unset("SELECTOR_DATA"),this.refreshContextVariablesAndInit(new c),e=!0}}catch(e){window.console&&console.log&&console.log(e)}e||this.loadBootConfig()}.bind(this)),window.Connexion=c,window.pydioBootstrap=this}var r,n;return r=e,(n=[{key:"loadBootConfig",value:function(){var e=this;if(this.parameters.get("PRELOADED_BOOT_CONF")){var t=this.parameters.get("PRELOADED_BOOT_CONF");for(var r in t)t.hasOwnProperty(r)&&this.parameters.set(r,t[r]);this.refreshContextVariablesAndInit(new c)}else{var n=this.parameters.get("BOOTER_URL")+(this.parameters.get("debugMode")?"&debug=true":"");this.parameters.get("SERVER_PREFIX_URI")&&(n+="&server_prefix_uri="+this.parameters.get("SERVER_PREFIX_URI").replace(/\.\.\//g,"_UP_/"));var o=new c(n);o.onComplete=function(t){var r;t.responseJSON&&(r=t.responseJSON),"object"===l(r)&&Object.keys(r).forEach((function(t){e.parameters.set(t,r[t])})),e.refreshContextVariablesAndInit(o)},o.send()}}},{key:"refreshContextVariablesAndInit",value:function(e){var t=this.parameters.get("cssResources");t&&t.map(this.loadCSSResource.bind(this)),this.parameters.get("ajxpResourcesFolder")&&(e._libUrl=this.parameters.get("ajxpResourcesFolder")+"/dist",window.ajxpResourcesFolder=this.parameters.get("ajxpResourcesFolder")+"/themes/"+this.parameters.get("theme")),this.parameters.get("additional_js_resource")&&e.loadLibrary(this.parameters.get("additional_js_resource?v="+this.parameters.get("ajxpVersion")),null,!0),window.MessageHash=this.parameters.get("i18nMessages"),Object.keys(MessageHash).length||alert("Ooups, this should not happen, your message file is empty!"),Object.keys(MessageHash).forEach((function(e){MessageHash[e]=MessageHash[e].replace("\\n","\n")})),window.zipEnabled=this.parameters.get("zipEnabled"),window.multipleFilesDownloadEnabled=this.parameters.get("multipleFilesDownloadEnabled");var r=function(){var e=new Pydio(this.parameters);window.pydio=e,e.observe("actions_loaded",function(){!this.parameters.get("SELECTOR_DATA")&&e.getController().actions.get("ext_select")?(e.getController().actions._object?e.getController().actions.unset("ext_select"):e.getController().actions.delete("ext_select"),e.getController().fireContextChange(),e.getController().fireSelectionChange()):this.parameters.get("SELECTOR_DATA")&&e.getController().defaultActions.set("file","ext_select")}.bind(this)),e.observe("loaded",function(t){this.parameters.get("SELECTOR_DATA")&&(e.getController().defaultActions.set("file","ext_select"),e.getController().selectorData=this.parameters.get("SELECTOR_DATA"))}.bind(this)),this.parameters.get("currentLanguage")&&(e.currentLanguage=this.parameters.get("currentLanguage")),e.init()}.bind(this);this.parameters.get("debugMode")?r():e.loadLibrary("core/pydio.min.js?v="+this.parameters.get("ajxpVersion"),r,!0)}},{key:"detectBaseParameters",value:function(){for(var e=document.getElementsByTagName("script"),t=0;t<e.length;t++){var r=e[t];if(r.src.match("/dist/boot/pydio.boot.min.js")||r.src.match("/dist/boot.prod.js")){r.src.match("/dist/boot/pydio.boot.min.js")?this.parameters.set("debugMode",!1):this.parameters.set("debugMode",!0);var n=r.src.replace("/dist/boot/boot.prod.js","").replace("/dist/boot/pydio.boot.min.js","");-1!==n.indexOf("?")&&(n=n.split("?")[0]),this.parameters.set("ajxpResourcesFolder",n)}}this.parameters.get("ajxpResourcesFolder")?window.ajxpResourcesFolder=this.parameters.get("ajxpResourcesFolder"):alert("Cannot find resource folder");var o=this.parameters.get("BOOTER_URL");o.indexOf("?")>-1&&(o=o.substring(0,o.indexOf("?"))),this.parameters.set("ajxpServerAccessPath",o),this.parameters.set("serverAccessPath",o),window.ajxpServerAccessPath=o}},{key:"loadCSSResource",value:function(e){var t=document.getElementsByTagName("head")[0],r=document.createElement("link");r.type="text/css",r.rel="stylesheet",r.href=this.parameters.get("ajxpResourcesFolder")+"/"+e,r.media="screen",t.appendChild(r)}}])&&f(r.prototype,n),Object.defineProperty(r,"prototype",{writable:!1}),e}()})(),window.PydioBootstrap=n.default})();