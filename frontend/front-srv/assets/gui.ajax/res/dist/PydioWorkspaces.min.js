!function(f){"object"==typeof exports&&"undefined"!=typeof module?module.exports=f():"function"==typeof define&&define.amd?define([],f):("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).PydioWorkspaces=f()}(function(){return function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c="function"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);throw(f=new Error("Cannot find module '"+i+"'")).code="MODULE_NOT_FOUND",f}c=n[i]={exports:{}},e[i][0].call(c.exports,function(r){return o(e[i][1][r]||r)},c,c.exports,r,e,n,t)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}({1:[function(require,module,exports){var cachedSetTimeout,cachedClearTimeout,module=module.exports={};function defaultSetTimout(){throw new Error("setTimeout has not been defined")}function defaultClearTimeout(){throw new Error("clearTimeout has not been defined")}try{cachedSetTimeout="function"==typeof setTimeout?setTimeout:defaultSetTimout}catch(e){cachedSetTimeout=defaultSetTimout}try{cachedClearTimeout="function"==typeof clearTimeout?clearTimeout:defaultClearTimeout}catch(e){cachedClearTimeout=defaultClearTimeout}function runTimeout(fun){if(cachedSetTimeout===setTimeout)return setTimeout(fun,0);if((cachedSetTimeout===defaultSetTimout||!cachedSetTimeout)&&setTimeout)return(cachedSetTimeout=setTimeout)(fun,0);try{return cachedSetTimeout(fun,0)}catch(e){try{return cachedSetTimeout.call(null,fun,0)}catch(e){return cachedSetTimeout.call(this,fun,0)}}}var currentQueue,queue=[],draining=!1,queueIndex=-1;function cleanUpNextTick(){draining&&currentQueue&&(draining=!1,currentQueue.length?queue=currentQueue.concat(queue):queueIndex=-1,queue.length&&drainQueue())}function drainQueue(){if(!draining){for(var timeout=runTimeout(cleanUpNextTick),len=(draining=!0,queue.length);len;){for(currentQueue=queue,queue=[];++queueIndex<len;)currentQueue&&currentQueue[queueIndex].run();queueIndex=-1,len=queue.length}currentQueue=null,draining=!1,!function(marker){if(cachedClearTimeout===clearTimeout)return clearTimeout(marker);if((cachedClearTimeout===defaultClearTimeout||!cachedClearTimeout)&&clearTimeout)return(cachedClearTimeout=clearTimeout)(marker);try{cachedClearTimeout(marker)}catch(e){try{return cachedClearTimeout.call(null,marker)}catch(e){return cachedClearTimeout.call(this,marker)}}}(timeout)}}function Item(fun,array){this.fun=fun,this.array=array}function noop(){}module.nextTick=function(fun){var args=new Array(arguments.length-1);if(1<arguments.length)for(var i=1;i<arguments.length;i++)args[i-1]=arguments[i];queue.push(new Item(fun,args)),1!==queue.length||draining||runTimeout(drainQueue)},Item.prototype.run=function(){this.fun.apply(null,this.array)},module.title="browser",module.browser=!0,module.env={},module.argv=[],module.version="",module.versions={},module.on=noop,module.addListener=noop,module.once=noop,module.off=noop,module.removeListener=noop,module.removeAllListeners=noop,module.emit=noop,module.prependListener=noop,module.prependOnceListener=noop,module.listeners=function(name){return[]},module.binding=function(name){throw new Error("process.binding is not supported")},module.cwd=function(){return"/"},module.chdir=function(dir){throw new Error("process.chdir is not supported")},module.umask=function(){return 0}},{}],2:[function(require,module,exports){!function(global){!function(){var win="undefined"!=typeof window?window:void 0!==global?global:"undefined"!=typeof self?self:{};module.exports=win}.call(this)}.call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],3:[function(require,module,exports){!function(global){!function(){!function(){var undefined,FUNC_ERROR_TEXT="Expected a function",PLACEHOLDER="__lodash_placeholder__",NAN=NaN,wrapFlags=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]],argsTag="[object Arguments]",arrayTag="[object Array]",boolTag="[object Boolean]",dateTag="[object Date]",errorTag="[object Error]",funcTag="[object Function]",genTag="[object GeneratorFunction]",mapTag="[object Map]",numberTag="[object Number]",objectTag="[object Object]",regexpTag="[object RegExp]",setTag="[object Set]",stringTag="[object String]",symbolTag="[object Symbol]",weakMapTag="[object WeakMap]",arrayBufferTag="[object ArrayBuffer]",dataViewTag="[object DataView]",float32Tag="[object Float32Array]",float64Tag="[object Float64Array]",int8Tag="[object Int8Array]",int16Tag="[object Int16Array]",int32Tag="[object Int32Array]",uint8Tag="[object Uint8Array]",uint16Tag="[object Uint16Array]",uint32Tag="[object Uint32Array]",reEmptyStringLeading=/\b__p \+= '';/g,reEmptyStringMiddle=/\b(__p \+=) '' \+/g,reEmptyStringTrailing=/(__e\(.*?\)|\b__t\)) \+\n'';/g,reEscapedHtml=/&(?:amp|lt|gt|quot|#39);/g,reUnescapedHtml=/[&<>"']/g,reHasEscapedHtml=RegExp(reEscapedHtml.source),reHasUnescapedHtml=RegExp(reUnescapedHtml.source),reEscape=/<%-([\s\S]+?)%>/g,reEvaluate=/<%([\s\S]+?)%>/g,reInterpolate=/<%=([\s\S]+?)%>/g,reIsDeepProp=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,reIsPlainProp=/^\w*$/,rePropName=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,reRegExpChar=/[\\^$.*+?()[\]{}|]/g,reHasRegExpChar=RegExp(reRegExpChar.source),reTrimStart=/^\s+/,reWhitespace=/\s/,reWrapComment=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,reWrapDetails=/\{\n\/\* \[wrapped with (.+)\] \*/,reSplitDetails=/,? & /,reAsciiWord=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,reForbiddenIdentifierChars=/[()=,{}\[\]\/\s]/,reEscapeChar=/\\(\\)?/g,reEsTemplate=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,reFlags=/\w*$/,reIsBadHex=/^[-+]0x[0-9a-f]+$/i,reIsBinary=/^0b[01]+$/i,reIsHostCtor=/^\[object .+?Constructor\]$/,reIsOctal=/^0o[0-7]+$/i,reIsUint=/^(?:0|[1-9]\d*)$/,reLatin=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,reNoMatch=/($^)/,reUnescapedString=/['\n\r\u2028\u2029\\]/g,rsComboRange="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",rsBreakRange="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",rsAstral="[\\ud800-\\udfff]",rsBreak="["+rsBreakRange+"]",rsCombo="["+rsComboRange+"]",rsDingbat="[\\u2700-\\u27bf]",rsLower="[a-z\\xdf-\\xf6\\xf8-\\xff]",rsBreakRange="[^\\ud800-\\udfff"+rsBreakRange+"\\d+\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde]",rsFitz="\\ud83c[\\udffb-\\udfff]",rsNonAstral="[^\\ud800-\\udfff]",rsRegional="(?:\\ud83c[\\udde6-\\uddff]){2}",rsSurrPair="[\\ud800-\\udbff][\\udc00-\\udfff]",rsUpper="[A-Z\\xc0-\\xd6\\xd8-\\xde]",rsBreakRange="(?:"+rsLower+"|"+rsBreakRange+")",reOptMod="(?:"+rsCombo+"|"+rsFitz+")"+"?",reOptMod="[\\ufe0e\\ufe0f]?"+reOptMod+("(?:\\u200d(?:"+[rsNonAstral,rsRegional,rsSurrPair].join("|")+")[\\ufe0e\\ufe0f]?"+reOptMod+")*"),rsDingbat="(?:"+[rsDingbat,rsRegional,rsSurrPair].join("|")+")"+reOptMod,rsNonAstral="(?:"+[rsNonAstral+rsCombo+"?",rsCombo,rsRegional,rsSurrPair,rsAstral].join("|")+")",reApos=RegExp("['’]","g"),reComboMark=RegExp(rsCombo,"g"),reUnicode=RegExp(rsFitz+"(?="+rsFitz+")|"+rsNonAstral+reOptMod,"g"),reUnicodeWord=RegExp([rsUpper+"?"+rsLower+"+(?:['’](?:d|ll|m|re|s|t|ve))?(?="+[rsBreak,rsUpper,"$"].join("|")+")","(?:[A-Z\\xc0-\\xd6\\xd8-\\xde]|[^\\ud800-\\udfff\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000\\d+\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde])+(?:['’](?:D|LL|M|RE|S|T|VE))?(?="+[rsBreak,rsUpper+rsBreakRange,"$"].join("|")+")",rsUpper+"?"+rsBreakRange+"+(?:['’](?:d|ll|m|re|s|t|ve))?",rsUpper+"+(?:['’](?:D|LL|M|RE|S|T|VE))?","\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])","\\d+",rsDingbat].join("|"),"g"),reHasUnicode=RegExp("[\\u200d\\ud800-\\udfff"+rsComboRange+"\\ufe0e\\ufe0f]"),reHasUnicodeWord=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,contextProps=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],templateCounter=-1,typedArrayTags={},cloneableTags=(typedArrayTags[float32Tag]=typedArrayTags[float64Tag]=typedArrayTags[int8Tag]=typedArrayTags[int16Tag]=typedArrayTags[int32Tag]=typedArrayTags[uint8Tag]=typedArrayTags["[object Uint8ClampedArray]"]=typedArrayTags[uint16Tag]=typedArrayTags[uint32Tag]=!0,typedArrayTags[argsTag]=typedArrayTags[arrayTag]=typedArrayTags[arrayBufferTag]=typedArrayTags[boolTag]=typedArrayTags[dataViewTag]=typedArrayTags[dateTag]=typedArrayTags[errorTag]=typedArrayTags[funcTag]=typedArrayTags[mapTag]=typedArrayTags[numberTag]=typedArrayTags[objectTag]=typedArrayTags[regexpTag]=typedArrayTags[setTag]=typedArrayTags[stringTag]=typedArrayTags[weakMapTag]=!1,{}),stringEscapes=(cloneableTags[argsTag]=cloneableTags[arrayTag]=cloneableTags[arrayBufferTag]=cloneableTags[dataViewTag]=cloneableTags[boolTag]=cloneableTags[dateTag]=cloneableTags[float32Tag]=cloneableTags[float64Tag]=cloneableTags[int8Tag]=cloneableTags[int16Tag]=cloneableTags[int32Tag]=cloneableTags[mapTag]=cloneableTags[numberTag]=cloneableTags[objectTag]=cloneableTags[regexpTag]=cloneableTags[setTag]=cloneableTags[stringTag]=cloneableTags[symbolTag]=cloneableTags[uint8Tag]=cloneableTags["[object Uint8ClampedArray]"]=cloneableTags[uint16Tag]=cloneableTags[uint32Tag]=!0,cloneableTags[errorTag]=cloneableTags[funcTag]=cloneableTags[weakMapTag]=!1,{"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"}),freeParseFloat=parseFloat,freeParseInt=parseInt,rsRegional="object"==typeof global&&global&&global.Object===Object&&global,rsSurrPair="object"==typeof self&&self&&self.Object===Object&&self,root=rsRegional||rsSurrPair||Function("return this")(),rsAstral="object"==typeof exports&&exports&&!exports.nodeType&&exports,freeModule=rsAstral&&"object"==typeof module&&module&&!module.nodeType&&module,moduleExports=freeModule&&freeModule.exports===rsAstral,freeProcess=moduleExports&&rsRegional.process,rsCombo=function(){try{var types=freeModule&&freeModule.require&&freeModule.require("util").types;return types?types:freeProcess&&freeProcess.binding&&freeProcess.binding("util")}catch(e){}}(),nodeIsArrayBuffer=rsCombo&&rsCombo.isArrayBuffer,nodeIsDate=rsCombo&&rsCombo.isDate,nodeIsMap=rsCombo&&rsCombo.isMap,nodeIsRegExp=rsCombo&&rsCombo.isRegExp,nodeIsSet=rsCombo&&rsCombo.isSet,nodeIsTypedArray=rsCombo&&rsCombo.isTypedArray;function apply(func,thisArg,args){switch(args.length){case 0:return func.call(thisArg);case 1:return func.call(thisArg,args[0]);case 2:return func.call(thisArg,args[0],args[1]);case 3:return func.call(thisArg,args[0],args[1],args[2])}return func.apply(thisArg,args)}function arrayAggregator(array,setter,iteratee,accumulator){for(var index=-1,length=null==array?0:array.length;++index<length;){var value=array[index];setter(accumulator,value,iteratee(value),array)}return accumulator}function arrayEach(array,iteratee){for(var index=-1,length=null==array?0:array.length;++index<length&&!1!==iteratee(array[index],index,array););return array}function arrayEachRight(array,iteratee){for(var length=null==array?0:array.length;length--&&!1!==iteratee(array[length],length,array););return array}function arrayEvery(array,predicate){for(var index=-1,length=null==array?0:array.length;++index<length;)if(!predicate(array[index],index,array))return!1;return!0}function arrayFilter(array,predicate){for(var index=-1,length=null==array?0:array.length,resIndex=0,result=[];++index<length;){var value=array[index];predicate(value,index,array)&&(result[resIndex++]=value)}return result}function arrayIncludes(array,value){return!!(null==array?0:array.length)&&-1<baseIndexOf(array,value,0)}function arrayIncludesWith(array,value,comparator){for(var index=-1,length=null==array?0:array.length;++index<length;)if(comparator(value,array[index]))return!0;return!1}function arrayMap(array,iteratee){for(var index=-1,length=null==array?0:array.length,result=Array(length);++index<length;)result[index]=iteratee(array[index],index,array);return result}function arrayPush(array,values){for(var index=-1,length=values.length,offset=array.length;++index<length;)array[offset+index]=values[index];return array}function arrayReduce(array,iteratee,accumulator,initAccum){var index=-1,length=null==array?0:array.length;for(initAccum&&length&&(accumulator=array[++index]);++index<length;)accumulator=iteratee(accumulator,array[index],index,array);return accumulator}function arrayReduceRight(array,iteratee,accumulator,initAccum){var length=null==array?0:array.length;for(initAccum&&length&&(accumulator=array[--length]);length--;)accumulator=iteratee(accumulator,array[length],length,array);return accumulator}function arraySome(array,predicate){for(var index=-1,length=null==array?0:array.length;++index<length;)if(predicate(array[index],index,array))return!0;return!1}var asciiSize=baseProperty("length");function baseFindKey(collection,predicate,eachFunc){var result;return eachFunc(collection,function(value,key,collection){if(predicate(value,key,collection))return result=key,!1}),result}function baseFindIndex(array,predicate,fromIndex,fromRight){for(var length=array.length,index=fromIndex+(fromRight?1:-1);fromRight?index--:++index<length;)if(predicate(array[index],index,array))return index;return-1}function baseIndexOf(array,value,fromIndex){return value==value?function(array,value,fromIndex){var index=fromIndex-1,length=array.length;for(;++index<length;)if(array[index]===value)return index;return-1}(array,value,fromIndex):baseFindIndex(array,baseIsNaN,fromIndex)}function baseIndexOfWith(array,value,fromIndex,comparator){for(var index=fromIndex-1,length=array.length;++index<length;)if(comparator(array[index],value))return index;return-1}function baseIsNaN(value){return value!=value}function baseMean(array,iteratee){var length=null==array?0:array.length;return length?baseSum(array,iteratee)/length:NAN}function baseProperty(key){return function(object){return null==object?undefined:object[key]}}function basePropertyOf(object){return function(key){return null==object?undefined:object[key]}}function baseReduce(collection,iteratee,accumulator,initAccum,eachFunc){return eachFunc(collection,function(value,index,collection){accumulator=initAccum?(initAccum=!1,value):iteratee(accumulator,value,index,collection)}),accumulator}function baseSum(array,iteratee){for(var result,index=-1,length=array.length;++index<length;){var current=iteratee(array[index]);current!==undefined&&(result=result===undefined?current:result+current)}return result}function baseTimes(n,iteratee){for(var index=-1,result=Array(n);++index<n;)result[index]=iteratee(index);return result}function baseTrim(string){return string&&string.slice(0,trimmedEndIndex(string)+1).replace(reTrimStart,"")}function baseUnary(func){return function(value){return func(value)}}function baseValues(object,props){return arrayMap(props,function(key){return object[key]})}function cacheHas(cache,key){return cache.has(key)}function charsStartIndex(strSymbols,chrSymbols){for(var index=-1,length=strSymbols.length;++index<length&&-1<baseIndexOf(chrSymbols,strSymbols[index],0););return index}function charsEndIndex(strSymbols,chrSymbols){for(var index=strSymbols.length;index--&&-1<baseIndexOf(chrSymbols,strSymbols[index],0););return index}var deburrLetter=basePropertyOf({"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss","Ā":"A","Ă":"A","Ą":"A","ā":"a","ă":"a","ą":"a","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","ć":"c","ĉ":"c","ċ":"c","č":"c","Ď":"D","Đ":"D","ď":"d","đ":"d","Ē":"E","Ĕ":"E","Ė":"E","Ę":"E","Ě":"E","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","Ĝ":"G","Ğ":"G","Ġ":"G","Ģ":"G","ĝ":"g","ğ":"g","ġ":"g","ģ":"g","Ĥ":"H","Ħ":"H","ĥ":"h","ħ":"h","Ĩ":"I","Ī":"I","Ĭ":"I","Į":"I","İ":"I","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","Ļ":"L","Ľ":"L","Ŀ":"L","Ł":"L","ĺ":"l","ļ":"l","ľ":"l","ŀ":"l","ł":"l","Ń":"N","Ņ":"N","Ň":"N","Ŋ":"N","ń":"n","ņ":"n","ň":"n","ŋ":"n","Ō":"O","Ŏ":"O","Ő":"O","ō":"o","ŏ":"o","ő":"o","Ŕ":"R","Ŗ":"R","Ř":"R","ŕ":"r","ŗ":"r","ř":"r","Ś":"S","Ŝ":"S","Ş":"S","Š":"S","ś":"s","ŝ":"s","ş":"s","š":"s","Ţ":"T","Ť":"T","Ŧ":"T","ţ":"t","ť":"t","ŧ":"t","Ũ":"U","Ū":"U","Ŭ":"U","Ů":"U","Ű":"U","Ų":"U","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","Ż":"Z","Ž":"Z","ź":"z","ż":"z","ž":"z","Ĳ":"IJ","ĳ":"ij","Œ":"Oe","œ":"oe","ŉ":"'n","ſ":"s"}),escapeHtmlChar=basePropertyOf({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function escapeStringChar(chr){return"\\"+stringEscapes[chr]}function hasUnicode(string){return reHasUnicode.test(string)}function mapToArray(map){var index=-1,result=Array(map.size);return map.forEach(function(value,key){result[++index]=[key,value]}),result}function overArg(func,transform){return function(arg){return func(transform(arg))}}function replaceHolders(array,placeholder){for(var index=-1,length=array.length,resIndex=0,result=[];++index<length;){var value=array[index];value!==placeholder&&value!==PLACEHOLDER||(array[index]=PLACEHOLDER,result[resIndex++]=index)}return result}function setToArray(set){var index=-1,result=Array(set.size);return set.forEach(function(value){result[++index]=value}),result}function setToPairs(set){var index=-1,result=Array(set.size);return set.forEach(function(value){result[++index]=[value,value]}),result}function stringSize(string){return(hasUnicode(string)?function(string){var result=reUnicode.lastIndex=0;for(;reUnicode.test(string);)++result;return result}:asciiSize)(string)}function stringToArray(string){return hasUnicode(string)?function(string){return string.match(reUnicode)||[]}(string):string.split("")}function trimmedEndIndex(string){for(var index=string.length;index--&&reWhitespace.test(string.charAt(index)););return index}var unescapeHtmlChar=basePropertyOf({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"});var _=function runInContext(context){var Array=(context=null==context?root:_.defaults(root.Object(),context,_.pick(root,contextProps))).Array,Date=context.Date,Error=context.Error,Function=context.Function,Math=context.Math,Object=context.Object,RegExp=context.RegExp,String=context.String,TypeError=context.TypeError,arrayProto=Array.prototype,funcProto=Function.prototype,objectProto=Object.prototype,coreJsData=context["__core-js_shared__"],funcToString=funcProto.toString,hasOwnProperty=objectProto.hasOwnProperty,idCounter=0,maskSrcKey=(funcProto=/[^.]+$/.exec(coreJsData&&coreJsData.keys&&coreJsData.keys.IE_PROTO||""))?"Symbol(src)_1."+funcProto:"",nativeObjectToString=objectProto.toString,objectCtorString=funcToString.call(Object),oldDash=root._,reIsNative=RegExp("^"+funcToString.call(hasOwnProperty).replace(reRegExpChar,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),funcProto=moduleExports?context.Buffer:undefined,Symbol=context.Symbol,Uint8Array=context.Uint8Array,allocUnsafe=funcProto?funcProto.allocUnsafe:undefined,getPrototype=overArg(Object.getPrototypeOf,Object),objectCreate=Object.create,propertyIsEnumerable=objectProto.propertyIsEnumerable,splice=arrayProto.splice,spreadableSymbol=Symbol?Symbol.isConcatSpreadable:undefined,symIterator=Symbol?Symbol.iterator:undefined,symToStringTag=Symbol?Symbol.toStringTag:undefined,defineProperty=function(){try{var func=getNative(Object,"defineProperty");return func({},"",{}),func}catch(e){}}(),ctxClearTimeout=context.clearTimeout!==root.clearTimeout&&context.clearTimeout,ctxNow=Date&&Date.now!==root.Date.now&&Date.now,ctxSetTimeout=context.setTimeout!==root.setTimeout&&context.setTimeout,nativeCeil=Math.ceil,nativeFloor=Math.floor,nativeGetSymbols=Object.getOwnPropertySymbols,funcProto=funcProto?funcProto.isBuffer:undefined,nativeIsFinite=context.isFinite,nativeJoin=arrayProto.join,nativeKeys=overArg(Object.keys,Object),nativeMax=Math.max,nativeMin=Math.min,nativeNow=Date.now,nativeParseInt=context.parseInt,nativeRandom=Math.random,nativeReverse=arrayProto.reverse,Date=getNative(context,"DataView"),Map=getNative(context,"Map"),Promise=getNative(context,"Promise"),Set=getNative(context,"Set"),context=getNative(context,"WeakMap"),nativeCreate=getNative(Object,"create"),metaMap=context&&new context,realNames={},dataViewCtorString=toSource(Date),mapCtorString=toSource(Map),promiseCtorString=toSource(Promise),setCtorString=toSource(Set),weakMapCtorString=toSource(context),Symbol=Symbol?Symbol.prototype:undefined,symbolValueOf=Symbol?Symbol.valueOf:undefined,symbolToString=Symbol?Symbol.toString:undefined;function lodash(value){if(isObjectLike(value)&&!isArray(value)&&!(value instanceof LazyWrapper)){if(value instanceof LodashWrapper)return value;if(hasOwnProperty.call(value,"__wrapped__"))return wrapperClone(value)}return new LodashWrapper(value)}var baseCreate=function(proto){if(!isObject(proto))return{};if(objectCreate)return objectCreate(proto);object.prototype=proto;proto=new object;return object.prototype=undefined,proto};function object(){}function baseLodash(){}function LodashWrapper(value,chainAll){this.__wrapped__=value,this.__actions__=[],this.__chain__=!!chainAll,this.__index__=0,this.__values__=undefined}function LazyWrapper(value){this.__wrapped__=value,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=4294967295,this.__views__=[]}function Hash(entries){var index=-1,length=null==entries?0:entries.length;for(this.clear();++index<length;){var entry=entries[index];this.set(entry[0],entry[1])}}function ListCache(entries){var index=-1,length=null==entries?0:entries.length;for(this.clear();++index<length;){var entry=entries[index];this.set(entry[0],entry[1])}}function MapCache(entries){var index=-1,length=null==entries?0:entries.length;for(this.clear();++index<length;){var entry=entries[index];this.set(entry[0],entry[1])}}function SetCache(values){var index=-1,length=null==values?0:values.length;for(this.__data__=new MapCache;++index<length;)this.add(values[index])}function Stack(entries){entries=this.__data__=new ListCache(entries);this.size=entries.size}function arrayLikeKeys(value,inherited){var key,isArr=isArray(value),isArg=!isArr&&isArguments(value),isBuff=!isArr&&!isArg&&isBuffer(value),isType=!isArr&&!isArg&&!isBuff&&isTypedArray(value),skipIndexes=isArr||isArg||isBuff||isType,result=skipIndexes?baseTimes(value.length,String):[],length=result.length;for(key in value)!inherited&&!hasOwnProperty.call(value,key)||skipIndexes&&("length"==key||isBuff&&("offset"==key||"parent"==key)||isType&&("buffer"==key||"byteLength"==key||"byteOffset"==key)||isIndex(key,length))||result.push(key);return result}function arraySample(array){var length=array.length;return length?array[baseRandom(0,length-1)]:undefined}function arraySampleSize(array,n){return shuffleSelf(copyArray(array),baseClamp(n,0,array.length))}function arrayShuffle(array){return shuffleSelf(copyArray(array))}function assignMergeValue(object,key,value){(value===undefined||eq(object[key],value))&&(value!==undefined||key in object)||baseAssignValue(object,key,value)}function assignValue(object,key,value){var objValue=object[key];hasOwnProperty.call(object,key)&&eq(objValue,value)&&(value!==undefined||key in object)||baseAssignValue(object,key,value)}function assocIndexOf(array,key){for(var length=array.length;length--;)if(eq(array[length][0],key))return length;return-1}function baseAggregator(collection,setter,iteratee,accumulator){return baseEach(collection,function(value,key,collection){setter(accumulator,value,iteratee(value),collection)}),accumulator}function baseAssign(object,source){return object&&copyObject(source,keys(source),object)}function baseAssignValue(object,key,value){"__proto__"==key&&defineProperty?defineProperty(object,key,{configurable:!0,enumerable:!0,value:value,writable:!0}):object[key]=value}function baseAt(object,paths){for(var index=-1,length=paths.length,result=Array(length),skip=null==object;++index<length;)result[index]=skip?undefined:get(object,paths[index]);return result}function baseClamp(number,lower,upper){return number==number&&(upper!==undefined&&(number=number<=upper?number:upper),lower!==undefined&&(number=lower<=number?number:lower)),number}function baseClone(value,bitmask,customizer,key,object,stack){var result,isDeep=1&bitmask,isFlat=2&bitmask,isFull=4&bitmask;if((result=customizer?object?customizer(value,key,object,stack):customizer(value):result)!==undefined)return result;if(!isObject(value))return value;key=isArray(value);if(key){if(result=function(array){var length=array.length,result=new array.constructor(length);length&&"string"==typeof array[0]&&hasOwnProperty.call(array,"index")&&(result.index=array.index,result.input=array.input);return result}(value),!isDeep)return copyArray(value,result)}else{var tag=getTag(value),isFunc=tag==funcTag||tag==genTag;if(isBuffer(value))return cloneBuffer(value,isDeep);if(tag==objectTag||tag==argsTag||isFunc&&!object){if(result=isFlat||isFunc?{}:initCloneObject(value),!isDeep)return isFlat?function(source,object){return copyObject(source,getSymbolsIn(source),object)}(value,function(object,source){return object&&copyObject(source,keysIn(source),object)}(result,value)):function(source,object){return copyObject(source,getSymbols(source),object)}(value,baseAssign(result,value))}else{if(!cloneableTags[tag])return object?value:{};result=function(object,tag,isDeep){var Ctor=object.constructor;switch(tag){case arrayBufferTag:return cloneArrayBuffer(object);case boolTag:case dateTag:return new Ctor(+object);case dataViewTag:return function(dataView,isDeep){isDeep=isDeep?cloneArrayBuffer(dataView.buffer):dataView.buffer;return new dataView.constructor(isDeep,dataView.byteOffset,dataView.byteLength)}(object,isDeep);case float32Tag:case float64Tag:case int8Tag:case int16Tag:case int32Tag:case uint8Tag:case"[object Uint8ClampedArray]":case uint16Tag:case uint32Tag:return cloneTypedArray(object,isDeep);case mapTag:return new Ctor;case numberTag:case stringTag:return new Ctor(object);case regexpTag:return function(regexp){var result=new regexp.constructor(regexp.source,reFlags.exec(regexp));return result.lastIndex=regexp.lastIndex,result}(object);case setTag:return new Ctor;case symbolTag:return function(symbol){return symbolValueOf?Object(symbolValueOf.call(symbol)):{}}(object)}}(value,tag,isDeep)}}isFunc=(stack=stack||new Stack).get(value);if(isFunc)return isFunc;stack.set(value,result),isSet(value)?value.forEach(function(subValue){result.add(baseClone(subValue,bitmask,customizer,subValue,value,stack))}):isMap(value)&&value.forEach(function(subValue,key){result.set(key,baseClone(subValue,bitmask,customizer,key,value,stack))});var props=key?undefined:(isFull?isFlat?getAllKeysIn:getAllKeys:isFlat?keysIn:keys)(value);return arrayEach(props||value,function(subValue,key){props&&(subValue=value[key=subValue]),assignValue(result,key,baseClone(subValue,bitmask,customizer,key,value,stack))}),result}function baseConformsTo(object,source,props){var length=props.length;if(null==object)return!length;for(object=Object(object);length--;){var key=props[length],predicate=source[key],value=object[key];if(value===undefined&&!(key in object)||!predicate(value))return!1}return!0}function baseDelay(func,wait,args){if("function"!=typeof func)throw new TypeError(FUNC_ERROR_TEXT);return setTimeout(function(){func.apply(undefined,args)},wait)}function baseDifference(array,values,iteratee,comparator){var index=-1,includes=arrayIncludes,isCommon=!0,length=array.length,result=[],valuesLength=values.length;if(!length)return result;iteratee&&(values=arrayMap(values,baseUnary(iteratee))),comparator?(includes=arrayIncludesWith,isCommon=!1):200<=values.length&&(includes=cacheHas,isCommon=!1,values=new SetCache(values));outer:for(;++index<length;){var value=array[index],computed=null==iteratee?value:iteratee(value),value=comparator||0!==value?value:0;if(isCommon&&computed==computed){for(var valuesIndex=valuesLength;valuesIndex--;)if(values[valuesIndex]===computed)continue outer;result.push(value)}else includes(values,computed,comparator)||result.push(value)}return result}lodash.templateSettings={escape:reEscape,evaluate:reEvaluate,interpolate:reInterpolate,variable:"",imports:{_:lodash}},(lodash.prototype=baseLodash.prototype).constructor=lodash,(LodashWrapper.prototype=baseCreate(baseLodash.prototype)).constructor=LodashWrapper,(LazyWrapper.prototype=baseCreate(baseLodash.prototype)).constructor=LazyWrapper,Hash.prototype.clear=function(){this.__data__=nativeCreate?nativeCreate(null):{},this.size=0},Hash.prototype.delete=function(key){return key=this.has(key)&&delete this.__data__[key],this.size-=key?1:0,key},Hash.prototype.get=function(key){var result,data=this.__data__;return nativeCreate?"__lodash_hash_undefined__"===(result=data[key])?undefined:result:hasOwnProperty.call(data,key)?data[key]:undefined},Hash.prototype.has=function(key){var data=this.__data__;return nativeCreate?data[key]!==undefined:hasOwnProperty.call(data,key)},Hash.prototype.set=function(key,value){var data=this.__data__;return this.size+=this.has(key)?0:1,data[key]=nativeCreate&&value===undefined?"__lodash_hash_undefined__":value,this},ListCache.prototype.clear=function(){this.__data__=[],this.size=0},ListCache.prototype.delete=function(key){var data=this.__data__;return!((key=assocIndexOf(data,key))<0)&&(key==data.length-1?data.pop():splice.call(data,key,1),--this.size,!0)},ListCache.prototype.get=function(key){var data=this.__data__;return(key=assocIndexOf(data,key))<0?undefined:data[key][1]},ListCache.prototype.has=function(key){return-1<assocIndexOf(this.__data__,key)},ListCache.prototype.set=function(key,value){var data=this.__data__,index=assocIndexOf(data,key);return index<0?(++this.size,data.push([key,value])):data[index][1]=value,this},MapCache.prototype.clear=function(){this.size=0,this.__data__={hash:new Hash,map:new(Map||ListCache),string:new Hash}},MapCache.prototype.delete=function(key){return key=getMapData(this,key).delete(key),this.size-=key?1:0,key},MapCache.prototype.get=function(key){return getMapData(this,key).get(key)},MapCache.prototype.has=function(key){return getMapData(this,key).has(key)},MapCache.prototype.set=function(key,value){var data=getMapData(this,key),size=data.size;return data.set(key,value),this.size+=data.size==size?0:1,this},SetCache.prototype.add=SetCache.prototype.push=function(value){return this.__data__.set(value,"__lodash_hash_undefined__"),this},SetCache.prototype.has=function(value){return this.__data__.has(value)},Stack.prototype.clear=function(){this.__data__=new ListCache,this.size=0},Stack.prototype.delete=function(key){var data=this.__data__,key=data.delete(key);return this.size=data.size,key},Stack.prototype.get=function(key){return this.__data__.get(key)},Stack.prototype.has=function(key){return this.__data__.has(key)},Stack.prototype.set=function(key,value){var data=this.__data__;if(data instanceof ListCache){var pairs=data.__data__;if(!Map||pairs.length<199)return pairs.push([key,value]),this.size=++data.size,this;data=this.__data__=new MapCache(pairs)}return data.set(key,value),this.size=data.size,this};var baseEach=createBaseEach(baseForOwn),baseEachRight=createBaseEach(baseForOwnRight,!0);function baseEvery(collection,predicate){var result=!0;return baseEach(collection,function(value,index,collection){return result=!!predicate(value,index,collection)}),result}function baseExtremum(array,iteratee,comparator){for(var index=-1,length=array.length;++index<length;){var computed,result,value=array[index],current=iteratee(value);null!=current&&(computed===undefined?current==current&&!isSymbol(current):comparator(current,computed))&&(computed=current,result=value)}return result}function baseFilter(collection,predicate){var result=[];return baseEach(collection,function(value,index,collection){predicate(value,index,collection)&&result.push(value)}),result}function baseFlatten(array,depth,predicate,isStrict,result){var index=-1,length=array.length;for(predicate=predicate||isFlattenable,result=result||[];++index<length;){var value=array[index];0<depth&&predicate(value)?1<depth?baseFlatten(value,depth-1,predicate,isStrict,result):arrayPush(result,value):isStrict||(result[result.length]=value)}return result}var baseFor=createBaseFor(),baseForRight=createBaseFor(!0);function baseForOwn(object,iteratee){return object&&baseFor(object,iteratee,keys)}function baseForOwnRight(object,iteratee){return object&&baseForRight(object,iteratee,keys)}function baseFunctions(object,props){return arrayFilter(props,function(key){return isFunction(object[key])})}function baseGet(object,path){for(var index=0,length=(path=castPath(path,object)).length;null!=object&&index<length;)object=object[toKey(path[index++])];return index&&index==length?object:undefined}function baseGetAllKeys(object,keysFunc,symbolsFunc){keysFunc=keysFunc(object);return isArray(object)?keysFunc:arrayPush(keysFunc,symbolsFunc(object))}function baseGetTag(value){return null==value?value===undefined?"[object Undefined]":"[object Null]":(symToStringTag&&symToStringTag in Object(value)?function(value){var isOwn=hasOwnProperty.call(value,symToStringTag),tag=value[symToStringTag];try{value[symToStringTag]=undefined;var unmasked=!0}catch(e){}var result=nativeObjectToString.call(value);unmasked&&(isOwn?value[symToStringTag]=tag:delete value[symToStringTag]);return result}:function(value){return nativeObjectToString.call(value)})(value)}function baseGt(value,other){return other<value}function baseHas(object,key){return null!=object&&hasOwnProperty.call(object,key)}function baseHasIn(object,key){return null!=object&&key in Object(object)}function baseIntersection(arrays,iteratee,comparator){for(var includes=comparator?arrayIncludesWith:arrayIncludes,length=arrays[0].length,othLength=arrays.length,othIndex=othLength,caches=Array(othLength),maxLength=1/0,result=[];othIndex--;){var array=arrays[othIndex];othIndex&&iteratee&&(array=arrayMap(array,baseUnary(iteratee))),maxLength=nativeMin(array.length,maxLength),caches[othIndex]=!comparator&&(iteratee||120<=length&&120<=array.length)?new SetCache(othIndex&&array):undefined}var array=arrays[0],index=-1,seen=caches[0];outer:for(;++index<length&&result.length<maxLength;){var value=array[index],computed=iteratee?iteratee(value):value,value=comparator||0!==value?value:0;if(!(seen?cacheHas(seen,computed):includes(result,computed,comparator))){for(othIndex=othLength;--othIndex;){var cache=caches[othIndex];if(!(cache?cacheHas(cache,computed):includes(arrays[othIndex],computed,comparator)))continue outer}seen&&seen.push(computed),result.push(value)}}return result}function baseInvoke(object,path,args){path=null==(object=parent(object,path=castPath(path,object)))?object:object[toKey(last(path))];return null==path?undefined:apply(path,object,args)}function baseIsArguments(value){return isObjectLike(value)&&baseGetTag(value)==argsTag}function baseIsEqual(value,other,bitmask,customizer,stack){return value===other||(null==value||null==other||!isObjectLike(value)&&!isObjectLike(other)?value!=value&&other!=other:function(object,other,bitmask,customizer,equalFunc,stack){var objIsArr=isArray(object),othIsArr=isArray(other),objTag=objIsArr?arrayTag:getTag(object),othIsArr=othIsArr?arrayTag:getTag(other),objIsObj=(objTag=objTag==argsTag?objectTag:objTag)==objectTag,othIsObj=(othIsArr=othIsArr==argsTag?objectTag:othIsArr)==objectTag,othIsArr=objTag==othIsArr;if(othIsArr&&isBuffer(object)){if(!isBuffer(other))return!1;objIsObj=!(objIsArr=!0)}if(othIsArr&&!objIsObj)return stack=stack||new Stack,objIsArr||isTypedArray(object)?equalArrays(object,other,bitmask,customizer,equalFunc,stack):function(object,other,tag,bitmask,customizer,equalFunc,stack){switch(tag){case dataViewTag:if(object.byteLength!=other.byteLength||object.byteOffset!=other.byteOffset)return!1;object=object.buffer,other=other.buffer;case arrayBufferTag:return object.byteLength==other.byteLength&&equalFunc(new Uint8Array(object),new Uint8Array(other))?!0:!1;case boolTag:case dateTag:case numberTag:return eq(+object,+other);case errorTag:return object.name==other.name&&object.message==other.message;case regexpTag:case stringTag:return object==other+"";case mapTag:var convert=mapToArray;case setTag:var isPartial=1&bitmask;if(convert=convert||setToArray,object.size!=other.size&&!isPartial)return!1;isPartial=stack.get(object);if(isPartial)return isPartial==other;bitmask|=2,stack.set(object,other);isPartial=equalArrays(convert(object),convert(other),bitmask,customizer,equalFunc,stack);return stack.delete(object),isPartial;case symbolTag:if(symbolValueOf)return symbolValueOf.call(object)==symbolValueOf.call(other)}return!1}(object,other,objTag,bitmask,customizer,equalFunc,stack);if(!(1&bitmask)){objIsArr=objIsObj&&hasOwnProperty.call(object,"__wrapped__"),objTag=othIsObj&&hasOwnProperty.call(other,"__wrapped__");if(objIsArr||objTag)return objIsObj=objIsArr?object.value():object,othIsObj=objTag?other.value():other,stack=stack||new Stack,equalFunc(objIsObj,othIsObj,bitmask,customizer,stack)}return othIsArr&&(stack=stack||new Stack,function(object,other,bitmask,customizer,equalFunc,stack){var isPartial=1&bitmask,objProps=getAllKeys(object),objLength=objProps.length,othLength=getAllKeys(other).length;if(objLength!=othLength&&!isPartial)return!1;var index=objLength;for(;index--;){var key=objProps[index];if(!(isPartial?key in other:hasOwnProperty.call(other,key)))return!1}var othLength=stack.get(object),othStacked=stack.get(other);if(othLength&&othStacked)return othLength==other&&othStacked==object;var result=!0,skipCtor=(stack.set(object,other),stack.set(other,object),isPartial);for(;++index<objLength;){key=objProps[index];var compared,objValue=object[key],othValue=other[key];if(!((compared=customizer?isPartial?customizer(othValue,objValue,key,other,object,stack):customizer(objValue,othValue,key,object,other,stack):compared)===undefined?objValue===othValue||equalFunc(objValue,othValue,bitmask,customizer,stack):compared)){result=!1;break}skipCtor=skipCtor||"constructor"==key}result&&!skipCtor&&(othLength=object.constructor,othStacked=other.constructor,othLength!=othStacked&&"constructor"in object&&"constructor"in other&&!("function"==typeof othLength&&othLength instanceof othLength&&"function"==typeof othStacked&&othStacked instanceof othStacked)&&(result=!1));return stack.delete(object),stack.delete(other),result}(object,other,bitmask,customizer,equalFunc,stack))}(value,other,bitmask,customizer,baseIsEqual,stack))}function baseIsMatch(object,source,matchData,customizer){var index=matchData.length,length=index,noCustomizer=!customizer;if(null==object)return!length;for(object=Object(object);index--;){var data=matchData[index];if(noCustomizer&&data[2]?data[1]!==object[data[0]]:!(data[0]in object))return!1}for(;++index<length;){var key=(data=matchData[index])[0],objValue=object[key],srcValue=data[1];if(noCustomizer&&data[2]){if(objValue===undefined&&!(key in object))return!1}else{var result,stack=new Stack;if(!((result=customizer?customizer(objValue,srcValue,key,object,source,stack):result)===undefined?baseIsEqual(srcValue,objValue,3,customizer,stack):result))return!1}}return!0}function baseIsNative(value){return!(!isObject(value)||(func=value,maskSrcKey&&maskSrcKey in func))&&(isFunction(value)?reIsNative:reIsHostCtor).test(toSource(value));var func}function baseIteratee(value){return"function"==typeof value?value:null==value?identity:"object"==typeof value?isArray(value)?baseMatchesProperty(value[0],value[1]):baseMatches(value):property(value)}function baseKeys(object){if(!isPrototype(object))return nativeKeys(object);var key,result=[];for(key in Object(object))hasOwnProperty.call(object,key)&&"constructor"!=key&&result.push(key);return result}function baseKeysIn(object){if(!isObject(object))return function(object){var result=[];if(null!=object)for(var key in Object(object))result.push(key);return result}(object);var key,isProto=isPrototype(object),result=[];for(key in object)("constructor"!=key||!isProto&&hasOwnProperty.call(object,key))&&result.push(key);return result}function baseLt(value,other){return value<other}function baseMap(collection,iteratee){var index=-1,result=isArrayLike(collection)?Array(collection.length):[];return baseEach(collection,function(value,key,collection){result[++index]=iteratee(value,key,collection)}),result}function baseMatches(source){var matchData=getMatchData(source);return 1==matchData.length&&matchData[0][2]?matchesStrictComparable(matchData[0][0],matchData[0][1]):function(object){return object===source||baseIsMatch(object,source,matchData)}}function baseMatchesProperty(path,srcValue){return isKey(path)&&isStrictComparable(srcValue)?matchesStrictComparable(toKey(path),srcValue):function(object){var objValue=get(object,path);return objValue===undefined&&objValue===srcValue?hasIn(object,path):baseIsEqual(srcValue,objValue,3)}}function baseMerge(object,source,srcIndex,customizer,stack){object!==source&&baseFor(source,function(srcValue,key){var newValue;stack=stack||new Stack,isObject(srcValue)?function(object,source,key,srcIndex,mergeFunc,customizer,stack){var isArr,isBuff,isTyped,objValue=safeGet(object,key),srcValue=safeGet(source,key),stacked=stack.get(srcValue);stacked?assignMergeValue(object,key,stacked):(stacked=customizer?customizer(objValue,srcValue,key+"",object,source,stack):undefined,(source=stacked===undefined)&&(isArr=isArray(srcValue),isBuff=!isArr&&isBuffer(srcValue),isTyped=!isArr&&!isBuff&&isTypedArray(srcValue),stacked=srcValue,isArr||isBuff||isTyped?stacked=isArray(objValue)?objValue:isArrayLikeObject(objValue)?copyArray(objValue):isBuff?cloneBuffer(srcValue,!(source=!1)):isTyped?cloneTypedArray(srcValue,!(source=!1)):[]:isPlainObject(srcValue)||isArguments(srcValue)?isArguments(stacked=objValue)?stacked=toPlainObject(objValue):isObject(objValue)&&!isFunction(objValue)||(stacked=initCloneObject(srcValue)):source=!1),source&&(stack.set(srcValue,stacked),mergeFunc(stacked,srcValue,srcIndex,customizer,stack),stack.delete(srcValue)),assignMergeValue(object,key,stacked))}(object,source,key,srcIndex,baseMerge,customizer,stack):(newValue=customizer?customizer(safeGet(object,key),srcValue,key+"",object,source,stack):undefined,assignMergeValue(object,key,newValue=newValue===undefined?srcValue:newValue))},keysIn)}function baseNth(array,n){var length=array.length;if(length)return isIndex(n+=n<0?length:0,length)?array[n]:undefined}function baseOrderBy(collection,iteratees,orders){iteratees=iteratees.length?arrayMap(iteratees,function(iteratee){return isArray(iteratee)?function(value){return baseGet(value,1===iteratee.length?iteratee[0]:iteratee)}:iteratee}):[identity];var index=-1;iteratees=arrayMap(iteratees,baseUnary(getIteratee()));var array=baseMap(collection,function(value,key,collection){return{criteria:arrayMap(iteratees,function(iteratee){return iteratee(value)}),index:++index,value:value}}),collection=function(object,other){return function(object,other,orders){var index=-1,objCriteria=object.criteria,othCriteria=other.criteria,length=objCriteria.length,ordersLength=orders.length;for(;++index<length;){var result=compareAscending(objCriteria[index],othCriteria[index]);if(result){if(ordersLength<=index)return result;var order=orders[index];return result*("desc"==order?-1:1)}}return object.index-other.index}(object,other,orders)},length=array.length;for(array.sort(collection);length--;)array[length]=array[length].value;return array}function basePickBy(object,paths,predicate){for(var index=-1,length=paths.length,result={};++index<length;){var path=paths[index],value=baseGet(object,path);predicate(value,path)&&baseSet(result,castPath(path,object),value)}return result}function basePullAll(array,values,iteratee,comparator){var indexOf=comparator?baseIndexOfWith:baseIndexOf,index=-1,length=values.length,seen=array;for(array===values&&(values=copyArray(values)),iteratee&&(seen=arrayMap(array,baseUnary(iteratee)));++index<length;)for(var fromIndex=0,value=values[index],computed=iteratee?iteratee(value):value;-1<(fromIndex=indexOf(seen,computed,fromIndex,comparator));)seen!==array&&splice.call(seen,fromIndex,1),splice.call(array,fromIndex,1);return array}function basePullAt(array,indexes){for(var length=array?indexes.length:0,lastIndex=length-1;length--;){var previous,index=indexes[length];length!=lastIndex&&index===previous||(isIndex(previous=index)?splice.call(array,index,1):baseUnset(array,index))}}function baseRandom(lower,upper){return lower+nativeFloor(nativeRandom()*(upper-lower+1))}function baseRepeat(string,n){var result="";if(!string||n<1||9007199254740991<n)return result;for(;n%2&&(result+=string),(n=nativeFloor(n/2))&&(string+=string),n;);return result}function baseRest(func,start){return setToString(overRest(func,start,identity),func+"")}function baseSample(collection){return arraySample(values(collection))}function baseSampleSize(collection,n){collection=values(collection);return shuffleSelf(collection,baseClamp(n,0,collection.length))}function baseSet(object,path,value,customizer){if(!isObject(object))return object;for(var index=-1,length=(path=castPath(path,object)).length,lastIndex=length-1,nested=object;null!=nested&&++index<length;){var objValue,key=toKey(path[index]),newValue=value;if("__proto__"===key||"constructor"===key||"prototype"===key)return object;index!=lastIndex&&(objValue=nested[key],(newValue=customizer?customizer(objValue,key,nested):undefined)===undefined&&(newValue=isObject(objValue)?objValue:isIndex(path[index+1])?[]:{})),assignValue(nested,key,newValue),nested=nested[key]}return object}var baseSetData=metaMap?function(func,data){return metaMap.set(func,data),func}:identity,Symbol=defineProperty?function(func,string){return defineProperty(func,"toString",{configurable:!0,enumerable:!1,value:constant(string),writable:!0})}:identity;function baseShuffle(collection){return shuffleSelf(values(collection))}function baseSlice(array,start,end){for(var index=-1,length=array.length,result=((end=length<end?length:end)<0&&(end+=length),length=end<(start=start<0?length<-start?0:length+start:start)?0:end-start>>>0,start>>>=0,Array(length));++index<length;)result[index]=array[index+start];return result}function baseSome(collection,predicate){var result;return baseEach(collection,function(value,index,collection){return!(result=predicate(value,index,collection))}),!!result}function baseSortedIndex(array,value,retHighest){var low=0,high=null==array?low:array.length;if("number"==typeof value&&value==value&&high<=2147483647){for(;low<high;){var mid=low+high>>>1,computed=array[mid];null!==computed&&!isSymbol(computed)&&(retHighest?computed<=value:computed<value)?low=1+mid:high=mid}return high}return baseSortedIndexBy(array,value,identity,retHighest)}function baseSortedIndexBy(array,value,iteratee,retHighest){var low=0,high=null==array?0:array.length;if(0===high)return 0;for(var valIsNaN=(value=iteratee(value))!=value,valIsNull=null===value,valIsSymbol=isSymbol(value),valIsUndefined=value===undefined;low<high;){var mid=nativeFloor((low+high)/2),computed=iteratee(array[mid]),othIsDefined=computed!==undefined,othIsNull=null===computed,othIsReflexive=computed==computed,othIsSymbol=isSymbol(computed),othIsReflexive=valIsNaN?retHighest||othIsReflexive:valIsUndefined?othIsReflexive&&(retHighest||othIsDefined):valIsNull?othIsReflexive&&othIsDefined&&(retHighest||!othIsNull):valIsSymbol?othIsReflexive&&othIsDefined&&!othIsNull&&(retHighest||!othIsSymbol):!othIsNull&&!othIsSymbol&&(retHighest?computed<=value:computed<value);othIsReflexive?low=mid+1:high=mid}return nativeMin(high,4294967294)}function baseSortedUniq(array,iteratee){for(var index=-1,length=array.length,resIndex=0,result=[];++index<length;){var seen,value=array[index],computed=iteratee?iteratee(value):value;index&&eq(computed,seen)||(seen=computed,result[resIndex++]=0===value?0:value)}return result}function baseToNumber(value){return"number"==typeof value?value:isSymbol(value)?NAN:+value}function baseToString(value){if("string"==typeof value)return value;if(isArray(value))return arrayMap(value,baseToString)+"";if(isSymbol(value))return symbolToString?symbolToString.call(value):"";var result=value+"";return"0"==result&&1/value==-1/0?"-0":result}function baseUniq(array,iteratee,comparator){var index=-1,includes=arrayIncludes,length=array.length,isCommon=!0,result=[],seen=result;if(comparator)isCommon=!1,includes=arrayIncludesWith;else if(200<=length){var set=iteratee?null:createSet(array);if(set)return setToArray(set);isCommon=!1,includes=cacheHas,seen=new SetCache}else seen=iteratee?[]:result;outer:for(;++index<length;){var value=array[index],computed=iteratee?iteratee(value):value,value=comparator||0!==value?value:0;if(isCommon&&computed==computed){for(var seenIndex=seen.length;seenIndex--;)if(seen[seenIndex]===computed)continue outer;iteratee&&seen.push(computed),result.push(value)}else includes(seen,computed,comparator)||(seen!==result&&seen.push(computed),result.push(value))}return result}function baseUnset(object,path){return null==(object=parent(object,path=castPath(path,object)))||delete object[toKey(last(path))]}function baseUpdate(object,path,updater,customizer){return baseSet(object,path,updater(baseGet(object,path)),customizer)}function baseWhile(array,predicate,isDrop,fromRight){for(var length=array.length,index=fromRight?length:-1;(fromRight?index--:++index<length)&&predicate(array[index],index,array););return isDrop?baseSlice(array,fromRight?0:index,fromRight?index+1:length):baseSlice(array,fromRight?index+1:0,fromRight?length:index)}function baseWrapperValue(value,actions){var result=value;return arrayReduce(actions,function(result,action){return action.func.apply(action.thisArg,arrayPush([result],action.args))},result=value instanceof LazyWrapper?value.value():result)}function baseXor(arrays,iteratee,comparator){var length=arrays.length;if(length<2)return length?baseUniq(arrays[0]):[];for(var index=-1,result=Array(length);++index<length;)for(var array=arrays[index],othIndex=-1;++othIndex<length;)othIndex!=index&&(result[index]=baseDifference(result[index]||array,arrays[othIndex],iteratee,comparator));return baseUniq(baseFlatten(result,1),iteratee,comparator)}function baseZipObject(props,values,assignFunc){for(var index=-1,length=props.length,valsLength=values.length,result={};++index<length;){var value=index<valsLength?values[index]:undefined;assignFunc(result,props[index],value)}return result}function castArrayLikeObject(value){return isArrayLikeObject(value)?value:[]}function castFunction(value){return"function"==typeof value?value:identity}function castPath(value,object){return isArray(value)?value:isKey(value,object)?[value]:stringToPath(toString(value))}var castRest=baseRest;function castSlice(array,start,end){var length=array.length;return end=end===undefined?length:end,!start&&length<=end?array:baseSlice(array,start,end)}var clearTimeout=ctxClearTimeout||function(id){return root.clearTimeout(id)};function cloneBuffer(buffer,isDeep){if(isDeep)return buffer.slice();isDeep=buffer.length,isDeep=allocUnsafe?allocUnsafe(isDeep):new buffer.constructor(isDeep);return buffer.copy(isDeep),isDeep}function cloneArrayBuffer(arrayBuffer){var result=new arrayBuffer.constructor(arrayBuffer.byteLength);return new Uint8Array(result).set(new Uint8Array(arrayBuffer)),result}function cloneTypedArray(typedArray,isDeep){isDeep=isDeep?cloneArrayBuffer(typedArray.buffer):typedArray.buffer;return new typedArray.constructor(isDeep,typedArray.byteOffset,typedArray.length)}function compareAscending(value,other){if(value!==other){var valIsDefined=value!==undefined,valIsNull=null===value,valIsReflexive=value==value,valIsSymbol=isSymbol(value),othIsDefined=other!==undefined,othIsNull=null===other,othIsReflexive=other==other,othIsSymbol=isSymbol(other);if(!othIsNull&&!othIsSymbol&&!valIsSymbol&&other<value||valIsSymbol&&othIsDefined&&othIsReflexive&&!othIsNull&&!othIsSymbol||valIsNull&&othIsDefined&&othIsReflexive||!valIsDefined&&othIsReflexive||!valIsReflexive)return 1;if(!valIsNull&&!valIsSymbol&&!othIsSymbol&&value<other||othIsSymbol&&valIsDefined&&valIsReflexive&&!valIsNull&&!valIsSymbol||othIsNull&&valIsDefined&&valIsReflexive||!othIsDefined&&valIsReflexive||!othIsReflexive)return-1}return 0}function composeArgs(args,partials,holders,isCurried){for(var argsIndex=-1,argsLength=args.length,holdersLength=holders.length,leftIndex=-1,leftLength=partials.length,rangeLength=nativeMax(argsLength-holdersLength,0),result=Array(leftLength+rangeLength),isUncurried=!isCurried;++leftIndex<leftLength;)result[leftIndex]=partials[leftIndex];for(;++argsIndex<holdersLength;)(isUncurried||argsIndex<argsLength)&&(result[holders[argsIndex]]=args[argsIndex]);for(;rangeLength--;)result[leftIndex++]=args[argsIndex++];return result}function composeArgsRight(args,partials,holders,isCurried){for(var argsIndex=-1,argsLength=args.length,holdersIndex=-1,holdersLength=holders.length,rightIndex=-1,rightLength=partials.length,rangeLength=nativeMax(argsLength-holdersLength,0),result=Array(rangeLength+rightLength),isUncurried=!isCurried;++argsIndex<rangeLength;)result[argsIndex]=args[argsIndex];for(var offset=argsIndex;++rightIndex<rightLength;)result[offset+rightIndex]=partials[rightIndex];for(;++holdersIndex<holdersLength;)(isUncurried||argsIndex<argsLength)&&(result[offset+holders[holdersIndex]]=args[argsIndex++]);return result}function copyArray(source,array){var index=-1,length=source.length;for(array=array||Array(length);++index<length;)array[index]=source[index];return array}function copyObject(source,props,object,customizer){for(var isNew=!object,index=(object=object||{},-1),length=props.length;++index<length;){var key=props[index],newValue=customizer?customizer(object[key],source[key],key,object,source):undefined;(isNew?baseAssignValue:assignValue)(object,key,newValue=newValue===undefined?source[key]:newValue)}return object}function createAggregator(setter,initializer){return function(collection,iteratee){var func=isArray(collection)?arrayAggregator:baseAggregator,accumulator=initializer?initializer():{};return func(collection,setter,getIteratee(iteratee,2),accumulator)}}function createAssigner(assigner){return baseRest(function(object,sources){var index=-1,length=sources.length,customizer=1<length?sources[length-1]:undefined,guard=2<length?sources[2]:undefined,customizer=3<assigner.length&&"function"==typeof customizer?(length--,customizer):undefined;for(guard&&isIterateeCall(sources[0],sources[1],guard)&&(customizer=length<3?undefined:customizer,length=1),object=Object(object);++index<length;){var source=sources[index];source&&assigner(object,source,index,customizer)}return object})}function createBaseEach(eachFunc,fromRight){return function(collection,iteratee){if(null==collection)return collection;if(!isArrayLike(collection))return eachFunc(collection,iteratee);for(var length=collection.length,index=fromRight?length:-1,iterable=Object(collection);(fromRight?index--:++index<length)&&!1!==iteratee(iterable[index],index,iterable););return collection}}function createBaseFor(fromRight){return function(object,iteratee,keysFunc){for(var index=-1,iterable=Object(object),props=keysFunc(object),length=props.length;length--;){var key=props[fromRight?length:++index];if(!1===iteratee(iterable[key],key,iterable))break}return object}}function createCaseFirst(methodName){return function(string){var strSymbols=hasUnicode(string=toString(string))?stringToArray(string):undefined,chr=strSymbols?strSymbols[0]:string.charAt(0),strSymbols=strSymbols?castSlice(strSymbols,1).join(""):string.slice(1);return chr[methodName]()+strSymbols}}function createCompounder(callback){return function(string){return arrayReduce(words(deburr(string).replace(reApos,"")),callback,"")}}function createCtor(Ctor){return function(){var args=arguments;switch(args.length){case 0:return new Ctor;case 1:return new Ctor(args[0]);case 2:return new Ctor(args[0],args[1]);case 3:return new Ctor(args[0],args[1],args[2]);case 4:return new Ctor(args[0],args[1],args[2],args[3]);case 5:return new Ctor(args[0],args[1],args[2],args[3],args[4]);case 6:return new Ctor(args[0],args[1],args[2],args[3],args[4],args[5]);case 7:return new Ctor(args[0],args[1],args[2],args[3],args[4],args[5],args[6])}var thisBinding=baseCreate(Ctor.prototype),result=Ctor.apply(thisBinding,args);return isObject(result)?result:thisBinding}}function createCurry(func,bitmask,arity){var Ctor=createCtor(func);return function wrapper(){for(var length=arguments.length,args=Array(length),index=length,placeholder=getHolder(wrapper);index--;)args[index]=arguments[index];placeholder=length<3&&args[0]!==placeholder&&args[length-1]!==placeholder?[]:replaceHolders(args,placeholder);return(length-=placeholder.length)<arity?createRecurry(func,bitmask,createHybrid,wrapper.placeholder,undefined,args,placeholder,undefined,undefined,arity-length):apply(this&&this!==root&&this instanceof wrapper?Ctor:func,this,args)}}function createFind(findIndexFunc){return function(collection,predicate,fromIndex){var iteratee,iterable=Object(collection),predicate=(isArrayLike(collection)||(iteratee=getIteratee(predicate,3),collection=keys(collection),predicate=function(key){return iteratee(iterable[key],key,iterable)}),findIndexFunc(collection,predicate,fromIndex));return-1<predicate?iterable[iteratee?collection[predicate]:predicate]:undefined}}function createFlow(fromRight){return flatRest(function(funcs){var length=funcs.length,index=length,prereq=LodashWrapper.prototype.thru;for(fromRight&&funcs.reverse();index--;){var func=funcs[index];if("function"!=typeof func)throw new TypeError(FUNC_ERROR_TEXT);prereq&&!wrapper&&"wrapper"==getFuncName(func)&&(wrapper=new LodashWrapper([],!0))}for(index=wrapper?index:length;++index<length;)var funcName=getFuncName(func=funcs[index]),data="wrapper"==funcName?getData(func):undefined,wrapper=data&&isLaziable(data[0])&&424==data[1]&&!data[4].length&&1==data[9]?wrapper[getFuncName(data[0])].apply(wrapper,data[3]):1==func.length&&isLaziable(func)?wrapper[funcName]():wrapper.thru(func);return function(){var args=arguments,value=args[0];if(wrapper&&1==args.length&&isArray(value))return wrapper.plant(value).value();for(var index=0,result=length?funcs[index].apply(this,args):value;++index<length;)result=funcs[index].call(this,result);return result}})}function createHybrid(func,bitmask,thisArg,partials,holders,partialsRight,holdersRight,argPos,ary,arity){var isAry=128&bitmask,isBind=1&bitmask,isBindKey=2&bitmask,isCurried=24&bitmask,isFlip=512&bitmask,Ctor=isBindKey?undefined:createCtor(func);return function wrapper(){for(var args=Array(length=arguments.length),index=length;index--;)args[index]=arguments[index];if(isCurried&&(holdersCount=function(array,placeholder){for(var length=array.length,result=0;length--;)array[length]===placeholder&&++result;return result}(args,placeholder=getHolder(wrapper))),partials&&(args=composeArgs(args,partials,holders,isCurried)),partialsRight&&(args=composeArgsRight(args,partialsRight,holdersRight,isCurried)),length-=holdersCount,isCurried&&length<arity)return holdersCount=replaceHolders(args,placeholder),createRecurry(func,bitmask,createHybrid,wrapper.placeholder,thisArg,args,holdersCount,argPos,ary,arity-length);var placeholder=isBind?thisArg:this,holdersCount=isBindKey?placeholder[func]:func,length=args.length;return argPos?args=function(array,indexes){for(var arrLength=array.length,length=nativeMin(indexes.length,arrLength),oldArray=copyArray(array);length--;){var index=indexes[length];array[length]=isIndex(index,arrLength)?oldArray[index]:undefined}return array}(args,argPos):isFlip&&1<length&&args.reverse(),isAry&&ary<length&&(args.length=ary),(holdersCount=this&&this!==root&&this instanceof wrapper?Ctor||createCtor(holdersCount):holdersCount).apply(placeholder,args)}}function createInverter(setter,toIteratee){return function(object,iteratee){return function(object,setter,iteratee,accumulator){return baseForOwn(object,function(value,key,object){setter(accumulator,iteratee(value),key,object)}),accumulator}(object,setter,toIteratee(iteratee),{})}}function createMathOperation(operator,defaultValue){return function(value,other){var result;if(value===undefined&&other===undefined)return defaultValue;if(value!==undefined&&(result=value),other!==undefined){if(result===undefined)return other;other="string"==typeof value||"string"==typeof other?(value=baseToString(value),baseToString(other)):(value=baseToNumber(value),baseToNumber(other)),result=operator(value,other)}return result}}function createOver(arrayFunc){return flatRest(function(iteratees){return iteratees=arrayMap(iteratees,baseUnary(getIteratee())),baseRest(function(args){var thisArg=this;return arrayFunc(iteratees,function(iteratee){return apply(iteratee,thisArg,args)})})})}function createPadding(length,chars){var charsLength=(chars=chars===undefined?" ":baseToString(chars)).length;if(charsLength<2)return charsLength?baseRepeat(chars,length):chars;charsLength=baseRepeat(chars,nativeCeil(length/stringSize(chars)));return hasUnicode(chars)?castSlice(stringToArray(charsLength),0,length).join(""):charsLength.slice(0,length)}function createPartial(func,bitmask,thisArg,partials){var isBind=1&bitmask,Ctor=createCtor(func);return function wrapper(){for(var argsIndex=-1,argsLength=arguments.length,leftIndex=-1,leftLength=partials.length,args=Array(leftLength+argsLength),fn=this&&this!==root&&this instanceof wrapper?Ctor:func;++leftIndex<leftLength;)args[leftIndex]=partials[leftIndex];for(;argsLength--;)args[leftIndex++]=arguments[++argsIndex];return apply(fn,isBind?thisArg:this,args)}}function createRange(fromRight){return function(start,end,step){return step&&"number"!=typeof step&&isIterateeCall(start,end,step)&&(end=step=undefined),start=toFinite(start),end===undefined?(end=start,start=0):end=toFinite(end),function(start,end,step,fromRight){for(var index=-1,length=nativeMax(nativeCeil((end-start)/(step||1)),0),result=Array(length);length--;)result[fromRight?length:++index]=start,start+=step;return result}(start,end,step=step===undefined?start<end?1:-1:toFinite(step),fromRight)}}function createRelationalOperation(operator){return function(value,other){return"string"==typeof value&&"string"==typeof other||(value=toNumber(value),other=toNumber(other)),operator(value,other)}}function createRecurry(func,bitmask,wrapFunc,placeholder,thisArg,partials,holders,argPos,ary,arity){var isCurry=8&bitmask,thisArg=(4&(bitmask=(bitmask|(isCurry?32:64))&~(isCurry?64:32))||(bitmask&=-4),[func,bitmask,thisArg,isCurry?partials:undefined,isCurry?holders:undefined,isCurry?undefined:partials,isCurry?undefined:holders,argPos,ary,arity]),partials=wrapFunc.apply(undefined,thisArg);return isLaziable(func)&&setData(partials,thisArg),partials.placeholder=placeholder,setWrapToString(partials,func,bitmask)}function createRound(methodName){var func=Math[methodName];return function(number,precision){var pair;return number=toNumber(number),(precision=null==precision?0:nativeMin(toInteger(precision),292))&&nativeIsFinite(number)?(pair=(toString(number)+"e").split("e"),+((pair=(toString(func(pair[0]+"e"+(+pair[1]+precision)))+"e").split("e"))[0]+"e"+(+pair[1]-precision))):func(number)}}var createSet=Set&&1/setToArray(new Set([,-0]))[1]==1/0?function(values){return new Set(values)}:noop;function createToPairs(keysFunc){return function(object){var tag=getTag(object);return tag==mapTag?mapToArray(object):tag==setTag?setToPairs(object):function(object,props){return arrayMap(props,function(key){return[key,object[key]]})}(object,keysFunc(object))}}function createWrap(func,bitmask,thisArg,partials,holders,argPos,ary,arity){var isBindKey=2&bitmask;if(!isBindKey&&"function"!=typeof func)throw new TypeError(FUNC_ERROR_TEXT);var holdersRight,length=partials?partials.length:0,data=(length||(bitmask&=-97,partials=holders=undefined),ary=ary===undefined?ary:nativeMax(toInteger(ary),0),arity=arity===undefined?arity:toInteger(arity),length-=holders?holders.length:0,64&bitmask&&(partialsRight=partials,holdersRight=holders,partials=holders=undefined),isBindKey?undefined:getData(func)),partialsRight=[func,bitmask,thisArg,partials,holders,partialsRight,holdersRight,argPos,ary,arity];return data&&function(data,source){var bitmask=data[1],srcBitmask=source[1],newBitmask=bitmask|srcBitmask,isCommon=newBitmask<131,isCombo=128==srcBitmask&&8==bitmask||128==srcBitmask&&256==bitmask&&data[7].length<=source[8]||384==srcBitmask&&source[7].length<=source[8]&&8==bitmask;if(!isCommon&&!isCombo)return;1&srcBitmask&&(data[2]=source[2],newBitmask|=1&bitmask?0:4);isCommon=source[3];{var partials;isCommon&&(partials=data[3],data[3]=partials?composeArgs(partials,isCommon,source[4]):isCommon,data[4]=partials?replaceHolders(data[3],PLACEHOLDER):source[4])}(isCommon=source[5])&&(partials=data[5],data[5]=partials?composeArgsRight(partials,isCommon,source[6]):isCommon,data[6]=partials?replaceHolders(data[5],PLACEHOLDER):source[6]);(isCommon=source[7])&&(data[7]=isCommon);128&srcBitmask&&(data[8]=null==data[8]?source[8]:nativeMin(data[8],source[8]));null==data[9]&&(data[9]=source[9]);data[0]=source[0],data[1]=newBitmask}(partialsRight,data),func=partialsRight[0],bitmask=partialsRight[1],thisArg=partialsRight[2],partials=partialsRight[3],holders=partialsRight[4],!(arity=partialsRight[9]=partialsRight[9]===undefined?isBindKey?0:func.length:nativeMax(partialsRight[9]-length,0))&&24&bitmask&&(bitmask&=-25),holdersRight=bitmask&&1!=bitmask?8==bitmask||16==bitmask?createCurry(func,bitmask,arity):32!=bitmask&&33!=bitmask||holders.length?createHybrid.apply(undefined,partialsRight):createPartial(func,bitmask,thisArg,partials):function(func,bitmask,thisArg){var isBind=1&bitmask,Ctor=createCtor(func);return function wrapper(){return(this&&this!==root&&this instanceof wrapper?Ctor:func).apply(isBind?thisArg:this,arguments)}}(func,bitmask,thisArg),setWrapToString((data?baseSetData:setData)(holdersRight,partialsRight),func,bitmask)}function customDefaultsAssignIn(objValue,srcValue,key,object){return objValue===undefined||eq(objValue,objectProto[key])&&!hasOwnProperty.call(object,key)?srcValue:objValue}function customDefaultsMerge(objValue,srcValue,key,object,source,stack){return isObject(objValue)&&isObject(srcValue)&&(stack.set(srcValue,objValue),baseMerge(objValue,srcValue,undefined,customDefaultsMerge,stack),stack.delete(srcValue)),objValue}function customOmitClone(value){return isPlainObject(value)?undefined:value}function equalArrays(array,other,bitmask,customizer,equalFunc,stack){var isPartial=1&bitmask,arrLength=array.length,othLength=other.length;if(arrLength!=othLength&&!(isPartial&&arrLength<othLength))return!1;var othLength=stack.get(array),othStacked=stack.get(other);if(othLength&&othStacked)return othLength==other&&othStacked==array;var index=-1,result=!0,seen=2&bitmask?new SetCache:undefined;for(stack.set(array,other),stack.set(other,array);++index<arrLength;){var compared,arrValue=array[index],othValue=other[index];if((compared=customizer?isPartial?customizer(othValue,arrValue,index,other,array,stack):customizer(arrValue,othValue,index,array,other,stack):compared)!==undefined){if(compared)continue;result=!1;break}if(seen){if(!arraySome(other,function(othValue,othIndex){return!cacheHas(seen,othIndex)&&(arrValue===othValue||equalFunc(arrValue,othValue,bitmask,customizer,stack))&&seen.push(othIndex)})){result=!1;break}}else if(arrValue!==othValue&&!equalFunc(arrValue,othValue,bitmask,customizer,stack)){result=!1;break}}return stack.delete(array),stack.delete(other),result}function flatRest(func){return setToString(overRest(func,undefined,flatten),func+"")}function getAllKeys(object){return baseGetAllKeys(object,keys,getSymbols)}function getAllKeysIn(object){return baseGetAllKeys(object,keysIn,getSymbolsIn)}var getData=metaMap?function(func){return metaMap.get(func)}:noop;function getFuncName(func){for(var result=func.name+"",array=realNames[result],length=hasOwnProperty.call(realNames,result)?array.length:0;length--;){var data=array[length],otherFunc=data.func;if(null==otherFunc||otherFunc==func)return data.name}return result}function getHolder(func){return(hasOwnProperty.call(lodash,"placeholder")?lodash:func).placeholder}function getIteratee(){var result=(result=lodash.iteratee||iteratee)===iteratee?baseIteratee:result;return arguments.length?result(arguments[0],arguments[1]):result}function getMapData(map,key){var value,type,map=map.__data__;return("string"==(type=typeof(value=key))||"number"==type||"symbol"==type||"boolean"==type?"__proto__"!==value:null===value)?map["string"==typeof key?"string":"hash"]:map.map}function getMatchData(object){for(var result=keys(object),length=result.length;length--;){var key=result[length],value=object[key];result[length]=[key,value,isStrictComparable(value)]}return result}function getNative(object,key){object=function(object,key){return null==object?undefined:object[key]}(object,key);return baseIsNative(object)?object:undefined}var getSymbols=nativeGetSymbols?function(object){return null==object?[]:(object=Object(object),arrayFilter(nativeGetSymbols(object),function(symbol){return propertyIsEnumerable.call(object,symbol)}))}:stubArray,getSymbolsIn=nativeGetSymbols?function(object){for(var result=[];object;)arrayPush(result,getSymbols(object)),object=getPrototype(object);return result}:stubArray,getTag=baseGetTag;function hasPath(object,path,hasFunc){for(var index=-1,length=(path=castPath(path,object)).length,result=!1;++index<length;){var key=toKey(path[index]);if(!(result=null!=object&&hasFunc(object,key)))break;object=object[key]}return result||++index!=length?result:!!(length=null==object?0:object.length)&&isLength(length)&&isIndex(key,length)&&(isArray(object)||isArguments(object))}function initCloneObject(object){return"function"!=typeof object.constructor||isPrototype(object)?{}:baseCreate(getPrototype(object))}function isFlattenable(value){return isArray(value)||isArguments(value)||!!(spreadableSymbol&&value&&value[spreadableSymbol])}function isIndex(value,length){var type=typeof value;return!!(length=null==length?9007199254740991:length)&&("number"==type||"symbol"!=type&&reIsUint.test(value))&&-1<value&&value%1==0&&value<length}function isIterateeCall(value,index,object){var type;if(isObject(object))return type=typeof index,("number"==type?isArrayLike(object)&&isIndex(index,object.length):"string"==type&&index in object)&&eq(object[index],value)}function isKey(value,object){var type;if(!isArray(value))return type=typeof value,"number"==type||"symbol"==type||"boolean"==type||null==value||isSymbol(value)||(reIsPlainProp.test(value)||!reIsDeepProp.test(value)||null!=object&&value in Object(object))}function isLaziable(func){var funcName=getFuncName(func),other=lodash[funcName];if("function"==typeof other&&funcName in LazyWrapper.prototype){if(func===other)return 1;funcName=getData(other);return funcName&&func===funcName[0]}}(Date&&getTag(new Date(new ArrayBuffer(1)))!=dataViewTag||Map&&getTag(new Map)!=mapTag||Promise&&"[object Promise]"!=getTag(Promise.resolve())||Set&&getTag(new Set)!=setTag||context&&getTag(new context)!=weakMapTag)&&(getTag=function(value){var result=baseGetTag(value),value=result==objectTag?value.constructor:undefined,value=value?toSource(value):"";if(value)switch(value){case dataViewCtorString:return dataViewTag;case mapCtorString:return mapTag;case promiseCtorString:return"[object Promise]";case setCtorString:return setTag;case weakMapCtorString:return weakMapTag}return result});var isMaskable=coreJsData?isFunction:stubFalse;function isPrototype(value){var Ctor=value&&value.constructor;return value===("function"==typeof Ctor&&Ctor.prototype||objectProto)}function isStrictComparable(value){return value==value&&!isObject(value)}function matchesStrictComparable(key,srcValue){return function(object){return null!=object&&(object[key]===srcValue&&(srcValue!==undefined||key in Object(object)))}}function overRest(func,start,transform){return start=nativeMax(start===undefined?func.length-1:start,0),function(){for(var args=arguments,index=-1,length=nativeMax(args.length-start,0),array=Array(length);++index<length;)array[index]=args[start+index];for(var index=-1,otherArgs=Array(start+1);++index<start;)otherArgs[index]=args[index];return otherArgs[start]=transform(array),apply(func,this,otherArgs)}}function parent(object,path){return path.length<2?object:baseGet(object,baseSlice(path,0,-1))}function safeGet(object,key){if(("constructor"!==key||"function"!=typeof object[key])&&"__proto__"!=key)return object[key]}var setData=shortOut(baseSetData),setTimeout=ctxSetTimeout||function(func,wait){return root.setTimeout(func,wait)},setToString=shortOut(Symbol);function setWrapToString(wrapper,reference,bitmask){reference+="";return setToString(wrapper,function(source,details){var length=details.length;if(!length)return source;var lastIndex=length-1;return details[lastIndex]=(1<length?"& ":"")+details[lastIndex],details=details.join(2<length?", ":" "),source.replace(reWrapComment,"{\n/* [wrapped with "+details+"] */\n")}(reference,function(details,bitmask){return arrayEach(wrapFlags,function(pair){var value="_."+pair[0];bitmask&pair[1]&&!arrayIncludes(details,value)&&details.push(value)}),details.sort()}(function(source){return(source=source.match(reWrapDetails))?source[1].split(reSplitDetails):[]}(reference),bitmask)))}function shortOut(func){var count=0,lastCalled=0;return function(){var stamp=nativeNow(),remaining=16-(stamp-lastCalled);if(lastCalled=stamp,0<remaining){if(800<=++count)return arguments[0]}else count=0;return func.apply(undefined,arguments)}}function shuffleSelf(array,size){var index=-1,length=array.length,lastIndex=length-1;for(size=size===undefined?length:size;++index<size;){var rand=baseRandom(index,lastIndex),value=array[rand];array[rand]=array[index],array[index]=value}return array.length=size,array}cache=(ctxClearTimeout=memoize(ctxClearTimeout=function(string){var result=[];return 46===string.charCodeAt(0)&&result.push(""),string.replace(rePropName,function(match,number,quote,subString){result.push(quote?subString.replace(reEscapeChar,"$1"):number||match)}),result},function(key){return 500===cache.size&&cache.clear(),key})).cache;var cache,stringToPath=ctxClearTimeout;function toKey(value){if("string"==typeof value||isSymbol(value))return value;var result=value+"";return"0"==result&&1/value==-1/0?"-0":result}function toSource(func){if(null!=func){try{return funcToString.call(func)}catch(e){}try{return func+""}catch(e){}}return""}function wrapperClone(wrapper){if(wrapper instanceof LazyWrapper)return wrapper.clone();var result=new LodashWrapper(wrapper.__wrapped__,wrapper.__chain__);return result.__actions__=copyArray(wrapper.__actions__),result.__index__=wrapper.__index__,result.__values__=wrapper.__values__,result}Date=baseRest(function(array,values){return isArrayLikeObject(array)?baseDifference(array,baseFlatten(values,1,isArrayLikeObject,!0)):[]}),Promise=baseRest(function(array,values){var iteratee=last(values);return isArrayLikeObject(iteratee)&&(iteratee=undefined),isArrayLikeObject(array)?baseDifference(array,baseFlatten(values,1,isArrayLikeObject,!0),getIteratee(iteratee,2)):[]}),context=baseRest(function(array,values){var comparator=last(values);return isArrayLikeObject(comparator)&&(comparator=undefined),isArrayLikeObject(array)?baseDifference(array,baseFlatten(values,1,isArrayLikeObject,!0),undefined,comparator):[]});function findIndex(array,predicate,fromIndex){var length=null==array?0:array.length;if(!length)return-1;fromIndex=null==fromIndex?0:toInteger(fromIndex);return fromIndex<0&&(fromIndex=nativeMax(length+fromIndex,0)),baseFindIndex(array,getIteratee(predicate,3),fromIndex)}function findLastIndex(array,predicate,fromIndex){var length=null==array?0:array.length;if(!length)return-1;var index=length-1;return fromIndex!==undefined&&(index=toInteger(fromIndex),index=fromIndex<0?nativeMax(length+index,0):nativeMin(index,length-1)),baseFindIndex(array,getIteratee(predicate,3),index,!0)}function flatten(array){return(null==array?0:array.length)?baseFlatten(array,1):[]}function head(array){return array&&array.length?array[0]:undefined}coreJsData=baseRest(function(arrays){var mapped=arrayMap(arrays,castArrayLikeObject);return mapped.length&&mapped[0]===arrays[0]?baseIntersection(mapped):[]}),ctxSetTimeout=baseRest(function(arrays){var iteratee=last(arrays),mapped=arrayMap(arrays,castArrayLikeObject);return iteratee===last(mapped)?iteratee=undefined:mapped.pop(),mapped.length&&mapped[0]===arrays[0]?baseIntersection(mapped,getIteratee(iteratee,2)):[]}),Symbol=baseRest(function(arrays){var comparator=last(arrays),mapped=arrayMap(arrays,castArrayLikeObject);return(comparator="function"==typeof comparator?comparator:undefined)&&mapped.pop(),mapped.length&&mapped[0]===arrays[0]?baseIntersection(mapped,undefined,comparator):[]});function last(array){var length=null==array?0:array.length;return length?array[length-1]:undefined}ctxClearTimeout=baseRest(pullAll);function pullAll(array,values){return array&&array.length&&values&&values.length?basePullAll(array,values):array}var pullAt=flatRest(function(array,indexes){var length=null==array?0:array.length,result=baseAt(array,indexes);return basePullAt(array,arrayMap(indexes,function(index){return isIndex(index,length)?+index:index}).sort(compareAscending)),result});function reverse(array){return null==array?array:nativeReverse.call(array)}var union=baseRest(function(arrays){return baseUniq(baseFlatten(arrays,1,isArrayLikeObject,!0))}),unionBy=baseRest(function(arrays){var iteratee=last(arrays);return isArrayLikeObject(iteratee)&&(iteratee=undefined),baseUniq(baseFlatten(arrays,1,isArrayLikeObject,!0),getIteratee(iteratee,2))}),unionWith=baseRest(function(arrays){var comparator="function"==typeof(comparator=last(arrays))?comparator:undefined;return baseUniq(baseFlatten(arrays,1,isArrayLikeObject,!0),undefined,comparator)});function unzip(array){if(!array||!array.length)return[];var length=0;return array=arrayFilter(array,function(group){return isArrayLikeObject(group)&&(length=nativeMax(group.length,length),1)}),baseTimes(length,function(index){return arrayMap(array,baseProperty(index))})}function unzipWith(array,iteratee){if(!array||!array.length)return[];array=unzip(array);return null==iteratee?array:arrayMap(array,function(group){return apply(iteratee,undefined,group)})}var without=baseRest(function(array,values){return isArrayLikeObject(array)?baseDifference(array,values):[]}),xor=baseRest(function(arrays){return baseXor(arrayFilter(arrays,isArrayLikeObject))}),xorBy=baseRest(function(arrays){var iteratee=last(arrays);return isArrayLikeObject(iteratee)&&(iteratee=undefined),baseXor(arrayFilter(arrays,isArrayLikeObject),getIteratee(iteratee,2))}),xorWith=baseRest(function(arrays){var comparator="function"==typeof(comparator=last(arrays))?comparator:undefined;return baseXor(arrayFilter(arrays,isArrayLikeObject),undefined,comparator)}),zip=baseRest(unzip);var zipWith=baseRest(function(arrays){var length=arrays.length,length="function"==typeof(length=1<length?arrays[length-1]:undefined)?(arrays.pop(),length):undefined;return unzipWith(arrays,length)});function chain(value){value=lodash(value);return value.__chain__=!0,value}function thru(value,interceptor){return interceptor(value)}var wrapperAt=flatRest(function(paths){function interceptor(object){return baseAt(object,paths)}var length=paths.length,start=length?paths[0]:0,value=this.__wrapped__;return!(1<length||this.__actions__.length)&&value instanceof LazyWrapper&&isIndex(start)?((value=value.slice(start,+start+(length?1:0))).__actions__.push({func:thru,args:[interceptor],thisArg:undefined}),new LodashWrapper(value,this.__chain__).thru(function(array){return length&&!array.length&&array.push(undefined),array})):this.thru(interceptor)});var countBy=createAggregator(function(result,value,key){hasOwnProperty.call(result,key)?++result[key]:baseAssignValue(result,key,1)});var find=createFind(findIndex),findLast=createFind(findLastIndex);function forEach(collection,iteratee){return(isArray(collection)?arrayEach:baseEach)(collection,getIteratee(iteratee,3))}function forEachRight(collection,iteratee){return(isArray(collection)?arrayEachRight:baseEachRight)(collection,getIteratee(iteratee,3))}var groupBy=createAggregator(function(result,value,key){hasOwnProperty.call(result,key)?result[key].push(value):baseAssignValue(result,key,[value])});var invokeMap=baseRest(function(collection,path,args){var index=-1,isFunc="function"==typeof path,result=isArrayLike(collection)?Array(collection.length):[];return baseEach(collection,function(value){result[++index]=isFunc?apply(path,value,args):baseInvoke(value,path,args)}),result}),keyBy=createAggregator(function(result,value,key){baseAssignValue(result,key,value)});function map(collection,iteratee){return(isArray(collection)?arrayMap:baseMap)(collection,getIteratee(iteratee,3))}var partition=createAggregator(function(result,value,key){result[key?0:1].push(value)},function(){return[[],[]]});var sortBy=baseRest(function(collection,iteratees){if(null==collection)return[];var length=iteratees.length;return 1<length&&isIterateeCall(collection,iteratees[0],iteratees[1])?iteratees=[]:2<length&&isIterateeCall(iteratees[0],iteratees[1],iteratees[2])&&(iteratees=[iteratees[0]]),baseOrderBy(collection,baseFlatten(iteratees,1),[])}),now=ctxNow||function(){return root.Date.now()};function ary(func,n,guard){return n=guard?undefined:n,n=func&&null==n?func.length:n,createWrap(func,128,undefined,undefined,undefined,undefined,n)}function before(n,func){var result;if("function"!=typeof func)throw new TypeError(FUNC_ERROR_TEXT);return n=toInteger(n),function(){return 0<--n&&(result=func.apply(this,arguments)),n<=1&&(func=undefined),result}}var bind=baseRest(function(func,thisArg,partials){var holders,bitmask=1;return partials.length&&(holders=replaceHolders(partials,getHolder(bind)),bitmask|=32),createWrap(func,bitmask,thisArg,partials,holders)}),bindKey=baseRest(function(object,key,partials){var holders,bitmask=3;return partials.length&&(holders=replaceHolders(partials,getHolder(bindKey)),bitmask|=32),createWrap(key,bitmask,object,partials,holders)});function debounce(func,wait,options){var lastArgs,lastThis,maxWait,result,timerId,lastCallTime,lastInvokeTime=0,leading=!1,maxing=!1,trailing=!0;if("function"!=typeof func)throw new TypeError(FUNC_ERROR_TEXT);function invokeFunc(time){var args=lastArgs,thisArg=lastThis;return lastArgs=lastThis=undefined,lastInvokeTime=time,result=func.apply(thisArg,args)}function shouldInvoke(time){var timeSinceLastCall=time-lastCallTime;return lastCallTime===undefined||wait<=timeSinceLastCall||timeSinceLastCall<0||maxing&&maxWait<=time-lastInvokeTime}function timerExpired(){var time=now();if(shouldInvoke(time))return trailingEdge(time);timerId=setTimeout(timerExpired,function(time){var timeWaiting=wait-(time-lastCallTime);return maxing?nativeMin(timeWaiting,maxWait-(time-lastInvokeTime)):timeWaiting}(time))}function trailingEdge(time){return timerId=undefined,trailing&&lastArgs?invokeFunc(time):(lastArgs=lastThis=undefined,result)}function debounced(){var time=now(),isInvoking=shouldInvoke(time);if(lastArgs=arguments,lastThis=this,lastCallTime=time,isInvoking){if(timerId===undefined)return function(time){return lastInvokeTime=time,timerId=setTimeout(timerExpired,wait),leading?invokeFunc(time):result}(lastCallTime);if(maxing)return clearTimeout(timerId),timerId=setTimeout(timerExpired,wait),invokeFunc(lastCallTime)}return timerId===undefined&&(timerId=setTimeout(timerExpired,wait)),result}return wait=toNumber(wait)||0,isObject(options)&&(leading=!!options.leading,maxing="maxWait"in options,maxWait=maxing?nativeMax(toNumber(options.maxWait)||0,wait):maxWait,trailing="trailing"in options?!!options.trailing:trailing),debounced.cancel=function(){timerId!==undefined&&clearTimeout(timerId),lastInvokeTime=0,lastArgs=lastCallTime=lastThis=timerId=undefined},debounced.flush=function(){return timerId===undefined?result:trailingEdge(now())},debounced}var ctxNow=baseRest(function(func,args){return baseDelay(func,1,args)}),delay=baseRest(function(func,wait,args){return baseDelay(func,toNumber(wait)||0,args)});function memoize(func,resolver){if("function"!=typeof func||null!=resolver&&"function"!=typeof resolver)throw new TypeError(FUNC_ERROR_TEXT);function memoized(){var args=arguments,key=resolver?resolver.apply(this,args):args[0],cache=memoized.cache;return cache.has(key)?cache.get(key):(args=func.apply(this,args),memoized.cache=cache.set(key,args)||cache,args)}return memoized.cache=new(memoize.Cache||MapCache),memoized}function negate(predicate){if("function"!=typeof predicate)throw new TypeError(FUNC_ERROR_TEXT);return function(){var args=arguments;switch(args.length){case 0:return!predicate.call(this);case 1:return!predicate.call(this,args[0]);case 2:return!predicate.call(this,args[0],args[1]);case 3:return!predicate.call(this,args[0],args[1],args[2])}return!predicate.apply(this,args)}}memoize.Cache=MapCache;var castRest=castRest(function(func,transforms){var funcsLength=(transforms=1==transforms.length&&isArray(transforms[0])?arrayMap(transforms[0],baseUnary(getIteratee())):arrayMap(baseFlatten(transforms,1),baseUnary(getIteratee()))).length;return baseRest(function(args){for(var index=-1,length=nativeMin(args.length,funcsLength);++index<length;)args[index]=transforms[index].call(this,args[index]);return apply(func,this,args)})}),partial=baseRest(function(func,partials){var holders=replaceHolders(partials,getHolder(partial));return createWrap(func,32,undefined,partials,holders)}),partialRight=baseRest(function(func,partials){var holders=replaceHolders(partials,getHolder(partialRight));return createWrap(func,64,undefined,partials,holders)}),rearg=flatRest(function(func,indexes){return createWrap(func,256,undefined,undefined,undefined,indexes)});function eq(value,other){return value===other||value!=value&&other!=other}var gt=createRelationalOperation(baseGt),gte=createRelationalOperation(function(value,other){return other<=value}),isArguments=baseIsArguments(function(){return arguments}())?baseIsArguments:function(value){return isObjectLike(value)&&hasOwnProperty.call(value,"callee")&&!propertyIsEnumerable.call(value,"callee")},isArray=Array.isArray,isArrayBuffer=nodeIsArrayBuffer?baseUnary(nodeIsArrayBuffer):function(value){return isObjectLike(value)&&baseGetTag(value)==arrayBufferTag};function isArrayLike(value){return null!=value&&isLength(value.length)&&!isFunction(value)}function isArrayLikeObject(value){return isObjectLike(value)&&isArrayLike(value)}var isBuffer=funcProto||stubFalse,funcProto=nodeIsDate?baseUnary(nodeIsDate):function(value){return isObjectLike(value)&&baseGetTag(value)==dateTag};function isError(value){if(!isObjectLike(value))return!1;var tag=baseGetTag(value);return tag==errorTag||"[object DOMException]"==tag||"string"==typeof value.message&&"string"==typeof value.name&&!isPlainObject(value)}function isFunction(value){if(!isObject(value))return!1;value=baseGetTag(value);return value==funcTag||value==genTag||"[object AsyncFunction]"==value||"[object Proxy]"==value}function isInteger(value){return"number"==typeof value&&value==toInteger(value)}function isLength(value){return"number"==typeof value&&-1<value&&value%1==0&&value<=9007199254740991}function isObject(value){var type=typeof value;return null!=value&&("object"==type||"function"==type)}function isObjectLike(value){return null!=value&&"object"==typeof value}var isMap=nodeIsMap?baseUnary(nodeIsMap):function(value){return isObjectLike(value)&&getTag(value)==mapTag};function isNumber(value){return"number"==typeof value||isObjectLike(value)&&baseGetTag(value)==numberTag}function isPlainObject(value){if(!isObjectLike(value)||baseGetTag(value)!=objectTag)return!1;value=getPrototype(value);if(null===value)return!0;value=hasOwnProperty.call(value,"constructor")&&value.constructor;return"function"==typeof value&&value instanceof value&&funcToString.call(value)==objectCtorString}var isRegExp=nodeIsRegExp?baseUnary(nodeIsRegExp):function(value){return isObjectLike(value)&&baseGetTag(value)==regexpTag};var isSet=nodeIsSet?baseUnary(nodeIsSet):function(value){return isObjectLike(value)&&getTag(value)==setTag};function isString(value){return"string"==typeof value||!isArray(value)&&isObjectLike(value)&&baseGetTag(value)==stringTag}function isSymbol(value){return"symbol"==typeof value||isObjectLike(value)&&baseGetTag(value)==symbolTag}var isTypedArray=nodeIsTypedArray?baseUnary(nodeIsTypedArray):function(value){return isObjectLike(value)&&isLength(value.length)&&!!typedArrayTags[baseGetTag(value)]};var lt=createRelationalOperation(baseLt),lte=createRelationalOperation(function(value,other){return value<=other});function toArray(value){if(!value)return[];if(isArrayLike(value))return(isString(value)?stringToArray:copyArray)(value);if(symIterator&&value[symIterator]){for(var data,iterator=value[symIterator](),result=[];!(data=iterator.next()).done;)result.push(data.value);return result}var tag=getTag(value);return(tag==mapTag?mapToArray:tag==setTag?setToArray:values)(value)}function toFinite(value){return value?(value=toNumber(value))===1/0||value===-1/0?17976931348623157e292*(value<0?-1:1):value==value?value:0:0===value?value:0}function toInteger(value){var value=toFinite(value),remainder=value%1;return value==value?remainder?value-remainder:value:0}function toLength(value){return value?baseClamp(toInteger(value),0,4294967295):0}function toNumber(value){if("number"==typeof value)return value;if(isSymbol(value))return NAN;if("string"!=typeof(value=isObject(value)?isObject(other="function"==typeof value.valueOf?value.valueOf():value)?other+"":other:value))return 0===value?value:+value;value=baseTrim(value);var other=reIsBinary.test(value);return other||reIsOctal.test(value)?freeParseInt(value.slice(2),other?2:8):reIsBadHex.test(value)?NAN:+value}function toPlainObject(value){return copyObject(value,keysIn(value))}function toString(value){return null==value?"":baseToString(value)}var assign=createAssigner(function(object,source){if(isPrototype(source)||isArrayLike(source))copyObject(source,keys(source),object);else for(var key in source)hasOwnProperty.call(source,key)&&assignValue(object,key,source[key])}),assignIn=createAssigner(function(object,source){copyObject(source,keysIn(source),object)}),assignInWith=createAssigner(function(object,source,srcIndex,customizer){copyObject(source,keysIn(source),object,customizer)}),assignWith=createAssigner(function(object,source,srcIndex,customizer){copyObject(source,keys(source),object,customizer)}),at=flatRest(baseAt);var defaults=baseRest(function(object,sources){object=Object(object);var index=-1,length=sources.length,guard=2<length?sources[2]:undefined;for(guard&&isIterateeCall(sources[0],sources[1],guard)&&(length=1);++index<length;)for(var source=sources[index],props=keysIn(source),propsIndex=-1,propsLength=props.length;++propsIndex<propsLength;){var key=props[propsIndex],value=object[key];(value===undefined||eq(value,objectProto[key])&&!hasOwnProperty.call(object,key))&&(object[key]=source[key])}return object}),defaultsDeep=baseRest(function(args){return args.push(undefined,customDefaultsMerge),apply(mergeWith,undefined,args)});function get(object,path,defaultValue){object=null==object?undefined:baseGet(object,path);return object===undefined?defaultValue:object}function hasIn(object,path){return null!=object&&hasPath(object,path,baseHasIn)}var invert=createInverter(function(result,value,key){result[value=null!=value&&"function"!=typeof value.toString?nativeObjectToString.call(value):value]=key},constant(identity)),invertBy=createInverter(function(result,value,key){null!=value&&"function"!=typeof value.toString&&(value=nativeObjectToString.call(value)),hasOwnProperty.call(result,value)?result[value].push(key):result[value]=[key]},getIteratee),invoke=baseRest(baseInvoke);function keys(object){return(isArrayLike(object)?arrayLikeKeys:baseKeys)(object)}function keysIn(object){return isArrayLike(object)?arrayLikeKeys(object,!0):baseKeysIn(object)}var merge=createAssigner(function(object,source,srcIndex){baseMerge(object,source,srcIndex)}),mergeWith=createAssigner(function(object,source,srcIndex,customizer){baseMerge(object,source,srcIndex,customizer)}),omit=flatRest(function(object,paths){var result={};if(null==object)return result;for(var isDeep=!1,length=(paths=arrayMap(paths,function(path){return path=castPath(path,object),isDeep=isDeep||1<path.length,path}),copyObject(object,getAllKeysIn(object),result),isDeep&&(result=baseClone(result,7,customOmitClone)),paths.length);length--;)baseUnset(result,paths[length]);return result});var pick=flatRest(function(object,paths){return null==object?{}:function(object,paths){return basePickBy(object,paths,function(value,path){return hasIn(object,path)})}(object,paths)});function pickBy(object,predicate){if(null==object)return{};var props=arrayMap(getAllKeysIn(object),function(prop){return[prop]});return predicate=getIteratee(predicate),basePickBy(object,props,function(value,path){return predicate(value,path[0])})}var toPairs=createToPairs(keys),toPairsIn=createToPairs(keysIn);function values(object){return null==object?[]:baseValues(object,keys(object))}var camelCase=createCompounder(function(result,word,index){return word=word.toLowerCase(),result+(index?capitalize(word):word)});function capitalize(string){return upperFirst(toString(string).toLowerCase())}function deburr(string){return(string=toString(string))&&string.replace(reLatin,deburrLetter).replace(reComboMark,"")}var kebabCase=createCompounder(function(result,word,index){return result+(index?"-":"")+word.toLowerCase()}),lowerCase=createCompounder(function(result,word,index){return result+(index?" ":"")+word.toLowerCase()}),lowerFirst=createCaseFirst("toLowerCase");var snakeCase=createCompounder(function(result,word,index){return result+(index?"_":"")+word.toLowerCase()});var startCase=createCompounder(function(result,word,index){return result+(index?" ":"")+upperFirst(word)});var upperCase=createCompounder(function(result,word,index){return result+(index?" ":"")+word.toUpperCase()}),upperFirst=createCaseFirst("toUpperCase");function words(string,pattern,guard){return string=toString(string),(pattern=guard?undefined:pattern)===undefined?(function(string){return reHasUnicodeWord.test(string)}(string)?function(string){return string.match(reUnicodeWord)||[]}:function(string){return string.match(reAsciiWord)||[]})(string):string.match(pattern)||[]}var attempt=baseRest(function(func,args){try{return apply(func,undefined,args)}catch(e){return isError(e)?e:new Error(e)}}),bindAll=flatRest(function(object,methodNames){return arrayEach(methodNames,function(key){key=toKey(key),baseAssignValue(object,key,bind(object[key],object))}),object});function constant(value){return function(){return value}}var flow=createFlow(),flowRight=createFlow(!0);function identity(value){return value}function iteratee(func){return baseIteratee("function"==typeof func?func:baseClone(func,1))}var method=baseRest(function(path,args){return function(object){return baseInvoke(object,path,args)}}),methodOf=baseRest(function(object,args){return function(path){return baseInvoke(object,path,args)}});function mixin(object,source,options){var props=keys(source),methodNames=baseFunctions(source,props),chain=(null!=options||isObject(source)&&(methodNames.length||!props.length)||(options=source,source=object,object=this,methodNames=baseFunctions(source,keys(source))),!(isObject(options)&&"chain"in options&&!options.chain)),isFunc=isFunction(object);return arrayEach(methodNames,function(methodName){var func=source[methodName];object[methodName]=func,isFunc&&(object.prototype[methodName]=function(){var result,chainAll=this.__chain__;return chain||chainAll?(((result=object(this.__wrapped__)).__actions__=copyArray(this.__actions__)).push({func:func,args:arguments,thisArg:object}),result.__chain__=chainAll,result):func.apply(object,arrayPush([this.value()],arguments))})}),object}function noop(){}var over=createOver(arrayMap),overEvery=createOver(arrayEvery),overSome=createOver(arraySome);function property(path){return isKey(path)?baseProperty(toKey(path)):function(path){return function(object){return baseGet(object,path)}}(path)}var range=createRange(),rangeRight=createRange(!0);function stubArray(){return[]}function stubFalse(){return!1}var add=createMathOperation(function(augend,addend){return augend+addend},0),ceil=createRound("ceil"),divide=createMathOperation(function(dividend,divisor){return dividend/divisor},1),floor=createRound("floor");var source,multiply=createMathOperation(function(multiplier,multiplicand){return multiplier*multiplicand},1),round=createRound("round"),subtract=createMathOperation(function(minuend,subtrahend){return minuend-subtrahend},0);return lodash.after=function(n,func){if("function"!=typeof func)throw new TypeError(FUNC_ERROR_TEXT);return n=toInteger(n),function(){if(--n<1)return func.apply(this,arguments)}},lodash.ary=ary,lodash.assign=assign,lodash.assignIn=assignIn,lodash.assignInWith=assignInWith,lodash.assignWith=assignWith,lodash.at=at,lodash.before=before,lodash.bind=bind,lodash.bindAll=bindAll,lodash.bindKey=bindKey,lodash.castArray=function(){if(!arguments.length)return[];var value=arguments[0];return isArray(value)?value:[value]},lodash.chain=chain,lodash.chunk=function(array,size,guard){size=(guard?isIterateeCall(array,size,guard):size===undefined)?1:nativeMax(toInteger(size),0);var length=null==array?0:array.length;if(!length||size<1)return[];for(var index=0,resIndex=0,result=Array(nativeCeil(length/size));index<length;)result[resIndex++]=baseSlice(array,index,index+=size);return result},lodash.compact=function(array){for(var index=-1,length=null==array?0:array.length,resIndex=0,result=[];++index<length;){var value=array[index];value&&(result[resIndex++]=value)}return result},lodash.concat=function(){var length=arguments.length;if(!length)return[];for(var args=Array(length-1),array=arguments[0],index=length;index--;)args[index-1]=arguments[index];return arrayPush(isArray(array)?copyArray(array):[array],baseFlatten(args,1))},lodash.cond=function(pairs){var length=null==pairs?0:pairs.length,toIteratee=getIteratee();return pairs=length?arrayMap(pairs,function(pair){if("function"!=typeof pair[1])throw new TypeError(FUNC_ERROR_TEXT);return[toIteratee(pair[0]),pair[1]]}):[],baseRest(function(args){for(var index=-1;++index<length;){var pair=pairs[index];if(apply(pair[0],this,args))return apply(pair[1],this,args)}})},lodash.conforms=function(source){return function(source){var props=keys(source);return function(object){return baseConformsTo(object,source,props)}}(baseClone(source,1))},lodash.constant=constant,lodash.countBy=countBy,lodash.create=function(prototype,properties){return prototype=baseCreate(prototype),null==properties?prototype:baseAssign(prototype,properties)},lodash.curry=function curry(func,arity,guard){func=createWrap(func,8,undefined,undefined,undefined,undefined,undefined,arity=guard?undefined:arity);return func.placeholder=curry.placeholder,func},lodash.curryRight=function curryRight(func,arity,guard){func=createWrap(func,16,undefined,undefined,undefined,undefined,undefined,arity=guard?undefined:arity);return func.placeholder=curryRight.placeholder,func},lodash.debounce=debounce,lodash.defaults=defaults,lodash.defaultsDeep=defaultsDeep,lodash.defer=ctxNow,lodash.delay=delay,lodash.difference=Date,lodash.differenceBy=Promise,lodash.differenceWith=context,lodash.drop=function(array,n,guard){var length=null==array?0:array.length;return length?baseSlice(array,(n=guard||n===undefined?1:toInteger(n))<0?0:n,length):[]},lodash.dropRight=function(array,n,guard){var length=null==array?0:array.length;return length?baseSlice(array,0,(n=length-(n=guard||n===undefined?1:toInteger(n)))<0?0:n):[]},lodash.dropRightWhile=function(array,predicate){return array&&array.length?baseWhile(array,getIteratee(predicate,3),!0,!0):[]},lodash.dropWhile=function(array,predicate){return array&&array.length?baseWhile(array,getIteratee(predicate,3),!0):[]},lodash.fill=function(array,value,start,end){var length=null==array?0:array.length;return length?(start&&"number"!=typeof start&&isIterateeCall(array,value,start)&&(start=0,end=length),function(array,value,start,end){var length=array.length;for((start=toInteger(start))<0&&(start=length<-start?0:length+start),(end=end===undefined||length<end?length:toInteger(end))<0&&(end+=length),end=end<start?0:toLength(end);start<end;)array[start++]=value;return array}(array,value,start,end)):[]},lodash.filter=function(collection,predicate){return(isArray(collection)?arrayFilter:baseFilter)(collection,getIteratee(predicate,3))},lodash.flatMap=function(collection,iteratee){return baseFlatten(map(collection,iteratee),1)},lodash.flatMapDeep=function(collection,iteratee){return baseFlatten(map(collection,iteratee),1/0)},lodash.flatMapDepth=function(collection,iteratee,depth){return depth=depth===undefined?1:toInteger(depth),baseFlatten(map(collection,iteratee),depth)},lodash.flatten=flatten,lodash.flattenDeep=function(array){return(null==array?0:array.length)?baseFlatten(array,1/0):[]},lodash.flattenDepth=function(array,depth){return(null==array?0:array.length)?baseFlatten(array,depth=depth===undefined?1:toInteger(depth)):[]},lodash.flip=function(func){return createWrap(func,512)},lodash.flow=flow,lodash.flowRight=flowRight,lodash.fromPairs=function(pairs){for(var index=-1,length=null==pairs?0:pairs.length,result={};++index<length;){var pair=pairs[index];result[pair[0]]=pair[1]}return result},lodash.functions=function(object){return null==object?[]:baseFunctions(object,keys(object))},lodash.functionsIn=function(object){return null==object?[]:baseFunctions(object,keysIn(object))},lodash.groupBy=groupBy,lodash.initial=function(array){return(null==array?0:array.length)?baseSlice(array,0,-1):[]},lodash.intersection=coreJsData,lodash.intersectionBy=ctxSetTimeout,lodash.intersectionWith=Symbol,lodash.invert=invert,lodash.invertBy=invertBy,lodash.invokeMap=invokeMap,lodash.iteratee=iteratee,lodash.keyBy=keyBy,lodash.keys=keys,lodash.keysIn=keysIn,lodash.map=map,lodash.mapKeys=function(object,iteratee){var result={};return iteratee=getIteratee(iteratee,3),baseForOwn(object,function(value,key,object){baseAssignValue(result,iteratee(value,key,object),value)}),result},lodash.mapValues=function(object,iteratee){var result={};return iteratee=getIteratee(iteratee,3),baseForOwn(object,function(value,key,object){baseAssignValue(result,key,iteratee(value,key,object))}),result},lodash.matches=function(source){return baseMatches(baseClone(source,1))},lodash.matchesProperty=function(path,srcValue){return baseMatchesProperty(path,baseClone(srcValue,1))},lodash.memoize=memoize,lodash.merge=merge,lodash.mergeWith=mergeWith,lodash.method=method,lodash.methodOf=methodOf,lodash.mixin=mixin,lodash.negate=negate,lodash.nthArg=function(n){return n=toInteger(n),baseRest(function(args){return baseNth(args,n)})},lodash.omit=omit,lodash.omitBy=function(object,predicate){return pickBy(object,negate(getIteratee(predicate)))},lodash.once=function(func){return before(2,func)},lodash.orderBy=function(collection,iteratees,orders,guard){return null==collection?[]:baseOrderBy(collection,iteratees=isArray(iteratees)?iteratees:null==iteratees?[]:[iteratees],orders=isArray(orders=guard?undefined:orders)?orders:null==orders?[]:[orders])},lodash.over=over,lodash.overArgs=castRest,lodash.overEvery=overEvery,lodash.overSome=overSome,lodash.partial=partial,lodash.partialRight=partialRight,lodash.partition=partition,lodash.pick=pick,lodash.pickBy=pickBy,lodash.property=property,lodash.propertyOf=function(object){return function(path){return null==object?undefined:baseGet(object,path)}},lodash.pull=ctxClearTimeout,lodash.pullAll=pullAll,lodash.pullAllBy=function(array,values,iteratee){return array&&array.length&&values&&values.length?basePullAll(array,values,getIteratee(iteratee,2)):array},lodash.pullAllWith=function(array,values,comparator){return array&&array.length&&values&&values.length?basePullAll(array,values,undefined,comparator):array},lodash.pullAt=pullAt,lodash.range=range,lodash.rangeRight=rangeRight,lodash.rearg=rearg,lodash.reject=function(collection,predicate){return(isArray(collection)?arrayFilter:baseFilter)(collection,negate(getIteratee(predicate,3)))},lodash.remove=function(array,predicate){var result=[];if(!array||!array.length)return result;var index=-1,indexes=[],length=array.length;for(predicate=getIteratee(predicate,3);++index<length;){var value=array[index];predicate(value,index,array)&&(result.push(value),indexes.push(index))}return basePullAt(array,indexes),result},lodash.rest=function(func,start){if("function"!=typeof func)throw new TypeError(FUNC_ERROR_TEXT);return baseRest(func,start=start===undefined?start:toInteger(start))},lodash.reverse=reverse,lodash.sampleSize=function(collection,n,guard){return n=(guard?isIterateeCall(collection,n,guard):n===undefined)?1:toInteger(n),(isArray(collection)?arraySampleSize:baseSampleSize)(collection,n)},lodash.set=function(object,path,value){return null==object?object:baseSet(object,path,value)},lodash.setWith=function(object,path,value,customizer){return customizer="function"==typeof customizer?customizer:undefined,null==object?object:baseSet(object,path,value,customizer)},lodash.shuffle=function(collection){return(isArray(collection)?arrayShuffle:baseShuffle)(collection)},lodash.slice=function(array,start,end){var length=null==array?0:array.length;return length?(end=end&&"number"!=typeof end&&isIterateeCall(array,start,end)?(start=0,length):(start=null==start?0:toInteger(start),end===undefined?length:toInteger(end)),baseSlice(array,start,end)):[]},lodash.sortBy=sortBy,lodash.sortedUniq=function(array){return array&&array.length?baseSortedUniq(array):[]},lodash.sortedUniqBy=function(array,iteratee){return array&&array.length?baseSortedUniq(array,getIteratee(iteratee,2)):[]},lodash.split=function(string,separator,limit){return limit&&"number"!=typeof limit&&isIterateeCall(string,separator,limit)&&(separator=limit=undefined),(limit=limit===undefined?4294967295:limit>>>0)?(string=toString(string))&&("string"==typeof separator||null!=separator&&!isRegExp(separator))&&!(separator=baseToString(separator))&&hasUnicode(string)?castSlice(stringToArray(string),0,limit):string.split(separator,limit):[]},lodash.spread=function(func,start){if("function"!=typeof func)throw new TypeError(FUNC_ERROR_TEXT);return start=null==start?0:nativeMax(toInteger(start),0),baseRest(function(args){var array=args[start],args=castSlice(args,0,start);return array&&arrayPush(args,array),apply(func,this,args)})},lodash.tail=function(array){var length=null==array?0:array.length;return length?baseSlice(array,1,length):[]},lodash.take=function(array,n,guard){return array&&array.length?baseSlice(array,0,(n=guard||n===undefined?1:toInteger(n))<0?0:n):[]},lodash.takeRight=function(array,n,guard){var length=null==array?0:array.length;return length?baseSlice(array,(n=length-(n=guard||n===undefined?1:toInteger(n)))<0?0:n,length):[]},lodash.takeRightWhile=function(array,predicate){return array&&array.length?baseWhile(array,getIteratee(predicate,3),!1,!0):[]},lodash.takeWhile=function(array,predicate){return array&&array.length?baseWhile(array,getIteratee(predicate,3)):[]},lodash.tap=function(value,interceptor){return interceptor(value),value},lodash.throttle=function(func,wait,options){var leading=!0,trailing=!0;if("function"!=typeof func)throw new TypeError(FUNC_ERROR_TEXT);return isObject(options)&&(leading="leading"in options?!!options.leading:leading,trailing="trailing"in options?!!options.trailing:trailing),debounce(func,wait,{leading:leading,maxWait:wait,trailing:trailing})},lodash.thru=thru,lodash.toArray=toArray,lodash.toPairs=toPairs,lodash.toPairsIn=toPairsIn,lodash.toPath=function(value){return isArray(value)?arrayMap(value,toKey):isSymbol(value)?[value]:copyArray(stringToPath(toString(value)))},lodash.toPlainObject=toPlainObject,lodash.transform=function(object,iteratee,accumulator){var Ctor,isArr=isArray(object),isArrLike=isArr||isBuffer(object)||isTypedArray(object);return iteratee=getIteratee(iteratee,4),null==accumulator&&(Ctor=object&&object.constructor,accumulator=isArrLike?isArr?new Ctor:[]:isObject(object)&&isFunction(Ctor)?baseCreate(getPrototype(object)):{}),(isArrLike?arrayEach:baseForOwn)(object,function(value,index,object){return iteratee(accumulator,value,index,object)}),accumulator},lodash.unary=function(func){return ary(func,1)},lodash.union=union,lodash.unionBy=unionBy,lodash.unionWith=unionWith,lodash.uniq=function(array){return array&&array.length?baseUniq(array):[]},lodash.uniqBy=function(array,iteratee){return array&&array.length?baseUniq(array,getIteratee(iteratee,2)):[]},lodash.uniqWith=function(array,comparator){return comparator="function"==typeof comparator?comparator:undefined,array&&array.length?baseUniq(array,undefined,comparator):[]},lodash.unset=function(object,path){return null==object||baseUnset(object,path)},lodash.unzip=unzip,lodash.unzipWith=unzipWith,lodash.update=function(object,path,updater){return null==object?object:baseUpdate(object,path,castFunction(updater))},lodash.updateWith=function(object,path,updater,customizer){return customizer="function"==typeof customizer?customizer:undefined,null==object?object:baseUpdate(object,path,castFunction(updater),customizer)},lodash.values=values,lodash.valuesIn=function(object){return null==object?[]:baseValues(object,keysIn(object))},lodash.without=without,lodash.words=words,lodash.wrap=function(value,wrapper){return partial(castFunction(wrapper),value)},lodash.xor=xor,lodash.xorBy=xorBy,lodash.xorWith=xorWith,lodash.zip=zip,lodash.zipObject=function(props,values){return baseZipObject(props||[],values||[],assignValue)},lodash.zipObjectDeep=function(props,values){return baseZipObject(props||[],values||[],baseSet)},lodash.zipWith=zipWith,lodash.entries=toPairs,lodash.entriesIn=toPairsIn,lodash.extend=assignIn,lodash.extendWith=assignInWith,mixin(lodash,lodash),lodash.add=add,lodash.attempt=attempt,lodash.camelCase=camelCase,lodash.capitalize=capitalize,lodash.ceil=ceil,lodash.clamp=function(number,lower,upper){return upper===undefined&&(upper=lower,lower=undefined),upper!==undefined&&(upper=(upper=toNumber(upper))==upper?upper:0),lower!==undefined&&(lower=(lower=toNumber(lower))==lower?lower:0),baseClamp(toNumber(number),lower,upper)},lodash.clone=function(value){return baseClone(value,4)},lodash.cloneDeep=function(value){return baseClone(value,5)},lodash.cloneDeepWith=function(value,customizer){return baseClone(value,5,customizer="function"==typeof customizer?customizer:undefined)},lodash.cloneWith=function(value,customizer){return baseClone(value,4,customizer="function"==typeof customizer?customizer:undefined)},lodash.conformsTo=function(object,source){return null==source||baseConformsTo(object,source,keys(source))},lodash.deburr=deburr,lodash.defaultTo=function(value,defaultValue){return null==value||value!=value?defaultValue:value},lodash.divide=divide,lodash.endsWith=function(string,target,position){string=toString(string),target=baseToString(target);var length=string.length,length=position=position===undefined?length:baseClamp(toInteger(position),0,length);return 0<=(position-=target.length)&&string.slice(position,length)==target},lodash.eq=eq,lodash.escape=function(string){return(string=toString(string))&&reHasUnescapedHtml.test(string)?string.replace(reUnescapedHtml,escapeHtmlChar):string},lodash.escapeRegExp=function(string){return(string=toString(string))&&reHasRegExpChar.test(string)?string.replace(reRegExpChar,"\\$&"):string},lodash.every=function(collection,predicate,guard){return(isArray(collection)?arrayEvery:baseEvery)(collection,getIteratee(predicate=guard&&isIterateeCall(collection,predicate,guard)?undefined:predicate,3))},lodash.find=find,lodash.findIndex=findIndex,lodash.findKey=function(object,predicate){return baseFindKey(object,getIteratee(predicate,3),baseForOwn)},lodash.findLast=findLast,lodash.findLastIndex=findLastIndex,lodash.findLastKey=function(object,predicate){return baseFindKey(object,getIteratee(predicate,3),baseForOwnRight)},lodash.floor=floor,lodash.forEach=forEach,lodash.forEachRight=forEachRight,lodash.forIn=function(object,iteratee){return null==object?object:baseFor(object,getIteratee(iteratee,3),keysIn)},lodash.forInRight=function(object,iteratee){return null==object?object:baseForRight(object,getIteratee(iteratee,3),keysIn)},lodash.forOwn=function(object,iteratee){return object&&baseForOwn(object,getIteratee(iteratee,3))},lodash.forOwnRight=function(object,iteratee){return object&&baseForOwnRight(object,getIteratee(iteratee,3))},lodash.get=get,lodash.gt=gt,lodash.gte=gte,lodash.has=function(object,path){return null!=object&&hasPath(object,path,baseHas)},lodash.hasIn=hasIn,lodash.head=head,lodash.identity=identity,lodash.includes=function(collection,value,fromIndex,guard){return collection=isArrayLike(collection)?collection:values(collection),fromIndex=fromIndex&&!guard?toInteger(fromIndex):0,guard=collection.length,fromIndex<0&&(fromIndex=nativeMax(guard+fromIndex,0)),isString(collection)?fromIndex<=guard&&-1<collection.indexOf(value,fromIndex):!!guard&&-1<baseIndexOf(collection,value,fromIndex)},lodash.indexOf=function(array,value,fromIndex){var length=null==array?0:array.length;return length?(fromIndex=null==fromIndex?0:toInteger(fromIndex),baseIndexOf(array,value,fromIndex=fromIndex<0?nativeMax(length+fromIndex,0):fromIndex)):-1},lodash.inRange=function(number,start,end){return start=toFinite(start),end===undefined?(end=start,start=0):end=toFinite(end),function(number,start,end){return number>=nativeMin(start,end)&&number<nativeMax(start,end)}(number=toNumber(number),start,end)},lodash.invoke=invoke,lodash.isArguments=isArguments,lodash.isArray=isArray,lodash.isArrayBuffer=isArrayBuffer,lodash.isArrayLike=isArrayLike,lodash.isArrayLikeObject=isArrayLikeObject,lodash.isBoolean=function(value){return!0===value||!1===value||isObjectLike(value)&&baseGetTag(value)==boolTag},lodash.isBuffer=isBuffer,lodash.isDate=funcProto,lodash.isElement=function(value){return isObjectLike(value)&&1===value.nodeType&&!isPlainObject(value)},lodash.isEmpty=function(value){if(null==value)return!0;if(isArrayLike(value)&&(isArray(value)||"string"==typeof value||"function"==typeof value.splice||isBuffer(value)||isTypedArray(value)||isArguments(value)))return!value.length;var key,tag=getTag(value);if(tag==mapTag||tag==setTag)return!value.size;if(isPrototype(value))return!baseKeys(value).length;for(key in value)if(hasOwnProperty.call(value,key))return!1;return!0},lodash.isEqual=function(value,other){return baseIsEqual(value,other)},lodash.isEqualWith=function(value,other,customizer){var result=(customizer="function"==typeof customizer?customizer:undefined)?customizer(value,other):undefined;return result===undefined?baseIsEqual(value,other,undefined,customizer):!!result},lodash.isError=isError,lodash.isFinite=function(value){return"number"==typeof value&&nativeIsFinite(value)},lodash.isFunction=isFunction,lodash.isInteger=isInteger,lodash.isLength=isLength,lodash.isMap=isMap,lodash.isMatch=function(object,source){return object===source||baseIsMatch(object,source,getMatchData(source))},lodash.isMatchWith=function(object,source,customizer){return customizer="function"==typeof customizer?customizer:undefined,baseIsMatch(object,source,getMatchData(source),customizer)},lodash.isNaN=function(value){return isNumber(value)&&value!=+value},lodash.isNative=function(value){if(isMaskable(value))throw new Error("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return baseIsNative(value)},lodash.isNil=function(value){return null==value},lodash.isNull=function(value){return null===value},lodash.isNumber=isNumber,lodash.isObject=isObject,lodash.isObjectLike=isObjectLike,lodash.isPlainObject=isPlainObject,lodash.isRegExp=isRegExp,lodash.isSafeInteger=function(value){return isInteger(value)&&-9007199254740991<=value&&value<=9007199254740991},lodash.isSet=isSet,lodash.isString=isString,lodash.isSymbol=isSymbol,lodash.isTypedArray=isTypedArray,lodash.isUndefined=function(value){return value===undefined},lodash.isWeakMap=function(value){return isObjectLike(value)&&getTag(value)==weakMapTag},lodash.isWeakSet=function(value){return isObjectLike(value)&&"[object WeakSet]"==baseGetTag(value)},lodash.join=function(array,separator){return null==array?"":nativeJoin.call(array,separator)},lodash.kebabCase=kebabCase,lodash.last=last,lodash.lastIndexOf=function(array,value,fromIndex){var length=null==array?0:array.length;if(!length)return-1;var index=length;return fromIndex!==undefined&&(index=(index=toInteger(fromIndex))<0?nativeMax(length+index,0):nativeMin(index,length-1)),value==value?function(array,value,fromIndex){for(var index=fromIndex+1;index--;)if(array[index]===value)return index;return index}(array,value,index):baseFindIndex(array,baseIsNaN,index,!0)},lodash.lowerCase=lowerCase,lodash.lowerFirst=lowerFirst,lodash.lt=lt,lodash.lte=lte,lodash.max=function(array){return array&&array.length?baseExtremum(array,identity,baseGt):undefined},lodash.maxBy=function(array,iteratee){return array&&array.length?baseExtremum(array,getIteratee(iteratee,2),baseGt):undefined},lodash.mean=function(array){return baseMean(array,identity)},lodash.meanBy=function(array,iteratee){return baseMean(array,getIteratee(iteratee,2))},lodash.min=function(array){return array&&array.length?baseExtremum(array,identity,baseLt):undefined},lodash.minBy=function(array,iteratee){return array&&array.length?baseExtremum(array,getIteratee(iteratee,2),baseLt):undefined},lodash.stubArray=stubArray,lodash.stubFalse=stubFalse,lodash.stubObject=function(){return{}},lodash.stubString=function(){return""},lodash.stubTrue=function(){return!0},lodash.multiply=multiply,lodash.nth=function(array,n){return array&&array.length?baseNth(array,toInteger(n)):undefined},lodash.noConflict=function(){return root._===this&&(root._=oldDash),this},lodash.noop=noop,lodash.now=now,lodash.pad=function(string,length,chars){string=toString(string);var strLength=(length=toInteger(length))?stringSize(string):0;return!length||length<=strLength?string:createPadding(nativeFloor(length=(length-strLength)/2),chars)+string+createPadding(nativeCeil(length),chars)},lodash.padEnd=function(string,length,chars){string=toString(string);var strLength=(length=toInteger(length))?stringSize(string):0;return length&&strLength<length?string+createPadding(length-strLength,chars):string},lodash.padStart=function(string,length,chars){string=toString(string);var strLength=(length=toInteger(length))?stringSize(string):0;return length&&strLength<length?createPadding(length-strLength,chars)+string:string},lodash.parseInt=function(string,radix,guard){return radix=guard||null==radix?0:radix&&+radix,nativeParseInt(toString(string).replace(reTrimStart,""),radix||0)},lodash.random=function(lower,upper,floating){var temp;return floating&&"boolean"!=typeof floating&&isIterateeCall(lower,upper,floating)&&(upper=floating=undefined),floating===undefined&&("boolean"==typeof upper?(floating=upper,upper=undefined):"boolean"==typeof lower&&(floating=lower,lower=undefined)),lower===undefined&&upper===undefined?(lower=0,upper=1):(lower=toFinite(lower),upper===undefined?(upper=lower,lower=0):upper=toFinite(upper)),upper<lower&&(temp=lower,lower=upper,upper=temp),floating||lower%1||upper%1?(temp=nativeRandom(),nativeMin(lower+temp*(upper-lower+freeParseFloat("1e-"+((temp+"").length-1))),upper)):baseRandom(lower,upper)},lodash.reduce=function(collection,iteratee,accumulator){var func=isArray(collection)?arrayReduce:baseReduce,initAccum=arguments.length<3;return func(collection,getIteratee(iteratee,4),accumulator,initAccum,baseEach)},lodash.reduceRight=function(collection,iteratee,accumulator){var func=isArray(collection)?arrayReduceRight:baseReduce,initAccum=arguments.length<3;return func(collection,getIteratee(iteratee,4),accumulator,initAccum,baseEachRight)},lodash.repeat=function(string,n,guard){return n=(guard?isIterateeCall(string,n,guard):n===undefined)?1:toInteger(n),baseRepeat(toString(string),n)},lodash.replace=function(){var args=arguments,string=toString(args[0]);return args.length<3?string:string.replace(args[1],args[2])},lodash.result=function(object,path,defaultValue){var index=-1,length=(path=castPath(path,object)).length;for(length||(length=1,object=undefined);++index<length;){var value=null==object?undefined:object[toKey(path[index])];value===undefined&&(index=length,value=defaultValue),object=isFunction(value)?value.call(object):value}return object},lodash.round=round,lodash.runInContext=runInContext,lodash.sample=function(collection){return(isArray(collection)?arraySample:baseSample)(collection)},lodash.size=function(collection){if(null==collection)return 0;if(isArrayLike(collection))return isString(collection)?stringSize(collection):collection.length;var tag=getTag(collection);return tag==mapTag||tag==setTag?collection.size:baseKeys(collection).length},lodash.snakeCase=snakeCase,lodash.some=function(collection,predicate,guard){return(isArray(collection)?arraySome:baseSome)(collection,getIteratee(predicate=guard&&isIterateeCall(collection,predicate,guard)?undefined:predicate,3))},lodash.sortedIndex=function(array,value){return baseSortedIndex(array,value)},lodash.sortedIndexBy=function(array,value,iteratee){return baseSortedIndexBy(array,value,getIteratee(iteratee,2))},lodash.sortedIndexOf=function(array,value){var length=null==array?0:array.length;if(length){var index=baseSortedIndex(array,value);if(index<length&&eq(array[index],value))return index}return-1},lodash.sortedLastIndex=function(array,value){return baseSortedIndex(array,value,!0)},lodash.sortedLastIndexBy=function(array,value,iteratee){return baseSortedIndexBy(array,value,getIteratee(iteratee,2),!0)},lodash.sortedLastIndexOf=function(array,value){if(null==array?0:array.length){var index=baseSortedIndex(array,value,!0)-1;if(eq(array[index],value))return index}return-1},lodash.startCase=startCase,lodash.startsWith=function(string,target,position){return string=toString(string),position=null==position?0:baseClamp(toInteger(position),0,string.length),target=baseToString(target),string.slice(position,position+target.length)==target},lodash.subtract=subtract,lodash.sum=function(array){return array&&array.length?baseSum(array,identity):0},lodash.sumBy=function(array,iteratee){return array&&array.length?baseSum(array,getIteratee(iteratee,2)):0},lodash.template=function(string,options,guard){var isEscaping,isEvaluating,settings=lodash.templateSettings;guard&&isIterateeCall(string,options,guard)&&(options=undefined),string=toString(string),options=assignInWith({},options,settings,customDefaultsAssignIn);var importsKeys=keys(guard=assignInWith({},options.imports,settings.imports,customDefaultsAssignIn)),importsValues=baseValues(guard,importsKeys),index=0,settings=options.interpolate||reNoMatch,source="__p += '",guard=RegExp((options.escape||reNoMatch).source+"|"+settings.source+"|"+(settings===reInterpolate?reEsTemplate:reNoMatch).source+"|"+(options.evaluate||reNoMatch).source+"|$","g"),sourceURL="//# sourceURL="+(hasOwnProperty.call(options,"sourceURL")?(options.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++templateCounter+"]")+"\n";if(string.replace(guard,function(match,escapeValue,interpolateValue,esTemplateValue,evaluateValue,offset){return interpolateValue=interpolateValue||esTemplateValue,source+=string.slice(index,offset).replace(reUnescapedString,escapeStringChar),escapeValue&&(isEscaping=!0,source+="' +\n__e("+escapeValue+") +\n'"),evaluateValue&&(isEvaluating=!0,source+="';\n"+evaluateValue+";\n__p += '"),interpolateValue&&(source+="' +\n((__t = ("+interpolateValue+")) == null ? '' : __t) +\n'"),index=offset+match.length,match}),source+="';\n",settings=hasOwnProperty.call(options,"variable")&&options.variable){if(reForbiddenIdentifierChars.test(settings))throw new Error("Invalid `variable` option passed into `_.template`")}else source="with (obj) {\n"+source+"\n}\n";if(source=(isEvaluating?source.replace(reEmptyStringLeading,""):source).replace(reEmptyStringMiddle,"$1").replace(reEmptyStringTrailing,"$1;"),source="function("+(settings||"obj")+") {\n"+(settings?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(isEscaping?", __e = _.escape":"")+(isEvaluating?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+source+"return __p\n}",(guard=attempt(function(){return Function(importsKeys,sourceURL+"return "+source).apply(undefined,importsValues)})).source=source,isError(guard))throw guard;return guard},lodash.times=function(n,iteratee){if((n=toInteger(n))<1||9007199254740991<n)return[];for(var index=4294967295,length=nativeMin(n,4294967295),length=(n-=4294967295,baseTimes(length,iteratee=getIteratee(iteratee)));++index<n;)iteratee(index);return length},lodash.toFinite=toFinite,lodash.toInteger=toInteger,lodash.toLength=toLength,lodash.toLower=function(value){return toString(value).toLowerCase()},lodash.toNumber=toNumber,lodash.toSafeInteger=function(value){return value?baseClamp(toInteger(value),-9007199254740991,9007199254740991):0===value?value:0},lodash.toString=toString,lodash.toUpper=function(value){return toString(value).toUpperCase()},lodash.trim=function(string,chars,guard){return(string=toString(string))&&(guard||chars===undefined)?baseTrim(string):string&&(chars=baseToString(chars))?(guard=stringToArray(string),string=stringToArray(chars),castSlice(guard,charsStartIndex(guard,string),charsEndIndex(guard,string)+1).join("")):string},lodash.trimEnd=function(string,chars,guard){return(string=toString(string))&&(guard||chars===undefined)?string.slice(0,trimmedEndIndex(string)+1):string&&(chars=baseToString(chars))?castSlice(guard=stringToArray(string),0,charsEndIndex(guard,stringToArray(chars))+1).join(""):string},lodash.trimStart=function(string,chars,guard){return(string=toString(string))&&(guard||chars===undefined)?string.replace(reTrimStart,""):string&&(chars=baseToString(chars))?castSlice(guard=stringToArray(string),charsStartIndex(guard,stringToArray(chars))).join(""):string},lodash.truncate=function(string,options){var separator,length=30,omission="...",options=(isObject(options)&&(separator="separator"in options?options.separator:separator,length="length"in options?toInteger(options.length):length,omission="omission"in options?baseToString(options.omission):omission),(string=toString(string)).length);if((options=hasUnicode(string)?(strSymbols=stringToArray(string)).length:options)<=length)return string;if((options=length-stringSize(omission))<1)return omission;var strSymbols,length=strSymbols?castSlice(strSymbols,0,options).join(""):string.slice(0,options);if(separator===undefined)return length+omission;if(strSymbols&&(options+=length.length-options),isRegExp(separator)){if(string.slice(options).search(separator)){var match,substring=length;for((separator=separator.global?separator:RegExp(separator.source,toString(reFlags.exec(separator))+"g")).lastIndex=0;match=separator.exec(substring);)var newEnd=match.index;length=length.slice(0,newEnd===undefined?options:newEnd)}}else string.indexOf(baseToString(separator),options)==options||-1<(strSymbols=length.lastIndexOf(separator))&&(length=length.slice(0,strSymbols));return length+omission},lodash.unescape=function(string){return(string=toString(string))&&reHasEscapedHtml.test(string)?string.replace(reEscapedHtml,unescapeHtmlChar):string},lodash.uniqueId=function(prefix){var id=++idCounter;return toString(prefix)+id},lodash.upperCase=upperCase,lodash.upperFirst=upperFirst,lodash.each=forEach,lodash.eachRight=forEachRight,lodash.first=head,mixin(lodash,(source={},baseForOwn(lodash,function(func,methodName){hasOwnProperty.call(lodash.prototype,methodName)||(source[methodName]=func)}),source),{chain:!1}),lodash.VERSION="4.17.21",arrayEach(["bind","bindKey","curry","curryRight","partial","partialRight"],function(methodName){lodash[methodName].placeholder=lodash}),arrayEach(["drop","take"],function(methodName,index){LazyWrapper.prototype[methodName]=function(n){n=n===undefined?1:nativeMax(toInteger(n),0);var result=this.__filtered__&&!index?new LazyWrapper(this):this.clone();return result.__filtered__?result.__takeCount__=nativeMin(n,result.__takeCount__):result.__views__.push({size:nativeMin(n,4294967295),type:methodName+(result.__dir__<0?"Right":"")}),result},LazyWrapper.prototype[methodName+"Right"]=function(n){return this.reverse()[methodName](n).reverse()}}),arrayEach(["filter","map","takeWhile"],function(methodName,index){var type=index+1,isFilter=1==type||3==type;LazyWrapper.prototype[methodName]=function(iteratee){var result=this.clone();return result.__iteratees__.push({iteratee:getIteratee(iteratee,3),type:type}),result.__filtered__=result.__filtered__||isFilter,result}}),arrayEach(["head","last"],function(methodName,index){var takeName="take"+(index?"Right":"");LazyWrapper.prototype[methodName]=function(){return this[takeName](1).value()[0]}}),arrayEach(["initial","tail"],function(methodName,index){var dropName="drop"+(index?"":"Right");LazyWrapper.prototype[methodName]=function(){return this.__filtered__?new LazyWrapper(this):this[dropName](1)}}),LazyWrapper.prototype.compact=function(){return this.filter(identity)},LazyWrapper.prototype.find=function(predicate){return this.filter(predicate).head()},LazyWrapper.prototype.findLast=function(predicate){return this.reverse().find(predicate)},LazyWrapper.prototype.invokeMap=baseRest(function(path,args){return"function"==typeof path?new LazyWrapper(this):this.map(function(value){return baseInvoke(value,path,args)})}),LazyWrapper.prototype.reject=function(predicate){return this.filter(negate(getIteratee(predicate)))},LazyWrapper.prototype.slice=function(start,end){start=toInteger(start);var result=this;return result.__filtered__&&(0<start||end<0)?new LazyWrapper(result):(start<0?result=result.takeRight(-start):start&&(result=result.drop(start)),end!==undefined?(end=toInteger(end))<0?result.dropRight(-end):result.take(end-start):result)},LazyWrapper.prototype.takeRightWhile=function(predicate){return this.reverse().takeWhile(predicate).reverse()},LazyWrapper.prototype.toArray=function(){return this.take(4294967295)},baseForOwn(LazyWrapper.prototype,function(func,methodName){var checkIteratee=/^(?:filter|find|map|reject)|While$/.test(methodName),isTaker=/^(?:head|last)$/.test(methodName),lodashFunc=lodash[isTaker?"take"+("last"==methodName?"Right":""):methodName],retUnwrapped=isTaker||/^find/.test(methodName);lodashFunc&&(lodash.prototype[methodName]=function(){function interceptor(value){return value=lodashFunc.apply(lodash,arrayPush([value],args)),isTaker&&chainAll?value[0]:value}var result,value=this.__wrapped__,args=isTaker?[1]:arguments,isLazy=value instanceof LazyWrapper,iteratee=args[0],useLazy=isLazy||isArray(value),chainAll=(useLazy&&checkIteratee&&"function"==typeof iteratee&&1!=iteratee.length&&(isLazy=useLazy=!1),this.__chain__),iteratee=!!this.__actions__.length,isUnwrapped=retUnwrapped&&!chainAll,isLazy=isLazy&&!iteratee;return!retUnwrapped&&useLazy?(value=isLazy?value:new LazyWrapper(this),(result=func.apply(value,args)).__actions__.push({func:thru,args:[interceptor],thisArg:undefined}),new LodashWrapper(result,chainAll)):isUnwrapped&&isLazy?func.apply(this,args):(result=this.thru(interceptor),isUnwrapped?isTaker?result.value()[0]:result.value():result)})}),arrayEach(["pop","push","shift","sort","splice","unshift"],function(methodName){var func=arrayProto[methodName],chainName=/^(?:push|sort|unshift)$/.test(methodName)?"tap":"thru",retUnwrapped=/^(?:pop|shift)$/.test(methodName);lodash.prototype[methodName]=function(){var value,args=arguments;return retUnwrapped&&!this.__chain__?(value=this.value(),func.apply(isArray(value)?value:[],args)):this[chainName](function(value){return func.apply(isArray(value)?value:[],args)})}}),baseForOwn(LazyWrapper.prototype,function(func,methodName){var key,lodashFunc=lodash[methodName];lodashFunc&&(key=lodashFunc.name+"",hasOwnProperty.call(realNames,key)||(realNames[key]=[]),realNames[key].push({name:methodName,func:lodashFunc}))}),realNames[createHybrid(undefined,2).name]=[{name:"wrapper",func:undefined}],LazyWrapper.prototype.clone=function(){var result=new LazyWrapper(this.__wrapped__);return result.__actions__=copyArray(this.__actions__),result.__dir__=this.__dir__,result.__filtered__=this.__filtered__,result.__iteratees__=copyArray(this.__iteratees__),result.__takeCount__=this.__takeCount__,result.__views__=copyArray(this.__views__),result},LazyWrapper.prototype.reverse=function(){var result;return this.__filtered__?((result=new LazyWrapper(this)).__dir__=-1,result.__filtered__=!0):(result=this.clone()).__dir__*=-1,result},LazyWrapper.prototype.value=function(){var array=this.__wrapped__.value(),dir=this.__dir__,isArr=isArray(array),isRight=dir<0,arrLength=isArr?array.length:0,view=function(start,end,transforms){var index=-1,length=transforms.length;for(;++index<length;){var data=transforms[index],size=data.size;switch(data.type){case"drop":start+=size;break;case"dropRight":end-=size;break;case"take":end=nativeMin(end,start+size);break;case"takeRight":start=nativeMax(start,end-size)}}return{start:start,end:end}}(0,arrLength,this.__views__),start=view.start,length=(view=view.end)-start,index=isRight?view:start-1,iteratees=this.__iteratees__,iterLength=iteratees.length,resIndex=0,takeCount=nativeMin(length,this.__takeCount__);if(!isArr||!isRight&&arrLength==length&&takeCount==length)return baseWrapperValue(array,this.__actions__);var result=[];outer:for(;length--&&resIndex<takeCount;){for(var iterIndex=-1,value=array[index+=dir];++iterIndex<iterLength;){var data=iteratees[iterIndex],iteratee=data.iteratee,data=data.type,iteratee=iteratee(value);if(2==data)value=iteratee;else if(!iteratee){if(1==data)continue outer;break outer}}result[resIndex++]=value}return result},lodash.prototype.at=wrapperAt,lodash.prototype.chain=function(){return chain(this)},lodash.prototype.commit=function(){return new LodashWrapper(this.value(),this.__chain__)},lodash.prototype.next=function(){this.__values__===undefined&&(this.__values__=toArray(this.value()));var done=this.__index__>=this.__values__.length;return{done:done,value:done?undefined:this.__values__[this.__index__++]}},lodash.prototype.plant=function(value){for(var result,parent=this;parent instanceof baseLodash;)var clone=wrapperClone(parent),previous=(clone.__index__=0,clone.__values__=undefined,result?previous.__wrapped__=clone:result=clone,clone),parent=parent.__wrapped__;return previous.__wrapped__=value,result},lodash.prototype.reverse=function(){var value=this.__wrapped__;return value instanceof LazyWrapper?(value=value,(value=(value=this.__actions__.length?new LazyWrapper(this):value).reverse()).__actions__.push({func:thru,args:[reverse],thisArg:undefined}),new LodashWrapper(value,this.__chain__)):this.thru(reverse)},lodash.prototype.toJSON=lodash.prototype.valueOf=lodash.prototype.value=function(){return baseWrapperValue(this.__wrapped__,this.__actions__)},lodash.prototype.first=lodash.prototype.head,symIterator&&(lodash.prototype[symIterator]=function(){return this}),lodash}();freeModule?((freeModule.exports=_)._=_,rsAstral._=_):root._=_}.call(this)}.call(this)}.call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],4:[function(require,module,exports){"use strict";module.exports={set:function(object,property,value){{var split;return object&&"object"==typeof object?"string"==typeof property&&""!==property?(split=property.split(".")).reduce(function(obj,prop,idx){return obj[prop]=obj[prop]||{},split.length==idx+1&&(obj[prop]=value),obj[prop]},object):"number"==typeof property?(object[property]=value,object[property]):object:object}},get:function(object,property){return object&&"object"==typeof object?"string"==typeof property&&""!==property?property.split(".").reduce(function(obj,prop){return obj&&obj[prop]},object):"number"==typeof property?object[property]:object:object},has:function(object,property,options){return options=options||{},!(!object||"object"!=typeof object)&&("string"==typeof property&&""!==property?property.split(".").reduce(function(obj,prop,idx,array){return idx==array.length-1?options.own?!(!obj||!obj.hasOwnProperty(prop)):!!(null!==obj&&"object"==typeof obj&&prop in obj):obj&&obj[prop]},object):"number"==typeof property&&property in object)},hasOwn:function(object,property,options){return this.has(object,property,options||{own:!0})},isIn:function(object,property,objectInPath,options){{var isIn;return options=options||{},!(!object||"object"!=typeof object)&&("string"==typeof property&&""!==property&&(property=property.split("."),isIn=!1,property=!!property.reduce(function(obj,prop){return isIn=isIn||obj===objectInPath||!!obj&&obj[prop]===objectInPath,obj&&obj[prop]},object),options.validPath?isIn&&property:isIn))}}}},{}],5:[function(require,module,exports){!function(process){!function(){!function(){var getNanoSeconds,hrtime,loadTime;"undefined"!=typeof performance&&null!==performance&&performance.now?module.exports=function(){return performance.now()}:loadTime=null!=process&&process.hrtime?(module.exports=function(){return(getNanoSeconds()-loadTime)/1e6},hrtime=process.hrtime,(getNanoSeconds=function(){var hr=hrtime();return 1e9*hr[0]+hr[1]})()):Date.now?(module.exports=function(){return Date.now()-loadTime},Date.now()):(module.exports=function(){return(new Date).getTime()-loadTime},(new Date).getTime())}.call(this)}.call(this)}.call(this,require("_process"))},{_process:1}],6:[function(require,module,exports){!function(global){!function(){for(var last,id,queue,now=require("performance-now"),root="undefined"==typeof window?global:window,vendors=["moz","webkit"],suffix="AnimationFrame",raf=root["request"+suffix],caf=root["cancel"+suffix]||root["cancelRequest"+suffix],i=0;!raf&&i<vendors.length;i++)raf=root[vendors[i]+"Request"+suffix],caf=root[vendors[i]+"Cancel"+suffix]||root[vendors[i]+"CancelRequest"+suffix];raf&&caf||(id=last=0,queue=[],raf=function(callback){var _now,next;return 0===queue.length&&(_now=now(),next=Math.max(0,1e3/60-(_now-last)),last=next+_now,setTimeout(function(){for(var cp=queue.slice(0),i=queue.length=0;i<cp.length;i++)if(!cp[i].cancelled)try{cp[i].callback(last)}catch(e){setTimeout(function(){throw e},0)}},Math.round(next))),queue.push({handle:++id,callback:callback,cancelled:!1}),id},caf=function(handle){for(var i=0;i<queue.length;i++)queue[i].handle===handle&&(queue[i].cancelled=!0)}),module.exports=function(fn){return raf.call(root,fn)},module.exports.cancel=function(){caf.apply(root,arguments)},module.exports.polyfill=function(object){(object=object||root).requestAnimationFrame=raf,object.cancelAnimationFrame=caf}}.call(this)}.call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"performance-now":7}],7:[function(require,module,exports){!function(process){!function(){!function(){var getNanoSeconds,hrtime,loadTime,moduleLoadTime,nodeLoadTime,upTime;"undefined"!=typeof performance&&null!==performance&&performance.now?module.exports=function(){return performance.now()}:null!=process&&process.hrtime?(module.exports=function(){return(getNanoSeconds()-nodeLoadTime)/1e6},hrtime=process.hrtime,moduleLoadTime=(getNanoSeconds=function(){var hr=hrtime();return 1e9*hr[0]+hr[1]})(),upTime=1e9*process.uptime(),nodeLoadTime=moduleLoadTime-upTime):loadTime=Date.now?(module.exports=function(){return Date.now()-loadTime},Date.now()):(module.exports=function(){return(new Date).getTime()-loadTime},(new Date).getTime())}.call(this)}.call(this)}.call(this,require("_process"))},{_process:1}],8:[function(require,module,exports){var require=require("global"),request=require.requestAnimationFrame||require.webkitRequestAnimationFrame||require.mozRequestAnimationFrame||function(fn){var curr=+new Date,ms=Math.max(0,16-(curr-prev)),fn=setTimeout(fn,ms);return prev=curr,fn},prev=+new Date;var cancel=require.cancelAnimationFrame||require.webkitCancelAnimationFrame||require.mozCancelAnimationFrame||clearTimeout;Function.prototype.bind&&(request=request.bind(require),cancel=cancel.bind(require)),(module.exports=request).cancel=cancel},{global:2}],9:[function(require,module,exports){"use strict";exports.__esModule=!0;var _createClass=function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor};function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}var _react2=_interopRequireDefault(require("react")),_propTypes2=_interopRequireDefault(require("prop-types")),_utils=require("./utils");function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var isTouch=!1,require=("undefined"!=typeof window&&(isTouch="ontouchstart"in window||navigator.msMaxTouchPoints),function(_React$Component){var subClass=JoyrideBeacon;if("function"!=typeof _React$Component&&null!==_React$Component)throw new TypeError("Super expression must either be null or a function, not "+typeof _React$Component);function JoyrideBeacon(){var instance=this,Constructor=JoyrideBeacon;if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function");instance=this,Constructor=(JoyrideBeacon.__proto__||Object.getPrototypeOf(JoyrideBeacon)).apply(this,arguments);if(instance)return!Constructor||"object"!=typeof Constructor&&"function"!=typeof Constructor?instance:Constructor;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return subClass.prototype=Object.create(_React$Component&&_React$Component.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),_React$Component&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,_React$Component):subClass.__proto__=_React$Component),_createClass(JoyrideBeacon,[{key:"render",value:function(){var _props=this.props,eventType=_props.eventType,onTrigger=_props.onTrigger,step=_props.step,xPos=_props.xPos,_props=_props.yPos,xPos={beacon:{left:xPos,position:!0===step.isFixed?"fixed":"absolute",top:_props},inner:{},outer:{}},_props=step.style||{},step=void 0;return _props.beacon&&("string"==typeof _props.beacon?(step=(0,_utils.hexToRGB)(_props.beacon),xPos.inner.backgroundColor=_props.beacon,xPos.outer={backgroundColor:"rgba("+step.r+", "+step.g+", "+step.b+", 0.2)",borderColor:_props.beacon}):(_props.beacon.inner&&(xPos.inner.backgroundColor=_props.beacon.inner),_props.beacon.outer&&(step=(0,_utils.hexToRGB)(_props.beacon.outer),xPos.outer={backgroundColor:"rgba("+step.r+", "+step.g+", "+step.b+", 0.4)",borderColor:_props.beacon.outer}))),_react2.default.createElement("button",{className:"joyride-beacon",style:xPos.beacon,onClick:"click"===eventType||isTouch?onTrigger:null,onMouseEnter:"hover"!==eventType||isTouch?null:onTrigger},_react2.default.createElement("span",{className:"joyride-beacon__inner",style:xPos.inner}),_react2.default.createElement("span",{className:"joyride-beacon__outer",style:xPos.outer}))}}]),JoyrideBeacon}(_react2.default.Component));require.propTypes={eventType:_propTypes2.default.string.isRequired,onTrigger:_propTypes2.default.func.isRequired,step:_propTypes2.default.object.isRequired,xPos:_propTypes2.default.oneOfType([_propTypes2.default.number,_propTypes2.default.string]).isRequired,yPos:_propTypes2.default.oneOfType([_propTypes2.default.number,_propTypes2.default.string]).isRequired},require.defaultProps={xPos:-1e3,yPos:-1e3},exports.default=require},{"./utils":12,"prop-types":"prop-types",react:"react"}],10:[function(require,module,exports){"use strict";exports.__esModule=!0;var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var key,source=arguments[i];for(key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_createClass=function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor};function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}var _react2=_interopRequireDefault(require("react")),_propTypes2=_interopRequireDefault(require("prop-types")),_utils=require("./utils");function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}require=function(_React$Component){var subClass=JoyrideTooltip;if("function"!=typeof _React$Component&&null!==_React$Component)throw new TypeError("Super expression must either be null or a function, not "+typeof _React$Component);function JoyrideTooltip(props){if(!(this instanceof JoyrideTooltip))throw new TypeError("Cannot call a class as a function");var _this=function(self,call){if(self)return!call||"object"!=typeof call&&"function"!=typeof call?self:call;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(this,(JoyrideTooltip.__proto__||Object.getPrototypeOf(JoyrideTooltip)).call(this,props));return _this.handleMouseMove=function(e){var e=e||window.e,hole=_this.state.styles.hole,offsetY="fixed"===hole.position?e.clientY:e.pageY,e="fixed"===hole.position?e.clientX:e.pageX,offsetY=offsetY>=hole.top&&offsetY<=hole.top+hole.height,e=e>=hole.left&&e<=hole.left+hole.width&&offsetY;e&&!_this.state.mouseOverHole&&_this.setState({mouseOverHole:!0}),!e&&_this.state.mouseOverHole&&_this.setState({mouseOverHole:!1})},_this.state={},_this}return subClass.prototype=Object.create(_React$Component&&_React$Component.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),_React$Component&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,_React$Component):subClass.__proto__=_React$Component),_createClass(JoyrideTooltip,[{key:"componentWillMount",value:function(){var opts=this.setOpts(),styles=this.setStyles(this.props.step.style,opts,this.props);this.setState({styles:styles,opts:opts})}},{key:"componentDidMount",value:function(){var _props=this.props,allowClicksThruHole=_props.allowClicksThruHole,onRender=_props.onRender,_props=_props.showOverlay;this.forceUpdate(),onRender(),_props&&allowClicksThruHole&&document.addEventListener("mousemove",this.handleMouseMove,!1)}},{key:"componentWillReceiveProps",value:function(nextProps){var nextAllowClicksThruHole=nextProps.allowClicksThruHole,nextAnimate=nextProps.animate,nextStandalone=nextProps.standalone,nextStep=nextProps.step,nextHolePadding=nextProps.holePadding,nextPosition=nextProps.position,nextXPos=nextProps.xPos,nextYPos=nextProps.yPos,nextShowOverlay=nextProps.showOverlay,_props2=this.props,allowClicksThruHole=_props2.allowClicksThruHole,animate=_props2.animate,standalone=_props2.standalone,step=_props2.step,holePadding=_props2.holePadding,position=_props2.position,xPos=_props2.xPos,yPos=_props2.yPos,_props2=_props2.showOverlay;nextAnimate===animate&&nextStandalone===standalone&&nextStep===step&&nextHolePadding===holePadding&&nextPosition===position&&nextXPos===xPos&&nextYPos===yPos||(nextAnimate=this.setOpts(nextProps),animate=this.setStyles(nextProps.step.style,nextAnimate,nextProps),this.setState({styles:animate,opts:nextAnimate})),nextShowOverlay!==_props2&&(nextShowOverlay&&nextAllowClicksThruHole?document.addEventListener("mousemove",this.handleMouseMove,!1):document.removeEventListener("mousemove",this.handleMouseMove,!1)),nextAllowClicksThruHole!==allowClicksThruHole&&(nextAllowClicksThruHole?document.addEventListener("mousemove",this.handleMouseMove,!1):document.removeEventListener("mousemove",this.handleMouseMove,!1))}},{key:"componentDidUpdate",value:function(prevProps){var _props3=this.props,onRender=_props3.onRender,_props3=_props3.selector;prevProps.selector!==_props3&&(this.forceUpdate(),onRender())}},{key:"componentWillUnmount",value:function(){document.removeEventListener("mousemove",this.handleMouseMove,!1)}},{key:"getArrowPosition",value:function(position){var arrowPosition=position;return window.innerWidth<480?position<8?arrowPosition=8:92<position&&(arrowPosition=92):window.innerWidth<1024?position<6?arrowPosition=6:94<position&&(arrowPosition=94):position<5?arrowPosition=5:95<position&&(arrowPosition=95),arrowPosition}},{key:"generateArrow",value:function(){var opts=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},height=(opts.location=opts.location||"top",opts.color=opts.color||"#f04",opts.color=opts.color.replace("#","%23"),opts.width=opts.width||36,opts.height=opts.width/2,opts.scale=opts.width/16,opts.rotate="0",opts.height),rotate=opts.rotate,width=opts.width;return"bottom"===opts.location?rotate="180 8 4":"left"===opts.location?(height=opts.width,width=opts.height,rotate="270 8 8"):"right"===opts.location&&(height=opts.width,width=opts.height,rotate="90 4 4"),"data:image/svg+xml,%3Csvg%20width%3D%22"+width+"%22%20height%3D%22"+height+"%22%20version%3D%221.1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%3Cpolygon%20points%3D%220%2C%200%208%2C%208%2016%2C0%22%20fill%3D%22"+opts.color+"%22%20transform%3D%22scale%28"+opts.scale+"%29%20rotate%28"+rotate+"%29%22%3E%3C%2Fpolygon%3E%3C%2Fsvg%3E"}},{key:"setStyles",value:function(stepStyles,opts,props){var holePadding=props.holePadding,step=props.step,xPos=props.xPos,props=props.yPos,step=!0===step.isFixed,props={arrow:{left:opts.arrowPosition},buttons:{},header:{},main:{},footer:{},hole:{},tooltip:{position:step?"fixed":"absolute",top:Math.round(props),left:Math.round(xPos)}};return props.hole={top:Math.round(opts.rect.top-(step?0:document.body.getBoundingClientRect().top)-holePadding),left:Math.round(opts.rect.left-holePadding),width:Math.round(opts.rect.width+2*holePadding),height:Math.round(opts.rect.height+2*holePadding)},step&&(props.hole.position="fixed"),props.buttons={back:{},close:{},primary:{},skip:{}},stepStyles&&(stepStyles.backgroundColor&&(props.arrow.backgroundImage='url("'+this.generateArrow({location:opts.positonBaseClass,color:stepStyles.backgroundColor})+'")',props.tooltip.backgroundColor=stepStyles.backgroundColor),stepStyles.borderRadius&&(props.tooltip.borderRadius=stepStyles.borderRadius),stepStyles.color&&(props.buttons.primary.color=stepStyles.color,props.buttons.close.color=stepStyles.color,props.buttons.skip.color=stepStyles.color,props.header.color=stepStyles.color,props.tooltip.color=stepStyles.color,stepStyles.mainColor&&stepStyles.mainColor===stepStyles.color&&(props.buttons.primary.color=stepStyles.backgroundColor)),stepStyles.mainColor&&(props.buttons.primary.backgroundColor=stepStyles.mainColor,props.buttons.back.color=stepStyles.mainColor,props.header.borderColor=stepStyles.mainColor),stepStyles.textAlign&&(props.tooltip.textAlign=stepStyles.textAlign),stepStyles.width&&(props.tooltip.width=stepStyles.width),stepStyles.header&&(props.header=_extends({},props.header,stepStyles.header)),stepStyles.main&&(props.main=_extends({},props.main,stepStyles.main)),stepStyles.footer&&(props.footer=_extends({},props.footer,stepStyles.footer)),stepStyles.back&&(props.buttons.back=_extends({},props.buttons.back,stepStyles.back)),stepStyles.arrow&&(props.arrow=_extends({},props.arrow,stepStyles.arrow)),stepStyles.button&&(props.buttons.primary=_extends({},props.buttons.primary,stepStyles.button)),stepStyles.close&&(props.buttons.close=_extends({},props.buttons.close,stepStyles.close)),stepStyles.skip&&(props.buttons.skip=_extends({},props.buttons.skip,stepStyles.skip)),stepStyles.hole&&(props.hole=_extends({},stepStyles.hole,props.hole))),props}},{key:"setOpts",value:function(){var props=0<arguments.length&&void 0!==arguments[0]?arguments[0]:this.props,animate=props.animate,offsetParentSelector=props.offsetParentSelector,position=props.position,standalone=props.standalone,target=props.target,props=props.xPos,offsetParentSelector=document.querySelector((0,_utils.sanitizeSelector)(offsetParentSelector)),tooltip=document.querySelector(".joyride-tooltip"),target={classes:["joyride-tooltip"],rect:(0,_utils.getOffsetBoundingClientRect)(target,offsetParentSelector),positionClass:position};return target.positonBaseClass=target.positionClass.match(/-/)?target.positionClass.split("-")[0]:target.positionClass,(/^bottom$/.test(target.positionClass)||/^top$/.test(target.positionClass))&&-1<props&&(target.tooltip={width:450},tooltip&&(target.tooltip=(0,_utils.getOffsetBoundingClientRect)(tooltip,offsetParentSelector)),target.targetMiddle=target.rect.left+target.rect.width/2,target.arrowPosition=((target.targetMiddle-props)/target.tooltip.width*100).toFixed(2),target.arrowPosition=this.getArrowPosition(target.arrowPosition)+"%"),standalone&&target.classes.push("joyride-tooltip--standalone"),target.positonBaseClass!==target.positionClass&&target.classes.push(target.positonBaseClass),target.classes.push(target.positionClass),animate&&target.classes.push("joyride-tooltip--animate"),target}},{key:"render",value:function(){var _props4=this.props,buttons=_props4.buttons,disableOverlay=_props4.disableOverlay,onClick=_props4.onClick,selector=_props4.selector,showOverlay=_props4.showOverlay,step=_props4.step,target=_props4.target,_props4=_props4.type;if(target){var target=this.state,opts=target.opts,target=target.styles,output={};if(step.title&&(output.header=_react2.default.createElement("div",{className:"joyride-tooltip__header",style:target.header},step.title)),buttons.skip&&(output.skip=_react2.default.createElement("button",{className:"joyride-tooltip__button joyride-tooltip__button--skip",style:target.buttons.skip,"data-type":"skip",onClick:onClick},buttons.skip)),step.text&&"string"!=typeof step.text?output.main=_react2.default.createElement("div",{className:"joyride-tooltip__main",style:target.main},step.text):output.main=_react2.default.createElement("div",{className:"joyride-tooltip__main",style:target.main,dangerouslySetInnerHTML:{__html:step.text||""}}),buttons.secondary&&(output.secondary=_react2.default.createElement("button",{className:"joyride-tooltip__button joyride-tooltip__button--secondary",style:target.buttons.back,"data-type":"back",onClick:onClick},buttons.secondary)),"hover"===step.event&&(target.buttons.close.opacity=0),output.tooltipComponent=_react2.default.createElement("div",{className:opts.classes.join(" "),style:target.tooltip,"data-target":selector},_react2.default.createElement("div",{className:"joyride-tooltip__triangle joyride-tooltip__triangle-"+opts.positionClass,style:target.arrow}),_react2.default.createElement("button",{className:"joyride-tooltip__close"+(output.header?" joyride-tooltip__close--header":""),style:target.buttons.close,"data-type":"close",onClick:onClick}),output.header,output.main,_react2.default.createElement("div",{className:"joyride-tooltip__footer",style:target.footer},output.skip,output.secondary,_react2.default.createElement("button",{className:"joyride-tooltip__button joyride-tooltip__button--primary",style:target.buttons.primary,"data-type":["single","casual"].includes(_props4)?"close":"next",onClick:onClick},buttons.primary))),showOverlay&&(output.hole=_react2.default.createElement("div",{className:"joyride-hole "+_utils.browser,style:target.hole,onClick:function(){}})),!showOverlay)return output.tooltipComponent;step={cursor:disableOverlay?"default":"pointer",height:document.body.clientHeight,pointerEvents:this.state.mouseOverHole?"none":"auto"};return _react2.default.createElement("div",{className:"joyride-overlay",style:step,"data-type":"close",onClick:disableOverlay?void 0:onClick},output.hole,output.tooltipComponent)}}}]),JoyrideTooltip}(_react2.default.Component);require.propTypes={allowClicksThruHole:_propTypes2.default.bool.isRequired,animate:_propTypes2.default.bool.isRequired,buttons:_propTypes2.default.object.isRequired,disableOverlay:_propTypes2.default.bool,holePadding:_propTypes2.default.number,offsetParentSelector:_propTypes2.default.string,onClick:_propTypes2.default.func.isRequired,onRender:_propTypes2.default.func.isRequired,position:_propTypes2.default.oneOf(["top","top-left","top-right","bottom","bottom-left","bottom-right","right","left"]).isRequired,selector:_propTypes2.default.string.isRequired,showOverlay:_propTypes2.default.bool.isRequired,standalone:_propTypes2.default.bool,step:_propTypes2.default.object.isRequired,target:_propTypes2.default.object.isRequired,type:_propTypes2.default.string.isRequired,xPos:_propTypes2.default.oneOfType([_propTypes2.default.number,_propTypes2.default.string]).isRequired,yPos:_propTypes2.default.oneOfType([_propTypes2.default.number,_propTypes2.default.string]).isRequired},require.defaultProps={buttons:{primary:"Close"},step:{},xPos:-1e3,yPos:-1e3},exports.default=require},{"./utils":12,"prop-types":"prop-types",react:"react"}],11:[function(require,module,exports){"use strict";exports.__esModule=!0;var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var key,source=arguments[i];for(key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_createClass=function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor};function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}var _react2=_interopRequireDefault(require("react")),_propTypes2=_interopRequireDefault(require("prop-types")),_scroll2=_interopRequireDefault(require("scroll")),_nestedProperty2=_interopRequireDefault(require("nested-property")),_utils=require("./utils"),_Beacon2=_interopRequireDefault(require("./Beacon")),_Tooltip2=_interopRequireDefault(require("./Tooltip"));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var defaultState={action:"",index:0,isRunning:!1,isTourSkipped:!1,shouldRedraw:!0,shouldRenderTooltip:!1,shouldRun:!1,standaloneData:!1,xPos:-1e3,yPos:-1e3},callbackTypes_STEP_BEFORE="step:before",callbackTypes_BEACON_BEFORE="beacon:before",callbackTypes_BEACON_TRIGGER="beacon:trigger",callbackTypes_TOOLTIP_BEFORE="tooltip:before",callbackTypes_STEP_AFTER="step:after",callbackTypes_STANDALONE_BEFORE="standalone:before",callbackTypes_STANDALONE_AFTER="standalone:after",callbackTypes_OVERLAY="overlay:click",callbackTypes_HOLE="hole:click",callbackTypes_FINISHED="finished",callbackTypes_TARGET_NOT_FOUND="error:target_not_found",DEFAULTS_position="top",DEFAULTS_minWidth=290,hasTouch=!1,require=function(_React$Component){var subClass=Joyride;if("function"!=typeof _React$Component&&null!==_React$Component)throw new TypeError("Super expression must either be null or a function, not "+typeof _React$Component);function Joyride(props){if(!(this instanceof Joyride))throw new TypeError("Cannot call a class as a function");var _this=function(self,call){if(self)return!call||"object"!=typeof call&&"function"!=typeof call?self:call;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(this,(Joyride.__proto__||Object.getPrototypeOf(Joyride)).call(this,props));return _this.handleKeyboardNavigation=function(e){var _this$state=_this.state,index=_this$state.index,_this$state=_this$state.shouldRenderTooltip,steps=_this.props.steps,intKey=window.Event?e.which:e.keyCode;_this$state&&([32,38,40].includes(intKey)&&e.preventDefault(),27===intKey?_this.toggleTooltip({show:!1,index:index+1,action:"esc"}):[13,32].includes(intKey)&&(_this$state=Boolean(steps[index+1]),_this.toggleTooltip({show:_this$state,index:index+1,action:"next"})))},_this.handleClickStandaloneTrigger=function(e){e.preventDefault();var _this$state2=_this.state,isRunning=_this$state2.isRunning,_this$state2=_this$state2.standaloneData,tooltipData=e.currentTarget.dataset.tooltip;["mouseenter","mouseleave"].includes(e.type)&&hasTouch||tooltipData&&(tooltipData=JSON.parse(tooltipData),_this$state2&&_this$state2.selector===tooltipData.selector?document.querySelector(".joyride-tooltip__close").click():_this.setState({isRunning:!1,shouldRenderTooltip:!1,shouldRun:isRunning,standaloneData:tooltipData,xPos:-1e3,yPos:-1e3}))},_this.handleClickBeacon=function(e){e.preventDefault();var index=_this.state.index,steps=_this.props.steps;_this.triggerCallback({action:e.type,index:index,type:callbackTypes_BEACON_TRIGGER,step:steps[index]}),_this.toggleTooltip({show:!0,index:index,action:"beacon:"+e.type})},_this.handleClickTooltip=function(e){var newIndex,_this$state3=_this.state,index=_this$state3.index,_this$state3=_this$state3.shouldRun,_this$props=_this.props,steps=_this$props.steps,_this$props=_this$props.type,el=e.currentTarget.className.includes("joyride-")&&["A","BUTTON"].includes(e.currentTarget.tagName)?e.currentTarget:e.target,dataType=el.dataset.type;"string"==typeof el.className&&el.className.startsWith("joyride-")&&(e.preventDefault(),e.stopPropagation(),el=document.querySelector(".joyride-tooltip"),newIndex=index+("back"===dataType?-1:1),"skip"===dataType&&(_this.setState({isTourSkipped:!0}),newIndex=steps.length+1),el.classList.contains("joyride-tooltip--standalone")?_this.setState({isRunning:_this$state3,shouldRedraw:!0,shouldRun:!1,standaloneData:!1}):dataType&&(el=["continuous","guided"].includes(_this$props)&&!["close","skip"].includes(dataType)&&Boolean(steps[newIndex]),_this.toggleTooltip({show:el,index:newIndex,action:dataType})),"joyride-overlay"===e.target.className&&_this.triggerCallback({action:"click",type:callbackTypes_OVERLAY,step:steps[index]}),e.target.classList.contains("joyride-hole")&&_this.triggerCallback({action:"click",type:callbackTypes_HOLE,step:steps[index]}))},_this.handleRenderTooltip=function(){_this.calcPlacement()},_this.state=_extends({},defaultState),_this.listeners={tooltips:{}},_this}return subClass.prototype=Object.create(_React$Component&&_React$Component.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),_React$Component&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,_React$Component):subClass.__proto__=_React$Component),_createClass(Joyride,[{key:"componentDidMount",value:function(){var timeoutId,_this2=this,_props=this.props,autoStart=_props.autoStart,keyboardNavigation=_props.keyboardNavigation,resizeDebounce=_props.resizeDebounce,resizeDebounceDelay=_props.resizeDebounceDelay,run=_props.run,steps=_props.steps,_props=_props.type,stepsAreValid=((0,_utils.logger)({type:"joyride:initialized",msg:[this.props],debug:this.props.debug}),this.checkStepsValidity(steps));steps&&stepsAreValid&&run&&this.start(autoStart),resizeDebounce?(timeoutId=void 0,this.listeners.resize=function(){clearTimeout(timeoutId),timeoutId=setTimeout(function(){timeoutId=null,_this2.calcPlacement()},resizeDebounceDelay)}):this.listeners.resize=function(){_this2.calcPlacement()},window.addEventListener("resize",this.listeners.resize),keyboardNavigation&&"continuous"===_props&&(this.listeners.keyboard=this.handleKeyboardNavigation,document.body.addEventListener("keydown",this.listeners.keyboard)),window.addEventListener("touchstart",function setHasTouch(){hasTouch=!0,window.removeEventListener("touchstart",setHasTouch)},!1)}},{key:"componentWillReceiveProps",value:function(nextProps){(0,_utils.logger)({type:"joyride:willReceiveProps",msg:[nextProps],debug:nextProps.debug});var _state=this.state,isRunning=_state.isRunning,shouldRun=_state.shouldRun,_state=_state.standaloneData,_props2=this.props,keyboardNavigation=_props2.keyboardNavigation,run=_props2.run,steps=_props2.steps,_props2=_props2.stepIndex,stepsChanged=nextProps.steps!==steps,_props2=nextProps.stepIndex!==_props2&&nextProps.stepIndex!==this.state.index,runChanged=nextProps.run!==run,shouldStart=!1,didStop=!1;stepsChanged&&this.checkStepsValidity(nextProps.steps)&&(nextProps.steps&&nextProps.steps.length?!steps.length&&nextProps.run&&(shouldStart=!0):this.reset()),runChanged&&(run&&!nextProps.run?(this.stop(),didStop=!0):(!run&&nextProps.run||!isRunning&&shouldRun&&!_state)&&(shouldStart=!0)),_props2?(stepsChanged=nextProps.steps[nextProps.stepIndex]&&nextProps.autoStart,runChanged&&shouldStart||nextProps.run&&!isRunning?this.start(nextProps.autoStart,nextProps.steps,nextProps.stepIndex):didStop||this.toggleTooltip({show:stepsChanged,index:nextProps.stepIndex,steps:nextProps.steps,action:"jump"})):shouldStart&&this.start(nextProps.autoStart,nextProps.steps),!this.listeners.keyboard&&(!keyboardNavigation&&nextProps.keyboardNavigation||keyboardNavigation)&&"continuous"===nextProps.type?(this.listeners.keyboard=this.handleKeyboardNavigation,document.body.addEventListener("keydown",this.listeners.keyboard)):!this.listeners.keyboard||!keyboardNavigation||nextProps.keyboardNavigation&&"continuous"===nextProps.type||(document.body.removeEventListener("keydown",this.listeners.keyboard),delete this.listeners.keyboard)}},{key:"componentWillUpdate",value:function(nextProps,nextState){var _state2=this.state,index=_state2.index,isRunning=_state2.isRunning,shouldRenderTooltip=_state2.shouldRenderTooltip,_state2=_state2.standaloneData,steps=this.props.steps,nextProps=nextProps.steps,steps=steps[index],nextStep=nextProps[nextState.index],hasRenderedTarget=Boolean(this.getStepTargetElement(nextStep));!_state2&&nextState.standaloneData?this.triggerCallback({type:callbackTypes_STANDALONE_BEFORE,step:nextState.standaloneData}):_state2&&!nextState.standaloneData&&this.triggerCallback({type:callbackTypes_STANDALONE_AFTER,step:_state2}),"start"!==nextState.action||nextState.isRunning||nextStep&&!hasRenderedTarget&&(console.warn("Target not mounted",nextStep,nextState.action),this.triggerCallback({action:"start",index:nextState.index,type:callbackTypes_TARGET_NOT_FOUND,step:nextStep})),!isRunning&&nextState.isRunning&&0===nextState.index&&(this.triggerCallback({action:"start",index:nextState.index,type:callbackTypes_STEP_BEFORE,step:nextStep}),nextState.shouldRenderTooltip||this.triggerCallback({action:"start",index:nextState.index,type:callbackTypes_BEACON_BEFORE,step:nextStep})),isRunning&&nextState.index!==index&&(this.triggerCallback({action:nextState.action,index:index,type:callbackTypes_STEP_AFTER,step:steps}),nextStep&&!hasRenderedTarget?(console.warn("Target not mounted",nextStep,nextState.action),this.triggerCallback({action:nextState.action,index:nextState.index,type:callbackTypes_TARGET_NOT_FOUND,step:nextStep})):nextStep&&nextState.index&&this.triggerCallback({action:nextState.action,index:nextState.index,type:callbackTypes_STEP_BEFORE,step:nextStep})),!nextState.isRunning||shouldRenderTooltip===nextState.shouldRenderTooltip&&nextState.index===index||(nextState.shouldRenderTooltip?this.triggerCallback({action:nextState.action||(0===nextState.index?"autostart":""),index:nextState.index,type:callbackTypes_TOOLTIP_BEFORE,step:nextStep}):this.triggerCallback({action:nextState.action,index:nextState.index,type:callbackTypes_BEACON_BEFORE,step:nextStep})),nextState.isRunning||!nextProps.length||index===nextState.index||nextStep||this.triggerCallback({action:nextState.action,type:callbackTypes_FINISHED,steps:nextProps,isTourSkipped:nextState.isTourSkipped})}},{key:"componentDidUpdate",value:function(prevProps,prevState){var _state3=this.state,index=_state3.index,shouldRedraw=_state3.shouldRedraw,isRunning=_state3.isRunning,shouldRun=_state3.shouldRun,_state3=_state3.standaloneData,_props3=this.props,scrollToFirstStep=_props3.scrollToFirstStep,scrollToSteps=_props3.scrollToSteps,_props3=_props3.steps,step=_props3[index],scrollTop=this.getScrollTop(),scrollToFirstStep=(scrollToFirstStep||0<index||prevState.index>index)&&step&&!step.isFixed;shouldRedraw&&step&&this.calcPlacement(),isRunning&&scrollToSteps&&scrollToFirstStep&&0<=scrollTop&&_scroll2.default.top((0,_utils.getRootEl)(),this.getScrollTop()),_props3.length&&!isRunning&&shouldRun&&!_state3&&this.start()}},{key:"componentWillUnmount",value:function(){var _this3=this;window.removeEventListener("resize",this.listeners.resize),this.listeners.keyboard&&document.body.removeEventListener("keydown",this.listeners.keyboard),Object.keys(this.listeners.tooltips).length&&Object.keys(this.listeners.tooltips).map(function(key){return{el:document.querySelector(key),event:_this3.listeners.tooltips[key].event,cb:_this3.listeners.tooltips[key].cb,key:key}}).filter(function(_ref){return!!_ref.el}).forEach(function(_ref2){var el=_ref2.el,event=_ref2.event,cb=_ref2.cb,_ref2=_ref2.key;el.removeEventListener(event,cb),delete _this3.listeners.tooltips[_ref2]})}},{key:"start",value:function(autorun){var steps=1<arguments.length&&void 0!==arguments[1]?arguments[1]:this.props.steps,startIndex=2<arguments.length&&void 0!==arguments[2]?arguments[2]:this.state.index,hasMountedTarget=Boolean(this.getStepTargetElement(steps[startIndex])),shouldRenderTooltip=!0===autorun&&hasMountedTarget;(0,_utils.logger)({type:"joyride:start",msg:["autorun:",!0===autorun],debug:this.props.debug}),this.setState({action:"start",index:startIndex,isRunning:Boolean(steps.length)&&hasMountedTarget,shouldRenderTooltip:shouldRenderTooltip,shouldRun:!steps.length})}},{key:"stop",value:function(){(0,_utils.logger)({type:"joyride:stop",debug:this.props.debug}),this.setState({isRunning:!1,shouldRenderTooltip:!1})}},{key:"next",value:function(){var _state4=this.state,index=_state4.index,_state4=_state4.shouldRenderTooltip,steps=this.props.steps,index=index+1,steps=Boolean(steps[index])&&_state4;(0,_utils.logger)({type:"joyride:next",msg:["new index:",index],debug:this.props.debug}),this.toggleTooltip({show:steps,index:index,action:"next"})}},{key:"back",value:function(){var _state5=this.state,index=_state5.index,_state5=_state5.shouldRenderTooltip,steps=this.props.steps,index=index-1,steps=Boolean(steps[index])&&_state5;(0,_utils.logger)({type:"joyride:back",msg:["new index:",index],debug:this.props.debug}),this.toggleTooltip({show:steps,index:index,action:"next"})}},{key:"reset",value:function(restart){var _state6=this.state,index=_state6.index,_state6=_state6.isRunning,restart=!0===restart,newState=_extends({},defaultState,{isRunning:restart,shouldRenderTooltip:this.props.autoStart});(0,_utils.logger)({type:"joyride:reset",msg:["restart:",restart],debug:this.props.debug}),restart&&_state6===restart&&0===index&&this.forceUpdate(),this.setState(newState)}},{key:"getProgress",value:function(){var index=this.state.index,steps=this.props.steps;return(0,_utils.logger)({type:"joyride:getProgress",msg:["steps:",steps],debug:this.props.debug}),{index:index,percentageComplete:parseFloat((index/steps.length*100).toFixed(2).replace(".00","")),step:steps[index]}}},{key:"addTooltip",value:function(data){var key,el;this.checkStepValidity(data)?((0,_utils.logger)({type:"joyride:addTooltip",msg:["data:",data],debug:this.props.debug}),key=data.trigger||(0,_utils.sanitizeSelector)(data.selector),(el=document.querySelector(key))&&(el.setAttribute("data-tooltip",JSON.stringify(data)),"hover"===(data.event||"click")&&(this.listeners.tooltips[key+"mouseenter"]={event:"mouseenter",cb:this.handleClickStandaloneTrigger},this.listeners.tooltips[key+"mouseleave"]={event:"mouseleave",cb:this.handleClickStandaloneTrigger},el.addEventListener("mouseenter",this.listeners.tooltips[key+"mouseenter"].cb),el.addEventListener("mouseleave",this.listeners.tooltips[key+"mouseleave"].cb)),this.listeners.tooltips[key+"click"]={event:"click",cb:this.handleClickStandaloneTrigger},el.addEventListener("click",this.listeners.tooltips[key+"click"].cb))):(0,_utils.logger)({type:"joyride:addTooltip:FAIL",msg:["data:",data],debug:this.props.debug})}},{key:"parseSteps",value:function(steps){return console.warn("joyride.parseSteps() is deprecated.  It is no longer necessary to parse steps before providing them to Joyride"),steps}},{key:"checkStepValidity",value:function(step){var _this4=this;if(!step||"object"!==(void 0===step?"undefined":_typeof(step))||Array.isArray(step))return(0,_utils.logger)({type:"joyride:checkStepValidity",msg:"Did not provide a step object.",warn:!0,debug:this.props.debug}),!1;return["selector"].every(function(requiredField){var hasField=Boolean(step[requiredField]);return hasField||(0,_utils.logger)({type:"joyride:checkStepValidity",msg:["Provided a step without the required "+requiredField+" property.","Step:",step],warn:!0,debug:_this4.props.debug}),hasField})}},{key:"checkStepsValidity",value:function(steps){return Array.isArray(steps)||"object"!==(void 0===steps?"undefined":_typeof(steps))?0<steps.length&&steps.every(this.checkStepValidity):this.checkStepValidity(steps)}},{key:"getStepTargetElement",value:function(step){if(!this.checkStepValidity(step))return null;step=document.querySelector((0,_utils.sanitizeSelector)(step.selector));return step||((0,_utils.logger)({type:"joyride:getStepTargetElement",msg:"Target not rendered. For best results only add steps after they are mounted.",warn:!0,debug:this.props.debug}),null)}},{key:"getElementDimensions",value:function(){var styles,_state7=this.state,shouldRenderTooltip=_state7.shouldRenderTooltip,_state7=_state7.standaloneData,_state7=document.querySelector(!!_state7||shouldRenderTooltip?".joyride-tooltip":".joyride-beacon"),shouldRenderTooltip=0,width=0;return _state7&&(styles=window.getComputedStyle(_state7),shouldRenderTooltip=_state7.clientHeight+parseInt(styles.marginTop||0,10)+parseInt(styles.marginBottom||0,10),width=_state7.clientWidth+parseInt(styles.marginLeft||0,10)+parseInt(styles.marginRight||0,10)),{height:shouldRenderTooltip,width:width}}},{key:"getScrollTop",value:function(){var _state8=this.state,index=_state8.index,_state8=_state8.yPos,_props4=this.props,offsetParentSelector=_props4.offsetParentSelector,scrollOffset=_props4.scrollOffset,_props4=_props4.steps[index],index=this.getStepTargetElement(_props4),offsetParentSelector=document.querySelector((0,_utils.sanitizeSelector)(offsetParentSelector));if(!index)return 0;index=(0,_utils.getOffsetBoundingClientRect)(index,offsetParentSelector).top+(window.pageYOffset||document.documentElement.scrollTop),offsetParentSelector=this.calcPosition(_props4),_props4=0;return/^top/.test(offsetParentSelector)?_props4=Math.floor(_state8-scrollOffset):/^bottom|^left|^right/.test(offsetParentSelector)&&(_props4=Math.floor(index-scrollOffset)),_props4}},{key:"triggerCallback",value:function(options){var callback=this.props.callback;"function"==typeof callback&&((0,_utils.logger)({type:"joyride:triggerCallback",msg:[options],debug:this.props.debug}),callback(options))}},{key:"toggleTooltip",value:function(_ref3){var show=_ref3.show,_ref3$index=_ref3.index,_ref3$index=void 0===_ref3$index?this.state.index:_ref3$index,action=_ref3.action,_ref3=_ref3.steps,_ref3=(void 0===_ref3?this.props.steps:_ref3)[_ref3$index],hasMountedTarget=Boolean(this.getStepTargetElement(_ref3));this.setState({action:action,index:_ref3$index,isRunning:!(!_ref3||!hasMountedTarget)&&this.state.isRunning,shouldRedraw:!show||!hasMountedTarget,shouldRenderTooltip:show&&hasMountedTarget,xPos:-1e3,yPos:-1e3})}},{key:"calcPlacement",value:function(){var placement,_state9=this.state,index=_state9.index,isRunning=_state9.isRunning,standaloneData=_state9.standaloneData,_state9=_state9.shouldRenderTooltip,_props5=this.props,offsetParentSelector=_props5.offsetParentSelector,steps=_props5.steps,_props5=_props5.tooltipOffset,step=standaloneData||steps[index]||{},_state9=!!standaloneData||_state9,target=this.getStepTargetElement(step),offsetParentSelector=document.querySelector((0,_utils.sanitizeSelector)(offsetParentSelector));(0,_utils.logger)({type:"joyride:calcPlacement"+this.getRenderStage(),msg:["step:",step],debug:this.props.debug}),target&&(placement={x:-1e3,y:-1e3},step&&(standaloneData||isRunning&&steps[index])&&(standaloneData=_nestedProperty2.default.get(step,"style.beacon.offsetX")||0,isRunning=_nestedProperty2.default.get(step,"style.beacon.offsetY")||0,steps=this.calcPosition(step),index=(0,_utils.getRootEl)().getBoundingClientRect(),step=!0===step.isFixed?0:index.top,index=this.getElementDimensions(),target=(0,_utils.getOffsetBoundingClientRect)(target,offsetParentSelector),/^left/.test(steps)?placement.x=target.left-(_state9?index.width+_props5:index.width/2+standaloneData):/^right/.test(steps)?placement.x=target.left+target.width-(_state9?-_props5:index.width/2-standaloneData):placement.x=target.left+(target.width/2-index.width/2),/^top/.test(steps)?placement.y=target.top-step-(_state9?index.height+_props5:index.height/2+isRunning):/^bottom/.test(steps)?placement.y=target.top-step+(target.height-(_state9?-_props5:index.height/2-isRunning)):placement.y=target.top-step,/^bottom|^top/.test(steps)&&(/left/.test(steps)?placement.x=target.left-(_state9?_props5:index.width/2):/right/.test(steps)&&(placement.x=target.left+(target.width-(_state9?index.width-_props5:index.width/2)))),this.setState({shouldRedraw:!1,xPos:this.preventWindowOverflow(Math.ceil(placement.x),"x",index.width,index.height),yPos:this.preventWindowOverflow(Math.ceil(placement.y),"y",index.width,index.height)})))}},{key:"calcPosition",value:function(step){var _props6=this.props,offsetParentSelector=_props6.offsetParentSelector,_props6=_props6.tooltipOffset,scrollingElement=(0,_utils.getRootEl)(),scrollingElementRect=scrollingElement.getBoundingClientRect(),target=this.getStepTargetElement(step),offsetParentSelector=document.querySelector((0,_utils.sanitizeSelector)(offsetParentSelector)),target=(0,_utils.getOffsetBoundingClientRect)(target,offsetParentSelector),offsetParentSelector=this.getElementDimensions(),height=offsetParentSelector.height,offsetParentSelector=offsetParentSelector.width,offsetParentSelector=void 0===offsetParentSelector?DEFAULTS_minWidth:offsetParentSelector,position=step.position||DEFAULTS_position;return/^left/.test(position)&&target.left-(offsetParentSelector+_props6)<0?position="top":/^right/.test(position)&&target.left+target.width+(offsetParentSelector+_props6)>scrollingElementRect.width&&(position="bottom"),/^top/.test(position)&&(target.top+scrollingElement.scrollTop-(height+_props6)<0||step.isFixed&&target.top-height<0)?position="bottom":/^bottom/.test(position)&&(target.top+scrollingElement.scrollTop+(height+_props6)>(0,_utils.getDocHeight)()||step.isFixed&&target.top+target.height+height>scrollingElementRect.height)&&(position="top"),position}},{key:"getRenderStage",value:function(){var _state10=this.state,shouldRedraw=_state10.shouldRedraw,_state10=_state10.xPos;return shouldRedraw?":redraw":_state10<0?":pre-render":""}},{key:"preventWindowOverflow",value:function(value,axis,elWidth,elHeight){var winWidth=window.innerWidth,docHeight=(0,_utils.getDocHeight)(),newValue=value;return"x"===axis?winWidth<=value+elWidth?newValue=winWidth-elWidth-15:value<15&&(newValue=15):"y"===axis&&(docHeight<=value+elHeight?newValue=docHeight-elHeight-15:value<15&&(newValue=15)),newValue}},{key:"createComponent",value:function(){var _state11=this.state,index=_state11.index,shouldRedraw=_state11.shouldRedraw,shouldRenderTooltip=_state11.shouldRenderTooltip,standaloneData=_state11.standaloneData,xPos=_state11.xPos,_state11=_state11.yPos,_props7=this.props,disableOverlay=_props7.disableOverlay,holePadding=_props7.holePadding,locale=_props7.locale,offsetParentSelector=_props7.offsetParentSelector,showBackButton=_props7.showBackButton,showOverlay=_props7.showOverlay,showSkipButton=_props7.showSkipButton,showStepsProgress=_props7.showStepsProgress,steps=_props7.steps,_props7=_props7.type,currentStep=standaloneData||steps[index],currentStep=_extends({},currentStep),target=this.getStepTargetElement(currentStep),allowClicksThruHole=currentStep&&currentStep.allowClicksThruHole||this.props.allowClicksThruHole,showOverlay=!standaloneData&&showOverlay,buttons={primary:locale.close};return(0,_utils.logger)({type:"joyride:createComponent"+this.getRenderStage(),msg:["component:",shouldRenderTooltip||standaloneData?"Tooltip":"Beacon","animate:",-1<xPos&&!shouldRedraw,"step:",currentStep],debug:this.props.debug,warn:!target}),!!target&&(shouldRenderTooltip||standaloneData?(shouldRenderTooltip=this.calcPosition(currentStep),standaloneData||(["continuous","guided"].includes(_props7)&&(buttons.primary=locale.last,steps[index+1]&&(showStepsProgress?(showStepsProgress=locale.next,"string"==typeof locale.next&&(showStepsProgress=_react2.default.createElement("span",null,locale.next)),buttons.primary=_react2.default.createElement("span",null,showStepsProgress," ",_react2.default.createElement("span",null,index+1+"/"+steps.length))):buttons.primary=locale.next),showBackButton&&0<index&&(buttons.secondary=locale.back)),showSkipButton&&(buttons.skip=locale.skip)),_react2.default.createElement(_Tooltip2.default,{allowClicksThruHole:allowClicksThruHole,animate:-1<xPos&&!shouldRedraw,buttons:buttons,disableOverlay:disableOverlay,holePadding:holePadding,offsetParentSelector:offsetParentSelector,position:shouldRenderTooltip,selector:(0,_utils.sanitizeSelector)(currentStep.selector),showOverlay:showOverlay,step:currentStep,standalone:Boolean(standaloneData),target:target,type:_props7,xPos:xPos,yPos:_state11,onClick:this.handleClickTooltip,onRender:this.handleRenderTooltip})):_react2.default.createElement(_Beacon2.default,{step:currentStep,xPos:xPos,yPos:_state11,onTrigger:this.handleClickBeacon,eventType:currentStep.type||"click"}))}},{key:"render",value:function(){var _state12=this.state,index=_state12.index,isRunning=_state12.isRunning,_state12=_state12.standaloneData,steps=this.props.steps,hasStep=Boolean(steps[index]),component=void 0,standaloneComponent=void 0;return isRunning&&hasStep?(0,_utils.logger)({type:"joyride:render"+this.getRenderStage(),msg:["step:",steps[index]],debug:this.props.debug}):!isRunning&&_state12&&(0,_utils.logger)({type:"joyride:render",msg:["tooltip:",_state12],debug:this.props.debug}),_state12?standaloneComponent=this.createComponent():isRunning&&hasStep&&(component=this.createComponent()),_react2.default.createElement("div",{className:"joyride"},component,standaloneComponent)}}]),Joyride}(_react2.default.Component);require.propTypes={allowClicksThruHole:_propTypes2.default.bool,autoStart:_propTypes2.default.bool,callback:_propTypes2.default.func,debug:_propTypes2.default.bool,disableOverlay:_propTypes2.default.bool,holePadding:_propTypes2.default.number,keyboardNavigation:_propTypes2.default.bool,locale:_propTypes2.default.object,offsetParentSelector:_propTypes2.default.string,resizeDebounce:_propTypes2.default.bool,resizeDebounceDelay:_propTypes2.default.number,run:_propTypes2.default.bool,scrollOffset:_propTypes2.default.number,scrollToFirstStep:_propTypes2.default.bool,scrollToSteps:_propTypes2.default.bool,showBackButton:_propTypes2.default.bool,showOverlay:_propTypes2.default.bool,showSkipButton:_propTypes2.default.bool,showStepsProgress:_propTypes2.default.bool,stepIndex:_propTypes2.default.number,steps:_propTypes2.default.array,tooltipOffset:_propTypes2.default.number,type:_propTypes2.default.string},require.defaultProps={allowClicksThruHole:!1,autoStart:!1,debug:!1,disableOverlay:!1,holePadding:5,keyboardNavigation:!0,locale:{back:"Back",close:"Close",last:"Last",next:"Next",skip:"Skip"},offsetParentSelector:"body",resizeDebounce:!1,resizeDebounceDelay:200,run:!1,scrollOffset:20,scrollToFirstStep:!1,scrollToSteps:!0,showBackButton:!0,showOverlay:!0,showSkipButton:!1,showStepsProgress:!1,stepIndex:0,steps:[],tooltipOffset:15,type:"single"},exports.default=require},{"./Beacon":9,"./Tooltip":10,"./utils":12,"nested-property":4,"prop-types":"prop-types",react:"react",scroll:25}],12:[function(require,module,exports){"use strict";exports.__esModule=!0,exports.hexToRGB=function(hex){hex=hex.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,function(m,r,g,b){return r+r+g+g+b+b}),hex=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(hex);return hex?{r:parseInt(hex[1],16),g:parseInt(hex[2],16),b:parseInt(hex[3],16)}:null},exports.getDocHeight=function(){var _document=document,body=_document.body,_document=_document.documentElement;return Math.max(body.scrollHeight,body.offsetHeight,_document.clientHeight,_document.scrollHeight,_document.offsetHeight)},exports.getRootEl=function(){var scrollingElement=document.scrollingElement;return scrollingElement||(-1<["ie","firefox"].indexOf(browser)?document.documentElement:document.body)},exports.logger=function(_ref){var _ref$type=_ref.type,_ref$type=void 0===_ref$type?"joyride":_ref$type,msg=_ref.msg,_ref$warn=_ref.warn,_ref$warn=void 0!==_ref$warn&&_ref$warn,_ref=_ref.debug,_ref=void 0!==_ref&&_ref,_ref$warn=_ref$warn?console.warn||console.error:console.log;_ref&&(console.log("%c"+_ref$type,"color: #760bc5; font-weight: bold; font-size: 12px;"),msg&&(Array.isArray(msg)?_ref$warn.apply(console,msg):_ref$warn.apply(console,[msg])))},exports.sanitizeSelector=function(selector){{if(selector.dataset&&selector.dataset.reactid)return console.warn("Deprecation warning: React 15.0 removed reactid. Update your code."),'[data-reactid="'+selector.dataset.reactid+'"]';if(selector.dataset&&(console.error("Unsupported error: React 15.0+ doesn’t write reactid to the DOM anymore, please use a plain class in your step.",selector),selector.className))return"."+selector.className.replace(" ",".")}return selector},exports.getOffsetBoundingClientRect=function(element,offsetParent){element=element.getBoundingClientRect();if(!offsetParent)return element;var offsetParent=offsetParent.getBoundingClientRect(),offsetTop=0<offsetParent.top?element.top-offsetParent.top:element.top,offsetLeft=0<offsetParent.left?element.left-offsetParent.left:element.left,offsetRight=0<offsetParent.right?offsetParent.right-element.right:element.right,offsetParent=0<offsetParent.bottom?offsetParent.bottom-element.bottom:element.bottom;return{top:offsetTop,left:offsetLeft,right:offsetRight,bottom:offsetParent,x:offsetLeft,y:offsetTop,width:element.width,height:element.height}};var browser=exports.browser=function(){if("undefined"==typeof window)return"node";var isOpera=Boolean(window.opera)||0<=navigator.userAgent.indexOf(" OPR/"),isFirefox="undefined"!=typeof InstallTrigger,isChrome=!!window.chrome&&!!window.chrome.webstore,isSafari=(0<Object.prototype.toString.call(window.HTMLElement).indexOf("Constructor")||!isChrome)&&!isOpera&&void 0!==window.webkitAudioContext,isIE=Boolean(document.documentMode);return isOpera?"opera":isFirefox?"firefox":isChrome?"chrome":isSafari?"safari":isIE?"ie":""}()},{}],13:[function(require,module,exports){"use strict";exports.__esModule=!0;var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var key,source=arguments[i];for(key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_createClass=function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor};function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var _mapToZero2=_interopRequireDefault(require("./mapToZero")),_stripStyle2=_interopRequireDefault(require("./stripStyle")),_stepper4=_interopRequireDefault(require("./stepper")),_performanceNow2=_interopRequireDefault(require("performance-now")),_raf2=_interopRequireDefault(require("raf")),_shouldStopAnimation2=_interopRequireDefault(require("./shouldStopAnimation")),_react2=_interopRequireDefault(require("react")),_propTypes2=_interopRequireDefault(require("prop-types")),require=function(_React$Component){var subClass=Motion,superClass=_React$Component;if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);function Motion(props){var _this=this;if(!(this instanceof Motion))throw new TypeError("Cannot call a class as a function");_React$Component.call(this,props),this.wasAnimating=!1,this.animationID=null,this.prevTime=0,this.accumulatedTime=0,this.unreadPropStyle=null,this.clearUnreadPropStyle=function(destStyle){var key,styleValue,dirty=!1,_state=_this.state,currentStyle=_state.currentStyle,currentVelocity=_state.currentVelocity,lastIdealStyle=_state.lastIdealStyle,lastIdealVelocity=_state.lastIdealVelocity;for(key in destStyle)Object.prototype.hasOwnProperty.call(destStyle,key)&&("number"==typeof(styleValue=destStyle[key])&&(dirty||(dirty=!0,currentStyle=_extends({},currentStyle),currentVelocity=_extends({},currentVelocity),lastIdealStyle=_extends({},lastIdealStyle),lastIdealVelocity=_extends({},lastIdealVelocity)),currentStyle[key]=styleValue,currentVelocity[key]=0,lastIdealStyle[key]=styleValue,lastIdealVelocity[key]=0));dirty&&_this.setState({currentStyle:currentStyle,currentVelocity:currentVelocity,lastIdealStyle:lastIdealStyle,lastIdealVelocity:lastIdealVelocity})},this.startAnimationIfNecessary=function(){_this.animationID=_raf2.default(function(timestamp){var propsStyle=_this.props.style;if(_shouldStopAnimation2.default(_this.state.currentStyle,propsStyle,_this.state.currentVelocity))return _this.wasAnimating&&_this.props.onRest&&_this.props.onRest(),_this.animationID=null,_this.wasAnimating=!1,void(_this.accumulatedTime=0);_this.wasAnimating=!0;var timestamp=timestamp||_performanceNow2.default(),timeDelta=timestamp-_this.prevTime;if(_this.prevTime=timestamp,_this.accumulatedTime=_this.accumulatedTime+timeDelta,_this.accumulatedTime>1e3/60*10&&(_this.accumulatedTime=0),0===_this.accumulatedTime)return _this.animationID=null,void _this.startAnimationIfNecessary();var key,currentFrameCompletion=(_this.accumulatedTime-Math.floor(_this.accumulatedTime/(1e3/60))*(1e3/60))/(1e3/60),framesToCatchUp=Math.floor(_this.accumulatedTime/(1e3/60)),newLastIdealStyle={},newLastIdealVelocity={},newCurrentStyle={},newCurrentVelocity={};for(key in propsStyle)if(Object.prototype.hasOwnProperty.call(propsStyle,key)){var styleValue=propsStyle[key];if("number"==typeof styleValue)newCurrentStyle[key]=styleValue,newCurrentVelocity[key]=0,newLastIdealStyle[key]=styleValue,newLastIdealVelocity[key]=0;else{for(var newLastIdealStyleValue=_this.state.lastIdealStyle[key],newLastIdealVelocityValue=_this.state.lastIdealVelocity[key],i=0;i<framesToCatchUp;i++)var _stepper=_stepper4.default(1e3/60/1e3,newLastIdealStyleValue,newLastIdealVelocityValue,styleValue.val,styleValue.stiffness,styleValue.damping,styleValue.precision),newLastIdealStyleValue=_stepper[0],newLastIdealVelocityValue=_stepper[1];var _stepper2=_stepper4.default(1e3/60/1e3,newLastIdealStyleValue,newLastIdealVelocityValue,styleValue.val,styleValue.stiffness,styleValue.damping,styleValue.precision),nextIdealX=_stepper2[0],_stepper2=_stepper2[1];newCurrentStyle[key]=newLastIdealStyleValue+(nextIdealX-newLastIdealStyleValue)*currentFrameCompletion,newCurrentVelocity[key]=newLastIdealVelocityValue+(_stepper2-newLastIdealVelocityValue)*currentFrameCompletion,newLastIdealStyle[key]=newLastIdealStyleValue,newLastIdealVelocity[key]=newLastIdealVelocityValue}}_this.animationID=null,_this.accumulatedTime-=framesToCatchUp*(1e3/60),_this.setState({currentStyle:newCurrentStyle,currentVelocity:newCurrentVelocity,lastIdealStyle:newLastIdealStyle,lastIdealVelocity:newLastIdealVelocity}),_this.unreadPropStyle=null,_this.startAnimationIfNecessary()})},this.state=this.defaultState()}return subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass),_createClass(Motion,null,[{key:"propTypes",value:{defaultStyle:_propTypes2.default.objectOf(_propTypes2.default.number),style:_propTypes2.default.objectOf(_propTypes2.default.oneOfType([_propTypes2.default.number,_propTypes2.default.object])).isRequired,children:_propTypes2.default.func.isRequired,onRest:_propTypes2.default.func},enumerable:!0}]),Motion.prototype.defaultState=function(){var _props=this.props,defaultStyle=_props.defaultStyle,_props=_props.style,defaultStyle=defaultStyle||_stripStyle2.default(_props),_props=_mapToZero2.default(defaultStyle);return{currentStyle:defaultStyle,currentVelocity:_props,lastIdealStyle:defaultStyle,lastIdealVelocity:_props}},Motion.prototype.componentDidMount=function(){this.prevTime=_performanceNow2.default(),this.startAnimationIfNecessary()},Motion.prototype.componentWillReceiveProps=function(props){null!=this.unreadPropStyle&&this.clearUnreadPropStyle(this.unreadPropStyle),this.unreadPropStyle=props.style,null==this.animationID&&(this.prevTime=_performanceNow2.default(),this.startAnimationIfNecessary())},Motion.prototype.componentWillUnmount=function(){null!=this.animationID&&(_raf2.default.cancel(this.animationID),this.animationID=null)},Motion.prototype.render=function(){var renderedChildren=this.props.children(this.state.currentStyle);return renderedChildren&&_react2.default.Children.only(renderedChildren)},Motion}(_react2.default.Component);exports.default=require,module.exports=exports.default},{"./mapToZero":16,"./shouldStopAnimation":21,"./stepper":23,"./stripStyle":24,"performance-now":5,"prop-types":"prop-types",raf:6,react:"react"}],14:[function(require,module,exports){"use strict";exports.__esModule=!0;var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var key,source=arguments[i];for(key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_createClass=function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor};function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var _mapToZero2=_interopRequireDefault(require("./mapToZero")),_stripStyle2=_interopRequireDefault(require("./stripStyle")),_stepper4=_interopRequireDefault(require("./stepper")),_performanceNow2=_interopRequireDefault(require("performance-now")),_raf2=_interopRequireDefault(require("raf")),_shouldStopAnimation2=_interopRequireDefault(require("./shouldStopAnimation")),_react2=_interopRequireDefault(require("react")),_propTypes2=_interopRequireDefault(require("prop-types"));require=function(_React$Component){var subClass=StaggeredMotion,superClass=_React$Component;if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);function StaggeredMotion(props){var _this=this;if(!(this instanceof StaggeredMotion))throw new TypeError("Cannot call a class as a function");_React$Component.call(this,props),this.animationID=null,this.prevTime=0,this.accumulatedTime=0,this.unreadPropStyles=null,this.clearUnreadPropStyle=function(unreadPropStyles){for(var _state=_this.state,currentStyles=_state.currentStyles,currentVelocities=_state.currentVelocities,lastIdealStyles=_state.lastIdealStyles,lastIdealVelocities=_state.lastIdealVelocities,someDirty=!1,i=0;i<unreadPropStyles.length;i++){var key,styleValue,unreadPropStyle=unreadPropStyles[i],dirty=!1;for(key in unreadPropStyle)Object.prototype.hasOwnProperty.call(unreadPropStyle,key)&&("number"==typeof(styleValue=unreadPropStyle[key])&&(dirty||(someDirty=dirty=!0,currentStyles[i]=_extends({},currentStyles[i]),currentVelocities[i]=_extends({},currentVelocities[i]),lastIdealStyles[i]=_extends({},lastIdealStyles[i]),lastIdealVelocities[i]=_extends({},lastIdealVelocities[i])),currentStyles[i][key]=styleValue,currentVelocities[i][key]=0,lastIdealStyles[i][key]=styleValue,lastIdealVelocities[i][key]=0))}someDirty&&_this.setState({currentStyles:currentStyles,currentVelocities:currentVelocities,lastIdealStyles:lastIdealStyles,lastIdealVelocities:lastIdealVelocities})},this.startAnimationIfNecessary=function(){_this.animationID=_raf2.default(function(timestamp){var destStyles=_this.props.styles(_this.state.lastIdealStyles);if(function(currentStyles,styles,currentVelocities){for(var i=0;i<currentStyles.length;i++)if(!_shouldStopAnimation2.default(currentStyles[i],styles[i],currentVelocities[i]))return;return 1}(_this.state.currentStyles,destStyles,_this.state.currentVelocities))return _this.animationID=null,void(_this.accumulatedTime=0);var timestamp=timestamp||_performanceNow2.default(),timeDelta=timestamp-_this.prevTime;if(_this.prevTime=timestamp,_this.accumulatedTime=_this.accumulatedTime+timeDelta,_this.accumulatedTime>1e3/60*10&&(_this.accumulatedTime=0),0===_this.accumulatedTime)return _this.animationID=null,void _this.startAnimationIfNecessary();for(var currentFrameCompletion=(_this.accumulatedTime-Math.floor(_this.accumulatedTime/(1e3/60))*(1e3/60))/(1e3/60),framesToCatchUp=Math.floor(_this.accumulatedTime/(1e3/60)),newLastIdealStyles=[],newLastIdealVelocities=[],newCurrentStyles=[],newCurrentVelocities=[],i=0;i<destStyles.length;i++){var key,destStyle=destStyles[i],newCurrentStyle={},newCurrentVelocity={},newLastIdealStyle={},newLastIdealVelocity={};for(key in destStyle)if(Object.prototype.hasOwnProperty.call(destStyle,key)){var styleValue=destStyle[key];if("number"==typeof styleValue)newCurrentStyle[key]=styleValue,newCurrentVelocity[key]=0,newLastIdealStyle[key]=styleValue,newLastIdealVelocity[key]=0;else{for(var newLastIdealStyleValue=_this.state.lastIdealStyles[i][key],newLastIdealVelocityValue=_this.state.lastIdealVelocities[i][key],j=0;j<framesToCatchUp;j++)var _stepper=_stepper4.default(1e3/60/1e3,newLastIdealStyleValue,newLastIdealVelocityValue,styleValue.val,styleValue.stiffness,styleValue.damping,styleValue.precision),newLastIdealStyleValue=_stepper[0],newLastIdealVelocityValue=_stepper[1];var _stepper2=_stepper4.default(1e3/60/1e3,newLastIdealStyleValue,newLastIdealVelocityValue,styleValue.val,styleValue.stiffness,styleValue.damping,styleValue.precision),nextIdealX=_stepper2[0],_stepper2=_stepper2[1];newCurrentStyle[key]=newLastIdealStyleValue+(nextIdealX-newLastIdealStyleValue)*currentFrameCompletion,newCurrentVelocity[key]=newLastIdealVelocityValue+(_stepper2-newLastIdealVelocityValue)*currentFrameCompletion,newLastIdealStyle[key]=newLastIdealStyleValue,newLastIdealVelocity[key]=newLastIdealVelocityValue}}newCurrentStyles[i]=newCurrentStyle,newCurrentVelocities[i]=newCurrentVelocity,newLastIdealStyles[i]=newLastIdealStyle,newLastIdealVelocities[i]=newLastIdealVelocity}_this.animationID=null,_this.accumulatedTime-=framesToCatchUp*(1e3/60),_this.setState({currentStyles:newCurrentStyles,currentVelocities:newCurrentVelocities,lastIdealStyles:newLastIdealStyles,lastIdealVelocities:newLastIdealVelocities}),_this.unreadPropStyles=null,_this.startAnimationIfNecessary()})},this.state=this.defaultState()}return subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass),_createClass(StaggeredMotion,null,[{key:"propTypes",value:{defaultStyles:_propTypes2.default.arrayOf(_propTypes2.default.objectOf(_propTypes2.default.number)),styles:_propTypes2.default.func.isRequired,children:_propTypes2.default.func.isRequired},enumerable:!0}]),StaggeredMotion.prototype.defaultState=function(){var _props=this.props,defaultStyles=_props.defaultStyles,_props=_props.styles,defaultStyles=defaultStyles||_props().map(_stripStyle2.default),_props=defaultStyles.map(function(currentStyle){return _mapToZero2.default(currentStyle)});return{currentStyles:defaultStyles,currentVelocities:_props,lastIdealStyles:defaultStyles,lastIdealVelocities:_props}},StaggeredMotion.prototype.componentDidMount=function(){this.prevTime=_performanceNow2.default(),this.startAnimationIfNecessary()},StaggeredMotion.prototype.componentWillReceiveProps=function(props){null!=this.unreadPropStyles&&this.clearUnreadPropStyle(this.unreadPropStyles),this.unreadPropStyles=props.styles(this.state.lastIdealStyles),null==this.animationID&&(this.prevTime=_performanceNow2.default(),this.startAnimationIfNecessary())},StaggeredMotion.prototype.componentWillUnmount=function(){null!=this.animationID&&(_raf2.default.cancel(this.animationID),this.animationID=null)},StaggeredMotion.prototype.render=function(){var renderedChildren=this.props.children(this.state.currentStyles);return renderedChildren&&_react2.default.Children.only(renderedChildren)},StaggeredMotion}(_react2.default.Component);exports.default=require,module.exports=exports.default},{"./mapToZero":16,"./shouldStopAnimation":21,"./stepper":23,"./stripStyle":24,"performance-now":5,"prop-types":"prop-types",raf:6,react:"react"}],15:[function(require,module,exports){"use strict";exports.__esModule=!0;var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var key,source=arguments[i];for(key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_createClass=function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor};function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var _mapToZero2=_interopRequireDefault(require("./mapToZero")),_stripStyle2=_interopRequireDefault(require("./stripStyle")),_stepper4=_interopRequireDefault(require("./stepper")),_mergeDiff2=_interopRequireDefault(require("./mergeDiff")),_performanceNow2=_interopRequireDefault(require("performance-now")),_raf2=_interopRequireDefault(require("raf")),_shouldStopAnimation2=_interopRequireDefault(require("./shouldStopAnimation")),_react2=_interopRequireDefault(require("react")),_propTypes2=_interopRequireDefault(require("prop-types"));function rehydrateStyles(mergedPropsStyles,unreadPropStyles,plainStyles){var cUnreadPropStyles=unreadPropStyles;return null==cUnreadPropStyles?mergedPropsStyles.map(function(mergedPropsStyle,i){return{key:mergedPropsStyle.key,data:mergedPropsStyle.data,style:plainStyles[i]}}):mergedPropsStyles.map(function(mergedPropsStyle,i){for(var j=0;j<cUnreadPropStyles.length;j++)if(cUnreadPropStyles[j].key===mergedPropsStyle.key)return{key:cUnreadPropStyles[j].key,data:cUnreadPropStyles[j].data,style:plainStyles[i]};return{key:mergedPropsStyle.key,data:mergedPropsStyle.data,style:plainStyles[i]}})}function mergeAndSync(willEnter,willLeave,didLeave,oldMergedPropsStyles,destStyles,oldCurrentStyles,oldCurrentVelocities,oldLastIdealStyles,oldLastIdealVelocities){for(var newMergedPropsStyles=_mergeDiff2.default(oldMergedPropsStyles,destStyles,function(oldIndex,oldMergedPropsStyle){var leavingStyle=willLeave(oldMergedPropsStyle);return null==leavingStyle||_shouldStopAnimation2.default(oldCurrentStyles[oldIndex],leavingStyle,oldCurrentVelocities[oldIndex])?(didLeave({key:oldMergedPropsStyle.key,data:oldMergedPropsStyle.data}),null):{key:oldMergedPropsStyle.key,data:oldMergedPropsStyle.data,style:leavingStyle}}),newCurrentStyles=[],newCurrentVelocities=[],newLastIdealStyles=[],newLastIdealVelocities=[],i=0;i<newMergedPropsStyles.length;i++){for(var plainStyle,newMergedPropsStyleCell=newMergedPropsStyles[i],foundOldIndex=null,j=0;j<oldMergedPropsStyles.length;j++)if(oldMergedPropsStyles[j].key===newMergedPropsStyleCell.key){foundOldIndex=j;break}null==foundOldIndex?(plainStyle=willEnter(newMergedPropsStyleCell),newCurrentStyles[i]=plainStyle,newLastIdealStyles[i]=plainStyle,plainStyle=_mapToZero2.default(newMergedPropsStyleCell.style),newCurrentVelocities[i]=plainStyle,newLastIdealVelocities[i]=plainStyle):(newCurrentStyles[i]=oldCurrentStyles[foundOldIndex],newLastIdealStyles[i]=oldLastIdealStyles[foundOldIndex],newCurrentVelocities[i]=oldCurrentVelocities[foundOldIndex],newLastIdealVelocities[i]=oldLastIdealVelocities[foundOldIndex])}return[newMergedPropsStyles,newCurrentStyles,newCurrentVelocities,newLastIdealStyles,newLastIdealVelocities]}require=function(_React$Component){var subClass=TransitionMotion,superClass=_React$Component;if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);function TransitionMotion(props){var _this=this;if(!(this instanceof TransitionMotion))throw new TypeError("Cannot call a class as a function");_React$Component.call(this,props),this.unmounting=!1,this.animationID=null,this.prevTime=0,this.accumulatedTime=0,this.unreadPropStyles=null,this.clearUnreadPropStyle=function(unreadPropStyles){for(var _mergeAndSync=mergeAndSync(_this.props.willEnter,_this.props.willLeave,_this.props.didLeave,_this.state.mergedPropsStyles,unreadPropStyles,_this.state.currentStyles,_this.state.currentVelocities,_this.state.lastIdealStyles,_this.state.lastIdealVelocities),mergedPropsStyles=_mergeAndSync[0],currentStyles=_mergeAndSync[1],currentVelocities=_mergeAndSync[2],lastIdealStyles=_mergeAndSync[3],lastIdealVelocities=_mergeAndSync[4],i=0;i<unreadPropStyles.length;i++){var key,styleValue,unreadPropStyle=unreadPropStyles[i].style,dirty=!1;for(key in unreadPropStyle)Object.prototype.hasOwnProperty.call(unreadPropStyle,key)&&("number"==typeof(styleValue=unreadPropStyle[key])&&(dirty||(dirty=!0,currentStyles[i]=_extends({},currentStyles[i]),currentVelocities[i]=_extends({},currentVelocities[i]),lastIdealStyles[i]=_extends({},lastIdealStyles[i]),lastIdealVelocities[i]=_extends({},lastIdealVelocities[i]),mergedPropsStyles[i]={key:mergedPropsStyles[i].key,data:mergedPropsStyles[i].data,style:_extends({},mergedPropsStyles[i].style)}),currentStyles[i][key]=styleValue,currentVelocities[i][key]=0,lastIdealStyles[i][key]=styleValue,lastIdealVelocities[i][key]=0,mergedPropsStyles[i].style[key]=styleValue))}_this.setState({currentStyles:currentStyles,currentVelocities:currentVelocities,mergedPropsStyles:mergedPropsStyles,lastIdealStyles:lastIdealStyles,lastIdealVelocities:lastIdealVelocities})},this.startAnimationIfNecessary=function(){_this.unmounting||(_this.animationID=_raf2.default(function(timestamp){if(!_this.unmounting){var propStyles=_this.props.styles,propStyles="function"==typeof propStyles?propStyles(rehydrateStyles(_this.state.mergedPropsStyles,_this.unreadPropStyles,_this.state.lastIdealStyles)):propStyles;if(function(currentStyles,destStyles,currentVelocities,mergedPropsStyles){if(mergedPropsStyles.length===destStyles.length){for(var i=0;i<mergedPropsStyles.length;i++)if(mergedPropsStyles[i].key!==destStyles[i].key)return;for(i=0;i<mergedPropsStyles.length;i++)if(!_shouldStopAnimation2.default(currentStyles[i],destStyles[i].style,currentVelocities[i]))return;return 1}}(_this.state.currentStyles,propStyles,_this.state.currentVelocities,_this.state.mergedPropsStyles))return _this.animationID=null,void(_this.accumulatedTime=0);var timestamp=timestamp||_performanceNow2.default(),timeDelta=timestamp-_this.prevTime;if(_this.prevTime=timestamp,_this.accumulatedTime=_this.accumulatedTime+timeDelta,_this.accumulatedTime>1e3/60*10&&(_this.accumulatedTime=0),0===_this.accumulatedTime)return _this.animationID=null,void _this.startAnimationIfNecessary();for(var currentFrameCompletion=(_this.accumulatedTime-Math.floor(_this.accumulatedTime/(1e3/60))*(1e3/60))/(1e3/60),framesToCatchUp=Math.floor(_this.accumulatedTime/(1e3/60)),timestamp=mergeAndSync(_this.props.willEnter,_this.props.willLeave,_this.props.didLeave,_this.state.mergedPropsStyles,propStyles,_this.state.currentStyles,_this.state.currentVelocities,_this.state.lastIdealStyles,_this.state.lastIdealVelocities),newMergedPropsStyles=timestamp[0],newCurrentStyles=timestamp[1],newCurrentVelocities=timestamp[2],newLastIdealStyles=timestamp[3],newLastIdealVelocities=timestamp[4],i=0;i<newMergedPropsStyles.length;i++){var key,newMergedPropsStyle=newMergedPropsStyles[i].style,newCurrentStyle={},newCurrentVelocity={},newLastIdealStyle={},newLastIdealVelocity={};for(key in newMergedPropsStyle)if(Object.prototype.hasOwnProperty.call(newMergedPropsStyle,key)){var styleValue=newMergedPropsStyle[key];if("number"==typeof styleValue)newCurrentStyle[key]=styleValue,newCurrentVelocity[key]=0,newLastIdealStyle[key]=styleValue,newLastIdealVelocity[key]=0;else{for(var newLastIdealStyleValue=newLastIdealStyles[i][key],newLastIdealVelocityValue=newLastIdealVelocities[i][key],j=0;j<framesToCatchUp;j++)var _stepper=_stepper4.default(1e3/60/1e3,newLastIdealStyleValue,newLastIdealVelocityValue,styleValue.val,styleValue.stiffness,styleValue.damping,styleValue.precision),newLastIdealStyleValue=_stepper[0],newLastIdealVelocityValue=_stepper[1];var _stepper2=_stepper4.default(1e3/60/1e3,newLastIdealStyleValue,newLastIdealVelocityValue,styleValue.val,styleValue.stiffness,styleValue.damping,styleValue.precision),nextIdealX=_stepper2[0],_stepper2=_stepper2[1];newCurrentStyle[key]=newLastIdealStyleValue+(nextIdealX-newLastIdealStyleValue)*currentFrameCompletion,newCurrentVelocity[key]=newLastIdealVelocityValue+(_stepper2-newLastIdealVelocityValue)*currentFrameCompletion,newLastIdealStyle[key]=newLastIdealStyleValue,newLastIdealVelocity[key]=newLastIdealVelocityValue}}newLastIdealStyles[i]=newLastIdealStyle,newLastIdealVelocities[i]=newLastIdealVelocity,newCurrentStyles[i]=newCurrentStyle,newCurrentVelocities[i]=newCurrentVelocity}_this.animationID=null,_this.accumulatedTime-=framesToCatchUp*(1e3/60),_this.setState({currentStyles:newCurrentStyles,currentVelocities:newCurrentVelocities,lastIdealStyles:newLastIdealStyles,lastIdealVelocities:newLastIdealVelocities,mergedPropsStyles:newMergedPropsStyles}),_this.unreadPropStyles=null,_this.startAnimationIfNecessary()}}))},this.state=this.defaultState()}return subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass),_createClass(TransitionMotion,null,[{key:"propTypes",value:{defaultStyles:_propTypes2.default.arrayOf(_propTypes2.default.shape({key:_propTypes2.default.string.isRequired,data:_propTypes2.default.any,style:_propTypes2.default.objectOf(_propTypes2.default.number).isRequired})),styles:_propTypes2.default.oneOfType([_propTypes2.default.func,_propTypes2.default.arrayOf(_propTypes2.default.shape({key:_propTypes2.default.string.isRequired,data:_propTypes2.default.any,style:_propTypes2.default.objectOf(_propTypes2.default.oneOfType([_propTypes2.default.number,_propTypes2.default.object])).isRequired}))]).isRequired,children:_propTypes2.default.func.isRequired,willEnter:_propTypes2.default.func,willLeave:_propTypes2.default.func,didLeave:_propTypes2.default.func},enumerable:!0},{key:"defaultProps",value:{willEnter:function(styleThatEntered){return _stripStyle2.default(styleThatEntered.style)},willLeave:function(){return null},didLeave:function(){}},enumerable:!0}]),TransitionMotion.prototype.defaultState=function(){var _props=this.props,defaultStyles=_props.defaultStyles,styles=_props.styles,willEnter=_props.willEnter,willLeave=_props.willLeave,_props=_props.didLeave,destStyles="function"==typeof styles?styles(defaultStyles):styles,styles=void 0,styles=null==defaultStyles?destStyles:defaultStyles.map(function(defaultStyleCell){for(var i=0;i<destStyles.length;i++)if(destStyles[i].key===defaultStyleCell.key)return destStyles[i];return defaultStyleCell}),oldCurrentStyles=(null==defaultStyles?destStyles:defaultStyles).map(function(s){return _stripStyle2.default(s.style)}),defaultStyles=(null==defaultStyles?destStyles:defaultStyles).map(function(s){return _mapToZero2.default(s.style)}),willEnter=mergeAndSync(willEnter,willLeave,_props,styles,destStyles,oldCurrentStyles,defaultStyles,oldCurrentStyles,defaultStyles),willLeave=willEnter[0];return{currentStyles:willEnter[1],currentVelocities:willEnter[2],lastIdealStyles:willEnter[3],lastIdealVelocities:willEnter[4],mergedPropsStyles:willLeave}},TransitionMotion.prototype.componentDidMount=function(){this.prevTime=_performanceNow2.default(),this.startAnimationIfNecessary()},TransitionMotion.prototype.componentWillReceiveProps=function(props){this.unreadPropStyles&&this.clearUnreadPropStyle(this.unreadPropStyles);props=props.styles;this.unreadPropStyles="function"==typeof props?props(rehydrateStyles(this.state.mergedPropsStyles,this.unreadPropStyles,this.state.lastIdealStyles)):props,null==this.animationID&&(this.prevTime=_performanceNow2.default(),this.startAnimationIfNecessary())},TransitionMotion.prototype.componentWillUnmount=function(){this.unmounting=!0,null!=this.animationID&&(_raf2.default.cancel(this.animationID),this.animationID=null)},TransitionMotion.prototype.render=function(){var hydratedStyles=rehydrateStyles(this.state.mergedPropsStyles,this.unreadPropStyles,this.state.currentStyles),hydratedStyles=this.props.children(hydratedStyles);return hydratedStyles&&_react2.default.Children.only(hydratedStyles)},TransitionMotion}(_react2.default.Component);exports.default=require,module.exports=exports.default},{"./mapToZero":16,"./mergeDiff":17,"./shouldStopAnimation":21,"./stepper":23,"./stripStyle":24,"performance-now":5,"prop-types":"prop-types",raf:6,react:"react"}],16:[function(require,module,exports){"use strict";exports.__esModule=!0,exports.default=function(obj){var key,ret={};for(key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&(ret[key]=0);return ret},module.exports=exports.default},{}],17:[function(require,module,exports){"use strict";exports.__esModule=!0,exports.default=function(prev,next,onRemove){for(var prevKeyIndex={},i=0;i<prev.length;i++)prevKeyIndex[prev[i].key]=i;for(var nextKeyIndex={},i=0;i<next.length;i++)nextKeyIndex[next[i].key]=i;for(var ret=[],i=0;i<next.length;i++)ret[i]=next[i];for(i=0;i<prev.length;i++){var fill;Object.prototype.hasOwnProperty.call(nextKeyIndex,prev[i].key)||null!=(fill=onRemove(i,prev[i]))&&ret.push(fill)}return ret.sort(function(a,b){var nextOrderA=nextKeyIndex[a.key],nextOrderB=nextKeyIndex[b.key],prevOrderA=prevKeyIndex[a.key],prevOrderB=prevKeyIndex[b.key];if(null!=nextOrderA&&null!=nextOrderB)return nextKeyIndex[a.key]-nextKeyIndex[b.key];if(null!=prevOrderA&&null!=prevOrderB)return prevKeyIndex[a.key]-prevKeyIndex[b.key];if(null!=nextOrderA){for(var i=0;i<next.length;i++){var pivot=next[i].key;if(Object.prototype.hasOwnProperty.call(prevKeyIndex,pivot)){if(nextOrderA<nextKeyIndex[pivot]&&prevOrderB>prevKeyIndex[pivot])return-1;if(nextOrderA>nextKeyIndex[pivot]&&prevOrderB<prevKeyIndex[pivot])return 1}}return 1}for(i=0;i<next.length;i++){pivot=next[i].key;if(Object.prototype.hasOwnProperty.call(prevKeyIndex,pivot)){if(nextOrderB<nextKeyIndex[pivot]&&prevOrderA>prevKeyIndex[pivot])return 1;if(nextOrderB>nextKeyIndex[pivot]&&prevOrderA<prevKeyIndex[pivot])return-1}}return-1})},module.exports=exports.default},{}],18:[function(require,module,exports){"use strict";exports.__esModule=!0,exports.default={noWobble:{stiffness:170,damping:26},gentle:{stiffness:120,damping:14},wobbly:{stiffness:180,damping:12},stiff:{stiffness:210,damping:20}},module.exports=exports.default},{}],19:[function(require,module,exports){"use strict";function _interopRequire(obj){return obj&&obj.__esModule?obj.default:obj}exports.__esModule=!0;var _Motion=require("./Motion"),_Motion=(exports.Motion=_interopRequire(_Motion),require("./StaggeredMotion")),_Motion=(exports.StaggeredMotion=_interopRequire(_Motion),require("./TransitionMotion")),_Motion=(exports.TransitionMotion=_interopRequire(_Motion),require("./spring")),_Motion=(exports.spring=_interopRequire(_Motion),require("./presets")),_Motion=(exports.presets=_interopRequire(_Motion),require("./stripStyle")),_Motion=(exports.stripStyle=_interopRequire(_Motion),require("./reorderKeys"));exports.reorderKeys=_interopRequire(_Motion)},{"./Motion":13,"./StaggeredMotion":14,"./TransitionMotion":15,"./presets":18,"./reorderKeys":20,"./spring":22,"./stripStyle":24}],20:[function(require,module,exports){!function(process){!function(){"use strict";exports.__esModule=!0;var hasWarned=!(exports.default=function(){"development"!==process.env.NODE_ENV||hasWarned||(hasWarned=!0,console.error("`reorderKeys` has been removed, since it is no longer needed for TransitionMotion's new styles array API."))});module.exports=exports.default}.call(this)}.call(this,require("_process"))},{_process:1}],21:[function(require,module,exports){"use strict";exports.__esModule=!0,exports.default=function(currentStyle,style,currentVelocity){for(var key in style)if(Object.prototype.hasOwnProperty.call(style,key)){if(0!==currentVelocity[key])return!1;var styleValue="number"==typeof style[key]?style[key]:style[key].val;if(currentStyle[key]!==styleValue)return!1}return!0},module.exports=exports.default},{}],22:[function(require,module,exports){"use strict";exports.__esModule=!0;var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var key,source=arguments[i];for(key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target};exports.default=function(val,config){return _extends({},defaultConfig,config,{val:val})};var require=require("./presets"),require=(require=require)&&require.__esModule?require:{default:require},defaultConfig=_extends({},require.default.noWobble,{precision:.01});module.exports=exports.default},{"./presets":18}],23:[function(require,module,exports){"use strict";exports.__esModule=!0,exports.default=function(secondPerFrame,x,v,destX,k,b,precision){k=v+(-k*(x-destX)+-b*v)*secondPerFrame,b=x+k*secondPerFrame;if(Math.abs(k)<precision&&Math.abs(b-destX)<precision)return reusedTuple[0]=destX,reusedTuple[1]=0,reusedTuple;return reusedTuple[0]=b,reusedTuple[1]=k,reusedTuple};var reusedTuple=[0,0];module.exports=exports.default},{}],24:[function(require,module,exports){"use strict";exports.__esModule=!0,exports.default=function(style){var key,ret={};for(key in style)Object.prototype.hasOwnProperty.call(style,key)&&(ret[key]="number"==typeof style[key]?style[key]:style[key].val);return ret},module.exports=exports.default},{}],25:[function(require,module,exports){var raf=require("rafl"),E_NOSCROLL=new Error("Element already at target scroll position"),E_CANCELLED=new Error("Scroll cancelled"),min=Math.min;function make(prop){return function(el,to,opts,cb){"function"==typeof(opts=opts||{})&&(cb=opts,opts={}),"function"!=typeof cb&&(cb=noop);var start=+new Date,from=el[prop],ease=opts.ease||inOutSine,duration=isNaN(opts.duration)?350:+opts.duration,cancelled=!1;return from===to?cb(E_NOSCROLL,el[prop]):raf(function animate(timestamp){if(cancelled)return cb(E_CANCELLED,el[prop]);var now=+new Date;now=min(1,(now-start)/duration);var eased=ease(now);el[prop]=eased*(to-from)+from;raf(now<1?animate:function(){cb(null,el[prop])})}),function(){cancelled=!0}}}function inOutSine(n){return.5*(1-Math.cos(Math.PI*n))}function noop(){}module.exports={left:make("scrollLeft"),top:make("scrollTop")}},{rafl:8}],26:[function(require,module,exports){"use strict";function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _pydio=(require=require("pydio"))&&require.__esModule?require:{default:require};function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(o,p)}function _createSuper(Derived){var hasNativeReflectConstruct=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var NewTarget,Super=_getPrototypeOf(Derived),Super=(NewTarget=hasNativeReflectConstruct?(NewTarget=_getPrototypeOf(this).constructor,Reflect.construct(Super,arguments,NewTarget)):Super.apply(this,arguments),this);if(NewTarget&&("object"===_typeof(NewTarget)||"function"==typeof NewTarget))return NewTarget;if(void 0!==NewTarget)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(Super)}}function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}require=function(_Observable){var subClass=OpenNodesModel;if("function"!=typeof _Observable&&null!==_Observable)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(_Observable&&_Observable.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),Object.defineProperty(subClass,"prototype",{writable:!1}),_Observable&&_setPrototypeOf(subClass,_Observable);var protoProps,_super=_createSuper(OpenNodesModel);function OpenNodesModel(){var _this;if(!(this instanceof OpenNodesModel))throw new TypeError("Cannot call a class as a function");(_this=_super.call(this))._openNodes=[],_this._updatedTitles=new Map;var pydio=_pydio.default.getInstance();return pydio.UI.registerEditorOpener(_assertThisInitialized(_this)),pydio.user&&(_this.activeRepository=pydio.user.activeRepository),pydio.observe("repository_list_refreshed",function(){if(pydio.user){var newActiveRepo=pydio.user.activeRepository;if(newActiveRepo===_this.activeRepository)return;_this.activeRepository=newActiveRepo}_this._openNodes=[],_this.notify("update",_this._openNodes)}),_this}return subClass=OpenNodesModel,_Observable=[{key:"getInstance",value:function(){return OpenNodesModel.__INSTANCE=OpenNodesModel.__INSTANCE?OpenNodesModel.__INSTANCE:new OpenNodesModel}}],(protoProps=[{key:"openEditorForNode",value:function(selectedNode,editorData){this.pushNode(selectedNode,editorData)}},{key:"updateNodeTitle",value:function(object,newTitle){this._updatedTitles.set(object,newTitle),this.notify("titlesUpdated")}},{key:"getObjectLabel",value:function(object){return this._updatedTitles.has(object)?this._updatedTitles.get(object):object.node.getLabel()}},{key:"pushNode",value:function(node,editorData){var found=!1,editorClass=editorData?editorData.editorClass:null,object={node:node,editorData:editorData};this.notify("willPushNode",object),this._openNodes.map(function(o){(o.node===node&&o.editorData&&o.editorData.editorClass==editorClass||!o.editorData&&!editorClass)&&(found=!0,object=o)}),found||this._openNodes.push(object),this.notify("nodePushed",object),this.notify("update",this._openNodes)}},{key:"removeNode",value:function(object){this.notify("willRemoveNode",object);var index=this._openNodes.indexOf(object);this._updatedTitles.has(object)&&this._updatedTitles.delete(object),this._openNodes=LangUtils.arrayWithout(this._openNodes,index),this.notify("nodeRemovedAtIndex",index),this.notify("update",this._openNodes)}},{key:"getNodes",value:function(){return this._openNodes}}])&&_defineProperties(subClass.prototype,protoProps),_Observable&&_defineProperties(subClass,_Observable),Object.defineProperty(subClass,"prototype",{writable:!1}),OpenNodesModel}(Observable);exports.default=require,module.exports=exports.default},{pydio:"pydio"}],27:[function(require,module,exports){"use strict";function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _react=_interopRequireDefault(require("react")),_pydio=_interopRequireDefault(require("pydio")),_InfoPanelCard=_interopRequireDefault(require("./InfoPanelCard")),_path=_interopRequireDefault(require("pydio/util/path"));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _extends(){return(_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var key,source=arguments[i];for(key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target}).apply(this,arguments)}function _toConsumableArray(arr){return function(arr){if(Array.isArray(arr))return _arrayLikeToArray(arr)}(arr)||function(iter){if("undefined"!=typeof Symbol&&null!=iter[Symbol.iterator]||null!=iter["@@iterator"])return Array.from(iter)}(arr)||function(o,minLen){if(o){if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);return"Map"===(n="Object"===n&&o.constructor?o.constructor.name:n)||"Set"===n?Array.from(o):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(o,minLen):void 0}}(arr)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(o,p)}function _createSuper(Derived){var hasNativeReflectConstruct=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var NewTarget,Super=_getPrototypeOf(Derived),Super=(NewTarget=hasNativeReflectConstruct?(NewTarget=_getPrototypeOf(this).constructor,Reflect.construct(Super,arguments,NewTarget)):Super.apply(this,arguments),this);if(NewTarget&&("object"===_typeof(NewTarget)||"function"==typeof NewTarget))return NewTarget;if(void 0!==NewTarget)throw new TypeError("Derived constructors may only return object or undefined");return function(self){if(void 0!==self)return self;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(Super)}}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}var require=_pydio.default.requireLib("boot").PydioContextConsumer,FileInfoCard=function(_React$Component){var subClass=FileInfoCard;if("function"!=typeof _React$Component&&null!==_React$Component)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(_React$Component&&_React$Component.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),Object.defineProperty(subClass,"prototype",{writable:!1}),_React$Component&&_setPrototypeOf(subClass,_React$Component);var staticProps,_super=_createSuper(FileInfoCard);function FileInfoCard(props){var _this;if(this instanceof FileInfoCard)return(_this=_super.call(this,props))._observer=function(){_this.forceUpdate()},props.node&&props.node.observe("node_replaced",_this._observer),_this;throw new TypeError("Cannot call a class as a function")}return subClass=FileInfoCard,(_React$Component=[{key:"componentWillReceiveProps",value:function(newProps){this.props.node&&this.props.node.stopObserving("node_replaced",this._observer),newProps.node&&newProps.node.observe("node_replaced",this._observer)}},{key:"componentWillUnmount",value:function(){this.props.node&&this.props.node.stopObserving("node_replaced",this._observer)}},{key:"render",value:function(){var _this$props=this.props,node=_this$props.node,_this$props=_this$props.getMessage,node=node.getMetadata(),size=node.get("bytesize"),hSize=_path.default.roundFileSize(parseInt(size)),unit=_pydio.default.getMessages().byte_unit_symbol||"B",date=new Date,date=(date.setTime(1e3*parseInt(node.get("ajxp_modiftime"))),_path.default.formatModifDate(date)),hSize=[{key:"size",label:_this$props("2"),value:hSize,hoverValue:size+" "+unit},{key:"date",label:_this$props("4"),value:date}],size=node.get("image_width"),unit=node.get("image_height");return size&&unit&&(hSize=[].concat(_toConsumableArray(hSize),[{key:"image",label:_this$props("135"),value:size+"px X "+unit+"px"}])),_react.default.createElement(_InfoPanelCard.default,_extends({},this.props,{identifier:"file-info",title:_this$props("341"),standardData:hSize,contentStyle:{paddingBottom:10},icon:"information-outline",iconColor:"#2196f3"}))}}])&&_defineProperties(subClass.prototype,_React$Component),staticProps&&_defineProperties(subClass,staticProps),Object.defineProperty(subClass,"prototype",{writable:!1}),FileInfoCard}(_react.default.Component);exports.default=FileInfoCard,exports.default=require(FileInfoCard),module.exports=exports.default},{"./InfoPanelCard":30,pydio:"pydio","pydio/util/path":"pydio/util/path",react:"react"}],28:[function(require,module,exports){"use strict";function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _react=_interopRequireDefault(require("react")),_InfoPanelCard=_interopRequireDefault(require("./InfoPanelCard")),_FilePreview=_interopRequireDefault(require("../views/FilePreview"));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _extends(){return(_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var key,source=arguments[i];for(key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target}).apply(this,arguments)}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(o,p)}function _createSuper(Derived){var hasNativeReflectConstruct=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var NewTarget,Super=_getPrototypeOf(Derived),Super=(NewTarget=hasNativeReflectConstruct?(NewTarget=_getPrototypeOf(this).constructor,Reflect.construct(Super,arguments,NewTarget)):Super.apply(this,arguments),this);if(NewTarget&&("object"===_typeof(NewTarget)||"function"==typeof NewTarget))return NewTarget;if(void 0!==NewTarget)throw new TypeError("Derived constructors may only return object or undefined");return function(self){if(void 0!==self)return self;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(Super)}}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}require=function(_React$Component){var subClass=GenericInfoCard;if("function"!=typeof _React$Component&&null!==_React$Component)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(_React$Component&&_React$Component.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),Object.defineProperty(subClass,"prototype",{writable:!1}),_React$Component&&_setPrototypeOf(subClass,_React$Component);var staticProps,_super=_createSuper(GenericInfoCard);function GenericInfoCard(props){var _this;if(this instanceof GenericInfoCard)return(_this=_super.call(this,props)).state=_this.build(props),_this;throw new TypeError("Cannot call a class as a function")}return subClass=GenericInfoCard,(_React$Component=[{key:"componentWillReceiveProps",value:function(nextProps){this.setState(this.build(nextProps))}},{key:"build",value:function(props){var isMultiple,isLeaf,isDir,recycleContext,node=props.node,props=props.nodes;if(props)isMultiple=!0,recycleContext=props[0].hasAjxpMimeInBranch("ajxp_recycle");else{if(!node)return{ready:!1};isDir=!(isLeaf=node.isLeaf()),recycleContext=node.hasAjxpMimeInBranch("ajxp_recycle")}return{isMultiple:isMultiple,isLeaf:isLeaf,isDir:isDir,recycleContext:recycleContext,ready:!0}}},{key:"render",value:function(){var _this$state=this.state,ready=_this$state.ready,isMultiple=_this$state.isMultiple,_this$state=_this$state.recycleContext;if(!ready)return null;var more,ready=[];return _this$state?ready.push("info_panel_recycle"):ready.push("info_panel"),isMultiple?(10<(_this$state=this.props.nodes).length&&(isMultiple=_this$state.length-10,_this$state=_this$state.slice(0,10),more=_react.default.createElement("div",null,"... and ",isMultiple," more.")),_react.default.createElement(_InfoPanelCard.default,_extends({},this.props,{primaryToolbars:ready}),_react.default.createElement("div",{style:{padding:"0"}},_this$state.map(function(node){return _react.default.createElement("div",{style:{display:"flex",alignItems:"center",borderBottom:"1px solid #eeeeee"}},_react.default.createElement(_FilePreview.default,{key:node.getPath(),style:{height:50,width:50,fontSize:25,flexShrink:0},node:node,loadThumbnail:!0,richPreview:!1}),_react.default.createElement("div",{style:{flex:1,fontSize:14,marginLeft:6,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}},node.getLabel()))}),more))):(isMultiple=!!this.props.node.getMetadata().get("Processing"),ready.push("info_panel_share"),_react.default.createElement(_InfoPanelCard.default,_extends({},this.props,{primaryToolbars:ready}),_react.default.createElement(_FilePreview.default,{key:this.props.node.getPath(),style:{backgroundColor:"white",height:200,padding:0},node:this.props.node,loadThumbnail:this.state.isLeaf&&!isMultiple,richPreview:this.state.isLeaf,processing:isMultiple})))}}])&&_defineProperties(subClass.prototype,_React$Component),staticProps&&_defineProperties(subClass,staticProps),Object.defineProperty(subClass,"prototype",{writable:!1}),GenericInfoCard}(_react.default.Component);exports.default=require,module.exports=exports.default},{"../views/FilePreview":67,"./InfoPanelCard":30,react:"react"}],29:[function(require,module,exports){"use strict";function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _propTypes=_interopRequireDefault(require("prop-types")),_react=_interopRequireDefault(require("react")),_pydio=_interopRequireDefault(require("pydio")),_xml=_interopRequireDefault(require("pydio/util/xml")),_materialUi=require("material-ui");function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _extends(){return(_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var key,source=arguments[i];for(key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target}).apply(this,arguments)}function _slicedToArray(arr,i){return function(arr){if(Array.isArray(arr))return arr}(arr)||function(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null!=_i){var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}}(arr,i)||function(o,minLen){if(o){if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);return"Map"===(n="Object"===n&&o.constructor?o.constructor.name:n)||"Set"===n?Array.from(o):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(o,minLen):void 0}}(arr,i)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Object.defineProperty(Constructor,"prototype",{writable:!1})}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(o,p)}function _createSuper(Derived){var hasNativeReflectConstruct=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var NewTarget,Super=_getPrototypeOf(Derived),Super=(NewTarget=hasNativeReflectConstruct?(NewTarget=_getPrototypeOf(this).constructor,Reflect.construct(Super,arguments,NewTarget)):Super.apply(this,arguments),this);if(NewTarget&&("object"===_typeof(NewTarget)||"function"==typeof NewTarget))return NewTarget;if(void 0!==NewTarget)throw new TypeError("Derived constructors may only return object or undefined");return function(self){if(void 0!==self)return self;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(Super)}}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function ownKeys(object,enumerableOnly){var symbols,keys=Object.keys(object);return Object.getOwnPropertySymbols&&(symbols=Object.getOwnPropertySymbols(object),enumerableOnly&&(symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable})),keys.push.apply(keys,symbols)),keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach(function(key){!function(obj,key,value){key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value}(target,key,source[key])}):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))})}return target}function Template(_ref){var id=_ref.id,style=_ref.style,_ref=_ref.children;return _react.default.createElement(_materialUi.Paper,{zDepth:0,rounded:!1,id:id,style:_objectSpread({backgroundColor:"transparent"},style)},_ref)}var require=_pydio.default.requireLib("hoc"),require=(require.Animations,require.withVerticalScroll),EmptyStateView=_pydio.default.requireLib("components").EmptyStateView,InfoPanel=function(_React$Component){var subClass=InfoPanel;if("function"!=typeof _React$Component&&null!==_React$Component)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(_React$Component&&_React$Component.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),Object.defineProperty(subClass,"prototype",{writable:!1}),_React$Component&&_setPrototypeOf(subClass,_React$Component);var _super=_createSuper(InfoPanel);function InfoPanel(props){_classCallCheck(this,InfoPanel),props=_super.call(this,props);var initTemplates=ConfigsParser.parseConfigs();return props._updateExpected=!0,props.state={templates:initTemplates,displayData:props.selectionToTemplates(initTemplates)},props}return _createClass(InfoPanel,[{key:"shouldComponentUpdate",value:function(){return this._updateExpected}},{key:"componentDidMount",value:function(){function scrollerRefresh(){try{_this2.context.scrollArea.refresh()}catch(e){}}var _this2=this;this._updateHandler=function(){_this2._updateExpected=!0,_this2.setState({displayData:_this2.selectionToTemplates()},function(){_this2._updateExpected=!1,_this2.context.scrollArea&&setTimeout(scrollerRefresh,750)})},this._componentConfigHandler=function(){_this2._updateExpected=!0,_this2.setState({templates:ConfigsParser.parseConfigs()},function(){_this2._updateExpected=!1,_this2.context.scrollArea&&setTimeout(scrollerRefresh,750)})},this.props.pydio.observe("actions_refreshed",this._updateHandler),this.props.pydio.observe("selection_reloaded",this._updateHandler),this.props.pydio.observe("registry_loaded",this._componentConfigHandler),this.state.displayData&&this.state.displayData.TEMPLATES&&this.props.onContentChange&&this.props.onContentChange(this.state.displayData.TEMPLATES.length)}},{key:"componentWillUnmount",value:function(){this.props.pydio.stopObserving("actions_refreshed",this._updateHandler),this.props.pydio.observe("selection_reloaded",this._updateHandler),this.props.pydio.stopObserving("registry_loaded",this._componentConfigHandler)}},{key:"selectionToTemplates",value:function(){var initTemplates=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null,refTemplates=initTemplates||this.state.templates,dataModel=this.props.dataModel,selection=dataModel.getSelectedNodes();selection&&selection.length||dataModel.getContextNode()!==dataModel.getRootNode()||(selection=[dataModel.getContextNode()]);var primaryMime,uniqueNode,templates=[],dataModel={};return!selection||selection.length<1?primaryMime="no_selection":1<selection.length?(primaryMime="generic_multiple",dataModel.nodes=selection):((uniqueNode=selection[0]).isLeaf()?primaryMime="generic_file":(primaryMime="generic_dir",this.props.dataModel.getRootNode()===uniqueNode&&(primaryMime="ajxp_root_node")),dataModel.node=uniqueNode),refTemplates.has(primaryMime)&&(templates=templates.concat(refTemplates.get(primaryMime))),uniqueNode&&refTemplates.forEach(function(list,mimeName){mimeName!==primaryMime&&(0===mimeName.indexOf("meta:")&&uniqueNode.getMetadata().has(mimeName.substr(5))||uniqueNode.getAjxpMime()===mimeName)&&(templates=templates.concat(list))}),this.props.onContentChange&&!initTemplates&&this.props.onContentChange(templates.length),templates.sort(function(a,b){return a.WEIGHT===b.WEIGHT?0:a.WEIGHT>b.WEIGHT?1:-1}),{TEMPLATES:templates,DATA:dataModel}}},{key:"render",value:function(){var _this3=this,mainEmptyStateProps=this.props.mainEmptyStateProps,displayData=this.state.displayData,templates=displayData.TEMPLATES.map(function(tpl,i){var tpl=tpl.COMPONENT,_component$split2=_slicedToArray(tpl.split(".",2),2),namespace=_component$split2[0],_component$split2=_component$split2[1];return _react.default.createElement(PydioReactUI.AsyncComponent,_extends({},displayData.DATA,_this3.props,{key:"ip_"+tpl,namespace:namespace,componentName:_component$split2}))});return!templates.length&&mainEmptyStateProps&&templates.push(_react.default.createElement(EmptyStateView,mainEmptyStateProps)),_react.default.createElement(Template,{style:this.props.style},templates)}}]),InfoPanel}(_react.default.Component),ConfigsParser=((exports.default=InfoPanel).propTypes={dataModel:_propTypes.default.instanceOf(PydioDataModel).isRequired,pydio:_propTypes.default.instanceOf(_pydio.default).isRequired,style:_propTypes.default.object},InfoPanel.contextTypes={scrollArea:_propTypes.default.object},exports.default=InfoPanel=require(InfoPanel,{id:"info_panel"}),function(){function ConfigsParser(){_classCallCheck(this,ConfigsParser)}return _createClass(ConfigsParser,null,[{key:"parseConfigs",value:function(){var panelsNodes=_xml.default.XPathSelectNodes(pydio.getXmlRegistry(),'client_configs/component_config[@component="InfoPanel"]/infoPanel'),panels=new Map;return panelsNodes.forEach(function(node){var mimes,component;node.getAttribute("reactComponent")&&(mimes=node.getAttribute("mime").split(","),component=node.getAttribute("reactComponent"),mimes.map(function(mime){panels.has(mime)||panels.set(mime,[]),panels.get(mime).push({COMPONENT:component,THEME:node.getAttribute("theme"),ATTRIBUTES:node.getAttribute("attributes"),WEIGHT:node.getAttribute("weight")?parseInt(node.getAttribute("weight")):0})}))}),panels}}]),ConfigsParser}());module.exports=exports.default},{"material-ui":"material-ui","prop-types":"prop-types",pydio:"pydio","pydio/util/xml":"pydio/util/xml",react:"react"}],30:[function(require,module,exports){"use strict";function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _propTypes=_interopRequireDefault(require("prop-types")),_react=_interopRequireDefault(require("react")),_color=_interopRequireDefault(require("color")),_materialUi=require("material-ui"),require=require("material-ui/styles");function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function ownKeys(object,enumerableOnly){var symbols,keys=Object.keys(object);return Object.getOwnPropertySymbols&&(symbols=Object.getOwnPropertySymbols(object),enumerableOnly&&(symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable})),keys.push.apply(keys,symbols)),keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach(function(key){!function(obj,key,value){key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value}(target,key,source[key])}):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))})}return target}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(o,p)}function _createSuper(Derived){var hasNativeReflectConstruct=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var NewTarget,Super=_getPrototypeOf(Derived),Super=(NewTarget=hasNativeReflectConstruct?(NewTarget=_getPrototypeOf(this).constructor,Reflect.construct(Super,arguments,NewTarget)):Super.apply(this,arguments),this);if(NewTarget&&("object"===_typeof(NewTarget)||"function"==typeof NewTarget))return NewTarget;if(void 0!==NewTarget)throw new TypeError("Derived constructors may only return object or undefined");return function(self){if(void 0!==self)return self;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(Super)}}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}var storageKey="pydio.layout.infoPanel.cardStatuses",CardsStates={};if(localStorage.getItem(storageKey))try{CardsStates=JSON.parse(localStorage.getItem(storageKey))}catch(e){}var InfoPanelCard=function(_React$Component){var subClass=InfoPanelCard;if("function"!=typeof _React$Component&&null!==_React$Component)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(_React$Component&&_React$Component.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),Object.defineProperty(subClass,"prototype",{writable:!1}),_React$Component&&_setPrototypeOf(subClass,_React$Component);var staticProps,_super=_createSuper(InfoPanelCard);function InfoPanelCard(props){var _this;if(this instanceof InfoPanelCard)return _this=_super.call(this,props),props.popoverPanel?_this.state={open:!0}:props.identifier&&void 0!==CardsStates[props.identifier]?_this.state={open:CardsStates[props.identifier]}:props.identifier?_this.state={open:props.defaultOpen||!1}:_this.state={open:!0},_this;throw new TypeError("Cannot call a class as a function")}return subClass=InfoPanelCard,(_React$Component=[{key:"toggle",value:function(){var newState=!this.state.open;this.setState({open:newState}),this.props.identifier&&(CardsStates[this.props.identifier]=newState,localStorage.setItem(storageKey,JSON.stringify(CardsStates)))}},{key:"render",value:function(){var rows,toolBar,_this2=this,_this$state=this.state,open=_this$state.open,hoverRow=_this$state.hoverRow,_this$state=this.props,primaryToolbars=_this$state.primaryToolbars,muiTheme=_this$state.muiTheme,pydio=_this$state.pydio,standardData=_this$state.standardData,_this$state=_this$state.popoverPanel,colorHue=(muiTheme=muiTheme.palette,colorHue=(0,_color.default)(muiTheme.primary1Color).hsl().array()[0],{card:{panel:{backgroundColor:"white",borderRadius:6,boxShadow:"rgba(0, 0, 0, .15) 0px 0px 12px",margin:10,overflow:"hidden"},header:{backgroundColor:"transparent",position:"relative",color:new _color.default({h:colorHue,s:30,l:43}).toString(),fontSize:14,fontWeight:500,padding:"12px 16px",cursor:"pointer"},content:{backgroundColor:"transparent",paddingBottom:0},headerIcon:{position:"absolute",top:-1,right:0,color:"#ccc"},actions:{padding:2,textAlign:"right",borderTop:"1px solid #e0e0e0"}},toolbar:{container:{justifyContent:"flex-end",position:"relative",borderTop:"1px solid rgba(0,0,0,.15)"},button:{color:muiTheme.accent2Color,paddingRight:8,paddingLeft:8},fabButton:{backgroundColor:"#009688"},flatButton:{minWidth:0}}}),muiTheme=(_this$state=_this$state?this.props.title?_react.default.createElement(_materialUi.Paper,{zDepth:0,style:_objectSpread(_objectSpread({},colorHue.card.header),{},{cursor:"default"})},this.props.title):null:(muiTheme=_react.default.createElement("div",{style:colorHue.card.headerIcon},_react.default.createElement(_materialUi.IconButton,{onClick:function(){_this2.toggle()},iconStyle:{color:colorHue.card.headerIcon.color},iconClassName:"mdi mdi-chevron-"+(open?"up":"down")})),this.props.title?_react.default.createElement(_materialUi.Paper,{zDepth:0,style:colorHue.card.header,onClick:function(){_this2.toggle()}},muiTheme,this.props.title):null),this.props.actions?_react.default.createElement("div",{style:colorHue.card.actions},this.props.actions):null);return standardData&&(rows=standardData.map(function(object){var key=object.key,label=object.label,value=object.value,object=object.hoverValue;return _react.default.createElement("div",{className:"infoPanelRow",key:key},_react.default.createElement("div",{className:"infoPanelLabel"},label),_react.default.createElement("div",{className:"infoPanelValue",onMouseOver:function(){return _this2.setState({hoverRow:key})},onMouseOut:function(){return _this2.setState({hoverRow:null})}},object&&hoverRow===key?object:value))})),primaryToolbars&&(toolBar=_react.default.createElement(PydioComponents.Toolbar,{toolbarStyle:colorHue.toolbar.container,flatButtonStyle:colorHue.toolbar.flatButton,fabButtonStyle:colorHue.toolbar.fabButton,buttonStyle:colorHue.toolbar.button,className:"primaryToolbar",renderingType:"button",toolbars:primaryToolbars,controller:pydio.getController(),fabAction:"share",buttonMenuNoLabel:!0,buttonMenuPopoverDirection:"right"})),_react.default.createElement(_materialUi.Paper,{zDepth:1,className:"panelCard",style:_objectSpread(_objectSpread({},colorHue.card.panel),this.props.style)},_this$state,open&&_react.default.createElement("div",{className:"panelContent",style:_objectSpread(_objectSpread({},colorHue.card.content),this.props.contentStyle)},this.props.children,rows,toolBar),open&&muiTheme)}}])&&_defineProperties(subClass.prototype,_React$Component),staticProps&&_defineProperties(subClass,staticProps),Object.defineProperty(subClass,"prototype",{writable:!1}),InfoPanelCard}(_react.default.Component);(exports.default=InfoPanelCard).PropTypes={identifier:_propTypes.default.string,title:_propTypes.default.string,actions:_propTypes.default.array},exports.default=InfoPanelCard=(0,require.muiThemeable)()(InfoPanelCard),module.exports=exports.default},{color:"color","material-ui":"material-ui","material-ui/styles":"material-ui/styles","prop-types":"prop-types",react:"react"}],31:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _react=_interopRequireDefault(require("react")),_createReactClass=_interopRequireDefault(require("create-react-class")),_InfoPanelCard=_interopRequireDefault(require("./InfoPanelCard"));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function ownKeys(object,enumerableOnly){var symbols,keys=Object.keys(object);return Object.getOwnPropertySymbols&&(symbols=Object.getOwnPropertySymbols(object),enumerableOnly&&(symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable})),keys.push.apply(keys,symbols)),keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach(function(key){!function(obj,key,value){key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value}(target,key,source[key])}):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))})}return target}require=(0,_createReactClass.default)({displayName:"RootNode",getInitialState:function(){return{repoKey:null}},componentDidMount:function(){this.loadData(this.props)},componentWillReceiveProps:function(nextProps){nextProps.pydio.user&&nextProps.pydio.user.activeRepository!==this.state.repoKey&&this.loadData(nextProps)},loadData:function(props){var oThis,repoKey;props.pydio.user&&((props=MetaCacheService.getInstance()).registerMetaStream("workspace.info","MANUAL_TRIGGER"),oThis=this,repoKey=pydio.user.getActiveRepository(),this.setState({repoKey:repoKey}),props.hasKey("workspace.info",repoKey)?(props=props.getByKey("workspace.info",repoKey),oThis.setState(_objectSpread({},props["core.users"]))):FuncUtils.bufferCallback("ajxp_load_repo_info_timer",700,function(){oThis.isMounted()}))},render:function(){var panelData,messages=this.props.pydio.MessageHash,internal=messages[528],external=messages[530];messages[527];return this.state&&this.state.users&&(panelData=[{key:"internal",label:internal,value:this.state.users},{key:"external",label:external,value:this.state.groups}]),_react.default.createElement(_InfoPanelCard.default,{identifier:"file-info",title:messages[249],style:this.props.style,standardData:panelData,icon:"account-multiple-outline",iconColor:"00838f"},void 0)}});exports.default=require,module.exports=exports.default},{"./InfoPanelCard":30,"create-react-class":"create-react-class",react:"react"}],32:[function(require,module,exports){"use strict";function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _pydio=_interopRequireDefault(require("pydio")),_reactRedux=require("react-redux"),_editor=require("./components/editor"),_menu=require("./components/menu"),_excluded=(_interopRequireDefault(require("./make-editor-open")),["displayToolbar"]);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function ownKeys(object,enumerableOnly){var symbols,keys=Object.keys(object);return Object.getOwnPropertySymbols&&(symbols=Object.getOwnPropertySymbols(object),enumerableOnly&&(symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable})),keys.push.apply(keys,symbols)),keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach(function(key){!function(obj,key,value){key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value}(target,key,source[key])}):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))})}return target}function _objectWithoutProperties(source,excluded){if(null==source)return{};var key,target=function(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],0<=excluded.indexOf(key)||(target[key]=source[key]);return target}(source,excluded);if(Object.getOwnPropertySymbols)for(var sourceSymbolKeys=Object.getOwnPropertySymbols(source),i=0;i<sourceSymbolKeys.length;i++)key=sourceSymbolKeys[i],0<=excluded.indexOf(key)||Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key]);return target}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(o,p)}function _createSuper(Derived){var hasNativeReflectConstruct=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var NewTarget,Super=_getPrototypeOf(Derived),Super=(NewTarget=hasNativeReflectConstruct?(NewTarget=_getPrototypeOf(this).constructor,Reflect.construct(Super,arguments,NewTarget)):Super.apply(this,arguments),this);if(NewTarget&&("object"===_typeof(NewTarget)||"function"==typeof NewTarget))return NewTarget;if(void 0!==NewTarget)throw new TypeError("Derived constructors may only return object or undefined");return function(self){if(void 0!==self)return self;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(Super)}}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}var require=_pydio.default.requireLib("hoc"),_pydio=require.withContainerSize,require=require.EditorActions,_reactRedux=_pydio(_pydio=(0,_reactRedux.connect)(function(state,ownProps){var editor=state.editor,state=state.tabs,editor=editor.isMinimised,editor=void 0!==editor&&editor,_ownProps$displayTool=ownProps.displayToolbar,_ownProps$displayTool=void 0===_ownProps$displayTool||_ownProps$displayTool;return _objectSpread(_objectSpread({},_objectWithoutProperties(ownProps,_excluded)),{},{tabs:state,isOpen:0<state.filter(function(_ref){return _ref.editorData}).length,isMinimised:editor,displayToolbar:_ownProps$displayTool})},require)(_pydio=function(_React$Component){var subClass=App;if("function"!=typeof _React$Component&&null!==_React$Component)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(_React$Component&&_React$Component.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),Object.defineProperty(subClass,"prototype",{writable:!1}),_React$Component&&_setPrototypeOf(subClass,_React$Component);var staticProps,_super=_createSuper(App);function App(props){if(!(this instanceof App))throw new TypeError("Cannot call a class as a function");var _this=_super.call(this,props),editorModify=props.editorModify,props=props.editorSetActiveTab;return editorModify({isOpen:!1}),props(null),_this.state={fullBrowserScreen:pydio.UI.MOBILE_EXTENSIONS||!0},_this.onFullBrowserScreen=function(){return _this.setState({fullBrowserScreen:!_this.state.fullBrowserScreen})},_this}return subClass=App,(_React$Component=[{key:"render",value:function(){var _this$props=this.props,isOpen=_this$props.isOpen,isMinimised=_this$props.isMinimised,displayToolbar=_this$props.displayToolbar,documentWidth=_this$props.documentWidth,_this$props=_this$props.documentHeight,fullBrowserScreen=this.state.fullBrowserScreen;if(!isOpen)return null;isOpen=_this$props-50,_this$props=documentWidth-50;return React.createElement("div",{style:{position:"fixed",top:0,left:0,zIndex:1400}},!isMinimised&&React.createElement("div",{style:{position:"fixed",top:0,bottom:0,right:0,left:0,background:"#000000",opacity:"0.8",transition:"opacity .5s ease-in"}}),React.createElement(_editor.Editor,{displayToolbar:displayToolbar,style:{position:"fixed",top:fullBrowserScreen?0:"1%",left:fullBrowserScreen?0:"1%",right:fullBrowserScreen?0:"15%",bottom:fullBrowserScreen?0:"1%"},minimiseStyle:{transformOrigin:_this$props+"px "+isOpen+"px"}}),isMinimised&&React.createElement(_menu.Menu,{style:{position:"fixed",top:isOpen,left:_this$props,cursor:"pointer",transform:"translate(-50%, -50%)",zIndex:5}}))}}])&&_defineProperties(subClass.prototype,_React$Component),staticProps&&_defineProperties(subClass,staticProps),Object.defineProperty(subClass,"prototype",{writable:!1}),App}(React.Component))||_pydio)||_pydio;exports.default=_reactRedux,module.exports=exports.default},{"./components/editor":37,"./components/menu":43,"./make-editor-open":47,pydio:"pydio","react-redux":"react-redux"}],33:[function(require,module,exports){"use strict";function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _pydio=_interopRequireDefault(require("pydio")),_reactRedux=require("react-redux"),_materialUi=require("material-ui"),_EditorTab=_interopRequireDefault(require("./EditorTab")),_EditorToolbar=_interopRequireDefault(require("./EditorToolbar")),_EditorButton=_interopRequireDefault(require("./EditorButton"));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(o,p)}function _createSuper(Derived){var hasNativeReflectConstruct=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var NewTarget,Super=_getPrototypeOf(Derived),Super=(NewTarget=hasNativeReflectConstruct?(NewTarget=_getPrototypeOf(this).constructor,Reflect.construct(Super,arguments,NewTarget)):Super.apply(this,arguments),this);if(NewTarget&&("object"===_typeof(NewTarget)||"function"==typeof NewTarget))return NewTarget;if(void 0!==NewTarget)throw new TypeError("Derived constructors may only return object or undefined");return function(self){if(void 0!==self)return self;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(Super)}}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function ownKeys(object,enumerableOnly){var symbols,keys=Object.keys(object);return Object.getOwnPropertySymbols&&(symbols=Object.getOwnPropertySymbols(object),enumerableOnly&&(symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable})),keys.push.apply(keys,symbols)),keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach(function(key){!function(obj,key,value){key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value}(target,key,source[key])}):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))})}return target}var require=_pydio.default.requireLib("hoc"),getActiveTab=require.getActiveTab,_pydio=require.makeMotion,makeTransitionHOC=require.makeTransitionHOC,withMouseTracker=require.withMouseTracker,withSelectionControls=require.withSelectionControls,require=require.EditorActions,styles={selectionButtonLeft:{zIndex:3,position:"absolute",top:"calc(50% - 18px)",left:"40px"},selectionButtonRight:{zIndex:3,position:"absolute",top:"calc(50% - 18px)",right:"40px"},iconSelectionButton:{borderRadius:"50%",width:"36px",height:"36px",lineHeight:"36px",backgroundColor:"rgb(0, 0, 0, 0.87)",color:"rgb(255, 255,255, 0.87)"},toolbar:{default:{top:0,left:0,right:0,flexShrink:0}}};withMouseTracker=makeTransitionHOC({translateY:800},{translateY:0})(makeTransitionHOC=withMouseTracker()(makeTransitionHOC=withSelectionControls(makeTransitionHOC=(0,_reactRedux.connect)(function(state,ownProps){var _state$editor=state.editor,_state$editor=void 0===_state$editor?{}:_state$editor,_state$tabs=state.tabs,_state$tabs=void 0===_state$tabs?[]:_state$tabs,_editor$isMinimised=_state$editor.isMinimised,_editor$isMinimised=void 0!==_editor$isMinimised&&_editor$isMinimised,_editor$fixedToolbar=_state$editor.fixedToolbar,_editor$fixedToolbar=void 0!==_editor$fixedToolbar&&_editor$fixedToolbar,_state$editor=_state$editor.focusOnSelection,_state$editor=void 0!==_state$editor&&_state$editor;return _objectSpread(_objectSpread({},ownProps),{},{fixedToolbar:_editor$fixedToolbar,hideToolbar:!ownProps.displayToolbar||!_editor$fixedToolbar&&_state$editor&&!ownProps.isNearTop,hideSelectionControls:!ownProps.browseable||_state$editor&&!ownProps.isNearTop&&!ownProps.isNearLeft&&!ownProps.isNearRight,activeTab:getActiveTab(state),tabs:_state$tabs,isMinimised:_editor$isMinimised})},require)(makeTransitionHOC=_pydio({scale:1},{scale:0},{check:function(props){return props.isMinimised},style:function(props){return props.minimiseStyle}})(makeTransitionHOC=function(_React$Component){var subClass=Editor;if("function"!=typeof _React$Component&&null!==_React$Component)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(_React$Component&&_React$Component.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),Object.defineProperty(subClass,"prototype",{writable:!1}),_React$Component&&_setPrototypeOf(subClass,_React$Component);var staticProps,_super=_createSuper(Editor);function Editor(){var instance=this,Constructor=Editor;if(instance instanceof Constructor)return _super.apply(this,arguments);throw new TypeError("Cannot call a class as a function")}return subClass=Editor,(_React$Component=[{key:"handleBlurOnSelection",value:function(e){(0,this.props.editorModify)({focusOnSelection:!1})}},{key:"handleFocusOnSelection",value:function(e){return(0,this.props.editorModify)({focusOnSelection:!0}),e.preventDefault(),e.stopPropagation(),!1}},{key:"renderChild",value:function(){var activeTab=this.props.activeTab;return React.createElement(_EditorTab.default,{id:activeTab.id})}},{key:"render",value:function(){var keyPress,_this=this,_this$props=this.props,style=_this$props.style,activeTab=_this$props.activeTab,fixedToolbar=_this$props.fixedToolbar,hideToolbar=_this$props.hideToolbar,tabDeleteAll=_this$props.tabDeleteAll,hideSelectionControls=_this$props.hideSelectionControls,prevSelectionDisabled=_this$props.prevSelectionDisabled,nextSelectionDisabled=_this$props.nextSelectionDisabled,onSelectPrev=_this$props.onSelectPrev,onSelectNext=_this$props.onSelectNext,_this$props={display:"flex",flex:1,overflow:"hidden",width:"100%",height:"100%",position:"relative"},activeTab=(activeTab||(_this$props=_objectSpread(_objectSpread({},_this$props),{},{alignItems:"center",justifyContent:"center"})),_objectSpread({display:"flex",flexDirection:"column",overflow:"hidden",width:"100%",height:"100%",backgroundColor:"transparent",borderRadius:0},style)),style=styles.toolbar.default;return(onSelectNext||onSelectPrev)&&(keyPress=function(e){if("ArrowLeft"===e.key&&onSelectPrev&&!prevSelectionDisabled)try{onSelectPrev()}catch(e){}else if("ArrowRight"===e.key&&onSelectNext&&!nextSelectionDisabled)try{onSelectNext()}catch(e){}else"Escape"===e.key&&tabDeleteAll&&tabDeleteAll()}),React.createElement(_materialUi.Paper,{zDepth:5,style:activeTab,onClick:function(e){return _this.handleBlurOnSelection(e)},tabIndex:"-1",onKeyDown:keyPress},!hideToolbar&&React.createElement(_EditorToolbar.default,{style:style,display:fixedToolbar?"fixed":"removable"}),React.createElement("div",{className:"body",style:_this$props,onClick:function(e){return _this.handleFocusOnSelection(e)}},this.props.transitionEnded&&this.renderChild()),!hideSelectionControls&&onSelectPrev&&React.createElement(_EditorButton.default,{iconClassName:"mdi mdi-chevron-left",style:styles.selectionButtonLeft,iconStyle:styles.iconSelectionButton,disabled:prevSelectionDisabled,onClick:function(){return onSelectPrev()}}),!hideSelectionControls&&onSelectNext&&React.createElement(_EditorButton.default,{iconClassName:"mdi mdi-chevron-right",style:styles.selectionButtonRight,iconStyle:styles.iconSelectionButton,disabled:nextSelectionDisabled,onClick:function(){return onSelectNext()}}))}}])&&_defineProperties(subClass.prototype,_React$Component),staticProps&&_defineProperties(subClass,staticProps),Object.defineProperty(subClass,"prototype",{writable:!1}),Editor}(React.Component))||makeTransitionHOC)||makeTransitionHOC)||makeTransitionHOC)||makeTransitionHOC)||makeTransitionHOC;exports.default=withMouseTracker,module.exports=exports.default},{"./EditorButton":34,"./EditorTab":35,"./EditorToolbar":36,"material-ui":"material-ui",pydio:"pydio","react-redux":"react-redux"}],34:[function(require,module,exports){"use strict";function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(o,p)}function _createSuper(Derived){var hasNativeReflectConstruct=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var NewTarget,Super=_getPrototypeOf(Derived),Super=(NewTarget=hasNativeReflectConstruct?(NewTarget=_getPrototypeOf(this).constructor,Reflect.construct(Super,arguments,NewTarget)):Super.apply(this,arguments),this);if(NewTarget&&("object"===_typeof(NewTarget)||"function"==typeof NewTarget))return NewTarget;if(void 0!==NewTarget)throw new TypeError("Derived constructors may only return object or undefined");return function(self){if(void 0!==self)return self;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(Super)}}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var IconButton=require("material-ui").IconButton,require=Pydio.requireLib("hoc"),makeTransitionHOC=require.makeTransitionHOC,makeTransitionHOC=(0,require.withHideDisabled)()(require=makeTransitionHOC({opacity:0},{opacity:1})(require=function(_React$Component){var subClass=EditorButton;if("function"!=typeof _React$Component&&null!==_React$Component)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(_React$Component&&_React$Component.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),Object.defineProperty(subClass,"prototype",{writable:!1}),_React$Component&&_setPrototypeOf(subClass,_React$Component);var staticProps,_super=_createSuper(EditorButton);function EditorButton(){var instance=this,Constructor=EditorButton;if(instance instanceof Constructor)return _super.apply(this,arguments);throw new TypeError("Cannot call a class as a function")}return subClass=EditorButton,(_React$Component=[{key:"render",value:function(){return React.createElement(IconButton,this.props)}}])&&_defineProperties(subClass.prototype,_React$Component),staticProps&&_defineProperties(subClass,staticProps),Object.defineProperty(subClass,"prototype",{writable:!1}),EditorButton}(React.Component))||require)||require;exports.default=makeTransitionHOC,module.exports=exports.default},{"material-ui":"material-ui"}],35:[function(require,module,exports){"use strict";function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _pydio=_interopRequireDefault(require("pydio")),_materialUi=require("material-ui"),_reactRedux=require("react-redux"),_reactDraggable=_interopRequireDefault(require("react-draggable")),_makeMaximise=(require("redux"),_interopRequireDefault(require("./make-maximise"))),_excluded=(_interopRequireDefault(require("lodash")),["readonly","size","scale","playing","resolution","onAutoPlayToggle","onSizeChange","onResolutionToggle"]);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function ownKeys(object,enumerableOnly){var symbols,keys=Object.keys(object);return Object.getOwnPropertySymbols&&(symbols=Object.getOwnPropertySymbols(object),enumerableOnly&&(symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable})),keys.push.apply(keys,symbols)),keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach(function(key){!function(obj,key,value){key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value}(target,key,source[key])}):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))})}return target}function _objectWithoutProperties(source,excluded){if(null==source)return{};var key,target=function(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],0<=excluded.indexOf(key)||(target[key]=source[key]);return target}(source,excluded);if(Object.getOwnPropertySymbols)for(var sourceSymbolKeys=Object.getOwnPropertySymbols(source),i=0;i<sourceSymbolKeys.length;i++)key=sourceSymbolKeys[i],0<=excluded.indexOf(key)||Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key]);return target}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Object.defineProperty(Constructor,"prototype",{writable:!1})}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),Object.defineProperty(subClass,"prototype",{writable:!1}),superClass&&_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(o,p)}function _createSuper(Derived){var hasNativeReflectConstruct=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var NewTarget,Super=_getPrototypeOf(Derived),Super=(NewTarget=hasNativeReflectConstruct?(NewTarget=_getPrototypeOf(this).constructor,Reflect.construct(Super,arguments,NewTarget)):Super.apply(this,arguments),this);if(NewTarget&&("object"===_typeof(NewTarget)||"function"==typeof NewTarget))return NewTarget;if(void 0!==NewTarget)throw new TypeError("Derived constructors may only return object or undefined");return function(self){if(void 0!==self)return self;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(Super)}}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}var require=_pydio.default.requireLib("hoc"),_pydio=require.EditorActions,getActiveTab=(require.ResolutionActions,require.ContentActions,require.SizeActions,require.SelectionActions,require.LocalisationActions,require.getActiveTab),getEditorResolution=require.getEditorResolution,withContentControls=(require.withMenu,require.withContentControls),withSizeControls=require.withSizeControls,withAutoPlayControls=require.withAutoPlayControls,require=require.withResolutionControls,styles={textField:{width:150,marginRight:40},textInput:{color:"rgba(255, 255,255, 0.87)"},textHint:{color:"rgba(255, 255,255, 0.67)"},iconButton:{backgroundColor:"rgba(0, 0, 0, 0.87)",color:"rgba(255, 255, 255, 0.87)",fill:"rgba(255, 255, 255, 0.87)"},divider:{backgroundColor:"rgba(255, 255,255, 0.87)",marginLeft:"12px",marginRight:"12px",alignSelf:"center"}},_pydio=(0,_reactRedux.connect)(mapStateToProps,_pydio)(_pydio=function(){_inherits(Tab,React.PureComponent);var _super2=_createSuper(Tab);function Tab(){return _classCallCheck(this,Tab),_super2.apply(this,arguments)}return _createClass(Tab,[{key:"render",value:function(){var Editor=this.props.Editor,_this$props6=this.props,id=_this$props6.id,node=_this$props6.node,snackbarMessage=_this$props6.snackbarMessage,editorData=_this$props6.editorData,isActive=_this$props6.isActive,_this$props6=(_this$props6.style,this.props),editorSetActiveTab=_this$props6.editorSetActiveTab,tabModify=_this$props6.tabModify;if(!Editor)return null;function select(){return editorSetActiveTab(id)}_this$props6={display:"flex",height:"40%",flex:1,margin:0,overflow:"hidden",whiteSpace:"nowrap",backgroundColor:"transparent",borderRadius:0};return isActive?React.createElement(AnimatedCard,{style:_this$props6,containerStyle:Tab.styles.container,maximised:!0,expanded:isActive,onExpandChange:isActive?null:select},React.createElement(Editor,{pydio:pydio,node:node,editorData:editorData,isActive:isActive}),React.createElement(BottomBar,{id:id,style:Tab.styles.toolbar}),React.createElement(_materialUi.Snackbar,{style:{left:"10%",bottom:24},open:""!==snackbarMessage,autoHideDuration:3e3,onRequestClose:function(){return tabModify({id:id,message:""})},message:React.createElement("span",null,snackbarMessage)})):React.createElement(AnimatedCard,{style:_this$props6,containerStyle:Tab.styles.container,maximised:isActive,expanded:isActive,onExpandChange:isActive?null:select},React.createElement(_materialUi.CardHeader,{title:id,actAsExpander:!0,showExpandableButton:!0}),React.createElement(_materialUi.CardMedia,{style:Tab.styles.child,mediaStyle:Tab.styles.child},React.createElement(Editor,{pydio:pydio,node:node,editorData:editorData,isActive:isActive})))}}],[{key:"styles",get:function(){return{container:{display:"flex",flex:1,flexFlow:"column nowrap",overflow:"auto",alignItems:"center"},child:{display:"flex",flex:1},toolbar:{backgroundColor:"rgb(0, 0, 0)",color:"rgba(255, 255, 255, 0.87)",width:"min-content",margin:"0 auto",padding:0,position:"absolute",bottom:24,height:48,borderRadius:3,alignSelf:"center"}}}}]),Tab}())||_pydio,BottomBar=(exports.default=_pydio,withContentControls(_pydio=withAutoPlayControls(_pydio=withSizeControls(_pydio=require(_pydio=(0,_reactRedux.connect)(mapStateToProps)(_pydio=function(){_inherits(BottomBar,React.Component);var _super=_createSuper(BottomBar);function BottomBar(props){_classCallCheck(this,BottomBar),_this=_super.call(this,props);var _this,size=props.size,props=props.scale;return _this.state={minusDisabled:props-.5<=0,magnifyDisabled:"contain"==size,plusDisabled:20<=props+.5},_this}return _createClass(BottomBar,[{key:"componentWillReceiveProps",value:function(props){var size=props.size,props=props.scale;this.setState({minusDisabled:props-.5<=0,magnifyDisabled:"contain"==size,plusDisabled:20<=props+.5})}},{key:"render",value:function(){var _this$state=this.state,_this$state$minusDisa=_this$state.minusDisabled,_this$state$minusDisa=void 0!==_this$state$minusDisa&&_this$state$minusDisa,_this$state$magnifyDi=_this$state.magnifyDisabled,_this$state$magnifyDi=void 0!==_this$state$magnifyDi&&_this$state$magnifyDi,_this$state$plusDisab=_this$state.plusDisabled,_this$state$plusDisab=void 0!==_this$state$plusDisab&&_this$state$plusDisab,_this$state=(_this$state.searchString,_this$state.searchJump,this.props),readonly=_this$state.readonly,scale=(_this$state.size,_this$state.scale),_this$props$playing=_this$state.playing,_this$props$playing=void 0!==_this$props$playing&&_this$props$playing,resolution=_this$state.resolution,onAutoPlayToggle=_this$state.onAutoPlayToggle,onSizeChange=_this$state.onSizeChange,onResolutionToggle=_this$state.onResolutionToggle,_this$state=_objectWithoutProperties(_this$state,_excluded),_this$props2=this.props,saveable=_this$props2.saveable,undoable=_this$props2.undoable,redoable=_this$props2.redoable,onSave=_this$props2.onSave,onUndo=_this$props2.onUndo,onRedo=_this$props2.onRedo,saveDisabled=_this$props2.saveDisabled,undoDisabled=_this$props2.undoDisabled,_this$props2=_this$props2.redoDisabled,_this$props3=this.props,onToggleLineNumbers=_this$props3.onToggleLineNumbers,onToggleLineWrapping=_this$props3.onToggleLineWrapping,_this$props3=this.props,onSearch=_this$props3.onSearch,onJumpTo=_this$props3.onJumpTo,_this$props3=(saveable||undoable||redoable)&&!readonly,readonly=this.props,editortools=readonly.editortools,readonly=readonly.searchable,hdable=this.props.hdable,playable=this.props.playable,resizable=this.props.resizable;return _this$props3||editortools||readonly||hdable||playable||resizable?React.createElement(_reactDraggable.default,null,React.createElement(_materialUi.Toolbar,_this$state,playable&&React.createElement(_materialUi.ToolbarGroup,null,React.createElement(_materialUi.IconButton,{iconClassName:"mdi "+(_this$props$playing?"mdi-pause":"mdi-play"),iconStyle:styles.iconButton,onClick:function(){return onAutoPlayToggle()}})),playable&&resizable&&React.createElement(_materialUi.ToolbarSeparator,{style:styles.divider}),resizable&&React.createElement(_materialUi.ToolbarGroup,null,React.createElement(_materialUi.IconButton,{iconClassName:"mdi mdi-minus",iconStyle:styles.iconButton,onClick:function(){return onSizeChange({size:"auto",scale:scale-.5})},disabled:_this$state$minusDisa}),React.createElement(_materialUi.IconButton,{iconClassName:"mdi mdi-magnify-minus",iconStyle:styles.iconButton,onClick:function(){return onSizeChange({size:"contain"})},disabled:_this$state$magnifyDi}),React.createElement(_materialUi.IconButton,{iconClassName:"mdi mdi-plus",iconStyle:styles.iconButton,onClick:function(){return onSizeChange({size:"auto",scale:scale+.5})},disabled:_this$state$plusDisab})),(playable||resizable)&&hdable&&React.createElement(_materialUi.ToolbarSeparator,{style:styles.divider}),hdable&&React.createElement(_materialUi.ToolbarGroup,null,React.createElement(_materialUi.IconButton,{iconClassName:"mdi "+("hi"==resolution?"mdi-quality-high":"mdi-image"),iconStyle:styles.iconButton,onClick:function(){return onResolutionToggle()}})),(playable||resizable||hdable)&&_this$props3&&React.createElement(_materialUi.ToolbarSeparator,{style:styles.divider}),_this$props3&&React.createElement(_materialUi.ToolbarGroup,null,saveable&&React.createElement(_materialUi.IconButton,{iconClassName:"mdi mdi-content-save",iconStyle:styles.iconButton,onClick:function(){return onSave()},disabled:saveDisabled}),undoable&&React.createElement(_materialUi.IconButton,{iconClassName:"mdi mdi-undo",iconStyle:styles.iconButton,onClick:function(){return onUndo()},disabled:undoDisabled}),redoable&&React.createElement(_materialUi.IconButton,{iconClassName:"mdi mdi-redo",iconStyle:styles.iconButton,onClick:function(){return onRedo()},disabled:_this$props2})),(playable||resizable||hdable||_this$props3)&&editortools&&React.createElement(_materialUi.ToolbarSeparator,{style:styles.divider}),editortools&&React.createElement(_materialUi.ToolbarGroup,null,onToggleLineNumbers&&React.createElement(_materialUi.IconButton,{iconClassName:"mdi mdi-format-list-numbers",iconStyle:styles.iconButton,onClick:function(){return onToggleLineNumbers()}}),onToggleLineWrapping&&React.createElement(_materialUi.IconButton,{iconClassName:"mdi mdi-wrap",iconStyle:styles.iconButton,onClick:function(){return onToggleLineWrapping()}})),(playable||resizable||hdable||_this$props3||editortools)&&readonly&&React.createElement(_materialUi.ToolbarSeparator,{style:styles.divider}),readonly&&React.createElement(_materialUi.ToolbarGroup,null,React.createElement(_materialUi.TextField,{onMouseDown:function(e){return e.stopPropagation()},onKeyUp:function(_ref){var key=_ref.key,_ref=_ref.target;return"Enter"===key&&onJumpTo(_ref.value)},hintText:"Jump to Line",style:styles.textField,hintStyle:styles.textHint,inputStyle:styles.textInput}),React.createElement(_materialUi.TextField,{onMouseDown:function(e){return e.stopPropagation()},onKeyUp:function(_ref2){var key=_ref2.key,_ref2=_ref2.target;return"Enter"===key&&onSearch(_ref2.value)},hintText:"Search...",style:styles.textField,hintStyle:styles.textHint,inputStyle:styles.textInput})))):null}}]),BottomBar}())||_pydio)||_pydio)||_pydio)||_pydio)||_pydio);function mapStateToProps(state,ownProps){var editor=state.editor,current=getActiveTab(state),_current$readonly=current.readonly,_current$readonly=void 0===_current$readonly||_current$readonly,_current$message=current.message,_current$message=void 0===_current$message?"":_current$message,_current$editorData=current.editorData,_current$editorData=FuncUtils.getFunctionByName((void 0===_current$editorData?{editorClass:""}:_current$editorData).editorClass,window);return _current$editorData?_objectSpread(_objectSpread(_objectSpread({},ownProps),current),{},{resolution:getEditorResolution(state),isActive:editor.activeTabId===current.id,snackbarMessage:_current$message,readonly:_current$readonly,Editor:_current$editorData.Editor,Controls:_current$editorData.Controls,Actions:_current$editorData.Actions}):_objectSpread(_objectSpread({},ownProps),current)}var AnimatedCard=(0,_makeMaximise.default)(_materialUi.Card);module.exports=exports.default},{"./make-maximise":38,lodash:3,"material-ui":"material-ui",pydio:"pydio","react-draggable":"react-draggable","react-redux":"react-redux",redux:"redux"}],36:[function(require,module,exports){"use strict";function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _react=_interopRequireDefault(require("react")),_pydio=_interopRequireDefault(require("pydio")),_api=_interopRequireDefault(require("pydio/http/api")),_dataModel=_interopRequireDefault(require("pydio/model/data-model")),_reactRedux=require("react-redux"),_materialUi=require("material-ui");function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function ownKeys(object,enumerableOnly){var symbols,keys=Object.keys(object);return Object.getOwnPropertySymbols&&(symbols=Object.getOwnPropertySymbols(object),enumerableOnly&&(symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable})),keys.push.apply(keys,symbols)),keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach(function(key){!function(obj,key,value){key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value}(target,key,source[key])}):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))})}return target}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(o,p)}function _createSuper(Derived){var hasNativeReflectConstruct=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var NewTarget,Super=_getPrototypeOf(Derived),Super=(NewTarget=hasNativeReflectConstruct?(NewTarget=_getPrototypeOf(this).constructor,Reflect.construct(Super,arguments,NewTarget)):Super.apply(this,arguments),this);if(NewTarget&&("object"===_typeof(NewTarget)||"function"==typeof NewTarget))return NewTarget;if(void 0!==NewTarget)throw new TypeError("Derived constructors may only return object or undefined");return function(self){if(void 0!==self)return self;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(Super)}}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}var ModalAppBar=PydioComponents.ModalAppBar,require=_pydio.default.requireLib("hoc"),getActiveTab=require.getActiveTab,makeTransitionHOC=require.makeTransitionHOC,require=require.EditorActions,_reactRedux=makeTransitionHOC({translateY:-60,opacity:0},{translateY:0,opacity:1})(makeTransitionHOC=(0,_reactRedux.connect)(function(state,ownProps){state=getActiveTab(state);return _objectSpread(_objectSpread({},ownProps),{},{title:state.title,node:state.node})},require)(makeTransitionHOC=function(_React$Component){var subClass=EditorToolbar;if("function"!=typeof _React$Component&&null!==_React$Component)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(_React$Component&&_React$Component.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),Object.defineProperty(subClass,"prototype",{writable:!1}),_React$Component&&_setPrototypeOf(subClass,_React$Component);var staticProps,_super=_createSuper(EditorToolbar);function EditorToolbar(){var instance=this,Constructor=EditorToolbar;if(instance instanceof Constructor)return _super.apply(this,arguments);throw new TypeError("Cannot call a class as a function")}return subClass=EditorToolbar,(_React$Component=[{key:"onClose",value:function(){(0,this.props.tabDeleteAll)()}},{key:"onMinimise",value:function(){(0,this.props.editorModify)({isMinimised:!0})}},{key:"render",value:function(){var spanStyle,onDL,_this=this,_this$props=this.props,title=_this$props.title,className=_this$props.className,style=_this$props.style,display=_this$props.display,node=_this$props.node,_this$props={},innerStyle={},display=("fixed"===display?(_this$props=_objectSpread({position:"relative",backgroundColor:"#424242",boxShadow:"none"},style),innerStyle={color:"#FFFFFF",fill:"#FFFFFF"},spanStyle={color:"#FFFFFF"}):(_this$props=_objectSpread({position:"absolute",background:"linear-gradient(to bottom,rgba(0,0,0,0.65) 0%,transparent 100%)",boxShadow:"none"},style),innerStyle={color:"#FFFFFF",fill:"#FFFFFF"}),_pydio.default.getInstance().getController().getActionByName("download"));return!display||display.deny||display.contextHidden||(onDL=function(){var selection=new _dataModel.default(!0);selection.setSelectedNodes([node]),_api.default.getClient().downloadSelection(selection)}),_react.default.createElement(ModalAppBar,{className:className,style:_this$props,title:_react.default.createElement("span",{style:spanStyle},title),titleStyle:{innerStyle:innerStyle,fontSize:16},iconElementLeft:_react.default.createElement(_materialUi.IconButton,{iconClassName:"mdi mdi-arrow-left",iconStyle:innerStyle,touch:!0,onClick:function(){return _this.onClose()}}),iconElementRight:_react.default.createElement(_materialUi.ToolbarGroup,null,onDL&&_react.default.createElement(_materialUi.IconButton,{iconClassName:"mdi mdi-download",iconStyle:innerStyle,touch:!0,onClick:onDL,tooltip:_pydio.default.getMessages()[88],tooltipPosition:"bottom-left"}),_react.default.createElement(_materialUi.IconButton,{iconClassName:"mdi mdi-window-minimize",iconStyle:innerStyle,touch:!0,onClick:function(){return _this.onMinimise()}}))})}}])&&_defineProperties(subClass.prototype,_React$Component),staticProps&&_defineProperties(subClass,staticProps),Object.defineProperty(subClass,"prototype",{writable:!1}),EditorToolbar}(_react.default.Component))||makeTransitionHOC)||makeTransitionHOC;exports.default=_reactRedux,module.exports=exports.default},{"material-ui":"material-ui",pydio:"pydio","pydio/http/api":"pydio/http/api","pydio/model/data-model":"pydio/model/data-model",react:"react","react-redux":"react-redux"}],37:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),Object.defineProperty(exports,"Editor",{enumerable:!0,get:function(){return _Editor.default}}),Object.defineProperty(exports,"EditorTab",{enumerable:!0,get:function(){return _EditorTab.default}});var _Editor=_interopRequireDefault(require("./Editor")),_EditorTab=_interopRequireDefault(require("./EditorTab"));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}},{"./Editor":33,"./EditorTab":35}],38:[function(require,module,exports){"use strict";function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _reactMotion=require("react-motion");function _extends(){return(_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var key,source=arguments[i];for(key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target}).apply(this,arguments)}function ownKeys(object,enumerableOnly){var symbols,keys=Object.keys(object);return Object.getOwnPropertySymbols&&(symbols=Object.getOwnPropertySymbols(object),enumerableOnly&&(symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable})),keys.push.apply(keys,symbols)),keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach(function(key){!function(obj,key,value){key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value}(target,key,source[key])}):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))})}return target}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(o,p)}function _createSuper(Derived){var hasNativeReflectConstruct=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var NewTarget,Super=_getPrototypeOf(Derived),Super=(NewTarget=hasNativeReflectConstruct?(NewTarget=_getPrototypeOf(this).constructor,Reflect.construct(Super,arguments,NewTarget)):Super.apply(this,arguments),this);if(NewTarget&&("object"===_typeof(NewTarget)||"function"==typeof NewTarget))return NewTarget;if(void 0!==NewTarget)throw new TypeError("Derived constructors may only return object or undefined");return function(self){if(void 0!==self)return self;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(Super)}}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}var getDisplayName=Pydio.requireLib("hoc").Utils.getDisplayName,ANIMATION={stiffness:400,damping:30};exports.default=function(Target){return function(_React$Component){var subClass=_class;if("function"!=typeof _React$Component&&null!==_React$Component)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(_React$Component&&_React$Component.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),Object.defineProperty(subClass,"prototype",{writable:!1}),_React$Component&&_setPrototypeOf(subClass,_React$Component);var protoProps,_super=_createSuper(_class);function _class(props){var _this;if(this instanceof _class)return(_this=_super.call(this,props)).state={maximised:props.maximised},_this;throw new TypeError("Cannot call a class as a function")}return subClass=_class,_React$Component=[{key:"displayName",get:function(){return"MakeMaximise(".concat(getDisplayName(Target),")")}}],(protoProps=[{key:"componentWillReceiveProps",value:function(nextProps){this.setState({maximised:nextProps.maximised})}},{key:"render",value:function(){var _this2=this,_this$props$style=this.props.style,style=void 0===_this$props$style?{}:_this$props$style,_this$props$style=style.width,_this$props$style=void 0===_this$props$style?"0":_this$props$style,_style$height=style.height,_style$height=void 0===_style$height?"0":_style$height,maximised=this.state.maximised,_this$props$style={width:maximised?(0,_reactMotion.spring)(100,ANIMATION):(0,_reactMotion.spring)(parseInt(_this$props$style.replace(/%$/,"")),ANIMATION),height:maximised?(0,_reactMotion.spring)(100,ANIMATION):(0,_reactMotion.spring)(parseInt(_style$height.replace(/%$/,"")),ANIMATION)};return React.createElement(_reactMotion.Motion,{style:_this$props$style},function(_ref){var width=_ref.width,_ref=_ref.height;return React.createElement(Target,_extends({},_this2.props,{style:_objectSpread(_objectSpread({},style),{},{width:"".concat(width,"%"),height:"".concat(_ref,"%"),transition:"none"})}))})}}])&&_defineProperties(subClass.prototype,protoProps),_React$Component&&_defineProperties(subClass,_React$Component),Object.defineProperty(subClass,"prototype",{writable:!1}),_class}(React.Component)},module.exports=exports.default},{"react-motion":19}],39:[function(require,module,exports){"use strict";function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _pydio=_interopRequireDefault(require("pydio")),_reactRedux=require("react-redux"),_materialUi=require("material-ui"),require=_interopRequireDefault(require("./make-rotate"));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function ownKeys(object,enumerableOnly){var symbols,keys=Object.keys(object);return Object.getOwnPropertySymbols&&(symbols=Object.getOwnPropertySymbols(object),enumerableOnly&&(symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable})),keys.push.apply(keys,symbols)),keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach(function(key){!function(obj,key,value){key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value}(target,key,source[key])}):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))})}return target}function _extends(){return(_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var key,source=arguments[i];for(key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target}).apply(this,arguments)}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(o,p)}function _createSuper(Derived){var hasNativeReflectConstruct=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var NewTarget,Super=_getPrototypeOf(Derived),Super=(NewTarget=hasNativeReflectConstruct?(NewTarget=_getPrototypeOf(this).constructor,Reflect.construct(Super,arguments,NewTarget)):Super.apply(this,arguments),this);if(NewTarget&&("object"===_typeof(NewTarget)||"function"==typeof NewTarget))return NewTarget;if(void 0!==NewTarget)throw new TypeError("Derived constructors may only return object or undefined");return function(self){if(void 0!==self)return self;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(Super)}}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}var _pydio=_pydio.default.requireLib("hoc").EditorActions,Button=function(_React$Component){var subClass=Button;if("function"!=typeof _React$Component&&null!==_React$Component)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(_React$Component&&_React$Component.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),Object.defineProperty(subClass,"prototype",{writable:!1}),_React$Component&&_setPrototypeOf(subClass,_React$Component);var staticProps,_super=_createSuper(Button);function Button(){var instance=this,Constructor=Button;if(instance instanceof Constructor)return _super.apply(this,arguments);throw new TypeError("Cannot call a class as a function")}return subClass=Button,(_React$Component=[{key:"render",value:function(){var iconClassName=this.props.rotated?"mdi mdi-close":"mdi mdi-animation";return React.createElement(_materialUi.FloatingActionButton,_extends({},this.props,{iconClassName:iconClassName}))}}])&&_defineProperties(subClass.prototype,_React$Component),staticProps&&_defineProperties(subClass,staticProps),Object.defineProperty(subClass,"prototype",{writable:!1}),Button}(React.Component),require=(0,require.default)(Button);Button=(0,_reactRedux.connect)(function(state,ownProps){return _objectSpread({},state.editor.menu)},_pydio)(require);exports.default=Button,module.exports=exports.default},{"./make-rotate":45,"material-ui":"material-ui",pydio:"pydio","react-redux":"react-redux"}],40:[function(require,module,exports){"use strict";function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _pydio=_interopRequireDefault(require("pydio")),_reactRedux=require("react-redux"),_MainButton=_interopRequireDefault(require("./MainButton")),_MenuGroup=_interopRequireDefault(require("./MenuGroup")),_MenuItem=_interopRequireDefault(require("./MenuItem"));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function ownKeys(object,enumerableOnly){var symbols,keys=Object.keys(object);return Object.getOwnPropertySymbols&&(symbols=Object.getOwnPropertySymbols(object),enumerableOnly&&(symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable})),keys.push.apply(keys,symbols)),keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach(function(key){!function(obj,key,value){key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value}(target,key,source[key])}):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))})}return target}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(o,p)}function _createSuper(Derived){var hasNativeReflectConstruct=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var NewTarget,Super=_getPrototypeOf(Derived),Super=(NewTarget=hasNativeReflectConstruct?(NewTarget=_getPrototypeOf(this).constructor,Reflect.construct(Super,arguments,NewTarget)):Super.apply(this,arguments),this);if(NewTarget&&("object"===_typeof(NewTarget)||"function"==typeof NewTarget))return NewTarget;if(void 0!==NewTarget)throw new TypeError("Derived constructors may only return object or undefined");return function(self){if(void 0!==self)return self;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(Super)}}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}require=_pydio.default.requireLib("hoc").EditorActions,_pydio=function(_React$Component){var subClass=Menu;if("function"!=typeof _React$Component&&null!==_React$Component)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(_React$Component&&_React$Component.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),Object.defineProperty(subClass,"prototype",{writable:!1}),_React$Component&&_setPrototypeOf(subClass,_React$Component);var staticProps,_super=_createSuper(Menu);function Menu(props){var _this;if(!(this instanceof Menu))throw new TypeError("Cannot call a class as a function");(_this=_super.call(this,props)).state={ready:!1};var editorModify=props.editorModify;return _this.toggle=function(){return editorModify({isMenuActive:!_this.props.isActive})},_this}return subClass=Menu,(_React$Component=[{key:"renderChild",value:function(){var _this$props=this.props,isActive=_this$props.isActive,_this$props=_this$props.tabs;return isActive?_this$props.map(function(tab){return React.createElement(_MenuItem.default,{key:tab.id,id:tab.id,style:_objectSpread({},{position:"absolute",top:0,left:0,right:0,bottom:0,transition:"transform 0.3s ease-in"})})}):null}},{key:"render",value:function(){var _this$props2=this.props,style=_this$props2.style,_this$props2=_this$props2.isActive;return React.createElement("div",null,React.createElement(_MenuGroup.default,{style:style},this.renderChild()),React.createElement(_MainButton.default,{ref:"button",open:_this$props2,style:style,onClick:this.toggle}))}}])&&_defineProperties(subClass.prototype,_React$Component),staticProps&&_defineProperties(subClass,staticProps),Object.defineProperty(subClass,"prototype",{writable:!1}),Menu}(React.Component);_reactRedux=(0,_reactRedux.connect)(function(state,ownProps){var editor=state.editor,activeTab=(state=state.tabs).filter(function(tab){return tab.id===editor.activeTabId})[0];return _objectSpread(_objectSpread({},editor),{},{activeTab:activeTab,tabs:state,isActive:editor.isMenuActive})},require)(_pydio);exports.default=_reactRedux,module.exports=exports.default},{"./MainButton":39,"./MenuGroup":41,"./MenuItem":42,pydio:"pydio","react-redux":"react-redux"}],41:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});require=(exports.default=void 0,((require=require("./make-menu-transition"))&&require.__esModule?require:{default:require}).default)(function(props){return React.createElement("div",props,props.children)});exports.default=require,module.exports=exports.default},{"./make-menu-transition":44}],42:[function(require,module,exports){"use strict";function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _pydio=_interopRequireDefault(require("pydio")),_reactRedux=require("react-redux"),_materialUi=require("material-ui"),_lodash=_interopRequireDefault(require("lodash"));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function ownKeys(object,enumerableOnly){var symbols,keys=Object.keys(object);return Object.getOwnPropertySymbols&&(symbols=Object.getOwnPropertySymbols(object),enumerableOnly&&(symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable})),keys.push.apply(keys,symbols)),keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach(function(key){!function(obj,key,value){key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value}(target,key,source[key])}):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))})}return target}function _extends(){return(_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var key,source=arguments[i];for(key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target}).apply(this,arguments)}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(o,p)}function _createSuper(Derived){var hasNativeReflectConstruct=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var NewTarget,Super=_getPrototypeOf(Derived),Super=(NewTarget=hasNativeReflectConstruct?(NewTarget=_getPrototypeOf(this).constructor,Reflect.construct(Super,arguments,NewTarget)):Super.apply(this,arguments),this);if(NewTarget&&("object"===_typeof(NewTarget)||"function"==typeof NewTarget))return NewTarget;if(void 0!==NewTarget)throw new TypeError("Derived constructors may only return object or undefined");return function(self){if(void 0!==self)return self;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(Super)}}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}require=_pydio.default.requireLib("hoc"),require.getActiveTab,_pydio=require.EditorActions,require=function(_React$PureComponent){var subClass=MenuItem;if("function"!=typeof _React$PureComponent&&null!==_React$PureComponent)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(_React$PureComponent&&_React$PureComponent.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),Object.defineProperty(subClass,"prototype",{writable:!1}),_React$PureComponent&&_setPrototypeOf(subClass,_React$PureComponent);var staticProps,_super=_createSuper(MenuItem);function MenuItem(props){if(!(this instanceof MenuItem))throw new TypeError("Cannot call a class as a function");var _this=_super.call(this,props),editorSetActiveTab=props.editorSetActiveTab,editorModify=props.editorModify;return _this.onClick=function(){editorModify({isMinimised:!1}),editorSetActiveTab(_this.props.id)},_this}return subClass=MenuItem,(_React$PureComponent=[{key:"render",value:function(){var _this$props=this.props,style=_this$props.style,_this$props=_this$props.tab;if(_lodash.default.isEmpty(_this$props))return null;return React.createElement("div",{style:style,onClick:this.onClick},React.createElement("span",{style:{position:"absolute",top:0,bottom:0,width:100,maxWidth:100,textAlign:"center",left:-120,lineHeight:"30px",margin:"5px 0",padding:"0 5px",borderRadius:4,background:"#000000",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden",color:"#ffffff",opacity:"0.7"}},_this$props.title),React.createElement(_materialUi.FloatingActionButton,{mini:!0,ref:"container",backgroundColor:"#FFFFFF",zDepth:2,iconStyle:{backgroundColor:"#FFFFFF"}},React.createElement(_this$props.icon,_extends({},this.props.tab,{style:{fill:"#000000",flex:1,alignItems:"center",justifyContent:"center",fontSize:28,color:"#607d8b"},loadThumbnail:!0}))))}}])&&_defineProperties(subClass.prototype,_React$PureComponent),staticProps&&_defineProperties(subClass,staticProps),Object.defineProperty(subClass,"prototype",{writable:!1}),MenuItem}(React.PureComponent);_reactRedux=(0,_reactRedux.connect)(function(state,ownProps){return state=(void 0===(state=state.tabs)?{}:state).filter(function(tab){return tab.id===ownProps.id})[0],_objectSpread(_objectSpread({},ownProps),{},{tab:state})},_pydio)(require);exports.default=_reactRedux,module.exports=exports.default},{lodash:3,"material-ui":"material-ui",pydio:"pydio","react-redux":"react-redux"}],43:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),Object.defineProperty(exports,"Menu",{enumerable:!0,get:function(){return _Menu.default}});var _Menu=(exports=require("./Menu"))&&exports.__esModule?exports:{default:exports}},{"./Menu":40}],44:[function(require,module,exports){"use strict";function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _reactMotion=require("react-motion");function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(o,p)}function _createSuper(Derived){var hasNativeReflectConstruct=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var NewTarget,Super=_getPrototypeOf(Derived),Super=(NewTarget=hasNativeReflectConstruct?(NewTarget=_getPrototypeOf(this).constructor,Reflect.construct(Super,arguments,NewTarget)):Super.apply(this,arguments),this);if(NewTarget&&("object"===_typeof(NewTarget)||"function"==typeof NewTarget))return NewTarget;if(void 0!==NewTarget)throw new TypeError("Derived constructors may only return object or undefined");return function(self){if(void 0!==self)return self;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(Super)}}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}var ANIMATION={stifness:500,damping:20};exports.default=function(Target){return function(_React$Component){var subClass=_class;if("function"!=typeof _React$Component&&null!==_React$Component)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(_React$Component&&_React$Component.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),Object.defineProperty(subClass,"prototype",{writable:!1}),_React$Component&&_setPrototypeOf(subClass,_React$Component);var staticProps,_super=_createSuper(_class);function _class(){var instance=this,Constructor=_class;if(instance instanceof Constructor)return _super.apply(this,arguments);throw new TypeError("Cannot call a class as a function")}return subClass=_class,(_React$Component=[{key:"getStyles",value:function(){if(!this.props.children)return[];var counter=0;return React.Children.map(this.props.children,function(child){return{key:"t".concat(counter++),data:{element:child},style:{opacity:(0,_reactMotion.spring)(1,ANIMATION),y:(0,_reactMotion.spring)(70*counter,ANIMATION)}}})}},{key:"willEnter",value:function(){return{opacity:0,y:0}}},{key:"willLeave",value:function(){return{opacity:(0,_reactMotion.spring)(0,ANIMATION),y:(0,_reactMotion.spring)(0,ANIMATION)}}},{key:"render",value:function(){var _this=this;return React.createElement(_reactMotion.TransitionMotion,{styles:this.getStyles(),willLeave:this.willLeave,willEnter:this.willEnter},function(styles){return React.createElement(Target,_this.props,styles.map(function(_ref){var key=_ref.key,style=_ref.style,_ref=_ref.data,loaded=1===style.opacity||0===style.opacity,style={position:"absolute",opacity:style.opacity,transition:"none",transform:"translate3d(-50%, -50%, 0) translateY(-".concat(style.y,"px)")};return React.cloneElement(_ref.element,{key:key,loaded:loaded,style:style})}))})}}])&&_defineProperties(subClass.prototype,_React$Component),staticProps&&_defineProperties(subClass,staticProps),Object.defineProperty(subClass,"prototype",{writable:!1}),_class}(React.Component)},module.exports=exports.default},{"react-motion":19}],45:[function(require,module,exports){"use strict";function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _reactMotion=require("react-motion");function _extends(){return(_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var key,source=arguments[i];for(key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target}).apply(this,arguments)}function ownKeys(object,enumerableOnly){var symbols,keys=Object.keys(object);return Object.getOwnPropertySymbols&&(symbols=Object.getOwnPropertySymbols(object),enumerableOnly&&(symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable})),keys.push.apply(keys,symbols)),keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach(function(key){!function(obj,key,value){key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value}(target,key,source[key])}):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))})}return target}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(o,p)}function _createSuper(Derived){var hasNativeReflectConstruct=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var NewTarget,Super=_getPrototypeOf(Derived),Super=(NewTarget=hasNativeReflectConstruct?(NewTarget=_getPrototypeOf(this).constructor,Reflect.construct(Super,arguments,NewTarget)):Super.apply(this,arguments),this);if(NewTarget&&("object"===_typeof(NewTarget)||"function"==typeof NewTarget))return NewTarget;if(void 0!==NewTarget)throw new TypeError("Derived constructors may only return object or undefined");return function(self){if(void 0!==self)return self;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(Super)}}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}exports.default=function(Target){return function(_React$Component){var subClass=_class;if("function"!=typeof _React$Component&&null!==_React$Component)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(_React$Component&&_React$Component.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),Object.defineProperty(subClass,"prototype",{writable:!1}),_React$Component&&_setPrototypeOf(subClass,_React$Component);var staticProps,_super=_createSuper(_class);function _class(props){if(this instanceof _class)return(props=_super.call(this,props)).state={rotate:!1},props;throw new TypeError("Cannot call a class as a function")}return subClass=_class,(_React$Component=[{key:"componentWillReceiveProps",value:function(nextProps){this.setState({rotate:nextProps.open})}},{key:"render",value:function(){var _this2=this,style={rotate:this.state.rotate?-720:0};return React.createElement(_reactMotion.Motion,{style:style},function(_ref){_ref=_ref.rotate;return React.createElement(Target,_extends({},_this2.props,{rotated:-720===_ref,style:_objectSpread(_objectSpread({},_this2.props.style),{},{transform:"".concat(_this2.props.style.transform," rotate(").concat(_ref,"deg)")})}))})}}])&&_defineProperties(subClass.prototype,_React$Component),staticProps&&_defineProperties(subClass,staticProps),Object.defineProperty(subClass,"prototype",{writable:!1}),_class}(React.Component)},module.exports=exports.default},{"react-motion":19}],46:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),Object.defineProperty(exports,"Editor",{enumerable:!0,get:function(){return _App.default}});var _App=(exports=require("./App"))&&exports.__esModule?exports:{default:exports}},{"./App":32}],47:[function(require,module,exports){"use strict";function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _reactMotion=require("react-motion");function _extends(){return(_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var key,source=arguments[i];for(key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target}).apply(this,arguments)}function ownKeys(object,enumerableOnly){var symbols,keys=Object.keys(object);return Object.getOwnPropertySymbols&&(symbols=Object.getOwnPropertySymbols(object),enumerableOnly&&(symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable})),keys.push.apply(keys,symbols)),keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach(function(key){!function(obj,key,value){key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value}(target,key,source[key])}):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))})}return target}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(o,p)}function _createSuper(Derived){var hasNativeReflectConstruct=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var NewTarget,Super=_getPrototypeOf(Derived),Super=(NewTarget=hasNativeReflectConstruct?(NewTarget=_getPrototypeOf(this).constructor,Reflect.construct(Super,arguments,NewTarget)):Super.apply(this,arguments),this);if(NewTarget&&("object"===_typeof(NewTarget)||"function"==typeof NewTarget))return NewTarget;if(void 0!==NewTarget)throw new TypeError("Derived constructors may only return object or undefined");return function(self){if(void 0!==self)return self;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(Super)}}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}var ANIMATION={stiffness:150,damping:15,precision:1};exports.default=function(Target){return function(_React$Component){var subClass=_class;if("function"!=typeof _React$Component&&null!==_React$Component)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(_React$Component&&_React$Component.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),Object.defineProperty(subClass,"prototype",{writable:!1}),_React$Component&&_setPrototypeOf(subClass,_React$Component);var staticProps,_super=_createSuper(_class);function _class(){var instance=this,Constructor=_class;if(instance instanceof Constructor)return _super.apply(this,arguments);throw new TypeError("Cannot call a class as a function")}return subClass=_class,(_React$Component=[{key:"getStyle",value:function(){return{y:(0,_reactMotion.spring)(0,ANIMATION)}}},{key:"willEnter",value:function(){return{y:800}}},{key:"willLeave",value:function(){return{y:800}}},{key:"render",value:function(){var _this=this;return React.createElement(_reactMotion.TransitionMotion,{styles:this.getStyle(),willLeave:this.willLeave,willEnter:this.willEnter},function(_ref){_ref=_ref.y;return React.createElement(Target,_extends({},_this.props,{style:_objectSpread(_objectSpread({},_this.props.style),{},{transform:"".concat(transform," translateY(").concat(_ref,"px)")})}))})}}])&&_defineProperties(subClass.prototype,_React$Component),staticProps&&_defineProperties(subClass,staticProps),Object.defineProperty(subClass,"prototype",{writable:!1}),_class}(React.Component)},module.exports=exports.default},{"react-motion":19}],48:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _OpenNodesModel=_interopRequireDefault(require("./OpenNodesModel")),_MainFilesList=_interopRequireDefault(require("./views/MainFilesList")),_Breadcrumb=_interopRequireDefault(require("./views/Breadcrumb")),_FilePreview=_interopRequireDefault(require("./views/FilePreview")),_FSTemplate=_interopRequireDefault(require("./views/FSTemplate")),_EditionPanel=_interopRequireDefault(require("./views/EditionPanel")),_SearchForm=_interopRequireDefault(require("./search/components/SearchForm")),_UnifiedSearchForm=_interopRequireDefault(require("./search/components/UnifiedSearchForm")),_WorkspacesList=_interopRequireDefault(require("./wslist/WorkspacesList")),_WorkspacesListMaterial=_interopRequireDefault(require("./wslist/WorkspacesListMaterial")),_WorkspacePickerDialog=_interopRequireDefault(require("./wslist/WorkspacePickerDialog")),_LeftPanel=_interopRequireDefault(require("./leftnav/LeftPanel")),_UserWidget=_interopRequireDefault(require("./leftnav/UserWidget")),_TourGuide=_interopRequireDefault(require("./views/TourGuide")),_MasterLayout=_interopRequireDefault(require("./views/MasterLayout")),_InfoPanel=_interopRequireDefault(require("./detailpanes/InfoPanel")),_InfoPanelCard=_interopRequireDefault(require("./detailpanes/InfoPanelCard")),_RootNode=_interopRequireDefault(require("./detailpanes/RootNode")),_GenericInfoCard=_interopRequireDefault(require("./detailpanes/GenericInfoCard")),_FileInfoCard=_interopRequireDefault(require("./detailpanes/FileInfoCard")),require=require("./editor/components/editor");function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}_OpenNodesModel={OpenNodesModel:_OpenNodesModel.default,MainFilesList:_MainFilesList.default,EditionPanel:_EditionPanel.default,Breadcrumb:_Breadcrumb.default,SearchForm:_SearchForm.default,UnifiedSearchForm:_UnifiedSearchForm.default,FilePreview:_FilePreview.default,FSTemplate:_FSTemplate.default,WorkspacesList:_WorkspacesList.default,WorkspacesListMaterial:_WorkspacesListMaterial.default,WorkspacePickerDialog:_WorkspacePickerDialog.default,LeftPanel:_LeftPanel.default,UserWidget:_UserWidget.default,TourGuide:_TourGuide.default,MasterLayout:_MasterLayout.default,InfoPanel:_InfoPanel.default,InfoPanelCard:_InfoPanelCard.default,InfoRootNode:_RootNode.default,FileInfoCard:_FileInfoCard.default,GenericInfoCard:_GenericInfoCard.default,Editor:require.Editor};exports.default=_OpenNodesModel,module.exports=exports.default},{"./OpenNodesModel":26,"./detailpanes/FileInfoCard":27,"./detailpanes/GenericInfoCard":28,"./detailpanes/InfoPanel":29,"./detailpanes/InfoPanelCard":30,"./detailpanes/RootNode":31,"./editor/components/editor":37,"./leftnav/LeftPanel":50,"./leftnav/UserWidget":51,"./search/components/SearchForm":58,"./search/components/UnifiedSearchForm":60,"./views/Breadcrumb":62,"./views/EditionPanel":65,"./views/FSTemplate":66,"./views/FilePreview":67,"./views/MainFilesList":68,"./views/MasterLayout":69,"./views/TourGuide":71,"./wslist/WorkspacePickerDialog":76,"./wslist/WorkspacesList":77,"./wslist/WorkspacesListMaterial":78}],49:[function(require,module,exports){"use strict";function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _react=function(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule)return obj;if(null===obj||"object"!==_typeof(obj)&&"function"!=typeof obj)return{default:obj};nodeInterop=_getRequireWildcardCache(nodeInterop);if(nodeInterop&&nodeInterop.has(obj))return nodeInterop.get(obj);var key,newObj={},hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(key in obj){var desc;"default"!==key&&Object.prototype.hasOwnProperty.call(obj,key)&&((desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null)&&(desc.get||desc.set)?Object.defineProperty(newObj,key,desc):newObj[key]=obj[key])}newObj.default=obj,nodeInterop&&nodeInterop.set(obj,newObj);return newObj}(require("react")),_pydio=_interopRequireDefault(require("pydio")),_color=_interopRequireDefault(require("color")),_api=_interopRequireDefault(require("pydio/http/api")),_metaNodeProvider=_interopRequireDefault(require("pydio/model/meta-node-provider")),_FilePreview=_interopRequireDefault(require("../views/FilePreview")),_styles=require("material-ui/styles"),_materialUi=require("material-ui"),_cellsSdk=require("cells-sdk");function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _getRequireWildcardCache(nodeInterop){if("function"!=typeof WeakMap)return null;var cacheBabelInterop=new WeakMap,cacheNodeInterop=new WeakMap;return(_getRequireWildcardCache=function(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop})(nodeInterop)}function ownKeys(object,enumerableOnly){var symbols,keys=Object.keys(object);return Object.getOwnPropertySymbols&&(symbols=Object.getOwnPropertySymbols(object),enumerableOnly&&(symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable})),keys.push.apply(keys,symbols)),keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach(function(key){!function(obj,key,value){key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value}(target,key,source[key])}):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))})}return target}function _toConsumableArray(arr){return function(arr){if(Array.isArray(arr))return _arrayLikeToArray(arr)}(arr)||function(iter){if("undefined"!=typeof Symbol&&null!=iter[Symbol.iterator]||null!=iter["@@iterator"])return Array.from(iter)}(arr)||function(o,minLen){if(o){if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);return"Map"===(n="Object"===n&&o.constructor?o.constructor.name:n)||"Set"===n?Array.from(o):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(o,minLen):void 0}}(arr)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function _extends(){return(_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var key,source=arguments[i];for(key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target}).apply(this,arguments)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Object.defineProperty(Constructor,"prototype",{writable:!1})}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),Object.defineProperty(subClass,"prototype",{writable:!1}),superClass&&_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(o,p)}function _createSuper(Derived){var hasNativeReflectConstruct=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var NewTarget,Super=_getPrototypeOf(Derived),Super=(NewTarget=hasNativeReflectConstruct?(NewTarget=_getPrototypeOf(this).constructor,Reflect.construct(Super,arguments,NewTarget)):Super.apply(this,arguments),this);if(NewTarget&&("object"===_typeof(NewTarget)||"function"==typeof NewTarget))return NewTarget;if(void 0!==NewTarget)throw new TypeError("Derived constructors may only return object or undefined");return function(self){if(void 0!==self)return self;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(Super)}}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}var EmptyStateView=_pydio.default.requireLib("components").EmptyStateView,require=_pydio.default.requireLib("hoc"),PlaceHolder=require.PlaceHolder,PhTextRow=require.PhTextRow,PhRoundShape=require.PhRoundShape,BookmarkLine=function(){_inherits(BookmarkLine,_react["default"].Component);var _super=_createSuper(BookmarkLine);function BookmarkLine(props){return _classCallCheck(this,BookmarkLine),(props=_super.call(this,props)).state={},props}return _createClass(BookmarkLine,[{key:"render",value:function(){var firstClick,preview,primaryText,secondaryTexts,_this2=this,_this$props=this.props,pydio=_this$props.pydio,placeHolder=_this$props.placeHolder,nodes=_this$props.nodes,_onClick=_this$props.onClick,onRemove=_this$props.onRemove,_this$props=this.state.removing,previewStyles={style:{height:40,width:40,borderRadius:"50%"},mimeFontStyle:{fontSize:24,lineHeight:"40px",textAlign:"center"}},previewStyles=placeHolder?(firstClick=function(){},preview=_react.default.createElement(PhRoundShape,{style:{width:previewStyles.style.width,height:previewStyles.style.height}}),primaryText=_react.default.createElement(PhTextRow,{style:{width:"90%"}}),secondaryTexts=[_react.default.createElement(PhTextRow,{style:{width:"60%"}})],_react.default.createElement("div",null)):(firstClick=function(){return _onClick(nodes[0])},preview=_react.default.createElement(_FilePreview.default,_extends({pydio:pydio,node:nodes[0],loadThumbnail:!0},previewStyles)),primaryText=nodes[0].getLabel()||nodes[0].getMetadata().get("WsLabel"),secondaryTexts=[_react.default.createElement("span",null,pydio.MessageHash["bookmark.secondary.inside"]," ")],previewStyles=nodes.map(function(n,i){var link=_react.default.createElement("a",{className:"bmListEntryWs",onClick:function(e){e.stopPropagation(),_onClick(n)},style:{fontWeight:500}},n.getMetadata().get("WsLabel"));return i===nodes.length-1?link:_react.default.createElement("span",null,link,", ")}),secondaryTexts.push.apply(secondaryTexts,_toConsumableArray(previewStyles)),_react.default.createElement(_materialUi.IconButton,{disabled:_this$props,iconClassName:"mdi mdi-delete",iconStyle:{opacity:.33,fontSize:18},onClick:function(){_this2.setState({removing:!0}),onRemove(nodes[0])},tooltip:pydio.MessageHash["bookmark.button.tip.remove"],tooltipPosition:"bottom-left"})),_this$props=_react.default.createElement("div",{className:"bmListEntry",style:{display:"flex",alignItems:"center",width:"100%"}},_react.default.createElement("div",{style:{padding:"12px 16px",cursor:"pointer"},onClick:firstClick},preview),_react.default.createElement("div",{style:{flex:1,overflow:"hidden",cursor:"pointer"},onClick:firstClick},_react.default.createElement("div",{style:{fontSize:15,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}},primaryText),_react.default.createElement("div",{style:{opacity:.33}},secondaryTexts)),_react.default.createElement("div",null,previewStyles));return placeHolder?_react.default.createElement(PlaceHolder,{customPlaceholder:_this$props,showLoadingAnimation:!0}):_this$props}}]),BookmarkLine}(),_pydio=function(){_inherits(BookmarksList,_react["default"].Component);var _super2=_createSuper(BookmarksList);function BookmarksList(props){return _classCallCheck(this,BookmarksList),(props=_super2.call(this,props)).state={open:!1,loading:!1,bookmarks:null},props}return _createClass(BookmarksList,[{key:"load",value:function(){var _this4=this;return 0<arguments.length&&void 0!==arguments[0]&&arguments[0]||this.setState({loading:!0}),new _cellsSdk.UserMetaServiceApi(_api.default.getRestClient()).userBookmarks(new _cellsSdk.RestUserBookmarksRequest).then(function(collection){_this4.setState({bookmarks:collection.Nodes,loading:!1})}).catch(function(reason){_this4.setState({loading:!1})})}},{key:"handleTouchTap",value:function(event){event.preventDefault(),this.load(),this.setState({open:!0,anchorEl:event.currentTarget})}},{key:"handleRequestClose",value:function(){this.setState({open:!1})}},{key:"entryClicked",value:function(node){this.handleRequestClose(),this.props.pydio.goTo(node)}},{key:"removeBookmark",value:function(node){var _this5=this,node=node.getMetadata().get("uuid"),api=new _cellsSdk.UserMetaServiceApi(_api.default.getRestClient()),searchRequest=new _cellsSdk.IdmSearchUserMetaRequest,request=(searchRequest.NodeUuids=[node],searchRequest.Namespace="bookmark",new _cellsSdk.IdmUpdateUserMetaRequest);return api.searchUserMeta(searchRequest).then(function(res){res.Metadatas&&res.Metadatas.length&&(request.Operation=_cellsSdk.UpdateUserMetaRequestUserMetaOp.constructFromObject("DELETE"),request.MetaDatas=res.Metadatas,api.updateUserMeta(request).then(function(){_this5.load(!0)}))})}},{key:"bmToNodes",value:function(bm){return bm.AppearsIn.map(function(ws){var copy=_objectSpread({},bm),copy=(copy.Path=ws.WsSlug+"/"+ws.Path,_metaNodeProvider.default.parseTreeNode(copy,ws.WsSlug));return copy.getMetadata().set("repository_id",ws.WsUuid),copy.getMetadata().set("WsLabel",ws.WsLabel),copy})}},{key:"render",value:function(){var items,_this6=this,_this$props2=this.props,pydio=_this$props2.pydio,muiTheme=_this$props2.muiTheme,_this$props2=_this$props2.iconStyle,_this$state=this.state,loading=_this$state.loading,open=_this$state.open,anchorEl=_this$state.anchorEl,_this$state=_this$state.bookmarks;if(!pydio.user.activeRepository)return null;_this$state&&(items=_this$state.map(function(n){n=_this6.bmToNodes(n);return _react.default.createElement(BookmarkLine,{key:n[0].getPath(),pydio:pydio,nodes:n,onClick:_this6.entryClicked.bind(_this6),onRemove:_this6.removeBookmark.bind(_this6)})}));var c,_this$state={borderRadius:"50%"};return open&&_this$props2&&_this$props2.color&&(c=(0,_color.default)(_this$props2.color),_this$state=_objectSpread(_objectSpread({},_this$state),{},{backgroundColor:c.fade(.9).toString()})),_react.default.createElement("span",null,_react.default.createElement(_materialUi.IconButton,{onClick:this.handleTouchTap.bind(this),iconClassName:"userActionIcon mdi mdi-star",tooltip:pydio.MessageHash[147],tooltipPosition:"bottom-left",className:"userActionButton",iconStyle:_this$props2,style:_this$state}),_react.default.createElement(_materialUi.Popover,{open:open,anchorEl:anchorEl,anchorOrigin:{horizontal:"left",vertical:"top"},targetOrigin:{horizontal:"left",vertical:"top"},onRequestClose:this.handleRequestClose.bind(this),style:{width:320},zDepth:3},_react.default.createElement("div",{style:{display:"flex",alignItems:"center",borderRadius:"2px 2px 0 0",width:"100%",backgroundColor:"#f8fafc",borderBottom:"1px solid #ECEFF1",color:muiTheme.palette.primary1Color}},_react.default.createElement("span",{className:"mdi mdi-star",style:{fontSize:18,margin:"12px 8px 14px 16px"}}),_react.default.createElement("span",{style:{fontSize:15,fontWeight:500}},pydio.MessageHash[147])),loading&&_react.default.createElement(_react.Fragment,null,_react.default.createElement(BookmarkLine,{placeHolder:!0}),_react.default.createElement(BookmarkLine,{placeHolder:!0}),_react.default.createElement(BookmarkLine,{placeHolder:!0})),!loading&&items&&items.length&&_react.default.createElement("div",{style:{maxHeight:330,minHeight:195,overflowY:"auto",overflowX:"hidden",padding:0}},items),!loading&&(!items||!items.length)&&_react.default.createElement(EmptyStateView,{pydio:pydio,iconClassName:"mdi mdi-star-outline",primaryTextId:"145",secondaryTextId:"482",style:{minHeight:200,backgroundColor:"white"}}),_react.default.createElement("style",{type:"text/css",dangerouslySetInnerHTML:{__html:"\n.bmListEntry{\n    border-bottom: 1px solid rgba(0,0,0,0.025);\n    padding: 2px 0;\n}\n.bmListEntry:hover{\n    background-color:#FAFAFA;\n    border-bottom-color: #FAFAFA;\n}\n.bmListEntryWs:hover{\n    text-decoration:underline;\n}\n"}})))}}]),BookmarksList}();exports.default=_pydio,exports.default=(0,_styles.muiThemeable)()(_pydio),module.exports=exports.default},{"../views/FilePreview":67,"cells-sdk":"cells-sdk",color:"color","material-ui":"material-ui","material-ui/styles":"material-ui/styles",pydio:"pydio","pydio/http/api":"pydio/http/api","pydio/model/meta-node-provider":"pydio/model/meta-node-provider",react:"react"}],50:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _UserWidget=_interopRequireDefault(require("./UserWidget")),_WorkspacesList=_interopRequireDefault(require("../wslist/WorkspacesList")),_color=_interopRequireDefault(require("color"));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _extends(){return(_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var key,source=arguments[i];for(key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target}).apply(this,arguments)}function ownKeys(object,enumerableOnly){var symbols,keys=Object.keys(object);return Object.getOwnPropertySymbols&&(symbols=Object.getOwnPropertySymbols(object),enumerableOnly&&(symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable})),keys.push.apply(keys,symbols)),keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach(function(key){!function(obj,key,value){key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value}(target,key,source[key])}):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))})}return target}var React=require("react"),PropTypes=require("prop-types"),Pydio=require("pydio"),require=require("material-ui/styles").muiThemeable,TasksPanel=Pydio.requireLib("boot").TasksPanel,LeftPanel=function(_ref){var muiTheme=_ref.muiTheme,_ref$style=_ref.style,_ref$style=void 0===_ref$style?{}:_ref$style,userWidgetProps=_ref.userWidgetProps,_ref$workspacesListPr=_ref.workspacesListProps,_ref$workspacesListPr=void 0===_ref$workspacesListPr?{}:_ref$workspacesListPr,pydio=_ref.pydio,onClick=_ref.onClick,_ref=_ref.onMouseOver,muiTheme=muiTheme.palette,colorHue=(0,_color.default)(muiTheme.primary1Color).hsl().array()[0],lightBg=new _color.default({h:colorHue,s:35,l:98}),colorHue=new _color.default({h:colorHue,s:30,l:96}),_ref$style=_objectSpread({backgroundColor:lightBg.toString()},_ref$style),userWidgetProps=_objectSpread({},userWidgetProps),lightBg=(userWidgetProps.style=_objectSpread({backgroundColor:(0,_color.default)(muiTheme.primary1Color).darken(.2).toString(),width:"100%"},userWidgetProps.style),{backgroundColor:lightBg.toString(),color:(0,_color.default)(muiTheme.primary1Color).darken(.1).alpha(.87).toString(),borderRight:"1px solid #e0e0e0"}),muiTheme={color:(0,_color.default)(muiTheme.primary1Color).darken(.1).alpha(.5).toString()};return React.createElement("div",{className:"left-panel vertical_fit vertical_layout",style:_ref$style,onClick:onClick,onMouseOver:_ref},React.createElement(_UserWidget.default,_extends({pydio:pydio,controller:pydio.getController(),toolbars:["aUser","user","zlogin"]},userWidgetProps)),React.createElement(_WorkspacesList.default,_extends({className:"vertical_fit",style:lightBg,sectionTitleStyle:muiTheme,pydio:pydio,showTreeForWorkspace:!!pydio.user&&pydio.user.activeRepository},_ref$workspacesListPr)),React.createElement(TasksPanel,{pydio:pydio,mode:"flex",panelStyle:_objectSpread(_objectSpread({},lightBg),{},{backgroundColor:colorHue.toString()})}))};(exports.default=LeftPanel).propTypes={pydio:PropTypes.instanceOf(Pydio).isRequired,userWidgetProps:PropTypes.object,workspacesListProps:PropTypes.object,style:PropTypes.object},exports.default=require()(LeftPanel),module.exports=exports.default},{"../wslist/WorkspacesList":77,"./UserWidget":51,color:"color","material-ui/styles":"material-ui/styles","prop-types":"prop-types",pydio:"pydio",react:"react"}],51:[function(require,module,exports){"use strict";function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _propTypes=_interopRequireDefault(require("prop-types")),_pydio=_interopRequireDefault(require("pydio")),_BookmarksList=_interopRequireDefault(require("./BookmarksList"));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _extends(){return(_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var key,source=arguments[i];for(key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target}).apply(this,arguments)}function ownKeys(object,enumerableOnly){var symbols,keys=Object.keys(object);return Object.getOwnPropertySymbols&&(symbols=Object.getOwnPropertySymbols(object),enumerableOnly&&(symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable})),keys.push.apply(keys,symbols)),keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach(function(key){!function(obj,key,value){key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value}(target,key,source[key])}):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))})}return target}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(o,p)}function _createSuper(Derived){var hasNativeReflectConstruct=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var NewTarget,Super=_getPrototypeOf(Derived),Super=(NewTarget=hasNativeReflectConstruct?(NewTarget=_getPrototypeOf(this).constructor,Reflect.construct(Super,arguments,NewTarget)):Super.apply(this,arguments),this);if(NewTarget&&("object"===_typeof(NewTarget)||"function"==typeof NewTarget))return NewTarget;if(void 0!==NewTarget)throw new TypeError("Derived constructors may only return object or undefined");return function(self){if(void 0!==self)return self;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(Super)}}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}var React=require("react"),AsyncComponent=_pydio.default.requireLib("boot").AsyncComponent,_Pydio$requireLib2=_pydio.default.requireLib("components"),UserAvatar=_Pydio$requireLib2.UserAvatar,MenuItemsConsumer=_Pydio$requireLib2.MenuItemsConsumer,MenuUtils=_Pydio$requireLib2.MenuUtils,Toolbar=_Pydio$requireLib2.Toolbar,_Pydio$requireLib2=require("material-ui"),Paper=_Pydio$requireLib2.Paper,Popover=_Pydio$requireLib2.Popover,require=function(_React$Component){var subClass=UserWidget;if("function"!=typeof _React$Component&&null!==_React$Component)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(_React$Component&&_React$Component.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),Object.defineProperty(subClass,"prototype",{writable:!1}),_React$Component&&_setPrototypeOf(subClass,_React$Component);var protoProps,_super=_createSuper(UserWidget);function UserWidget(props){if(this instanceof UserWidget)return(props=_super.call(this,props)).state={showMenu:!1},props;throw new TypeError("Cannot call a class as a function")}return subClass=UserWidget,_React$Component=[{key:"getPropTypes",value:function(){return{pydio:_propTypes.default.instanceOf(_pydio.default),style:_propTypes.default.object,avatarStyle:_propTypes.default.object,actionBarStyle:_propTypes.default.object,avatarOnly:_propTypes.default.bool}}}],(protoProps=[{key:"showMenu",value:function(event){this.setState({showMenu:!0,anchor:event.currentTarget})}},{key:"closeMenu",value:function(event,index,menuItem){this.setState({showMenu:!1})}},{key:"applyAction",value:function(actionName){switch(actionName){case"home":this.props.pydio.triggerRepositoryChange("homepage");break;case"settings":this.props.pydio.triggerRepositoryChange("settings");break;case"about_pydio":this.props.pydio.getController().fireAction("splash")}}},{key:"render",value:function(){var notificationsButton,bookmarksButton,currentIsSettings,user,actionBar,_this2=this,_this$props=this.props,pydio=_this$props.pydio,displayLabel=_this$props.displayLabel,avatarStyle=_this$props.avatarStyle,popoverDirection=_this$props.popoverDirection,popoverTargetPosition=_this$props.popoverTargetPosition,color=_this$props.color,_this$props=_this$props.menuItems,_this$state=this.state,showMenu=_this$state.showMenu,_this$state=_this$state.anchor,pydio=(pydio.user&&(currentIsSettings="settings"===(user=this.props.pydio.user).activeRepository,avatarStyle=_objectSpread(_objectSpread({},avatarStyle),{},{position:"relative"}),user=React.createElement("div",{onClick:function(e){_this2.showMenu(e)},style:{cursor:"pointer",maxWidth:155}},React.createElement(UserAvatar,{pydio:pydio,userId:user.id,style:avatarStyle,className:"user-display",labelClassName:"userLabel",displayLabel:displayLabel,displayLabelChevron:!0,labelChevronStyle:{color:color},labelMaxChars:8,labelStyle:{flex:1,marginLeft:8,color:color},avatarSize:38}),React.createElement(Popover,{zDepth:2,open:showMenu,anchorEl:_this$state,anchorOrigin:{horizontal:popoverDirection||"right",vertical:popoverTargetPosition||"bottom"},targetOrigin:{horizontal:popoverDirection||"right",vertical:"top"},onRequestClose:function(){_this2.closeMenu()},useLayerForClickAway:!1,style:{marginTop:-10,marginLeft:10}},MenuUtils.itemsToMenu(_this$props,this.closeMenu.bind(this),!1,{display:"right",width:160,desktop:!0}))),this.props.hideNotifications||(notificationsButton=React.createElement(AsyncComponent,_extends({namespace:"PydioActivityStreams",componentName:"UserPanel",noLoader:!0,iconClassName:"userActionIcon mdi mdi-bell",iconStyle:{color:color}},this.props))),bookmarksButton=React.createElement(_BookmarksList.default,{pydio:this.props.pydio,iconStyle:{color:color}})),this.props.actionBarStyle||{});return currentIsSettings||(actionBar=React.createElement("div",{className:"action_bar",style:_objectSpread({display:"flex"},pydio)},React.createElement(Toolbar,_extends({},this.props,{toolbars:["user-widget"],renderingType:"icon",toolbarStyle:{display:"inline"},buttonStyle:{color:color,fontSize:18},tooltipPosition:"bottom-right",className:"user-widget-toolbar"})),notificationsButton,bookmarksButton)),this.props.children?React.createElement(Paper,{zDepth:1,rounded:!1,style:_objectSpread(_objectSpread({},this.props.style),{},{display:"flex"}),className:"user-widget primaryColorDarkerPaper"},React.createElement("div",{style:{flex:1}},user,actionBar),this.props.children):React.createElement(Paper,{zDepth:1,rounded:!1,style:this.props.style,className:"user-widget primaryColorDarkerPaper"},user,this.props.style&&"flex"===this.props.style.display&&React.createElement("span",{style:{flex:1}}),actionBar)}}])&&_defineProperties(subClass.prototype,protoProps),_React$Component&&_defineProperties(subClass,_React$Component),Object.defineProperty(subClass,"prototype",{writable:!1}),UserWidget}(React.Component);exports.default=require,exports.default=MenuItemsConsumer(require),module.exports=exports.default},{"./BookmarksList":49,"material-ui":"material-ui","prop-types":"prop-types",pydio:"pydio",react:"react"}],52:[function(require,module,exports){!function(global){!function(){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _react=function(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule)return obj;if(null===obj||"object"!==_typeof(obj)&&"function"!=typeof obj)return{default:obj};nodeInterop=_getRequireWildcardCache(nodeInterop);if(nodeInterop&&nodeInterop.has(obj))return nodeInterop.get(obj);var key,newObj={},hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(key in obj){var desc;"default"!==key&&Object.prototype.hasOwnProperty.call(obj,key)&&((desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null)&&(desc.get||desc.set)?Object.defineProperty(newObj,key,desc):newObj[key]=obj[key])}newObj.default=obj,nodeInterop&&nodeInterop.set(obj,newObj);return newObj}(require("react")),_xml=_interopRequireDefault(require("pydio/util/xml")),_materialUi=require("material-ui"),_propTypes=_interopRequireDefault(require("prop-types")),_pydio=_interopRequireDefault(require("pydio")),_DatePanel=_interopRequireDefault(require("./DatePanel")),_FileFormatPanel=_interopRequireDefault(require("./FileFormatPanel")),_FileSizePanel=_interopRequireDefault(require("./FileSizePanel")),_lodash=require("lodash"),_SearchScopeSelector=_interopRequireDefault(require("./SearchScopeSelector")),_excluded=["basenameOrContent","scope","searchID","searchLABEL"];function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _getRequireWildcardCache(nodeInterop){if("function"!=typeof WeakMap)return null;var cacheBabelInterop=new WeakMap,cacheNodeInterop=new WeakMap;return(_getRequireWildcardCache=function(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop})(nodeInterop)}function _extends(){return(_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var key,source=arguments[i];for(key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target}).apply(this,arguments)}function _objectWithoutProperties(source,excluded){if(null==source)return{};var key,target=function(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],0<=excluded.indexOf(key)||(target[key]=source[key]);return target}(source,excluded);if(Object.getOwnPropertySymbols)for(var sourceSymbolKeys=Object.getOwnPropertySymbols(source),i=0;i<sourceSymbolKeys.length;i++)key=sourceSymbolKeys[i],0<=excluded.indexOf(key)||Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key]);return target}function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Object.defineProperty(Constructor,"prototype",{writable:!1})}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),Object.defineProperty(subClass,"prototype",{writable:!1}),superClass&&_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(o,p)}function _createSuper(Derived){var hasNativeReflectConstruct=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var NewTarget,Super=_getPrototypeOf(Derived),Super=(NewTarget=hasNativeReflectConstruct?(NewTarget=_getPrototypeOf(this).constructor,Reflect.construct(Super,arguments,NewTarget)):Super.apply(this,arguments),this);if(NewTarget&&("object"===_typeof(NewTarget)||"function"==typeof NewTarget))return NewTarget;if(void 0!==NewTarget)throw new TypeError("Derived constructors may only return object or undefined");return function(self){if(void 0!==self)return self;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(Super)}}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function ownKeys(object,enumerableOnly){var symbols,keys=Object.keys(object);return Object.getOwnPropertySymbols&&(symbols=Object.getOwnPropertySymbols(object),enumerableOnly&&(symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable})),keys.push.apply(keys,symbols)),keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach(function(key){_defineProperty(target,key,source[key])}):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))})}return target}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function FieldRow(_ref){var active,name=_ref.name,label=_ref.label,values=_ref.values,children=_ref.children,style=_ref.style,onRemove=void 0===(_ref=_ref.onRemove)?function(){}:_ref,_ref={width:100,fontSize:13,fontWeight:500,color:"#616161",height:34,lineHeight:"35px",padding:"0 7px",borderRadius:4,marginTop:6,marginRight:8,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",display:"flex"},actualKey=name;return values[name]?(active=!0,"scope"===name&&(active="all"!==values[name])):values["ajxp_meta_"+name]&&(actualKey="ajxp_meta_"+name,active=!0),active&&(_ref=_objectSpread(_objectSpread({},_ref),{},{backgroundColor:"#e8f5e9",color:"#43a047"})),_react.default.createElement("div",{style:_objectSpread({display:"flex",alignItems:"flex-start",margin:"0 16px"},style)},_react.default.createElement("div",{style:_ref},active?_react.default.createElement("span",{className:"mdi mdi-close",onClick:function(){return onRemove(actualKey)},style:{cursor:"pointer"}}):"",_react.default.createElement("div",{style:{flex:1,textAlign:"right"}},label)),_react.default.createElement("div",{style:{flex:1}},children))}var PydioContextConsumer=_pydio.default.requireLib("boot").PydioContextConsumer,ModernTextField=_pydio.default.requireLib("hoc").ModernTextField,_pydio=PydioContextConsumer(function(){_inherits(AdvancedSearch,_react.Component);var _super=_createSuper(AdvancedSearch);function AdvancedSearch(props){_classCallCheck(this,AdvancedSearch);var _this=_super.call(this,props),registry=props.pydio.getXmlRegistry(),options={};try{options=JSON.parse(_xml.default.XPathGetSingleNodeText(registry,'client_configs/template_part[@ajxpClass="SearchEngine" and @theme="material"]/@ajxpOptions'))}catch(e){}return _this.state={options:options,basenameOrContent:props.values.basenameOrContent||""},_this}return _createClass(AdvancedSearch,[{key:"textFieldChange",value:function(fieldName,value){this.props.onChange(_defineProperty({},fieldName,value))}},{key:"onChange",value:function(values){this.props.onChange(values)}},{key:"renderField",value:function(key,val){var _this2=this,text=AdvancedSearch.styles.text,fieldname="basename"===key||"Content"===key||"basenameOrContent"===key?key:"ajxp_meta_"+key;if("object"===_typeof(val)){var value=this.props.values[fieldname],label=val.label,renderComponent=val.renderComponent;if(renderComponent)return renderComponent(_objectSpread(_objectSpread({},this.props),{},{label:label,value:value,fieldname:key,onChange:function(object){_this2.onChange(object)}}))}return _react.default.createElement(ModernTextField,{key:fieldname,value:this.props.values[fieldname]||"",style:text,hintText:val,fullWidth:!0,onChange:function(e,v){_this2.textFieldChange(fieldname,v)}})}},{key:"clearAll",value:function(){var _this$props=this.props,values=_this$props.values,_this$props=_this$props.onChange,clearVals={};Object.keys(values).forEach(function(k){clearVals[k]="basenameOrContent"===k?values[k]:"scope"===k?"all":void 0}),_this$props(clearVals)}},{key:"render",value:function(){var _this3=this,text=AdvancedSearch.styles.text,_this$props2=this.props,pydio=_this$props2.pydio,getMessage=_this$props2.getMessage,values=_this$props2.values,rootStyle=_this$props2.rootStyle,showScope=_this$props2.showScope,saveSearch=_this$props2.saveSearch,clearSavedSearch=_this$props2.clearSavedSearch,_this$props2=this.state,options=_this$props2.options,promptSearchLabel=_this$props2.promptSearchLabel,currentSearchLabel=_this$props2.currentSearchLabel,_this$props2={fontSize:13,color:"rgb(144 165 178)",textTransform:"uppercase",fontWeight:500,marginBottom:-10,marginTop:10},rowProps={values:values,onRemove:function(key){var newValues=_objectSpread({},values);newValues[key]="scope"===key?"all":void 0,_this3.onChange(newValues)}},basenameOrContent=values.basenameOrContent,scope=values.scope,searchID=values.searchID,others=(values.searchLABEL,_objectWithoutProperties(values,_excluded)),showClear="all"!==scope||others&&0<Object.keys(others).length,scope="all"!==scope||basenameOrContent||others&&0<Object.keys(others).length,basenameOrContent=!!searchID,others=options.indexContent,others=getMessage(void 0!==others&&others?"searchengine.field.basenameOrContent":1);return _react.default.createElement("div",{className:"search-advanced",style:_objectSpread({},rootStyle)},promptSearchLabel&&_react.default.createElement("div",{style:{display:"flex",alignItems:"center",padding:"4px 12px 2px",backgroundColor:"#f8fafc"}},_react.default.createElement(ModernTextField,{focusOnMount:!0,hintText:getMessage("searchengine.query.save-label"),value:currentSearchLabel||"",onChange:function(e,v){return _this3.setState({currentSearchLabel:v})}}),_react.default.createElement(_materialUi.FlatButton,{label:getMessage("searchengine.query.action.save"),onClick:function(){saveSearch(currentSearchLabel),_this3.setState({promptSearchLabel:!1,currentSearchLabel:""})},disabled:!currentSearchLabel}),_react.default.createElement(_materialUi.FlatButton,{label:getMessage("54"),onClick:function(){_this3.setState({currentSearchLabel:"",promptSearchLabel:!1})}})),!promptSearchLabel&&_react.default.createElement("div",{style:{display:"flex"}},_react.default.createElement(_materialUi.Subheader,{style:_objectSpread(_objectSpread({},_this$props2),{},{marginTop:0,flex:1})},getMessage(341)),(scope||showClear)&&_react.default.createElement("div",{style:{padding:"12px 20px 0",color:"#9e9e9e",textDecoration:"underline",cursor:"pointer"}},basenameOrContent&&_react.default.createElement("a",{onClick:function(){return clearSavedSearch(searchID)}},getMessage("searchengine.query.action.delete")),basenameOrContent&&scope&&" | ",scope&&_react.default.createElement("a",{onClick:function(){return searchID?saveSearch():_this3.setState({promptSearchLabel:!0})}},getMessage("searchengine.query.action.save")),scope&&showClear&&" | ",showClear&&_react.default.createElement("a",{onClick:function(){return _this3.clearAll()}},getMessage("searchengine.query.action.clear")))),_react.default.createElement(FieldRow,_extends({},rowProps,{name:"basenameOrContent",label:others}),this.renderField("basenameOrContent",others)),showScope&&_react.default.createElement(FieldRow,_extends({},rowProps,{name:"scope",label:getMessage("searchengine.scope.title"),style:{marginRight:16}}),_react.default.createElement(_SearchScopeSelector.default,{pydio:pydio,value:values.scope,onChange:function(scope){_this3.onChange(_objectSpread(_objectSpread({},values),{},{scope:scope}))}})),_react.default.createElement(FieldRow,_extends({},rowProps,{name:"ajxp_mime",label:"Format"}),_react.default.createElement(_FileFormatPanel.default,{compact:showScope,values:values,pydio:pydio,inputStyle:text,onChange:function(values){return _this3.onChange(values)}})),_react.default.createElement(_materialUi.Subheader,{style:_objectSpread(_objectSpread({},_this$props2),{},{marginTop:0})},getMessage(489)),_react.default.createElement(AdvancedMetaFields,_extends({},this.props,{options:options}),function(fields){return _react.default.createElement("div",null,Object.keys(fields).map(function(key){return _react.default.createElement(FieldRow,_extends({},rowProps,{name:key,label:"object"===_typeof(fields[key])?fields[key].label:fields[key]}),_this3.renderField(key,fields[key]))}))}),_react.default.createElement(_materialUi.Subheader,{style:_objectSpread({},_this$props2)},getMessage(498)),_react.default.createElement(FieldRow,_extends({},rowProps,{name:"ajxp_modiftime",label:getMessage(4)}),_react.default.createElement(_DatePanel.default,{values:values,pydio:pydio,inputStyle:text,onChange:function(values){return _this3.onChange(values)}})),_react.default.createElement(FieldRow,_extends({},rowProps,{name:"ajxp_bytesize",label:getMessage(2)}),_react.default.createElement(_FileSizePanel.default,{values:values,pydio:pydio,inputStyle:text,onChange:function(values){return _this3.onChange(values)}})))}}],[{key:"styles",get:function(){return{text:{}}}}]),AdvancedSearch}()),AdvancedMetaFields=function(){_inherits(AdvancedMetaFields,_react.Component);var _super2=_createSuper(AdvancedMetaFields);function AdvancedMetaFields(props){return _classCallCheck(this,AdvancedMetaFields),(props=_super2.call(this,props)).dbuild=(0,_lodash.debounce)(props.build,500),props.state={fields:{}},props}return _createClass(AdvancedMetaFields,[{key:"componentWillMount",value:function(){this.build()}},{key:"build",value:function(){var _this5=this,_options=_objectSpread({},this.props.options),metaColumns=_options.metaColumns,reactColumnsRenderers=_options.reactColumnsRenderers,metaColumns=metaColumns||{},reactColumnsRenderers=reactColumnsRenderers||{},specialRendererKeys=Object.keys(_objectSpread({},reactColumnsRenderers)),_options=Object.keys(_objectSpread({},metaColumns)).filter(function(key){return-1===specialRendererKeys.indexOf(key)}),textFields={},_options=(_options.forEach(function(k){textFields[k]=metaColumns[k]}),Object.keys(_objectSpread({},reactColumnsRenderers)).map(function(key){var renderer=reactColumnsRenderers[key],namespace=renderer.split(".",1).shift();if(window[namespace])return _defineProperty({},key,{label:metaColumns[key],renderComponent:FuncUtils.getFunctionByName(renderer,global)});ResourcesManager.detectModuleToLoadAndApply(renderer,function(){return _this5.dbuild()},!0)}).reduce(function(obj,current){return _objectSpread(_objectSpread({},obj),current)},[])),_options=_objectSpread(_objectSpread(_objectSpread({},{}),textFields),_options);this.setState({fields:_options})}},{key:"render",value:function(){return this.props.children(this.state.fields)}}]),AdvancedMetaFields}();AdvancedMetaFields.propTypes={children:_propTypes.default.func.isRequired},exports.default=_pydio,module.exports=exports.default}.call(this)}.call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./DatePanel":53,"./FileFormatPanel":55,"./FileSizePanel":56,"./SearchScopeSelector":59,lodash:3,"material-ui":"material-ui","prop-types":"prop-types",pydio:"pydio","pydio/util/xml":"pydio/util/xml",react:"react"}],53:[function(require,module,exports){"use strict";function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _react=_interopRequireDefault(require("react")),_pydio=_interopRequireDefault(require("pydio")),_materialUi=require("material-ui");function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _extends(){return(_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var key,source=arguments[i];for(key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target}).apply(this,arguments)}function ownKeys(object,enumerableOnly){var symbols,keys=Object.keys(object);return Object.getOwnPropertySymbols&&(symbols=Object.getOwnPropertySymbols(object),enumerableOnly&&(symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable})),keys.push.apply(keys,symbols)),keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach(function(key){!function(obj,key,value){key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value}(target,key,source[key])}):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))})}return target}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(o,p)}function _createSuper(Derived){var hasNativeReflectConstruct=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var NewTarget,Super=_getPrototypeOf(Derived),Super=(NewTarget=hasNativeReflectConstruct?(NewTarget=_getPrototypeOf(this).constructor,Reflect.construct(Super,arguments,NewTarget)):Super.apply(this,arguments),this);if(NewTarget&&("object"===_typeof(NewTarget)||"function"==typeof NewTarget))return NewTarget;if(void 0!==NewTarget)throw new TypeError("Derived constructors may only return object or undefined");return function(self){if(void 0!==self)return self;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(Super)}}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}var require=_pydio.default.requireLib("hoc"),ModernSelectField=require.ModernSelectField,ModernStyles=require.ModernStyles,require=_pydio.default.requireLib("boot").PydioContextConsumer,_pydio=function(_React$Component){var subClass=SearchDatePanel;if("function"!=typeof _React$Component&&null!==_React$Component)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(_React$Component&&_React$Component.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),Object.defineProperty(subClass,"prototype",{writable:!1}),_React$Component&&_setPrototypeOf(subClass,_React$Component);var protoProps,_super=_createSuper(SearchDatePanel);function SearchDatePanel(props){if(this instanceof SearchDatePanel)return(props=_super.call(this,props)).state={value:"",startDate:null,endDate:null},props;throw new TypeError("Cannot call a class as a function")}return subClass=SearchDatePanel,_React$Component=[{key:"styles",get:function(){return{datePickerGroup:{display:"flex",justifyContent:"space-between"},datePicker:{flex:1,position:"relative"},dateInput:{width:"auto",flex:1},dateClose:{position:"absolute",lineHeight:"50px",right:5,top:0,cursor:"pointer",color:"rgba(0,0,0,0.5)"}}}}],(protoProps=[{key:"componentDidUpdate",value:function(prevProps,prevState){var value,startDate,endDay,e,startDay,y;prevState!==this.state&&(value=(prevState=this.state).value,startDate=prevState.startDate,prevState=prevState.endDate,value||this.props.onChange({ajxp_modiftime:null}),startDay=function(date){return date.setHours(0),date.setMinutes(0),date.setSeconds(1),date},endDay=function(date){return date.setHours(23),date.setMinutes(59),date.setSeconds(59),date},"custom"===value?(startDate=startDate||new Date(0),prevState||(prevState=new Date).setFullYear(prevState.getFullYear()+1),this.props.onChange({ajxp_modiftime:{from:startDate,to:prevState}})):"PYDIO_SEARCH_RANGE_TODAY"===value?this.props.onChange({ajxp_modiftime:{from:startDay(new Date),to:endDay(new Date)}}):"PYDIO_SEARCH_RANGE_YESTERDAY"===value?((y=new Date).setDate(y.getDate()-1),(e=new Date).setDate(e.getDate()-1),this.props.onChange({ajxp_modiftime:{from:startDay(y),to:endDay(e)}})):"PYDIO_SEARCH_RANGE_LAST_WEEK"===value?((startDay=new Date).setDate(startDay.getDate()-7),y=new Date,this.props.onChange({ajxp_modiftime:{from:startDay,to:y}})):"PYDIO_SEARCH_RANGE_LAST_MONTH"===value?((endDay=new Date).setMonth(endDay.getMonth()-1),e=new Date,this.props.onChange({ajxp_modiftime:{from:endDay,to:e}}),this.props.onChange({ajxp_modiftime:{from:startDate,to:prevState}})):"PYDIO_SEARCH_RANGE_LAST_YEAR"===value&&((startDay=new Date).setFullYear(startDay.getFullYear()-1),y=new Date,this.props.onChange({ajxp_modiftime:{from:startDay,to:y}})))}},{key:"render",value:function(){var _this2=this,today=new Date,_SearchDatePanel$styl=SearchDatePanel.styles,datePickerGroup=_SearchDatePanel$styl.datePickerGroup,datePicker=_SearchDatePanel$styl.datePicker,_SearchDatePanel$styl=_SearchDatePanel$styl.dateClose,_this$props=this.props,inputStyle=_this$props.inputStyle,getMessage=_this$props.getMessage,_this$props=this.state,value=_this$props.value,startDate=_this$props.startDate,_this$props=_this$props.endDate;return _react.default.createElement("div",null,_react.default.createElement("div",null,_react.default.createElement(DatePickerFeed,{pydio:this.props.pydio},function(items){return _react.default.createElement(ModernSelectField,{hintText:getMessage(490),value:value,fullWidth:!0,onChange:function(e,index,value){return _this2.setState({value:value})}},items.map(function(item){return _react.default.createElement(_materialUi.MenuItem,{value:item.payload,label:item.text,primaryText:item.text})}))})),"custom"===value&&_react.default.createElement("div",{style:_objectSpread(_objectSpread({},datePickerGroup),inputStyle)},_react.default.createElement("div",{style:_objectSpread(_objectSpread({},datePicker),{},{marginRight:2})},_react.default.createElement(_materialUi.DatePicker,_extends({},ModernStyles.textField,{fullWidth:!0,value:startDate,onChange:function(e,date){return _this2.setState({startDate:date})},hintText:getMessage(491),autoOk:!0,maxDate:_this$props||today,defaultDate:startDate,container:"inline"})),_react.default.createElement("span",{className:"mdi mdi-close",style:_SearchDatePanel$styl,onClick:function(){return _this2.setState({startDate:null})}})),_react.default.createElement("div",{style:_objectSpread(_objectSpread({},datePicker),{},{marginLeft:2})},_react.default.createElement(_materialUi.DatePicker,_extends({},ModernStyles.textField,{fullWidth:!0,value:_this$props,onChange:function(e,date){return _this2.setState({endDate:date})},hintText:getMessage(492),autoOk:!0,minDate:startDate,maxDate:today,defaultDate:_this$props,container:"inline"})),_react.default.createElement("span",{className:"mdi mdi-close",style:_SearchDatePanel$styl,onClick:function(){return _this2.setState({endDate:null})}}))))}}])&&_defineProperties(subClass.prototype,protoProps),_React$Component&&_defineProperties(subClass,_React$Component),Object.defineProperty(subClass,"prototype",{writable:!1}),SearchDatePanel}(_react.default.Component),DatePickerFeed=function(_ref){_ref.pydio;var getMessage=_ref.getMessage;return(0,_ref.children)([{payload:"",text:""},{payload:"custom",text:getMessage("612")},{payload:"PYDIO_SEARCH_RANGE_TODAY",text:getMessage("493")},{payload:"PYDIO_SEARCH_RANGE_YESTERDAY",text:getMessage("494")},{payload:"PYDIO_SEARCH_RANGE_LAST_WEEK",text:getMessage("495")},{payload:"PYDIO_SEARCH_RANGE_LAST_MONTH",text:getMessage("496")},{payload:"PYDIO_SEARCH_RANGE_LAST_YEAR",text:getMessage("497")}])},_pydio=require(_pydio),DatePickerFeed=require(DatePickerFeed);exports.default=_pydio,module.exports=exports.default},{"material-ui":"material-ui",pydio:"pydio",react:"react"}],54:[function(require,module,exports){"use strict";function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _react=_interopRequireDefault(require("react")),_materialUi=(_interopRequireDefault(require("pydio")),require("material-ui"));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Object.defineProperty(Constructor,"prototype",{writable:!1})}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),Object.defineProperty(subClass,"prototype",{writable:!1}),superClass&&_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(o,p)}function _createSuper(Derived){var hasNativeReflectConstruct=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var NewTarget,Super=_getPrototypeOf(Derived),Super=(NewTarget=hasNativeReflectConstruct?(NewTarget=_getPrototypeOf(this).constructor,Reflect.construct(Super,arguments,NewTarget)):Super.apply(this,arguments),this);if(NewTarget&&("object"===_typeof(NewTarget)||"function"==typeof NewTarget))return NewTarget;if(void 0!==NewTarget)throw new TypeError("Derived constructors may only return object or undefined");return function(self){if(void 0!==self)return self;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(Super)}}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}var BoxFacet=function(){_inherits(BoxFacet,_react["default"].Component);var _super2=_createSuper(BoxFacet);function BoxFacet(){return _classCallCheck(this,BoxFacet),_super2.apply(this,arguments)}return _createClass(BoxFacet,[{key:"select",value:function(){var _this$props4=this.props;(0,_this$props4.onSelect)(_this$props4.facet,!0)}},{key:"clear",value:function(){var _this$props5=this.props;(0,_this$props5.onSelect)(_this$props5.facet,!1)}},{key:"render",value:function(){var requestSelect,requestDelete,id,key,_this2=this,_this$props6=this.props,facet=_this$props6.facet,selected=_this$props6.selected,_this$props6=_this$props6.m;return selected?requestDelete=function(){return _this2.clear()}:requestSelect=function(){return _this2.select()},_react.default.createElement(_materialUi.Checkbox,{label:(id=facet.Label,(_this$props6(key="facet.label."+id)===key?id:_this$props6(key))+" ("+facet.Count+") "),labelPosition:"right",style:{padding:"5px 0",marginLeft:-2},iconStyle:{opacity:.5,marginRight:10},labelStyle:{fontSize:14,fontWeight:500,color:"inherit"},checked:selected,onCheck:function(e,v){(v?requestSelect:requestDelete)()}})}}]),BoxFacet}();exports.default=function(){_inherits(Facets,_react["default"].Component);var _super3=_createSuper(Facets);function Facets(){return _classCallCheck(this,Facets),_super3.apply(this,arguments)}return _createClass(Facets,[{key:"isSelected",value:function(selected,facet){return 0<selected.filter(function(s){return s.FieldName===facet.FieldName&&s.Label===facet.Label}).length}},{key:"render",value:function(){function m(id){return pydio.MessageHash["user_home."+id]||id}var _this3=this,_this$props7=this.props,pydio=_this$props7.pydio,facets=_this$props7.facets,onToggleFacet=_this$props7.onToggleFacet,_this$props7$activeFa=_this$props7.activeFacets,activeFacets=void 0===_this$props7$activeFa?[]:_this$props7$activeFa,_this$props7$activeFa=_this$props7.zDepth,_this$props7$activeFa=void 0===_this$props7$activeFa?1:_this$props7$activeFa,_this$props7=_this$props7.styles,styles=void 0===_this$props7?{}:_this$props7,groups={},groupKeys={NodeType:"type",Extension:"extension",Size:"size",ModifTime:"modified",Basename:"found",Meta:"metadata"},hasContentSelected=0<activeFacets.filter(function(f){return"TextContent"===f.FieldName}).length,_this$props7=(facets.forEach(function(f){var fName=f.FieldName;"Basename"===(fName=0===fName.indexOf("Meta.")?"Meta":fName)&&hasContentSelected||(groups[fName="TextContent"===fName?"Basename":fName]||(groups[fName]=[]),groups[fName].push(f))}),!0);return Object.keys(groupKeys).filter(function(k){return groups[k]}).filter(function(k){return 0<groups[k].filter(function(f){return _this3.isSelected(activeFacets,f)}).length||1<groups[k].length}).length||(_this$props7=!1),_react.default.createElement(_materialUi.Paper,{zDepth:_this$props7$activeFa,style:styles.container},_this$props7&&_react.default.createElement("div",{style:styles.header},m("search.facets.title")),_this$props7&&Object.keys(groupKeys).filter(function(k){return groups[k]}).filter(function(k){return 0<groups[k].filter(function(f){return _this3.isSelected(activeFacets,f)}).length||1<groups[k].length}).map(function(k){return _react.default.createElement("div",null,_react.default.createElement("div",{style:styles.subHeader},m("search.facet."+groupKeys[k])),_react.default.createElement("div",{style:{zoom:1}},groups[k].sort(function(a,b){return a.Label.localeCompare(b.Label)}).map(function(f){return _react.default.createElement(BoxFacet,{m:m,facet:f,selected:_this3.isSelected(activeFacets,f),onSelect:onToggleFacet})})))}))}}]),Facets}(),module.exports=exports.default},{"material-ui":"material-ui",pydio:"pydio",react:"react"}],55:[function(require,module,exports){"use strict";function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _react=function(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule)return obj;if(null===obj||"object"!==_typeof(obj)&&"function"!=typeof obj)return{default:obj};nodeInterop=_getRequireWildcardCache(nodeInterop);if(nodeInterop&&nodeInterop.has(obj))return nodeInterop.get(obj);var key,newObj={},hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(key in obj){var desc;"default"!==key&&Object.prototype.hasOwnProperty.call(obj,key)&&((desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null)&&(desc.get||desc.set)?Object.defineProperty(newObj,key,desc):newObj[key]=obj[key])}newObj.default=obj,nodeInterop&&nodeInterop.set(obj,newObj);return newObj}(require("react")),obj=(obj=require("pydio"))&&obj.__esModule?obj:{default:obj},_materialUi=require("material-ui");function _getRequireWildcardCache(nodeInterop){if("function"!=typeof WeakMap)return null;var cacheBabelInterop=new WeakMap,cacheNodeInterop=new WeakMap;return(_getRequireWildcardCache=function(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop})(nodeInterop)}function ownKeys(object,enumerableOnly){var symbols,keys=Object.keys(object);return Object.getOwnPropertySymbols&&(symbols=Object.getOwnPropertySymbols(object),enumerableOnly&&(symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable})),keys.push.apply(keys,symbols)),keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach(function(key){!function(obj,key,value){key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value}(target,key,source[key])}):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))})}return target}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(o,p)}function _createSuper(Derived){var hasNativeReflectConstruct=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var NewTarget,Super=_getPrototypeOf(Derived),Super=(NewTarget=hasNativeReflectConstruct?(NewTarget=_getPrototypeOf(this).constructor,Reflect.construct(Super,arguments,NewTarget)):Super.apply(this,arguments),this);if(NewTarget&&("object"===_typeof(NewTarget)||"function"==typeof NewTarget))return NewTarget;if(void 0!==NewTarget)throw new TypeError("Derived constructors may only return object or undefined");return function(self){if(void 0!==self)return self;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(Super)}}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}var require=obj.default.requireLib("hoc"),ModernStyles=require.ModernStyles,ModernTextField=require.ModernTextField,require=(0,obj.default.requireLib("boot").PydioContextConsumer)(function(_Component){var subClass=SearchFileFormatPanel;if("function"!=typeof _Component&&null!==_Component)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(_Component&&_Component.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),Object.defineProperty(subClass,"prototype",{writable:!1}),_Component&&_setPrototypeOf(subClass,_Component);var staticProps,_super=_createSuper(SearchFileFormatPanel);function SearchFileFormatPanel(props){if(!(this instanceof SearchFileFormatPanel))throw new TypeError("Cannot call a class as a function");var values=(props=_super.call(this,props)).props.values;return props.state={folder:!(!values.ajxp_mime||"ajxp_folder"!==values.ajxp_mime)||void 0,ext:values.ajxp_mime&&"ajxp_folder"!==values.ajxp_mime?values.ajxp_mime:void 0},props}return subClass=SearchFileFormatPanel,(_Component=[{key:"componentWillReceiveProps",value:function(nextProps,nextContext){nextProps.values.ajxp_mime!==this.props.values.ajxp_mime&&(nextProps=nextProps.values,this.setState({folder:!(!nextProps.ajxp_mime||"ajxp_folder"!==nextProps.ajxp_mime)||void 0,ext:nextProps.ajxp_mime&&"ajxp_folder"!==nextProps.ajxp_mime?nextProps.ajxp_mime:void 0}))}},{key:"componentDidUpdate",value:function(prevProps,prevState){var folder;prevState!==this.state&&(folder=(prevState=this.state).folder,prevState=prevState.ext,this.props.onChange({ajxp_mime:folder?"ajxp_folder":prevState}))}},{key:"onToggle",value:function(e,v){v?this.setState({folder:v,ext:""}):this.setState({folder:v})}},{key:"render",value:function(){var _this2=this,_this$props=this.props,inputStyle=_this$props.inputStyle,getMessage=_this$props.getMessage,_this$props=_this$props.compact,_this$props=void 0!==_this$props&&_this$props,_this$state2=this.state,folder=_this$state2.folder,_this$state2=_this$state2.ext;return _react.default.createElement("div",{style:_this$props?{display:"flex"}:{}},_react.default.createElement("div",{style:_objectSpread(_objectSpread({},ModernStyles.div),{},{padding:6,paddingRight:6,flex:3,marginRight:4})},_react.default.createElement(_materialUi.Toggle,{fullWidth:!0,name:"toggleFolder",value:"ajxp_folder",label:getMessage(502),labelStyle:{fontSize:16,color:"rgba(0,0,0,.4)"},toggled:folder,onToggle:this.onToggle.bind(this)})),_react.default.createElement("div",{style:{flex:2,marginLeft:4}},_react.default.createElement(ModernTextField,{disabled:folder,style:_objectSpread(_objectSpread({},inputStyle),{},{opacity:folder?.5:1,marginLeft:_this$props?0:null,width:_this$props?"auto":null}),className:"mui-text-field",hintText:getMessage(500),value:_this$state2||"",onChange:function(e,v){return _this2.setState({ext:v})}})))}}])&&_defineProperties(subClass.prototype,_Component),staticProps&&_defineProperties(subClass,staticProps),Object.defineProperty(subClass,"prototype",{writable:!1}),SearchFileFormatPanel}(_react.Component));exports.default=require,module.exports=exports.default},{"material-ui":"material-ui",pydio:"pydio",react:"react"}],56:[function(require,module,exports){"use strict";function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _react=function(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule)return obj;if(null===obj||"object"!==_typeof(obj)&&"function"!=typeof obj)return{default:obj};nodeInterop=_getRequireWildcardCache(nodeInterop);if(nodeInterop&&nodeInterop.has(obj))return nodeInterop.get(obj);var key,newObj={},hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(key in obj){var desc;"default"!==key&&Object.prototype.hasOwnProperty.call(obj,key)&&((desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null)&&(desc.get||desc.set)?Object.defineProperty(newObj,key,desc):newObj[key]=obj[key])}newObj.default=obj,nodeInterop&&nodeInterop.set(obj,newObj);return newObj}(require("react")),_pydio=(obj=require("pydio"))&&obj.__esModule?obj:{default:obj},_materialUi=require("material-ui");function _getRequireWildcardCache(nodeInterop){if("function"!=typeof WeakMap)return null;var cacheBabelInterop=new WeakMap,cacheNodeInterop=new WeakMap;return(_getRequireWildcardCache=function(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop})(nodeInterop)}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(o,p)}function _createSuper(Derived){var hasNativeReflectConstruct=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var NewTarget,Super=_getPrototypeOf(Derived),Super=(NewTarget=hasNativeReflectConstruct?(NewTarget=_getPrototypeOf(this).constructor,Reflect.construct(Super,arguments,NewTarget)):Super.apply(this,arguments),this);if(NewTarget&&("object"===_typeof(NewTarget)||"function"==typeof NewTarget))return NewTarget;if(void 0!==NewTarget)throw new TypeError("Derived constructors may only return object or undefined");return function(self){if(void 0!==self)return self;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(Super)}}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}var obj=_pydio.default.requireLib("hoc"),ModernTextField=obj.ModernTextField,ModernSelectField=obj.ModernSelectField,require=(0,_pydio.default.requireLib("boot").PydioContextConsumer)(function(_React$Component){var subClass=SearchFileSizePanel;if("function"!=typeof _React$Component&&null!==_React$Component)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(_React$Component&&_React$Component.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),Object.defineProperty(subClass,"prototype",{writable:!1}),_React$Component&&_setPrototypeOf(subClass,_React$Component);var staticProps,_super=_createSuper(SearchFileSizePanel);function SearchFileSizePanel(props){if(this instanceof SearchFileSizePanel)return(props=_super.call(this,props)).state={from:!1,to:null,fromUnit:"k",toUnit:"k"},props;throw new TypeError("Cannot call a class as a function")}return subClass=SearchFileSizePanel,(_React$Component=[{key:"multiple",value:function(v,u){switch(u){case"k":return 1024*v;case"M":return 1024*v*1024;case"G":return 1024*v*1024*1024;case"T":return 1024*v*1024*1024*1024;default:return v}}},{key:"componentWillUpdate",value:function(nextProps,nextState){var from,to,fromUnit;nextState!==this.state&&(from=nextState.from,to=nextState.to,fromUnit=nextState.fromUnit,nextState=nextState.toUnit,this.props.onChange({ajxp_bytesize:from||to?{from:this.multiple(from,fromUnit),to:this.multiple(to,nextState)}:null}))}},{key:"render",value:function(){var _this2=this,sizeUnit=_pydio.default.getMessages().byte_unit_symbol||"B",getMessage=this.props.getMessage,blockStyle={display:"flex"};return _react.default.createElement(_react.Fragment,null,_react.default.createElement("div",{style:blockStyle},_react.default.createElement("div",{style:{flex:2,marginRight:4}},_react.default.createElement(ModernTextField,{type:"number",hintText:getMessage(613),fullWidth:!0,onChange:function(e,v){_this2.setState({from:v||0})}})),_react.default.createElement("div",{style:{marginLeft:4,flex:1}},_react.default.createElement(ModernSelectField,{value:this.state.fromUnit,onChange:function(e,i,v){_this2.setState({fromUnit:v})},fullWidth:!0},_react.default.createElement(_materialUi.MenuItem,{value:"",primaryText:sizeUnit}),_react.default.createElement(_materialUi.MenuItem,{value:"k",primaryText:"K"+sizeUnit}),_react.default.createElement(_materialUi.MenuItem,{value:"M",primaryText:"M"+sizeUnit}),_react.default.createElement(_materialUi.MenuItem,{value:"G",primaryText:"G"+sizeUnit}),_react.default.createElement(_materialUi.MenuItem,{value:"T",primaryText:"T"+sizeUnit})))),_react.default.createElement("div",{style:blockStyle},_react.default.createElement("div",{style:{flex:2,marginRight:4}},_react.default.createElement(ModernTextField,{fullWidth:!0,type:"number",hintText:getMessage(614),onChange:function(e,v){_this2.setState({to:v||109951162})}})),_react.default.createElement("div",{style:{marginLeft:4,flex:1}},_react.default.createElement(ModernSelectField,{fullWidth:!0,value:this.state.toUnit,onChange:function(e,i,v){_this2.setState({toUnit:v})}},_react.default.createElement(_materialUi.MenuItem,{value:"",primaryText:sizeUnit}),_react.default.createElement(_materialUi.MenuItem,{value:"k",primaryText:"K"+sizeUnit}),_react.default.createElement(_materialUi.MenuItem,{value:"M",primaryText:"M"+sizeUnit}),_react.default.createElement(_materialUi.MenuItem,{value:"G",primaryText:"G"+sizeUnit}),_react.default.createElement(_materialUi.MenuItem,{value:"T",primaryText:"T"+sizeUnit})))))}}])&&_defineProperties(subClass.prototype,_React$Component),staticProps&&_defineProperties(subClass,staticProps),Object.defineProperty(subClass,"prototype",{writable:!1}),SearchFileSizePanel}(_react.default.Component));exports.default=require,module.exports=exports.default},{"material-ui":"material-ui",pydio:"pydio",react:"react"}],57:[function(require,module,exports){"use strict";function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _propTypes=_interopRequireDefault(require("prop-types")),_react=function(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule)return obj;if(null===obj||"object"!==_typeof(obj)&&"function"!=typeof obj)return{default:obj};nodeInterop=_getRequireWildcardCache(nodeInterop);if(nodeInterop&&nodeInterop.has(obj))return nodeInterop.get(obj);var key,newObj={},hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(key in obj){var desc;"default"!==key&&Object.prototype.hasOwnProperty.call(obj,key)&&((desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null)&&(desc.get||desc.set)?Object.defineProperty(newObj,key,desc):newObj[key]=obj[key])}newObj.default=obj,nodeInterop&&nodeInterop.set(obj,newObj);return newObj}(require("react")),_materialUi=require("material-ui"),_SearchScopeSelector=_interopRequireDefault(require("./SearchScopeSelector")),_styles=require("material-ui/styles");function _getRequireWildcardCache(nodeInterop){if("function"!=typeof WeakMap)return null;var cacheBabelInterop=new WeakMap,cacheNodeInterop=new WeakMap;return(_getRequireWildcardCache=function(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop})(nodeInterop)}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function ownKeys(object,enumerableOnly){var symbols,keys=Object.keys(object);return Object.getOwnPropertySymbols&&(symbols=Object.getOwnPropertySymbols(object),enumerableOnly&&(symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable})),keys.push.apply(keys,symbols)),keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach(function(key){!function(obj,key,value){key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value}(target,key,source[key])}):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))})}return target}function _extends(){return(_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var key,source=arguments[i];for(key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target}).apply(this,arguments)}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(o,p)}function _createSuper(Derived){var hasNativeReflectConstruct=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var NewTarget,Super=_getPrototypeOf(Derived),Super=(NewTarget=hasNativeReflectConstruct?(NewTarget=_getPrototypeOf(this).constructor,Reflect.construct(Super,arguments,NewTarget)):Super.apply(this,arguments),this);if(NewTarget&&("object"===_typeof(NewTarget)||"function"==typeof NewTarget))return NewTarget;if(void 0!==NewTarget)throw new TypeError("Derived constructors may only return object or undefined");return function(self){if(void 0!==self)return self;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(Super)}}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}var require=require("pydio").requireLib("boot").PydioContextConsumer,MainSearch=function(_Component){var subClass=MainSearch;if("function"!=typeof _Component&&null!==_Component)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(_Component&&_Component.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),Object.defineProperty(subClass,"prototype",{writable:!1}),_Component&&_setPrototypeOf(subClass,_Component);var protoProps,_super=_createSuper(MainSearch);function MainSearch(props){var _this;if(this instanceof MainSearch)return(_this=_super.call(this,props)).state={mode:props.mode,value:props.value||""},_this;throw new TypeError("Cannot call a class as a function")}return subClass=MainSearch,_Component=[{key:"propTypes",get:function(){return{title:_propTypes.default.string,mode:_propTypes.default.string,onOpen:_propTypes.default.func,onAdvanced:_propTypes.default.func,onMore:_propTypes.default.func,onClose:_propTypes.default.func,hintText:_propTypes.default.string,loading:_propTypes.default.bool,scopeSelectorProps:_propTypes.default.object,showAdvanced:_propTypes.default.bool}}},{key:"styles",get:function(){return{main:{width:"100%",height:36,transition:"all .25s",display:"flex",backgroundColor:"transparent",border:"1px solid rgba(255,255,255,.1)",borderRadius:2},input:{padding:"0 4px",border:0,color:"rgba(255, 255, 255, 0.64)"},hint:{transition:"all .25s",width:"100%",padding:"0 4px",bottom:0,lineHeight:"36px",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",color:"rgba(255, 255, 255, 0.64)"},magnifier:{padding:"7px 0 0 8px",fontSize:18,color:"rgba(255, 255, 255, 0.64)"},underline:{display:"none"}}}}],(protoProps=[{key:"componentWillReceiveProps",value:function(nextProps){this.setState({mode:nextProps.mode}),nextProps.value&&!this.state.value&&this.setState({value:nextProps.value})}},{key:"componentDidUpdate",value:function(){"closed"!==this.state.mode&&this.input&&this.input.focus()}},{key:"onChange",value:function(value){var _this2=this;this.setState({value:value},function(){_this2.props.onChange({basenameOrContent:value})})}},{key:"render",value:function(){var _this3=this,_this$props=this.props,mode=(_this$props.title,_this$props.mode),onOpen=_this$props.onOpen,onAdvanced=_this$props.onAdvanced,onMore=_this$props.onMore,onClose=_this$props.onClose,hintText=_this$props.hintText,loading=_this$props.loading,scopeSelectorProps=_this$props.scopeSelectorProps,showAdvanced=_this$props.showAdvanced,_this$props=_this$props.getMessage,_MainSearch$styles=MainSearch.styles,main=_MainSearch$styles.main,input=_MainSearch$styles.input,hint=_MainSearch$styles.hint,_MainSearch$styles=_MainSearch$styles.magnifier,_this$props2=this.props,mainStyle=_this$props2.mainStyle,inputStyle=_this$props2.inputStyle,hintStyle=_this$props2.hintStyle,_this$props2=_this$props2.magnifierStyle;return _react.default.createElement("div",{className:"search-input"},_react.default.createElement("div",{className:"panel-header",style:{display:"flex"}},scopeSelectorProps&&_react.default.createElement("span",null,_react.default.createElement(_SearchScopeSelector.default,_extends({style:{marginTop:-16,marginLeft:-26},labelStyle:{color:"white"}},scopeSelectorProps))),_react.default.createElement("span",{style:{flex:1}}),showAdvanced&&_react.default.createElement(_materialUi.FlatButton,{style:{textTransform:"none",color:"white",fontSize:15,marginTop:-5,padding:"0 16px"},onClick:"advanced"===mode?onMore:onAdvanced},"advanced"===mode?"- "+_this$props(606):"+ "+_this$props(605)),"advanced"===mode&&loading&&_react.default.createElement("div",{style:{marginRight:10}},_react.default.createElement(_materialUi.CircularProgress,{size:20,thickness:2})),_react.default.createElement("span",{className:"panel-header-close mdi mdi-close",onClick:this.props.onClose})),"advanced"!==mode&&_react.default.createElement("div",{style:_objectSpread(_objectSpread({},main),mainStyle)},_react.default.createElement(_materialUi.FontIcon,{className:"mdi mdi-magnify",style:_objectSpread(_objectSpread({},_MainSearch$styles),_this$props2)}),_react.default.createElement(_materialUi.TextField,{ref:function(input){return _this3.input=input},style:{flex:1,height:main.height},inputStyle:_objectSpread(_objectSpread({},input),inputStyle),hintStyle:_objectSpread(_objectSpread({},hint),hintStyle),fullWidth:!0,underlineShow:!1,onFocus:onOpen,onBlur:"small"===mode?onClose:null,hintText:hintText,value:this.state.value||"",onChange:function(e,v){return _this3.onChange(v)},onKeyPress:function(e){return"Enter"===e.key?_this3.onChange(e.target.value):null}}),loading&&_react.default.createElement("div",{style:{marginTop:7,marginRight:9}},_react.default.createElement(_materialUi.CircularProgress,{size:20,thickness:2}))))}}])&&_defineProperties(subClass.prototype,protoProps),_Component&&_defineProperties(subClass,_Component),Object.defineProperty(subClass,"prototype",{writable:!1}),MainSearch}(_react.Component);exports.default=MainSearch,exports.default=require((0,_styles.muiThemeable)()(MainSearch)),module.exports=exports.default},{"./SearchScopeSelector":59,"material-ui":"material-ui","material-ui/styles":"material-ui/styles","prop-types":"prop-types",pydio:"pydio",react:"react"}],58:[function(require,module,exports){"use strict";function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _react=function(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule)return obj;if(null===obj||"object"!==_typeof(obj)&&"function"!=typeof obj)return{default:obj};nodeInterop=_getRequireWildcardCache(nodeInterop);if(nodeInterop&&nodeInterop.has(obj))return nodeInterop.get(obj);var key,newObj={},hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(key in obj){var desc;"default"!==key&&Object.prototype.hasOwnProperty.call(obj,key)&&((desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null)&&(desc.get||desc.set)?Object.defineProperty(newObj,key,desc):newObj[key]=obj[key])}newObj.default=obj,nodeInterop&&nodeInterop.set(obj,newObj);return newObj}(require("react")),_FilePreview=_interopRequireDefault(require("../../views/FilePreview")),_AdvancedSearch=_interopRequireDefault(require("./AdvancedSearch")),_pydio=_interopRequireDefault(require("pydio")),_node=_interopRequireDefault(require("pydio/model/node")),_emptyNodeProvider=_interopRequireDefault(require("pydio/model/empty-node-provider")),_lang=_interopRequireDefault(require("pydio/util/lang")),_searchApi=_interopRequireDefault(require("pydio/http/search-api")),_SearchScopeSelector=_interopRequireDefault(require("./SearchScopeSelector")),_MainSearch=_interopRequireDefault(require("./MainSearch")),_materialUi=require("material-ui"),_lodash=require("lodash"),_excluded=["basenameOrContent"];function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _getRequireWildcardCache(nodeInterop){if("function"!=typeof WeakMap)return null;var cacheBabelInterop=new WeakMap,cacheNodeInterop=new WeakMap;return(_getRequireWildcardCache=function(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop})(nodeInterop)}function _extends(){return(_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var key,source=arguments[i];for(key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target}).apply(this,arguments)}function ownKeys(object,enumerableOnly){var symbols,keys=Object.keys(object);return Object.getOwnPropertySymbols&&(symbols=Object.getOwnPropertySymbols(object),enumerableOnly&&(symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable})),keys.push.apply(keys,symbols)),keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach(function(key){!function(obj,key,value){key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value}(target,key,source[key])}):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))})}return target}function _objectWithoutProperties(source,excluded){if(null==source)return{};var key,target=function(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],0<=excluded.indexOf(key)||(target[key]=source[key]);return target}(source,excluded);if(Object.getOwnPropertySymbols)for(var sourceSymbolKeys=Object.getOwnPropertySymbols(source),i=0;i<sourceSymbolKeys.length;i++)key=sourceSymbolKeys[i],0<=excluded.indexOf(key)||Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key]);return target}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(o,p)}function _createSuper(Derived){var hasNativeReflectConstruct=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var NewTarget,Super=_getPrototypeOf(Derived),Super=(NewTarget=hasNativeReflectConstruct?(NewTarget=_getPrototypeOf(this).constructor,Reflect.construct(Super,arguments,NewTarget)):Super.apply(this,arguments),this);if(NewTarget&&("object"===_typeof(NewTarget)||"function"==typeof NewTarget))return NewTarget;if(void 0!==NewTarget)throw new TypeError("Derived constructors may only return object or undefined");return function(self){if(void 0!==self)return self;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(Super)}}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}var EmptyStateView=_pydio.default.requireLib("components").EmptyStateView,_pydio=(0,require("pydio").requireLib("boot").PydioContextConsumer)(function(_Component){var subClass=SearchForm;if("function"!=typeof _Component&&null!==_Component)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(_Component&&_Component.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),Object.defineProperty(subClass,"prototype",{writable:!1}),_Component&&_setPrototypeOf(subClass,_Component);var staticProps,_super=_createSuper(SearchForm);function SearchForm(props){if(!(this instanceof SearchForm))throw new TypeError("Cannot call a class as a function");function clearDataModel(){var basicDataModel=new PydioDataModel(!0),rNodeProvider=new _emptyNodeProvider.default,rNodeProvider=(basicDataModel.setAjxpNodeProvider(rNodeProvider),new _node.default("/",!1,"","",rNodeProvider));return basicDataModel.setRootNode(rNodeProvider),basicDataModel}var _this=_super.call(this,props),dataModel=_this.props.dataModel;return _this.state={values:props.advancedPanel&&props.values?props.values:{},display:props.advancedPanel?"advanced":"closed",dataModel:dataModel||clearDataModel(),empty:!0,loading:!1,searchScope:props.uniqueSearchScope||props.searchScope||"folder"},_this.setMode=(0,_lodash.debounce)(_this.setMode,250),_this.update=(0,_lodash.debounce)(_this.update,500),_this.submit=(0,_lodash.debounce)(_this.submit,500),_this.props.pydio.observe("repository_list_refreshed",function(){props.advancedPanel||_this.setState({values:{},display:"closed",dataModel:dataModel||clearDataModel(),empty:!0,loading:!1})}),props.advancedPanel&&props.values&&Object.keys(props.values).length&&_this.submit(),_this}return subClass=SearchForm,(_Component=[{key:"componentDidUpdate",value:function(prevProps,prevState){var _this2=this;this.refs.results&&this.refs.results.refs.list&&(this.refs.results.refs.list.updateInfiniteContainerHeight(),FuncUtils.bufferCallback("search_results_resize_list",550,function(){try{_this2.refs.results.refs.list.updateInfiniteContainerHeight()}catch(e){}}))}},{key:"setMode",value:function(mode){var _this$state$values;"small"===mode&&"closed"!==this.state.display||("small"===mode&&"closed"===this.state.display&&((_this$state$values=this.state.values).basenameOrContent,(_this$state$values=_objectWithoutProperties(_this$state$values,_excluded))&&Object.keys(_this$state$values).length&&(mode="advanced")),this.setState({display:mode}))}},{key:"update",value:function(newValues){var _this$props=this.props,onUpdateState=_this$props.onUpdateState,_this$props=_this$props.searchScope,values=_objectSpread(_objectSpread({},this.state.values),newValues);Object.keys(values).forEach(function(key){return!values[key]&&delete values[key]}),this.setState({values:values},this.submit),onUpdateState&&onUpdateState({searchScope:_this$props,values:values})}},{key:"changeSearchScope",value:function(scope){var _this3=this,onUpdateState=this.props.onUpdateState,_this$state=this.state,display=_this$state.display,_this$state=_this$state.values;"small"===display&&setTimeout(function(){return _this3.setMode("small")},250),this.setState({searchScope:scope},this.submit),onUpdateState&&onUpdateState({searchScope:scope,values:_this$state})}},{key:"submit",value:function(){var _this4=this,_this$state2=this.state,display=_this$state2.display,values=_this$state2.values,searchScope=_this$state2.searchScope,_this$state2=_this$state2.dataModel,crossWorkspace=this.props.crossWorkspace,display=crossWorkspace||"all"===searchScope?6:"small"===display?9:100,rootNode=_this$state2.getRootNode(),_this$state2=(rootNode.setChildren([]),rootNode.setLoaded(!1),Object.keys(values));0===_this$state2.length||1===_this$state2.length&&"basenameOrContent"===_this$state2[0]&&!values.basenameOrContent?this.setState({loading:!1,empty:!0}):(this.setState({loading:!0,empty:!1}),rootNode.setLoading(!0),rootNode.notify("loading"),new _searchApi.default(this.props.pydio).search(values,crossWorkspace?"all":searchScope,display).then(function(response){rootNode.setChildren(response.Results),rootNode.setLoading(!1),rootNode.setLoaded(!0),rootNode.notify("loaded"),_this4.setState({loading:!1})}).catch(function(){rootNode.setLoading(!1),rootNode.notify("loaded"),_this4.setState({loading:!1})}))}},{key:"render",value:function(){function nodeClicked(node){pydio.goTo(node),advancedPanel?(node=node.getMetadata().get("repository_id"))&&node!==pydio.user.activeRepository&&onCloseAdvanced():_this5.setMode("closed")}var _this5=this,_this$props2=this.props,crossWorkspace=_this$props2.crossWorkspace,pydio=_this$props2.pydio,getMessage=_this$props2.getMessage,advancedPanel=_this$props2.advancedPanel,onOpenAdvanced=_this$props2.onOpenAdvanced,onCloseAdvanced=_this$props2.onCloseAdvanced,id=_this$props2.id,_this$props2=_this$props2.xtraSmallScreen,_this$state3=this.state,searchScope=_this$state3.searchScope,display=_this$state3.display,loading=_this$state3.loading,dataModel=_this$state3.dataModel,empty=_this$state3.empty,_this$state3=_this$state3.values,renderSecondLine=null,renderIcon=null,elementHeight=49,renderIcon="small"!==display&&"closed"!==display?(elementHeight=PydioComponents.SimpleList.HEIGHT_TWO_LINES+10,renderSecondLine=function(node){var crtFolder,node=node.getPath();return"folder"===searchScope&&(crtFolder=pydio.getContextHolder().getContextNode().getPath(),0===node.indexOf(crtFolder)&&(node="./"+_lang.default.trimLeft(node.substr(crtFolder.length),"/"))),_react.default.createElement("div",null,node)},function(node){return _react.default.createElement(_FilePreview.default,{loadThumbnail:!(1<arguments.length&&void 0!==arguments[1]?arguments[1]:{}).parentIsScrolling,node:node})}):function(node){return _react.default.createElement(_FilePreview.default,{loadThumbnail:!1,richPreview:!1,node:node,style:{width:30,height:30,borderRadius:"50%",margin:"9px 6px"},mimeFontStyle:{fontSize:16,display:"block",padding:"4px 7px"}})},style=_objectSpread(_objectSpread({},this.props.style),{},{backgroundColor:"transparent"}),searchResultsStyle="closed"===display||advancedPanel?{}:{backgroundColor:"white",position:"absolute",right:0,display:"block",width:256},searchResultsStyle=(_this$props2&&(searchResultsStyle.width="100%",searchResultsStyle.flex=2),_react.default.createElement(_materialUi.Paper,{className:"search-results",zDepth:advancedPanel?0:2,style:searchResultsStyle,rounded:!advancedPanel},empty&&_react.default.createElement(EmptyStateView,{iconClassName:"",primaryTextId:611,style:{minHeight:180,backgroundColor:"transparent",padding:"0 20px"}}),_react.default.createElement(PydioComponents.NodeListCustomProvider,{ref:"results",className:"small"!==display?"files-list":null,elementHeight:elementHeight,entryRenderIcon:renderIcon,entryRenderActions:function(){return null},entryRenderSecondLine:renderSecondLine,presetDataModel:dataModel,heightAutoWithMax:advancedPanel?0:500,openCollection:nodeClicked,nodeClicked:nodeClicked,defaultGroupBy:crossWorkspace||"all"===searchScope?"repository_id":null,groupByLabel:crossWorkspace||"all"===searchScope?"repository_display":null,emptyStateProps:{iconClassName:"",primaryTextId:loading?"searchengine.searching":478,style:{minHeight:"small"===display?180:advancedPanel?240:412,backgroundColor:"transparent",padding:"0 20px"},secondaryTextId:"ws"===searchScope?620:"folder"===searchScope?619:null,actionLabelId:"ws"===searchScope?610:"folder"===searchScope?609:null,actionCallback:"all"!==searchScope?function(){_this5.changeSearchScope("ws"===searchScope?"all":"ws")}:null,actionStyle:{marginTop:10}}}),"small"===display&&_react.default.createElement("div",{style:{display:"flex",alignItems:"center",padding:4,paddingTop:0,backgroundColor:"#eeeeee",width:"100%"}},!crossWorkspace&&!this.props.uniqueSearchScope&&_react.default.createElement(_SearchScopeSelector.default,{style:{flex:1},labelStyle:{paddingLeft:8},value:searchScope,onChange:function(scope){_this5.changeSearchScope(scope)},onClick:function(){return _this5.setMode("small")}}),_react.default.createElement(_materialUi.FlatButton,{style:{marginTop:4,minWidth:0},labelStyle:{padding:"0 8px"},primary:!0,label:getMessage(456),onClick:function(){onOpenAdvanced()}}))));return advancedPanel?_react.default.createElement(_materialUi.Paper,{ref:"root",zDepth:0,className:"top_search_form "+display,style:style,id:id},_react.default.createElement("div",{style:{display:"flex",alignItems:"center",padding:"0 8px 8px",height:44,width:"100%",backgroundColor:"#eee",borderBottom:"1px solid #e0e0e0"}},!crossWorkspace&&!this.props.uniqueSearchScope&&_react.default.createElement("div",{style:{flex:1,height:48}},_react.default.createElement(_SearchScopeSelector.default,{labelStyle:{paddingLeft:8},value:searchScope,onChange:function(scope){_this5.changeSearchScope(scope)}})),_react.default.createElement(_materialUi.IconButton,{iconClassName:"mdi mdi-close",style:{minWidth:0,marginTop:4},tooltip:getMessage(86),onClick:function(){onCloseAdvanced()}})),_react.default.createElement("div",{style:{flex:1,display:"flex",flexDirection:_this$props2?"column":"row",overflow:"hidden"}},_react.default.createElement(_AdvancedSearch.default,_extends({},this.props,{values:_this$state3,onChange:function(values){return _this5.update(values)},onSubmit:function(){return _this5.submit()},rootStyle:_this$props2?{flex:1,width:"100%",borderRight:0}:{}})),searchResultsStyle)):(empty=this.props.formStyles,_react.default.createElement(_materialUi.Paper,{ref:"root",zDepth:0,className:"top_search_form "+display,style:style,id:id},_react.default.createElement(_MainSearch.default,_extends({mode:display,value:_this$state3.basenameOrContent,onOpen:function(){return _this5.setMode("small")},onClose:function(){return _this5.setMode("closed")},showAdvanced:!crossWorkspace,onAdvanced:onOpenAdvanced,onChange:function(values){return _this5.update(values)},onSubmit:function(){return _this5.submit()},hintText:getMessage(crossWorkspace||"all"===searchScope?607:87)+"...",loading:loading,scopeSelectorProps:crossWorkspace||this.props.uniqueSearchScope?null:{value:searchScope,onChange:this.changeSearchScope.bind(this)}},empty)),searchResultsStyle))}}])&&_defineProperties(subClass.prototype,_Component),staticProps&&_defineProperties(subClass,staticProps),Object.defineProperty(subClass,"prototype",{writable:!1}),SearchForm}(_react.Component));exports.default=_pydio,module.exports=exports.default},{"../../views/FilePreview":67,"./AdvancedSearch":52,"./MainSearch":57,"./SearchScopeSelector":59,lodash:3,"material-ui":"material-ui",pydio:"pydio","pydio/http/search-api":"pydio/http/search-api","pydio/model/empty-node-provider":"pydio/model/empty-node-provider","pydio/model/node":"pydio/model/node","pydio/util/lang":"pydio/util/lang",react:"react"}],59:[function(require,module,exports){"use strict";function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _propTypes=_interopRequireDefault(require("prop-types")),_react=function(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule)return obj;if(null===obj||"object"!==_typeof(obj)&&"function"!=typeof obj)return{default:obj};nodeInterop=_getRequireWildcardCache(nodeInterop);if(nodeInterop&&nodeInterop.has(obj))return nodeInterop.get(obj);var key,newObj={},hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(key in obj){var desc;"default"!==key&&Object.prototype.hasOwnProperty.call(obj,key)&&((desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null)&&(desc.get||desc.set)?Object.defineProperty(newObj,key,desc):newObj[key]=obj[key])}newObj.default=obj,nodeInterop&&nodeInterop.set(obj,newObj);return newObj}(require("react")),_pydio=_interopRequireDefault(require("pydio")),_materialUi=require("material-ui");function _getRequireWildcardCache(nodeInterop){if("function"!=typeof WeakMap)return null;var cacheBabelInterop=new WeakMap,cacheNodeInterop=new WeakMap;return(_getRequireWildcardCache=function(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop})(nodeInterop)}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(o,p)}function _createSuper(Derived){var hasNativeReflectConstruct=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var NewTarget,Super=_getPrototypeOf(Derived),Super=(NewTarget=hasNativeReflectConstruct?(NewTarget=_getPrototypeOf(this).constructor,Reflect.construct(Super,arguments,NewTarget)):Super.apply(this,arguments),this);if(NewTarget&&("object"===_typeof(NewTarget)||"function"==typeof NewTarget))return NewTarget;if(void 0!==NewTarget)throw new TypeError("Derived constructors may only return object or undefined");return function(self){if(void 0!==self)return self;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(Super)}}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}var ModernSelectField=_pydio.default.requireLib("hoc").ModernSelectField,require=_pydio.default.requireLib("boot").PydioContextConsumer,_pydio=function(_Component){var subClass=SearchScopeSelector;if("function"!=typeof _Component&&null!==_Component)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(_Component&&_Component.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),Object.defineProperty(subClass,"prototype",{writable:!1}),_Component&&_setPrototypeOf(subClass,_Component);var protoProps,_super=_createSuper(SearchScopeSelector);function SearchScopeSelector(){var instance=this,Constructor=SearchScopeSelector;if(instance instanceof Constructor)return _super.apply(this,arguments);throw new TypeError("Cannot call a class as a function")}return subClass=SearchScopeSelector,_Component=[{key:"propTypes",get:function(){return{value:_propTypes.default.string,onChange:_propTypes.default.func.isRequired,onClick:_propTypes.default.func.isRequired,style:_propTypes.default.object,labelStyle:_propTypes.default.object}}}],(protoProps=[{key:"render",value:function(){var _this=this,_this$props=this.props,getMessage=_this$props.getMessage,_this$props=_this$props.pydio.user,items=[_react.default.createElement(_materialUi.MenuItem,{value:"all",primaryText:getMessage(610)})];return _this$props&&_this$props.getRepositoriesList().forEach(function(ws){"home"!==ws.getId()&&"settings"!==ws.getId()&&items.push(_react.default.createElement(_materialUi.MenuItem,{value:ws.getSlug()+"/",primaryText:ws.getLabel()}))}),_react.default.createElement(ModernSelectField,{value:this.props.value,onChange:function(e,i,v){_this.props.onChange(v)},fullWidth:!0},items)}}])&&_defineProperties(subClass.prototype,protoProps),_Component&&_defineProperties(subClass,_Component),Object.defineProperty(subClass,"prototype",{writable:!1}),SearchScopeSelector}(_react.Component);exports.default=_pydio,exports.default=require(_pydio),module.exports=exports.default},{"material-ui":"material-ui","prop-types":"prop-types",pydio:"pydio",react:"react"}],60:[function(require,module,exports){"use strict";function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _react=_interopRequireDefault(require("react")),_dom=(_interopRequireDefault(require("pydio")),_interopRequireDefault(require("pydio/util/dom"))),_materialUi=require("material-ui"),_AdvancedSearch=_interopRequireDefault(require("./AdvancedSearch"));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _toConsumableArray(arr){return function(arr){if(Array.isArray(arr))return _arrayLikeToArray(arr)}(arr)||function(iter){if("undefined"!=typeof Symbol&&null!=iter[Symbol.iterator]||null!=iter["@@iterator"])return Array.from(iter)}(arr)||function(o,minLen){if(o){if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);return"Map"===(n="Object"===n&&o.constructor?o.constructor.name:n)||"Set"===n?Array.from(o):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(o,minLen):void 0}}(arr)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function ownKeys(object,enumerableOnly){var symbols,keys=Object.keys(object);return Object.getOwnPropertySymbols&&(symbols=Object.getOwnPropertySymbols(object),enumerableOnly&&(symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable})),keys.push.apply(keys,symbols)),keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach(function(key){!function(obj,key,value){key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value}(target,key,source[key])}):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))})}return target}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(o,p)}function _createSuper(Derived){var hasNativeReflectConstruct=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var NewTarget,Super=_getPrototypeOf(Derived),Super=(NewTarget=hasNativeReflectConstruct?(NewTarget=_getPrototypeOf(this).constructor,Reflect.construct(Super,arguments,NewTarget)):Super.apply(this,arguments),this);if(NewTarget&&("object"===_typeof(NewTarget)||"function"==typeof NewTarget))return NewTarget;if(void 0!==NewTarget)throw new TypeError("Derived constructors may only return object or undefined");return function(self){if(void 0!==self)return self;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(Super)}}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}var styles={container:{display:"flex",position:"relative",width:120,height:36,alignItems:"center",borderRadius:2,border:"1px solid #eee",marginRight:8,paddingLeft:8},textField:{inputStyle:{backgroundColor:"transparent",height:34,borderRadius:3,marginTop:6,padding:7},hintStyle:{paddingLeft:7,color:"rgba(0,0,0,0.5)",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",width:"100%"},underlineShow:!1},filterButton:{transition:_dom.default.getBeziersTransition(),position:"absolute",top:7,right:8,borderRadius:15,padding:"1px 6px 0px 6px",cursor:"pointer",fontSize:15,fontWeight:500},closeButton:{cursor:"pointer",fontSize:18}},require=function(_React$Component){var subClass=UnifiedSearchForm;if("function"!=typeof _React$Component&&null!==_React$Component)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(_React$Component&&_React$Component.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),Object.defineProperty(subClass,"prototype",{writable:!1}),_React$Component&&_setPrototypeOf(subClass,_React$Component);var staticProps,_super=_createSuper(UnifiedSearchForm);function UnifiedSearchForm(props){if(this instanceof UnifiedSearchForm)return(props=_super.call(this,props)).containerRef=_react.default.createRef(),props;throw new TypeError("Cannot call a class as a function")}return subClass=UnifiedSearchForm,(_React$Component=[{key:"updateText",value:function(value){var savedId,_this$props=this.props,onRequestOpen=_this$props.onRequestOpen,values=(_this$props.onRequestClose,_this$props.values),setValues=_this$props.setValues,_this$props=_this$props.savedSearches;if(0===value.indexOf("#saved#"))return savedId=value.replace("#saved#",""),void setValues(_this$props.filter(function(s){return s.searchID===savedId})[0]);setValues(_objectSpread(_objectSpread({},values),{},{basenameOrContent:value})),value&&onRequestOpen()}},{key:"togglePopover",value:function(e){var popoverOpen=(this.state||{}).popoverOpen,onRequestOpen=this.props.onRequestOpen;popoverOpen?this.setState({popoverOpen:!1}):(onRequestOpen(),this.setState({popoverOpen:!0,anchorElement:this.containerRef.current}))}},{key:"focus",value:function(){var _this$props2=this.props,active=_this$props2.active,onRequestOpen=_this$props2.onRequestOpen,values=_this$props2.values,_this$props2=_this$props2.setValues;active||_this$props2(values),onRequestOpen()}},{key:"render",value:function(){var _this2=this,_this$props3=this.props,onRequestClose=_this$props3.onRequestClose,values=_this$props3.values,setValues=_this$props3.setValues,style=_this$props3.style,active=_this$props3.active,formStyles=_this$props3.formStyles,_this$props3$history=_this$props3.history,_this$props3$history=void 0===_this$props3$history?[]:_this$props3$history,_this$props3$savedSea=_this$props3.savedSearches,_this$props3$savedSea=void 0===_this$props3$savedSea?[]:_this$props3$savedSea,clearSavedSearch=_this$props3.clearSavedSearch,saveSearch=_this$props3.saveSearch,_this$props3=_this$props3.pydio,_values$basenameOrCon=values.basenameOrContent,_values$basenameOrCon=void 0===_values$basenameOrCon?"":_values$basenameOrCon,_ref2=this.state||{},popoverOpen=_ref2.popoverOpen,anchorElement=_ref2.anchorElement,_ref2=_ref2.searchFocus,filtersCount=Object.keys(values).filter(function(key){return"basenameOrContent"!==key&&"searchLABEL"!==key&&"searchID"!==key}).filter(function(key){return values[key]}).filter(function(key){return!("scope"===key&&"all"===values[key])}).length,wStyle={},_formStyles$filterBut=(active&&(wStyle={width:420}),formStyles.filterButton),_formStyles$filterBut2=formStyles.filterButtonActive,_formStyles$filterBut=0<filtersCount?_objectSpread({backgroundColor:(void 0===_formStyles$filterBut?{}:_formStyles$filterBut).color,color:"white",fontSize:13},void 0===_formStyles$filterBut2?{}:_formStyles$filterBut2):{},_formStyles$filterBut2=[].concat(_toConsumableArray(_this$props3$savedSea.map(function(k){return{text:"#saved#"+k.searchID,value:_react.default.createElement(_materialUi.MenuItem,{primaryText:_react.default.createElement("span",null,_react.default.createElement("span",{style:{opacity:.6,marginRight:5},className:"mdi mdi-content-save"})," ",k.searchLABEL)})}})),_toConsumableArray(_this$props3$history.map(function(k){return{text:k,value:k}})));return _react.default.createElement("div",{style:_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread({},styles.container),formStyles.mainStyle),style),wStyle),{},{transition:_dom.default.getBeziersTransition()}),ref:this.containerRef},_react.default.createElement(_materialUi.Popover,{open:popoverOpen,anchorEl:anchorElement,anchorOrigin:{horizontal:"right",vertical:"bottom"},targetOrigin:{horizontal:"right",vertical:"top"},onRequestClose:function(){_this2.togglePopover()},style:{width:420},zDepth:3},_react.default.createElement(_AdvancedSearch.default,{values:values,onChange:function(newValues){return setValues(_objectSpread(_objectSpread({},values),newValues))},rootStyle:{paddingBottom:8,maxHeight:"80vh",overflowY:"auto"},showScope:!0,savedSearches:_this$props3$savedSea,saveSearch:saveSearch,clearSavedSearch:clearSavedSearch})),_react.default.createElement("div",{onClick:onRequestClose,style:_objectSpread(_objectSpread({},styles.closeButton),formStyles.magnifierStyle)},_react.default.createElement("span",{className:"mdi mdi-"+(active?"close":"magnify")})),_react.default.createElement(_materialUi.AutoComplete,{dataSource:_formStyles$filterBut2,filter:function(searchText,key){return(""===searchText||0===key.indexOf(searchText))&&searchText!==key},open:_ref2,style:{marginLeft:5,flex:1},inputStyle:formStyles.inputStyle,hintStyle:formStyles.hintStyle,fullWidth:!0,underlineShow:!1,hintText:_this$props3.MessageHash["searchengine.main.placeholder"],searchText:_values$basenameOrCon||"",menuProps:{desktop:!0},menuStyle:_objectSpread({maxHeight:300,width:400},formStyles.completeMenuStyle),onUpdateInput:function(v){return _this2.updateText(v)},onKeyPress:function(e){return"Enter"===e.key?_this2.updateText(e.target.value):null},onFocus:function(){_this2.focus(),setTimeout(function(){_this2.setState({searchFocus:!0})},1e3)},onBlur:function(){_this2.setState({searchFocus:!1})}}),active&&_react.default.createElement("div",{onClick:this.togglePopover.bind(this),title:_this$props3.MessageHash["searchengine.advanced-filter.tooltip"],style:_objectSpread(_objectSpread(_objectSpread({},styles.filterButton),formStyles.filterButton),_formStyles$filterBut)},_react.default.createElement("span",{className:"mdi mdi-filter"}),0<filtersCount&&_react.default.createElement("span",null,filtersCount)))}}])&&_defineProperties(subClass.prototype,_React$Component),staticProps&&_defineProperties(subClass,staticProps),Object.defineProperty(subClass,"prototype",{writable:!1}),UnifiedSearchForm}(_react.default.Component);exports.default=require,module.exports=exports.default},{"./AdvancedSearch":52,"material-ui":"material-ui",pydio:"pydio","pydio/util/dom":"pydio/util/dom",react:"react"}],61:[function(require,module,exports){"use strict";function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _react=_interopRequireDefault(require("react")),_pydio=_interopRequireDefault(require("pydio")),_materialUi=require("material-ui"),_idmObjectHelper=_interopRequireDefault(require("pydio/model/idm-object-helper")),_dom=_interopRequireDefault(require("pydio/util/dom")),_InfoPanelCard=_interopRequireDefault(require("../detailpanes/InfoPanelCard"));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function ownKeys(object,enumerableOnly){var symbols,keys=Object.keys(object);return Object.getOwnPropertySymbols&&(symbols=Object.getOwnPropertySymbols(object),enumerableOnly&&(symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable})),keys.push.apply(keys,symbols)),keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach(function(key){!function(obj,key,value){key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value}(target,key,source[key])}):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))})}return target}function _extends(){return(_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var key,source=arguments[i];for(key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target}).apply(this,arguments)}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(o,p)}function _createSuper(Derived){var hasNativeReflectConstruct=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var NewTarget,Super=_getPrototypeOf(Derived),Super=(NewTarget=hasNativeReflectConstruct?(NewTarget=_getPrototypeOf(this).constructor,Reflect.construct(Super,arguments,NewTarget)):Super.apply(this,arguments),this);if(NewTarget&&("object"===_typeof(NewTarget)||"function"==typeof NewTarget))return NewTarget;if(void 0!==NewTarget)throw new TypeError("Derived constructors may only return object or undefined");return function(self){if(void 0!==self)return self;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(Super)}}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}var require=_pydio.default.requireLib("components"),AddressBook=require.AddressBook,UserAvatar=require.UserAvatar,CellActionsRenderer=require.CellActionsRenderer,ListStylesCompact=require.ListStylesCompact,_pydio=function(_React$Component){var subClass=AddressBookPanel;if("function"!=typeof _React$Component&&null!==_React$Component)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(_React$Component&&_React$Component.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),Object.defineProperty(subClass,"prototype",{writable:!1}),_React$Component&&_setPrototypeOf(subClass,_React$Component);var staticProps,_super=_createSuper(AddressBookPanel);function AddressBookPanel(props){var _this;if(this instanceof AddressBookPanel)return(_this=_super.call(this,props)).state={noCell:!1,cellModel:null},_this._observer=function(){_this.forceUpdate()},_this;throw new TypeError("Cannot call a class as a function")}return subClass=AddressBookPanel,(_React$Component=[{key:"componentDidMount",value:function(){this.loadCell()}},{key:"componentWillUnmount",value:function(){this.state.cellModel&&this.state.cellModel.stopObserving("update",this._observer)}},{key:"loadCell",value:function(){var _this2=this,pydio=this.props.pydio;pydio.user.getActiveRepositoryAsCell().then(function(cell){cell?(cell.observe("update",_this2._observer),_this2.setState({cellModel:cell,noCell:!1,cellId:pydio.user.activeRepository})):_this2.setState({noCell:!0,cellId:pydio.user.activeRepository})})}},{key:"componentWillReceiveProps",value:function(nextProps){nextProps.pydio.user.activeRepository!==this.state.cellId&&(this.state.cellModel&&this.state.cellModel.stopObserving("update",this._observer),this.loadCell())}},{key:"renderListItem",value:function(acl){var userAvatar,rightMenu,pydio=this.props.pydio,cellModel=this.state.cellModel,label=_idmObjectHelper.default.extractLabel(pydio,acl),userType=(acl.User&&acl.User.Attributes&&acl.User.Attributes.avatar&&(userAvatar=acl.User.Attributes.avatar),acl.User?(userType="user",userId=acl.User.Login):acl.Group?(userType="group",userId=acl.Group.Uuid):(userId=acl.Role.Uuid,userType="team"),_react.default.createElement(UserAvatar,_extends({pydio:pydio,userType:userType,userId:userId,userLabel:label,avatar:userAvatar,avatarOnly:!0,useDefaultAvatar:!0},ListStylesCompact.avatar))),userId=new CellActionsRenderer(pydio,cellModel,acl).renderItems();return userId.length&&(rightMenu=_react.default.createElement(_materialUi.IconMenu,_extends({},ListStylesCompact.iconMenu,{iconButtonElement:_react.default.createElement(_materialUi.IconButton,_extends({iconClassName:"mdi mdi-dots-vertical"},ListStylesCompact.iconButton)),targetOrigin:{horizontal:"right",vertical:"top"},anchorOrigin:{horizontal:"right",vertical:"top"},desktop:!0}),userId)),_react.default.createElement(_materialUi.ListItem,_extends({className:"compact",primaryText:label,leftAvatar:userType,rightIconButton:rightMenu},ListStylesCompact.listItem))}},{key:"render",value:function(){var cellInfo,acls,items,_this3=this,_this$props=this.props,pydio=_this$props.pydio,style=_this$props.style,_this$props=_this$props.zDepth,_this$state=this.state,cellModel=_this$state.cellModel,_this$state=_this$state.noCell,style=(!_this$state&&cellModel&&(acls=cellModel.getAcls(),items=[],Object.keys(acls).map(function(roleId){items.push(_this3.renderListItem(acls[roleId])),items.push(_react.default.createElement(_materialUi.Divider,{inset:!0,style:ListStylesCompact.divider.style}))}),items.pop(),cellInfo=_react.default.createElement(_InfoPanelCard.default,{title:pydio.MessageHash[639],style:{margin:"10px 10px 0"}},_react.default.createElement(_materialUi.List,null,items))),_objectSpread({position:"absolute",width:270,top:100,bottom:0,transition:_dom.default.getBeziersTransition(),overflowY:"auto"},style));return _react.default.createElement(_materialUi.Paper,{id:"info_panel",zDepth:_this$props,rounded:!1,style:_objectSpread({},style)},cellInfo,pydio.Controller.getActionByName("open_address_book")&&_react.default.createElement(_InfoPanelCard.default,null,_react.default.createElement(AddressBook,{mode:"selector",bookColumn:!0,pydio:pydio,disableSearch:!1,style:{height:null,flex:1,padding:0},actionsForCell:!(!_this$state&&cellModel)||cellModel,listStyles:ListStylesCompact})))}}])&&_defineProperties(subClass.prototype,_React$Component),staticProps&&_defineProperties(subClass,staticProps),Object.defineProperty(subClass,"prototype",{writable:!1}),AddressBookPanel}(_react.default.Component);exports.default=_pydio,module.exports=exports.default},{"../detailpanes/InfoPanelCard":30,"material-ui":"material-ui",pydio:"pydio","pydio/model/idm-object-helper":"pydio/model/idm-object-helper","pydio/util/dom":"pydio/util/dom",react:"react"}],62:[function(require,module,exports){"use strict";function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function ownKeys(object,enumerableOnly){var symbols,keys=Object.keys(object);return Object.getOwnPropertySymbols&&(symbols=Object.getOwnPropertySymbols(object),enumerableOnly&&(symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable})),keys.push.apply(keys,symbols)),keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach(function(key){_defineProperty(target,key,source[key])}):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))})}return target}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(o,p)}function _createSuper(Derived){var hasNativeReflectConstruct=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var NewTarget,Super=_getPrototypeOf(Derived),Super=(NewTarget=hasNativeReflectConstruct?(NewTarget=_getPrototypeOf(this).constructor,Reflect.construct(Super,arguments,NewTarget)):Super.apply(this,arguments),this);if(NewTarget&&("object"===_typeof(NewTarget)||"function"==typeof NewTarget))return NewTarget;if(void 0!==NewTarget)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(Super)}}function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function _defineProperty(obj,key,value){key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var React=require("react"),PydioNode=require("pydio/model/node"),muiThemeable=require("material-ui/styles").muiThemeable,LangUtils=require("pydio/util/lang"),Textfit=require("react-textfit").Textfit,require=function(_React$Component){var subClass=Breadcrumb;if("function"!=typeof _React$Component&&null!==_React$Component)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(_React$Component&&_React$Component.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),Object.defineProperty(subClass,"prototype",{writable:!1}),_React$Component&&_setPrototypeOf(subClass,_React$Component);var staticProps,_super=_createSuper(Breadcrumb);function Breadcrumb(){var _this,instance=this,Constructor=Breadcrumb;if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function");for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return _defineProperty(_assertThisInitialized(_this=_super.call.apply(_super,[this].concat(args))),"state",{node:null,minFit:!1}),_defineProperty(_assertThisInitialized(_this),"goTo",function(target,event){target=new PydioNode(target);_this.props.pydio.getContextHolder().requireContextChange(target)}),_defineProperty(_assertThisInitialized(_this),"toggleMinFit",function(font){font=12===font;font!==_this.state.minFit&&_this.setState({minFit:font})}),_this}return subClass=Breadcrumb,(_React$Component=[{key:"componentDidMount",value:function(){var n=this.props.pydio.getContextHolder().getContextNode();n&&this.setState({node:n}),this._observer=function(event){this.setState({node:event.memo,minFit:!1})}.bind(this),this.props.pydio.getContextHolder().observe("context_changed",this._observer)}},{key:"componentWillUnmount",value:function(){this.props.pydio.getContextHolder().stopObserving("context_changed",this._observer)}},{key:"render",value:function(){var _this2=this,_this$props=this.props,pydio=_this$props.pydio,muiTheme=_this$props.muiTheme,_this$props=_this$props.rootStyle,_this$state=this.state,node=_this$state.node,_this$state=_this$state.minFit,muiTheme={main:{fontSize:21,height:36,lineHeight:"44px",padding:"0 20px",color:muiTheme.appBar.textColor,width:"100%"}};if(!pydio.user)return React.createElement("span",{className:"react_breadcrumb"});var repoLabel=" ",segments=(pydio.user&&pydio.user.activeRepository&&pydio.user.repositories.has(pydio.user.activeRepository)&&(repoLabel=pydio.user.repositories.get(pydio.user.activeRepository).getLabel()),[]),pydio=node?LangUtils.trimLeft(node.getPath(),"/"):"",label=node?node.getLabel():"",rebuilt="",node=_this$props||{},node=_objectSpread(_objectSpread({},muiTheme.main),node),parts=(_this$state&&(node=_objectSpread(_objectSpread({},node),{},{overflow:"hidden"})),pydio.split("/"));return parts.forEach(function(seg,i){seg&&(rebuilt+="/"+seg,segments.push(React.createElement("span",{key:"bread_sep_"+i,className:"separator"}," / ")),segments.push(React.createElement("span",{key:"bread_"+i,className:"segment",onClick:this.goTo.bind(this,rebuilt)},i===parts.length-1?label:seg)))}.bind(this)),React.createElement(Textfit,{mode:"single",min:12,max:22,className:"react_breadcrumb",style:node,onReady:function(f){_this2.toggleMinFit(f)}},this.props.startWithSeparator&&React.createElement("span",{className:"separator"}," / "),React.createElement("span",{className:"segment first",onClick:this.goTo.bind(this,"/")},repoLabel),segments)}}])&&_defineProperties(subClass.prototype,_React$Component),staticProps&&_defineProperties(subClass,staticProps),Object.defineProperty(subClass,"prototype",{writable:!1}),Breadcrumb}(React.Component);exports.default=require,exports.default=muiThemeable()(require),module.exports=exports.default},{"material-ui/styles":"material-ui/styles","pydio/model/node":"pydio/model/node","pydio/util/lang":"pydio/util/lang",react:"react","react-textfit":"react-textfit"}],63:[function(require,module,exports){"use strict";function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _react=_interopRequireDefault(require("react")),_pydio=_interopRequireDefault(require("pydio")),_materialUi=require("material-ui");function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function ownKeys(object,enumerableOnly){var symbols,keys=Object.keys(object);return Object.getOwnPropertySymbols&&(symbols=Object.getOwnPropertySymbols(object),enumerableOnly&&(symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable})),keys.push.apply(keys,symbols)),keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach(function(key){!function(obj,key,value){key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value}(target,key,source[key])}):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))})}return target}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(o,p)}function _createSuper(Derived){var hasNativeReflectConstruct=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var NewTarget,Super=_getPrototypeOf(Derived),Super=(NewTarget=hasNativeReflectConstruct?(NewTarget=_getPrototypeOf(this).constructor,Reflect.construct(Super,arguments,NewTarget)):Super.apply(this,arguments),this);if(NewTarget&&("object"===_typeof(NewTarget)||"function"==typeof NewTarget))return NewTarget;if(void 0!==NewTarget)throw new TypeError("Derived constructors may only return object or undefined");return function(self){if(void 0!==self)return self;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(Super)}}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}var Chat=_pydio.default.requireLib("components").Chat,require=function(_React$Component){var subClass=CellChat;if("function"!=typeof _React$Component&&null!==_React$Component)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(_React$Component&&_React$Component.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),Object.defineProperty(subClass,"prototype",{writable:!1}),_React$Component&&_setPrototypeOf(subClass,_React$Component);var staticProps,_super=_createSuper(CellChat);function CellChat(props){if(this instanceof CellChat)return(props=_super.call(this,props)).state={cellModel:null,cellId:""},props;throw new TypeError("Cannot call a class as a function")}return subClass=CellChat,(_React$Component=[{key:"loadRoomData",value:function(){var _this2=this,user=this.props.pydio.user;user.getActiveRepositoryAsCell().then(function(c){_this2.setState({cellModel:c,cellId:c?user.activeRepository:""})})}},{key:"componentWillMount",value:function(){this.loadRoomData()}},{key:"componentWillReceiveProps",value:function(nextProps){nextProps.pydio.user.activeRepository!==this.state.cellId&&this.loadRoomData()}},{key:"render",value:function(){var _this$props=this.props,pydio=_this$props.pydio,style=_this$props.style,zDepth=_this$props.zDepth,_this$props=_this$props.onRequestClose,_this$state=this.state,cellModel=_this$state.cellModel,_this$state=_this$state.cellId;return _react.default.createElement(_materialUi.Paper,{id:"info_panel",zDepth:zDepth,rounded:!1,style:_objectSpread({display:"flex",flexDirection:"column"},style)},_react.default.createElement(Chat,{pydio:pydio,roomType:"WORKSPACE",roomObjectId:_this$state,style:{flex:1,display:"flex",flexDirection:"column",overflow:"hidden"},chatUsersStyle:{borderBottom:0,padding:5,backgroundColor:"rgba(0,0,0,.05)",display:"flex",flexWrap:"wrap"},msgContainerStyle:{maxHeight:null,flex:1,paddingTop:"10px !important"},fieldHint:pydio.MessageHash[636],fieldContainerStyle:{backgroundColor:"transparent"},pushMessagesToBottom:!0,emptyStateProps:{iconClassName:"mdi mdi-comment-account-outline",primaryTextId:pydio.MessageHash[637],style:{padding:"0 10px",backgroundColor:"transparent"},iconStyle:{fontSize:60},legendStyle:{fontSize:14,padding:20}},computePresenceFromACLs:cellModel?cellModel.getAcls():{},onRequestClose:_this$props}))}}])&&_defineProperties(subClass.prototype,_React$Component),staticProps&&_defineProperties(subClass,staticProps),Object.defineProperty(subClass,"prototype",{writable:!1}),CellChat}(_react.default.Component);exports.default=require,module.exports=exports.default},{"material-ui":"material-ui",pydio:"pydio",react:"react"}],64:[function(require,module,exports){"use strict";function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _react=_interopRequireDefault(require("react"));_interopRequireDefault(require("pydio/util/dom"));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(o,p)}function _createSuper(Derived){var hasNativeReflectConstruct=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var NewTarget,Super=_getPrototypeOf(Derived),Super=(NewTarget=hasNativeReflectConstruct?(NewTarget=_getPrototypeOf(this).constructor,Reflect.construct(Super,arguments,NewTarget)):Super.apply(this,arguments),this);if(NewTarget&&("object"===_typeof(NewTarget)||"function"==typeof NewTarget))return NewTarget;if(void 0!==NewTarget)throw new TypeError("Derived constructors may only return object or undefined");return function(self){if(void 0!==self)return self;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(Super)}}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}require=function(_React$Component){var subClass=CellsMessageToolbar;if("function"!=typeof _React$Component&&null!==_React$Component)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(_React$Component&&_React$Component.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),Object.defineProperty(subClass,"prototype",{writable:!1}),_React$Component&&_setPrototypeOf(subClass,_React$Component);var staticProps,_super=_createSuper(CellsMessageToolbar);function CellsMessageToolbar(props){if(!(this instanceof CellsMessageToolbar))throw new TypeError("Cannot call a class as a function");var _this=_super.call(this,props),props=props.pydio.getContextHolder().getContextNode();return props&&(props.getMetadata().has("virtual_root")||props.getMetadata().has("local:renderListCustomMessage"))?_this.state={display:!0}:_this.state={display:!1},_this}return subClass=CellsMessageToolbar,(_React$Component=[{key:"componentDidMount",value:function(){var _this2=this,pydio=this.props.pydio;this._observer=function(){var node=pydio.getContextHolder().getContextNode();node&&(node.getMetadata().has("virtual_root")||node.getMetadata().has("local:renderListCustomMessage"))?_this2.setState({display:!0}):_this2.setState({display:!1})},pydio.observe("context_changed",this._observer)}},{key:"componentWillUnmount",value:function(){this.props.pydio.stopObserving("context_changed",this._observer)}},{key:"render",value:function(){var display=this.state.display,pydio=this.props.pydio;if(!display)return null;var display={padding:16,color:"#9E9E9E",borderBottom:"1px solid #F5F5F5"},node=pydio.getContextHolder().getContextNode();return node.getMetadata().has("local:renderListCustomMessage")?node.getMetadata().get("local:renderListCustomMessage")(node,display):_react.default.createElement("div",{style:display},pydio.MessageHash[638])}}])&&_defineProperties(subClass.prototype,_React$Component),staticProps&&_defineProperties(subClass,staticProps),Object.defineProperty(subClass,"prototype",{writable:!1}),CellsMessageToolbar}(_react.default.Component);exports.default=require,module.exports=exports.default},{"pydio/util/dom":"pydio/util/dom",react:"react"}],65:[function(require,module,exports){"use strict";function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _propTypes=_interopRequireDefault(require("prop-types")),_pydio=_interopRequireDefault(require("pydio")),_OpenNodesModel=_interopRequireDefault(require("../OpenNodesModel")),_reactRedux=require("react-redux"),_editor=require("../editor");function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(o,p)}function _createSuper(Derived){var hasNativeReflectConstruct=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var NewTarget,Super=_getPrototypeOf(Derived),Super=(NewTarget=hasNativeReflectConstruct?(NewTarget=_getPrototypeOf(this).constructor,Reflect.construct(Super,arguments,NewTarget)):Super.apply(this,arguments),this);if(NewTarget&&("object"===_typeof(NewTarget)||"function"==typeof NewTarget))return NewTarget;if(void 0!==NewTarget)throw new TypeError("Derived constructors may only return object or undefined");return function(self){if(void 0!==self)return self;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(Super)}}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}var require=_pydio.default.requireLib("hoc").EditorActions,EditionPanel=function(_React$Component){var subClass=EditionPanel;if("function"!=typeof _React$Component&&null!==_React$Component)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(_React$Component&&_React$Component.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),Object.defineProperty(subClass,"prototype",{writable:!1}),_React$Component&&_setPrototypeOf(subClass,_React$Component);var staticProps,_super=_createSuper(EditionPanel);function EditionPanel(props){if(this instanceof EditionPanel)return _super.call(this,props);throw new TypeError("Cannot call a class as a function")}return subClass=EditionPanel,(_React$Component=[{key:"componentDidMount",value:function(){var _this=this;this._updateObserver=function(nodes){return _this._handleUpdate(nodes)},this._nodesModelObserver=function(node){return _this._handleNodePushed(node)},this._nodesRemoveObserver=function(index){return _this._handleNodeRemoved(index)},this._titlesObserver=function(){return _this.forceUpdate()},_OpenNodesModel.default.getInstance().observe("update",this._updateObserver),_OpenNodesModel.default.getInstance().observe("nodePushed",this._nodesModelObserver),_OpenNodesModel.default.getInstance().observe("nodeRemovedAtIndex",this._nodesRemoveObserver),_OpenNodesModel.default.getInstance().observe("titlesUpdated",this._titlesObserver)}},{key:"componentWillUnmount",value:function(){(0,this.props.tabDeleteAll)(),_OpenNodesModel.default.getInstance().stopObserving("update",this._updateObserver),_OpenNodesModel.default.getInstance().stopObserving("nodePushed",this._nodesModelObserver),_OpenNodesModel.default.getInstance().stopObserving("nodeRemovedAtIndex",this._nodesRemoveObserver),_OpenNodesModel.default.getInstance().stopObserving("titlesUpdated",this._titlesObserver)}},{key:"_handleUpdate",value:function(nodes){var tabDeleteAll=this.props.tabDeleteAll;0===nodes.length&&tabDeleteAll()}},{key:"_handleNodePushed",value:function(object){var _this$props=this.props,pydio=_this$props.pydio,tabCreate=_this$props.tabCreate,editorModify=_this$props.editorModify,editorSetActiveTab=_this$props.editorSetActiveTab,_this$props=object.node,node=void 0===_this$props?{}:_this$props,editorData=object.editorData;pydio.Registry.loadEditorResources(editorData.resourcesManager,function(){var tabId=tabCreate({id:node.getLabel(),title:node.getLabel(),url:node.getPath(),metadata:node.getMetadata(),readonly:"true"===node.getMetadata().get("node_readonly"),node:node,editorData:editorData,icon:PydioWorkspaces.FilePreview}).id;editorSetActiveTab(tabId),editorModify({isMinimised:!1})})}},{key:"_handleNodeRemoved",value:function(index){}},{key:"render",value:function(){return React.createElement(_editor.Editor,null)}}])&&_defineProperties(subClass.prototype,_React$Component),staticProps&&_defineProperties(subClass,staticProps),Object.defineProperty(subClass,"prototype",{writable:!1}),EditionPanel}(React.Component),_propTypes=(EditionPanel.PropTypes={pydio:_propTypes.default.instanceOf(_pydio.default)},(0,_reactRedux.connect)(null,require)(EditionPanel));exports.default=_propTypes,module.exports=exports.default},{"../OpenNodesModel":26,"../editor":46,"prop-types":"prop-types",pydio:"pydio","react-redux":"react-redux"}],66:[function(require,module,exports){"use strict";function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _react=_interopRequireDefault(require("react")),_pydio=_interopRequireDefault(require("pydio")),_Breadcrumb=_interopRequireDefault(require("./Breadcrumb")),_reactTextfit=_interopRequireDefault(require("react-textfit")),_MainFilesList=_interopRequireDefault(require("./MainFilesList")),_EditionPanel=_interopRequireDefault(require("./EditionPanel")),_InfoPanel=_interopRequireDefault(require("../detailpanes/InfoPanel")),_WelcomeTour=_interopRequireDefault(require("./WelcomeTour")),_CellChat=_interopRequireDefault(require("./CellChat")),_materialUi=require("material-ui"),_AddressBookPanel=_interopRequireDefault(require("./AddressBookPanel")),_MasterLayout=_interopRequireDefault(require("./MasterLayout")),_styles=require("material-ui/styles"),_dom=_interopRequireDefault(require("pydio/util/dom")),_color=_interopRequireDefault(require("color")),_UnifiedSearchForm=_interopRequireDefault(require("../search/components/UnifiedSearchForm")),_excluded=["style"];function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _extends(){return(_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var key,source=arguments[i];for(key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target}).apply(this,arguments)}function _objectWithoutProperties(source,excluded){if(null==source)return{};var key,target=function(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],0<=excluded.indexOf(key)||(target[key]=source[key]);return target}(source,excluded);if(Object.getOwnPropertySymbols)for(var sourceSymbolKeys=Object.getOwnPropertySymbols(source),i=0;i<sourceSymbolKeys.length;i++)key=sourceSymbolKeys[i],0<=excluded.indexOf(key)||Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key]);return target}function ownKeys(object,enumerableOnly){var symbols,keys=Object.keys(object);return Object.getOwnPropertySymbols&&(symbols=Object.getOwnPropertySymbols(object),enumerableOnly&&(symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable})),keys.push.apply(keys,symbols)),keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach(function(key){!function(obj,key,value){key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value}(target,key,source[key])}):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))})}return target}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(o,p)}function _createSuper(Derived){var hasNativeReflectConstruct=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var NewTarget,Super=_getPrototypeOf(Derived),Super=(NewTarget=hasNativeReflectConstruct?(NewTarget=_getPrototypeOf(this).constructor,Reflect.construct(Super,arguments,NewTarget)):Super.apply(this,arguments),this);if(NewTarget&&("object"===_typeof(NewTarget)||"function"==typeof NewTarget))return NewTarget;if(void 0!==NewTarget)throw new TypeError("Derived constructors may only return object or undefined");return function(self){if(void 0!==self)return self;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(Super)}}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}var require=_pydio.default.requireLib("hoc").withSearch,_pydio=_pydio.default.requireLib("components"),ButtonMenu=_pydio.ButtonMenu,Toolbar=_pydio.Toolbar,ListPaginator=_pydio.ListPaginator,_pydio=function(_React$Component){var subClass=FSTemplate;if("function"!=typeof _React$Component&&null!==_React$Component)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(_React$Component&&_React$Component.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),Object.defineProperty(subClass,"prototype",{writable:!1}),_React$Component&&_setPrototypeOf(subClass,_React$Component);var staticProps,_super=_createSuper(FSTemplate);function FSTemplate(props){if(!(this instanceof FSTemplate))throw new TypeError("Cannot call a class as a function");var props=_super.call(this,props),rState="info-panel",closedToggle=(void 0!==localStorage.getItem("pydio.layout.rightColumnState")&&localStorage.getItem("pydio.layout.rightColumnState")&&(rState=localStorage.getItem("pydio.layout.rightColumnState")),"closed"===localStorage.getItem("pydio.layout.infoPanelToggle")),closedInfo="closed"===localStorage.getItem("pydio.layout.infoPanelOpen"),pydio=props.props.pydio,themeLight=!1,pydio=(pydio.user&&pydio.user.getPreference("theme")&&"default"!==pydio.user.getPreference("theme")?themeLight="light"===pydio.user.getPreference("theme"):"light"===pydio.getPluginConfigs("gui.ajax").get("GUI_THEME")&&(themeLight=!0),_dom.default.getViewportWidth());return props.state={infoPanelOpen:!closedInfo,infoPanelToggle:!closedToggle,drawerOpen:!1,rightColumnState:rState,searchFormState:{},themeLight:themeLight,smallScreen:pydio<=758,xtraSmallScreen:pydio<=420,searchView:!1},props}return subClass=FSTemplate,(_React$Component=[{key:"setSearchView",value:function(){var dm=this.props.pydio.getContextHolder();dm.setSelectedNodes([]),dm.getContextNode()!==dm.getSearchNode()&&this.setState({previousContext:dm.getContextNode()})}},{key:"unsetSearchView",value:function(){var dm=this.props.pydio.getContextHolder(),previousContext=this.state.previousContext;dm.setSelectedNodes([]),previousContext?dm.setContextNode(previousContext,!0):dm.setContextNode(dm.getRootNode(),!0),this.setState({previousContext:null})}},{key:"componentDidMount",value:function(){var _this2=this,pydio=this.props.pydio;this._themeObserver=function(user){user&&(user=user.getPreference("theme")&&"default"!==user.getPreference("theme")?user.getPreference("theme"):pydio.getPluginConfigs("gui.ajax").get("GUI_THEME"),_this2.setState({themeLight:"light"===user}))},pydio.observe("user_logged",this._themeObserver),this._resizer=function(){var w=_dom.default.getViewportWidth();_this2.setState({smallScreen:w<758,xtraSmallScreen:w<=420})},_dom.default.observeWindowResize(this._resizer),this._ctxObserver=function(){var searchView=pydio.getContextHolder().getContextNode()===pydio.getContextHolder().getSearchNode();_this2.setState({searchView:searchView})},pydio.observe("context_changed",this._ctxObserver)}},{key:"componentWillUnmount",value:function(){var pydio=this.props.pydio;pydio.stopObserving("user_logged",this._themeObserver),pydio.stopObserving("context_changed",this._ctxObserver),_dom.default.stopObservingWindowResize(this._resizer)}},{key:"openRightPanel",value:function(name){var _this3=this,rightColumnState=this.state.rightColumnState;name===rightColumnState?this.closeRightPanel():this.setState({rightColumnState:name},function(){var infoPanelOpen=_this3.state.infoPanelOpen;"info-panel"!==name&&(infoPanelOpen=!0),"advanced-search"!==name&&(localStorage.setItem("pydio.layout.rightColumnState",name),localStorage.setItem("pydio.layout.infoPanelToggle","open"),localStorage.setItem("pydio.layout.infoPanelOpen",infoPanelOpen?"open":"closed")),_this3.setState({infoPanelToggle:!0,infoPanelOpen:infoPanelOpen},function(){return _this3.resizeAfterTransition()})})}},{key:"closeRightPanel",value:function(){var rState,_this4=this;"advanced-search"===this.state.rightColumnState?void 0!==(rState=localStorage.getItem("pydio.layout.rightColumnState"))&&rState&&"advanced-search"!==rState?this.openRightPanel(rState):this.setState({infoPanelToggle:!1},function(){_this4.resizeAfterTransition()}):(this.setState({infoPanelToggle:!1},function(){_this4.resizeAfterTransition()}),localStorage.setItem("pydio.layout.rightColumnState",""),localStorage.setItem("pydio.layout.infoPanelToggle","closed"))}},{key:"resizeAfterTransition",value:function(){var _this5=this;setTimeout(function(){_this5.refs.list&&_this5.refs.list.resize(),_this5.state.infoPanelToggle||_this5.setState({rightColumnState:null})},300)}},{key:"infoPanelContentChange",value:function(numberOfCards){var _this6=this;this.setState({infoPanelOpen:0<numberOfCards},function(){return _this6.resizeAfterTransition()})}},{key:"openDrawer",value:function(event){event.stopPropagation(),this.setState({drawerOpen:!0})}},{key:"render",value:function(){var tutorialComponent,stLabel,_this7=this,muiTheme=this.props.muiTheme,mobile=this.props.pydio.UI.MOBILE_EXTENSIONS,appBarTextColor=(0,_color.default)(muiTheme.appBar.textColor),appBarBackColor=(0,_color.default)(muiTheme.appBar.color),colorHue=(0,_color.default)(muiTheme.palette.primary1Color).hsl().array()[0],superLightBack=new _color.default({h:colorHue,s:35,l:98}),colorHue=new _color.default({h:colorHue,s:30,l:96}),_this$state=this.state,themeLight=_this$state.themeLight,smallScreen=_this$state.smallScreen,_this$state=_this$state.xtraSmallScreen,crtWidth=(themeLight&&(appBarBackColor=superLightBack,appBarTextColor=(0,_color.default)(muiTheme.appBar.color)),_dom.default.getViewportWidth()),appBarBackColor={appBarStyle:{zIndex:mobile?1:901,backgroundColor:appBarBackColor.toString(),height:72,display:"flex"},listStyle:{},buttonsStyle:{width:40,height:40,padding:10,borderRadius:"50%",color:appBarTextColor.fade(.03).toString(),transition:_dom.default.getBeziersTransition()},buttonsIconStyle:{fontSize:18,color:appBarTextColor.fade(.03).toString()},activeButtonStyle:{backgroundColor:appBarTextColor.fade(.9).toString()},activeButtonIconStyle:{color:appBarTextColor.fade(.03).toString()},raisedButtonStyle:{height:23,minWidth:0},raisedButtonLabelStyle:{height:23,paddingLeft:12,paddingRight:8,lineHeight:"23px",fontSize:11},flatButtonStyle:{height:23,lineHeight:"23px",minWidth:0},flatButtonLabelStyle:{height:23,fontSize:11,paddingLeft:8,paddingRight:8,color:appBarTextColor.fade(.03).toString()},infoPanelStyle:{backgroundColor:colorHue.toString(),top:72},otherPanelsStyle:{backgroundColor:colorHue.toString(),top:72,borderLeft:0,width:270},searchFormPanelStyle:{top:72,borderLeft:0,margin:10,width:smallScreen?_this$state?crtWidth:420:520,right:_this$state?-10:null,overflowY:"hidden",display:"flex",flexDirection:"column",backgroundColor:"white"},breadcrumbStyle:{},searchForm:{}},colorHue=(appBarBackColor.activeButtonStyle=_objectSpread(_objectSpread({},appBarBackColor.buttonsStyle),appBarBackColor.activeButtonStyle),appBarBackColor.activeButtonIconStyle=_objectSpread(_objectSpread({},appBarBackColor.buttonsIconStyle),appBarBackColor.activeButtonIconStyle),this.state),crtWidth=colorHue.infoPanelOpen,drawerOpen=colorHue.drawerOpen,infoPanelToggle=colorHue.infoPanelToggle,colorHue=colorHue.filesListDisplayMode,rightColumnState=this.state.rightColumnState,pydio=this.props.pydio,guiPrefs=pydio.user?pydio.user.getPreference("gui_preferences",!0):[],wTourEnabled=pydio.getPluginConfigs("gui.ajax").get("ENABLE_WELCOME_TOUR"),dm=pydio.getContextHolder(),dm=dm.getContextNode()===dm.getSearchNode(),showChatTab=!pydio.getPluginConfigs("action.advanced_settings").get("GLOBAL_DISABLE_CHATS"),showAddressBook=!pydio.getPluginConfigs("action.user").get("DASH_DISABLE_ADDRESS_BOOK")&&!smallScreen,_this$state=!_this$state,repo=(!showChatTab||(repo=pydio.user.getRepositoriesList().get(pydio.user.activeRepository))&&!repo.getOwner()&&(showChatTab=!1),showChatTab||"chat"!==rightColumnState||(rightColumnState="info-panel"),_this$state||"info-panel"!==rightColumnState||(rightColumnState=""),["vertical_layout","vertical_fit","react-fs-template"]),colorHue=colorHue&&0===colorHue.indexOf("grid-")||"masonry"===colorHue,crtWidth=((crtWidth||colorHue)&&infoPanelToggle&&repo.push("info-panel-open"),this.props),infoPanelToggle=crtWidth.style,crtWidth=_objectWithoutProperties(crtWidth,_excluded),wTourEnabled=(wTourEnabled&&!guiPrefs["WelcomeComponent.Pydio8.TourGuide.FSTemplate"]&&(tutorialComponent=_react.default.createElement(_WelcomeTour.default,{ref:"welcome",pydio:this.props.pydio})),"rgba(255,255,255,.93)"),guiPrefs=null,_colorHue=(themeLight&&(_colorHue=(0,_color.default)(muiTheme.palette.primary1Color).hsl().array()[0],wTourEnabled=(0,_color.default)(muiTheme.palette.primary1Color).darken(.1).alpha(.87).toString(),guiPrefs=new _color.default({h:_colorHue,s:35,l:98}).toString()),{buttonStyle:_objectSpread(_objectSpread({},appBarBackColor.flatButtonStyle),{},{marginRight:4}),buttonLabelStyle:_objectSpread({},appBarBackColor.flatButtonLabelStyle),buttonBackgroundColor:"rgba(255,255,255,0.17)",buttonHoverColor:"rgba(255,255,255,0.33)"}),wTourEnabled={headerHeight:72,userWidgetProps:{color:wTourEnabled,mergeButtonInAvatar:!0,popoverDirection:"left",actionBarStyle:{marginTop:0},style:{height:72,display:"flex",alignItems:"center"}}},guiPrefs=(themeLight&&(wTourEnabled.userWidgetProps.style=_objectSpread(_objectSpread({},wTourEnabled.userWidgetProps.style),{},{boxShadow:"none",backgroundColor:guiPrefs,borderRight:"1px solid #e0e0e0"}),appBarBackColor.breadcrumbStyle={color:appBarTextColor.toString()},appBarBackColor.searchForm={mainStyle:{backgroundColor:"white",border:"1px solid "+appBarTextColor.fade(dm?.6:.8).toString(),borderRadius:50},inputStyle:{color:appBarTextColor.toString()},hintStyle:{color:appBarTextColor.fade(.5).toString()},magnifierStyle:{color:appBarTextColor.fade(.1).toString()},filterButton:{color:appBarTextColor.toString()}},_colorHue.buttonLabelStyle.color=muiTheme.palette.accent1Color,_colorHue.buttonBackgroundColor="rgba(0,0,0,0.05)",_colorHue.buttonHoverColor="rgba(0,0,0,0.10)"),this.props),muiTheme=guiPrefs.values,setValues=guiPrefs.setValues,history=guiPrefs.history,facets=guiPrefs.facets,activeFacets=guiPrefs.activeFacets,toggleFacet=guiPrefs.toggleFacet,humanizeValues=guiPrefs.humanizeValues,limit=guiPrefs.limit,setLimit=guiPrefs.setLimit,searchLoading=guiPrefs.searchLoading,savedSearches=guiPrefs.savedSearches,saveSearch=guiPrefs.saveSearch,guiPrefs=guiPrefs.clearSavedSearch;return dm&&(wTourEnabled.userWidgetProps.style=_objectSpread(_objectSpread({},wTourEnabled.userWidgetProps.style),{},{opacity:0}),wTourEnabled.workspacesListProps={searchView:!0,values:muiTheme,setValues:setValues,searchLoading:searchLoading,facets:facets,activeFacets:activeFacets,toggleFacet:toggleFacet},appBarBackColor.appBarStyle=_objectSpread(_objectSpread({},appBarBackColor.appBarStyle),{},{backgroundColor:"white",marginLeft:0}),appBarBackColor.listStyle=_objectSpread(_objectSpread({},appBarBackColor.listStyle),{},{marginLeft:250}),facets=pydio.getContextHolder().getSearchNode().getChildren().size,activeFacets=!0,toggleFacet=_objectSpread({},appBarBackColor.flatButtonLabelStyle),searchLoading?stLabel=pydio.MessageHash["searchengine.searching"]:0===facets?stLabel=pydio.MessageHash[478]:facets<limit?stLabel=pydio.MessageHash["searchengine.results.foundN"].replace("%1",facets):facets===limit&&(activeFacets=!1,stLabel=pydio.MessageHash["searchengine.results.withMore"].replace("%1",limit)),activeFacets&&(toggleFacet=_objectSpread(_objectSpread({},toggleFacet),{},{color:themeLight?"#616161":"white"})),stLabel=_react.default.createElement(_materialUi.FlatButton,{style:appBarBackColor.flatButtonStyle,labelStyle:toggleFacet,label:stLabel,disabled:activeFacets,onClick:function(){setLimit(limit+20)}})),_react.default.createElement(_MasterLayout.default,{pydio:pydio,style:_objectSpread(_objectSpread({},infoPanelToggle),{},{overflow:"hidden"}),desktopStyle:dm?{marginLeft:0}:{},classes:repo,tutorialComponent:tutorialComponent,drawerOpen:drawerOpen,leftPanelProps:wTourEnabled,onCloseDrawerRequested:function(){_this7.setState({drawerOpen:!1})}},_react.default.createElement(_materialUi.Paper,{zDepth:themeLight&&!dm?0:1,style:appBarBackColor.appBarStyle,rounded:!1},dm&&_react.default.createElement("div",null,_react.default.createElement(_materialUi.IconButton,{style:{width:56,height:56,padding:14,margin:"6px -6px 6px 6px"},iconClassName:"mdi mdi-arrow-left",iconStyle:{fontSize:30,color:appBarTextColor.fade(.03).toString()},onClick:function(){return _this7.unsetSearchView()}})),_react.default.createElement("div",{id:"workspace_toolbar",style:{flex:1,width:"calc(100% - 430px)",display:"flex"}},_react.default.createElement("span",{className:"drawer-button",style:{marginLeft:12,marginRight:-6}},_react.default.createElement(_materialUi.IconButton,{iconStyle:{color:appBarTextColor.fade(.03).toString()},iconClassName:"mdi mdi-menu",onClick:this.openDrawer.bind(this)})),_react.default.createElement("div",{style:{flex:1,overflow:"hidden"}},dm&&_react.default.createElement(_reactTextfit.default,{mode:"single",min:12,max:22,style:_objectSpread(_objectSpread({},appBarBackColor.breadcrumbStyle),{},{padding:"0 20px",fontSize:22,lineHeight:"44px",height:36})},pydio.MessageHash["searchengine.topbar.title"],humanizeValues(muiTheme)),!dm&&_react.default.createElement(_Breadcrumb.default,_extends({},crtWidth,{startWithSeparator:!1,rootStyle:appBarBackColor.breadcrumbStyle})),_react.default.createElement("div",{style:{height:32,paddingLeft:20,alignItems:"center",display:"flex",overflow:"hidden"}},stLabel,!dm&&_react.default.createElement(ButtonMenu,_extends({},crtWidth,_colorHue,{id:"create-button-menu",toolbars:["upload","create"],buttonTitle:this.props.pydio.MessageHash[198],raised:!1,secondary:!0,controller:crtWidth.pydio.Controller,openOnEvent:"tutorial-open-create-menu"})),_react.default.createElement(ListPaginator,{id:"paginator-toolbar",style:{height:23,borderRadius:2,background:_colorHue.buttonBackgroundColor,marginRight:5},dataModel:crtWidth.pydio.getContextHolder(),smallDisplay:!0,toolbarDisplay:!0,toolbarColor:appBarTextColor}),!mobile&&_react.default.createElement(Toolbar,_extends({},crtWidth,{id:"main-toolbar",toolbars:["change_main","info_panel","info_panel_share","info_panel_edit_share"],groupOtherList:["change","other"],renderingType:"button",toolbarStyle:{overflow:"hidden"},flatButtonStyle:appBarBackColor.flatButtonStyle,buttonStyle:appBarBackColor.flatButtonLabelStyle})),mobile&&_react.default.createElement("span",{style:{flex:1}})))),_react.default.createElement("div",{style:{display:"flex",alignItems:"center"}},_react.default.createElement(Toolbar,_extends({},crtWidth,{id:"display-toolbar",toolbars:["display_toolbar"],renderingType:"icon-font",mergeItemsAsOneMenu:!0,mergedMenuIcom:"mdi mdi-settings",mergedMenuTitle:this.props.pydio.MessageHash[151],buttonStyle:appBarBackColor.buttonsIconStyle,flatButtonStyle:appBarBackColor.buttonsStyle})),!smallScreen&&_react.default.createElement(_UnifiedSearchForm.default,{style:{flex:1},active:dm,pydio:pydio,formStyles:appBarBackColor.searchForm,values:muiTheme,setValues:setValues,humanizeValues:humanizeValues,history:history,savedSearches:savedSearches,clearSavedSearch:guiPrefs,saveSearch:saveSearch,onRequestOpen:function(){return _this7.setSearchView()},onRequestClose:function(){return _this7.unsetSearchView()}}),_react.default.createElement("div",{style:{borderLeft:"1px solid "+appBarTextColor.fade(.77).toString(),margin:"0 10px",height:72,display:"none"}}),_react.default.createElement("div",{style:{display:"flex",paddingRight:10}},_this$state&&_react.default.createElement(_materialUi.IconButton,{iconClassName:"mdi mdi-information",style:"info-panel"===rightColumnState?appBarBackColor.activeButtonStyle:appBarBackColor.buttonsStyle,iconStyle:"info-panel"===rightColumnState?appBarBackColor.activeButtonIconStyle:appBarBackColor.buttonsIconStyle,onClick:function(){_this7.openRightPanel("info-panel")},tooltip:pydio.MessageHash["info-panel"===rightColumnState?"86":"341"]}),!dm&&showChatTab&&_react.default.createElement(_materialUi.IconButton,{iconClassName:"mdi mdi-message-text",style:"chat"===rightColumnState?appBarBackColor.activeButtonStyle:appBarBackColor.buttonsStyle,iconStyle:"chat"===rightColumnState?appBarBackColor.activeButtonIconStyle:appBarBackColor.buttonsIconStyle,onClick:function(){_this7.openRightPanel("chat")},tooltip:pydio.MessageHash["chat"===rightColumnState?"86":"635"],tooltipPosition:"bottom-left"}),!dm&&showAddressBook&&_react.default.createElement(_materialUi.IconButton,{iconClassName:"mdi mdi-account-card-details",style:"address-book"===rightColumnState?appBarBackColor.activeButtonStyle:appBarBackColor.buttonsStyle,iconStyle:"address-book"===rightColumnState?appBarBackColor.activeButtonIconStyle:appBarBackColor.buttonsIconStyle,onClick:function(){_this7.openRightPanel("address-book")},tooltip:pydio.MessageHash["address-book"===rightColumnState?"86":"592"],tooltipPosition:showChatTab?"bottom-center":"bottom-left"})))),_react.default.createElement(_MainFilesList.default,{ref:"list",key:dm?"search-results":"files-list",pydio:pydio,dataModel:pydio.getContextHolder(),searchResults:dm,searchScope:muiTheme?muiTheme.scope:null,searchLoading:searchLoading,onDisplayModeChange:function(dMode){_this7.setState({filesListDisplayMode:dMode})},gridBackground:superLightBack,style:appBarBackColor.listStyle}),"info-panel"===rightColumnState&&_react.default.createElement(_InfoPanel.default,_extends({},crtWidth,{dataModel:pydio.getContextHolder(),onRequestClose:function(){_this7.closeRightPanel()},onContentChange:this.infoPanelContentChange.bind(this),style:appBarBackColor.infoPanelStyle,mainEmptyStateProps:colorHue?{iconClassName:"",primaryTextId:"ajax_gui.infopanel.empty.select.file",style:{minHeight:180,backgroundColor:"transparent",padding:"0 20px"}}:null})),"chat"===rightColumnState&&_react.default.createElement(_CellChat.default,{pydio:pydio,style:appBarBackColor.otherPanelsStyle,zDepth:0,onRequestClose:function(){_this7.closeRightPanel()}}),"address-book"===rightColumnState&&_react.default.createElement(_AddressBookPanel.default,{pydio:pydio,style:appBarBackColor.otherPanelsStyle,zDepth:0,onRequestClose:function(){_this7.closeRightPanel()}}),_react.default.createElement(_EditionPanel.default,crtWidth))}}])&&_defineProperties(subClass.prototype,_React$Component),staticProps&&_defineProperties(subClass,staticProps),Object.defineProperty(subClass,"prototype",{writable:!1}),FSTemplate}(_react.default.Component);exports.default=_pydio,exports.default=_pydio=require(_pydio,"main","all"),exports.default=_pydio=(0,_styles.muiThemeable)()(_pydio),_pydio.INFO_PANEL_WIDTH=270,module.exports=exports.default},{"../detailpanes/InfoPanel":29,"../search/components/UnifiedSearchForm":60,"./AddressBookPanel":61,"./Breadcrumb":62,"./CellChat":63,"./EditionPanel":65,"./MainFilesList":68,"./MasterLayout":69,"./WelcomeTour":72,color:"color","material-ui":"material-ui","material-ui/styles":"material-ui/styles",pydio:"pydio","pydio/util/dom":"pydio/util/dom",react:"react","react-textfit":"react-textfit"}],67:[function(require,module,exports){"use strict";function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _propTypes=_interopRequireDefault(require("prop-types")),_pydio=_interopRequireDefault(require("pydio")),_react=require("react"),_styles=require("material-ui/styles"),_materialUi=require("material-ui"),_color=_interopRequireDefault(require("color")),_func=_interopRequireDefault(require("pydio/util/func"));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _extends(){return(_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var key,source=arguments[i];for(key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target}).apply(this,arguments)}function ownKeys(object,enumerableOnly){var symbols,keys=Object.keys(object);return Object.getOwnPropertySymbols&&(symbols=Object.getOwnPropertySymbols(object),enumerableOnly&&(symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable})),keys.push.apply(keys,symbols)),keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach(function(key){!function(obj,key,value){key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value}(target,key,source[key])}):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))})}return target}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Object.defineProperty(Constructor,"prototype",{writable:!1})}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),Object.defineProperty(subClass,"prototype",{writable:!1}),superClass&&_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(o,p)}function _createSuper(Derived){var hasNativeReflectConstruct=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var NewTarget,Super=_getPrototypeOf(Derived),Super=(NewTarget=hasNativeReflectConstruct?(NewTarget=_getPrototypeOf(this).constructor,Reflect.construct(Super,arguments,NewTarget)):Super.apply(this,arguments),this);if(NewTarget&&("object"===_typeof(NewTarget)||"function"==typeof NewTarget))return NewTarget;if(void 0!==NewTarget)throw new TypeError("Derived constructors may only return object or undefined");return function(self){if(void 0!==self)return self;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(Super)}}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}var CircularWithValue=function(){_inherits(CircularWithValue,_react.PureComponent);var _super=_createSuper(CircularWithValue);function CircularWithValue(){return _classCallCheck(this,CircularWithValue),_super.apply(this,arguments)}return _createClass(CircularWithValue,[{key:"render",value:function(){var _this$props=this.props,size=_this$props.size,value=_this$props.value,thickness=_this$props.thickness,color=_this$props.color,bgColor=_this$props.bgColor,trackColor=_this$props.trackColor,fontSize=_this$props.fontSize,rootStyle=_this$props.rootStyle,_this$props=_this$props.onClick,trackColor={track:_objectSpread({position:"relative",height:size,width:size,backgroundColor:trackColor,borderRadius:"50%",cursor:_this$props?"pointer":"default"},rootStyle),label:{color:color,fontSize:fontSize,fontWeight:500,height:size-2*thickness,width:size-2*thickness,backgroundColor:bgColor,position:"absolute",top:thickness,left:thickness,lineHeight:size-2*thickness+"px",borderRadius:"50%",textAlign:"center"}};return React.createElement("div",{style:trackColor.track,onClick:_this$props},React.createElement("div",{style:trackColor.label},value,"%"),React.createElement(_materialUi.CircularProgress,{size:size,thickness:thickness,mode:"determinate",value:value,style:{position:"absolute",top:0,left:0}}))}}]),CircularWithValue}(),require=function(){_inherits(FilePreview,_react.PureComponent);var _super2=_createSuper(FilePreview);function FilePreview(props){return _classCallCheck(this,FilePreview),(props=_super2.call(this,props)).state={loading:!1},props}return _createClass(FilePreview,[{key:"getStyles",value:function(){var _this$props2=this.props,style=_this$props2.style,mimeFontStyle=_this$props2.mimeFontStyle,lightBackground=_this$props2.lightBackground,_this$props2=_this$props2.muiTheme,color=new _color.default(_this$props2.palette.primary1Color).saturationl(18).lightness(44).toString();return{rootStyle:_objectSpread({backgroundColor:new _color.default(_this$props2.palette.primary1Color).saturationl(15).lightness(lightBackground?98:94).toString(),alignItems:"initial"},style),mimeFontStyle:_objectSpread({color:color},mimeFontStyle),progressColor:_this$props2.palette.primary1Color}}},{key:"insertPreviewNode",value:function(previewNode){this._previewNode=previewNode;previewNode=this.refs.container;previewNode.innerHTML="",previewNode.className="richPreviewContainer",previewNode.appendChild(this._previewNode)}},{key:"destroyPreviewNode",value:function(){this._previewNode&&(this._previewNode.destroyElement(),this._previewNode.parentNode&&this._previewNode.parentNode.removeChild(this._previewNode),this._previewNode=null)}},{key:"componentDidMount",value:function(){this.loadCoveringImage()}},{key:"componentWillUnmount",value:function(){this.destroyPreviewNode()}},{key:"componentWillReceiveProps",value:function(nextProps){if(nextProps.node.getPath()!==this.props.node.getPath())return this.destroyPreviewNode(),void this.loadCoveringImage();this._previewNode||nextProps.loadThumbnail!==this.props.loadThumbnail&&nextProps.loadThumbnail&&this.loadCoveringImage(!0)}},{key:"loadCoveringImage",value:function(){var editors,editorClassName,_this$props3=this.props,node=_this$props3.node,loadThumbnail=_this$props3.loadThumbnail,_this$props3=_this$props3.richPreview;!(loadThumbnail||0<arguments.length&&void 0!==arguments[0]&&arguments[0])||((editors=(loadThumbnail=_pydio.default.getInstance()).Registry.findEditorsForMime(node.isLeaf()?node.getAjxpMime():"mime_folder",!0))&&editors.length||(_this$props3&&node.getMetadata().get("PDFPreview")?editors=loadThumbnail.Registry.findEditorsForMime("pdf",!0):node.getMetadata().get("ImagePreview")&&(editors=loadThumbnail.Registry.findEditorsForMime("jpg",!0)),editors&&editors.length))&&(editorClassName=editors[0].editorClass,loadThumbnail.Registry.loadEditorResources(editors[0].resourcesManager,function(){var component=_func.default.getFunctionByName(editorClassName,window);component&&this.loadPreviewFromEditor(component,node)}.bind(this)))}},{key:"loadPreviewFromEditor",value:function(editorClass,node){this.setState({EditorClass:this.props.richPreview?editorClass.Panel:editorClass.Badge})}},{key:"render",value:function(){var element,_this$getStyles=this.getStyles(),rootStyle=_this$getStyles.rootStyle,mimeFontStyle=_this$getStyles.mimeFontStyle,_this$getStyles=_this$getStyles.progressColor,_this$props4=this.props,node=_this$props4.node,mimeClassName=_this$props4.mimeClassName,processing=_this$props4.processing,uploading=_this$props4.uploading,uploadprogress=_this$props4.uploadprogress,_this$props4=_this$props4.displayLarge,EditorClass=this.state.EditorClass,additionalClass="";return uploading?(_this$props4&&(rootStyle.display="flex",rootStyle.alignItems="center",rootStyle.justifyContent="center"),element=React.createElement(CircularWithValue,{size:_this$props4?48:28,thickness:_this$props4?4:2,value:uploadprogress,rootStyle:_this$props4?{}:{margin:6},fontSize:_this$props4?12:9,color:_this$getStyles,bgColor:rootStyle.backgroundColor,trackColor:"white",onClick:function(){_pydio.default.getInstance().Controller.fireAction("upload")}})):processing?150<rootStyle.height?(element=React.createElement(_materialUi.CircularProgress,{size:30,thickness:2}),rootStyle.alignItems="center",rootStyle.justifyContent="center"):element=React.createElement(_materialUi.CircularProgress,{size:24,thickness:1.5,style:{margin:8}}):EditorClass?(element=React.createElement(EditorClass,_extends({pydio:_pydio.default.getInstance()},this.props,{preview:!0,mimeFontStyle:mimeFontStyle})),additionalClass=" editor_mime_"+node.getAjxpMime()):((uploading=node.getSvgSource()||(node.isLeaf()?"file":"folder"))&&!uploading.startsWith("icomoon")&&(uploading="mdi mdi-"+uploading),element=React.createElement("div",{key:"icon",className:mimeClassName||"mimefont "+uploading,style:mimeFontStyle})),React.createElement("div",{ref:"container",style:rootStyle,className:"mimefont-container"+(EditorClass?" with-editor-badge":"")+additionalClass,onClick:this.props.onClick},element)}}],[{key:"propTypes",get:function(){return{node:_propTypes.default.instanceOf(AjxpNode).isRequired,loadThumbnail:_propTypes.default.bool,richPreview:_propTypes.default.bool,processing:_propTypes.default.bool,style:_propTypes.default.object,mimeFontStyle:_propTypes.default.object,mimeClassName:_propTypes.default.string}}},{key:"defaultProps",get:function(){return{richPreview:!1}}}]),FilePreview}(),_styles=(0,_styles.muiThemeable)()(require);exports.default=_styles,module.exports=exports.default},{color:"color","material-ui":"material-ui","material-ui/styles":"material-ui/styles","prop-types":"prop-types",pydio:"pydio","pydio/util/func":"pydio/util/func",react:"react"}],68:[function(require,module,exports){!function(global){!function(){"use strict";function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _react=_interopRequireDefault(require("react")),_propTypes=_interopRequireDefault(require("prop-types")),_pydio=_interopRequireDefault(require("pydio")),_path=_interopRequireDefault(require("pydio/util/path")),_xml=_interopRequireDefault(require("pydio/util/xml")),_resourcesManager=_interopRequireDefault(require("pydio/http/resources-manager")),_action=_interopRequireDefault(require("pydio/model/action")),_reactDom=_interopRequireDefault(require("react-dom")),_FilePreview=_interopRequireDefault(require("./FilePreview")),_materialUi=require("material-ui"),_CellsMessageToolbar=_interopRequireDefault(require("./CellsMessageToolbar")),_OverlayIcon=_interopRequireDefault(require("./OverlayIcon")),_lodash=require("lodash");function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _extends(){return(_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var key,source=arguments[i];for(key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target}).apply(this,arguments)}function ownKeys(object,enumerableOnly){var symbols,keys=Object.keys(object);return Object.getOwnPropertySymbols&&(symbols=Object.getOwnPropertySymbols(object),enumerableOnly&&(symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable})),keys.push.apply(keys,symbols)),keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach(function(key){_defineProperty(target,key,source[key])}):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))})}return target}function _toConsumableArray(arr){return function(arr){if(Array.isArray(arr))return _arrayLikeToArray(arr)}(arr)||function(iter){if("undefined"!=typeof Symbol&&null!=iter[Symbol.iterator]||null!=iter["@@iterator"])return Array.from(iter)}(arr)||function(o,minLen){if(o){if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);return"Map"===(n="Object"===n&&o.constructor?o.constructor.name:n)||"Set"===n?Array.from(o):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(o,minLen):void 0}}(arr)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(o,p)}function _createSuper(Derived){var hasNativeReflectConstruct=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var NewTarget,Super=_getPrototypeOf(Derived),Super=(NewTarget=hasNativeReflectConstruct?(NewTarget=_getPrototypeOf(this).constructor,Reflect.construct(Super,arguments,NewTarget)):Super.apply(this,arguments),this);if(NewTarget&&("object"===_typeof(NewTarget)||"function"==typeof NewTarget))return NewTarget;if(void 0!==NewTarget)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(Super)}}function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function _defineProperty(obj,key,value){key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Object.defineProperty(Constructor,"prototype",{writable:!1})}var _Pydio$requireLib=_pydio.default.requireLib("components"),SimpleList=_Pydio$requireLib.SimpleList,Masonry=_Pydio$requireLib.Masonry,_Pydio$requireLib=_pydio.default.requireLib("boot"),moment=_Pydio$requireLib.moment,SingleJobProgress=_Pydio$requireLib.SingleJobProgress,ComponentConfigsParser=function(){function ComponentConfigsParser(renderLabel){_classCallCheck(this,ComponentConfigsParser),this.renderLabel=renderLabel}return _createClass(ComponentConfigsParser,[{key:"getDefaultListColumns",value:function(){return{text:{label:"File Name",message:"1",width:"50%",renderCell:this.renderLabel,sortType:"file-natural",remoteSortAttribute:"ajxp_label"},bytesize:{label:"File Size",message:"2",sortType:"number",sortAttribute:"bytesize",remoteSortAttribute:"filesize"},mimestring:{label:"File Type",message:"3",sortType:"string"},ajxp_modiftime:{label:"Mofidied on",message:"4",sortType:"number"}}}},{key:"loadConfigs",value:function(){var _this=this,columnsNodes=_xml.default.XPathSelectNodes(_pydio.default.getInstance().getXmlRegistry(),'client_configs/component_config[@component="FilesList"]/columns/column|client_configs/component_config[@component="FilesList"]/columns/additional_column'),columns={},messages=_pydio.default.getMessages(),proms=[];return columnsNodes.forEach(function(colNode){var reactModifier,name=colNode.getAttribute("attributeName"),sortType={String:"string",StringDirFile:"string",MyDate:"number",CellSorterValue:"number",Number:"number"}[sortType=colNode.getAttribute("sortType")]||"string";"bytesize"===name&&(sortType="number"),columns[name]={message:colNode.getAttribute("messageId"),label:colNode.getAttribute("messageString")?colNode.getAttribute("messageString"):messages[colNode.getAttribute("messageId")],sortType:sortType,inlineHide:"false"===colNode.getAttribute("defaultVisibilty")},"ajxp_label"===name&&(columns[name].renderCell=_this.renderLabel),colNode.getAttribute("reactModifier")&&(sortType=(reactModifier=colNode.getAttribute("reactModifier")).split(".",1).shift(),proms.push(_resourcesManager.default.loadClass(sortType).then(function(){columns[name].renderCell=FuncUtils.getFunctionByName(reactModifier,global),columns[name].renderComponent=columns[name].renderCell,-1<reactModifier.indexOf("renderTagsCloud")&&(columns[name].renderBlock=!0)})))}),Promise.all(proms).then(function(){return columns||_this.getDefaultListColumns()})}}]),ComponentConfigsParser}(),_Pydio$requireLib=function(_React$Component){var subClass=MainFilesList;if("function"!=typeof _React$Component&&null!==_React$Component)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(_React$Component&&_React$Component.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),Object.defineProperty(subClass,"prototype",{writable:!1}),_React$Component&&_setPrototypeOf(subClass,_React$Component);var _super=_createSuper(MainFilesList);function MainFilesList(props,context){_classCallCheck(this,MainFilesList),_this2=_super.call(this,props,context);var _this2,context=new ComponentConfigsParser(_this2.tableEntryRenderCell.bind(_assertThisInitialized(_this2))),dMode=(context.loadConfigs("FilesList").then(function(columns){_this2.setState({columns:columns})}),_this2.getPrefValue("FilesListDisplayMode",_this2.props.displayMode||"list")),tSize=200,dataModel=("grid-320"===dMode?tSize=320:"grid-80"===dMode&&(tSize=80),_this2.props.dataModel);return _this2.state={contextNode:dataModel.getContextNode(),displayMode:dMode,showExtensions:_this2.getPrefValue("FilesListShowExtensions",!1),pinBookmarks:_this2.getPrefValue("FilesListPinBookmarks",!1),thumbNearest:tSize,thumbSize:tSize,elementsPerLine:5,columns:context.getDefaultListColumns(),parentIsScrolling:props.parentIsScrolling,repositoryId:props.pydio.repositoryId},_this2}return _createClass(MainFilesList,[{key:"getPrefValue",value:function(prefName,defaultValue){var pydio=this.props.pydio;if(!pydio.user)return defaultValue;var slug=pydio.user.getActiveRepositoryObject().getSlug(),pydio=pydio.user?pydio.user.getPreference("gui_preferences",!0):{};return pydio[prefName]&&void 0!==pydio[prefName][slug]?pydio[prefName][slug]:defaultValue}},{key:"setPrefValue",value:function(prefName,value){var slug,guiPrefs,dPrefs,pydio=this.props.pydio;pydio.user&&(slug=pydio.user.getActiveRepositoryObject().getSlug(),(dPrefs=(guiPrefs=pydio.user?pydio.user.getPreference("gui_preferences",!0):{})[prefName]||{})[slug]=value,guiPrefs[prefName]=dPrefs,pydio.user.setPreference("gui_preferences",guiPrefs,!0),pydio.user.savePreference("gui_preferences"))}},{key:"componentDidMount",value:function(){var dataModel=this.props.dataModel;this._contextObserver=function(){this.setState({contextNode:dataModel.getContextNode()})}.bind(this),dataModel.observe("context_changed",this._contextObserver),this.props.pydio.getController().updateGuiActions(this.getPydioActions()),this.recomputeThumbnailsDimension(),this._thumbObserver=(0,_lodash.debounce)(this.recomputeThumbnailsDimension.bind(this),500),window.addEventListener?window.addEventListener("resize",this._thumbObserver):window.attachEvent("onresize",this._thumbObserver),this.props.onDisplayModeChange&&this.state&&this.state.displayMode&&this.props.onDisplayModeChange(this.state.displayMode)}},{key:"componentWillUnmount",value:function(){this.props.dataModel.stopObserving("context_changed",this._contextObserver),this.getPydioActions(!0).map(function(key){this.props.pydio.getController().deleteFromGuiActions(key)}.bind(this)),window.addEventListener?window.removeEventListener("resize",this._thumbObserver):window.detachEvent("onresize",this._thumbObserver)}},{key:"shouldComponentUpdate",value:function(nextProps,nextState){return!this.state||this.state.repositoryId!==nextProps.pydio.repositoryId||nextProps.dataModel!==this.props.dataModel||nextProps.searchLoading!==this.props.searchLoading||nextProps.searchResults!==this.props.searchResults||nextProps.searchScope!==this.props.searchScope||nextState!==this.state}},{key:"componentWillReceiveProps",value:function(nextProps){var dMode,_this3=this;nextProps.dataModel!==this.props.dataModel&&(this.props.dataModel.stopObserving("context_changed",this._contextObserver),nextProps.dataModel.observe("context_changed",this._contextObserver),this._contextObserver()),this.state&&this.state.repositoryId!==this.props.pydio.repositoryId&&(this.props.pydio.getController().updateGuiActions(this.getPydioActions()),new ComponentConfigsParser(this.tableEntryRenderCell.bind(this)).loadConfigs("FilesList").then(function(columns){_this3.setState({columns:columns})}),dMode=this.getPrefValue("FilesListDisplayMode",this.state&&this.state.displayMode?this.state.displayMode:"list"),this.state.displayMode!==dMode&&0===dMode.indexOf("grid-")&&(nextProps=200,"grid-320"===dMode?nextProps=320:"grid-80"===dMode&&(nextProps=80),this.setState({thumbNearest:nextProps,thumbSize:nextProps})),this.setState({repositoryId:this.props.pydio.repositoryId,displayMode:dMode},function(){_this3.props.onDisplayModeChange&&_this3.props.onDisplayModeChange(dMode)}))}},{key:"resize",value:function(){this.recomputeThumbnailsDimension()}},{key:"recomputeThumbnailsDimension",value:function(nearest){var _this$state=this.state,contextNode=_this$state.contextNode,displayMode=_this$state.displayMode,_this$state=_this$state.thumbNearest;if(0===displayMode.indexOf("grid")){var THUMBNAIL_MARGIN="grid-80"===displayMode?4:8;try{containerWidth=_reactDom.default.findDOMNode(this.refs.list.refs.infinite).clientWidth-5}catch(e){containerWidth=200}(!nearest||nearest instanceof Event)&&(nearest=_this$state);var _this$state=Math.floor(containerWidth/nearest),containerWidth=Math.floor(containerWidth/_this$state)-2*THUMBNAIL_MARGIN;this.props.horizontalRibbon&&(_this$state=contextNode.getChildren().size,containerWidth="grid-160"===displayMode?160:"grid-320"===displayMode?280:"grid-80"===displayMode?100:200),this.setState({elementsPerLine:_this$state,thumbSize:containerWidth,thumbNearest:nearest})}}},{key:"computeLabel",value:function(node){var showExtensions=this.state.showExtensions,label=node.getLabel();return label=node.isLeaf()&&"."!==label[0]&&(node=_path.default.getFileExtension(label))?_react.default.createElement("span",null,label.substring(0,label.length-(node="."+node).length),_react.default.createElement("span",{className:"label-extension",style:{opacity:.33,display:showExtensions?null:"none"}},node)):label}},{key:"tableEntryRenderCell",value:function(node){return _react.default.createElement("span",null,_react.default.createElement(_FilePreview.default,{rounded:!0,loadThumbnail:!1,node:node,style:{backgroundColor:"transparent"}}),_react.default.createElement("span",{style:{display:"block",overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"},title:node.getLabel()},this.computeLabel(node)))}},{key:"entryRenderIcon",value:function(node){var hasThumbnail,processing,uploading,uploadprogress,_this4=this,entryProps=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},displayMode=this.state.displayMode,lightBackground=0===displayMode.indexOf("grid")||"masonry"===displayMode;return entryProps&&entryProps.parent?_react.default.createElement(_FilePreview.default,{loadThumbnail:!1,node:node,mimeClassName:"mimefont mdi mdi-chevron-left",onClick:function(){_this4.entryHandleClicks(node,SimpleList.CLICK_TYPE_DOUBLE)},style:{cursor:"pointer"},lightBackground:lightBackground}):(hasThumbnail=!!node.getMetadata().get("thumbnails")||!!node.getMetadata().get("ImagePreview"),processing=!!node.getMetadata().get("Processing"),uploading="loading"===node.getMetadata().get("local:UploadStatus"),uploadprogress=node.getMetadata().get("local:UploadProgress"),_react.default.createElement(_FilePreview.default,{loadThumbnail:!entryProps.parentIsScrolling&&hasThumbnail&&!processing,node:node,processing:processing,lightBackground:lightBackground,displayLarge:lightBackground,mimeFontOverlay:"list"===displayMode,uploading:uploading,uploadprogress:uploadprogress}))}},{key:"entryRenderActions",value:function(node){var ContextMenuModel,classes,style,content=null,_this$props=this.props,pydio=_this$props.pydio,dataModel=_this$props.dataModel,searchResults=_this$props.searchResults,_this$props=this.state.displayMode,gridMode=0===_this$props.indexOf("grid-")||"masonry"===_this$props,overlayClasses=node.getMetadata().get("overlay_class")||"";return node.getMetadata().has("local:entryRenderActions")?node.getMetadata().get("local:entryRenderActions")(node,this.props,this.state):pydio.UI.MOBILE_EXTENSIONS?(ContextMenuModel=require("pydio/model/context-menu"),_react.default.createElement(_materialUi.IconButton,{iconClassName:"mdi mdi-dots-vertical",style:{zIndex:0,padding:10},tooltip:"Info",onClick:function(event){pydio.observeOnce("actions_refreshed",function(){ContextMenuModel.getInstance().openNodeAtPosition(node,event.clientX,event.clientY)}),event.stopPropagation(),dataModel.setSelectedNodes([node]),ContextMenuModel.getInstance().openNodeAtPosition(node,event.clientX,event.clientY)}})):(!overlayClasses&&"list"===_this$props||(classes=overlayClasses.split(",").filter(function(c){return!!c}),classes=(classes=gridMode?classes.filter(function(c){return"mdi mdi-star"!==c}):classes).map(function(c){return _react.default.createElement(_OverlayIcon.default,{node:node,key:c,overlay:c,pydio:pydio,disableActions:!!searchResults,tooltipPosition:gridMode?"bottom-right":void 0,popoverDirection:gridMode?"left":"right"})}),"list"!==_this$props&&"masonry"!==_this$props&&classes.push(_react.default.createElement(_OverlayIcon.default,{pydio:pydio,node:node,overlay:"mdi mdi-tag-outline",disableActions:!!searchResults,tooltipPosition:gridMode?"bottom-right":void 0,popoverDirection:gridMode?"left":"right"})),gridMode&&classes.unshift(_react.default.createElement(_OverlayIcon.default,{pydio:pydio,node:node,overlay:"mdi mdi-star"+(-1<overlayClasses.indexOf("mdi-star")?"":"-outline"),disableActions:!!searchResults,tooltipPosition:"bottom-right",clickActions:!0})),"detail"===_this$props&&(style={width:34*classes.length}),content=_react.default.createElement("div",{className:"overlay_icon_div",style:style},classes),0===_this$props.indexOf("grid-")&&node.isLeaf()&&node.getMetadata().get("ImagePreview")&&node.getSvgSource()&&(content=_react.default.createElement(_react.default.Fragment,null,content,_react.default.createElement("span",{style:{flex:1}}),_react.default.createElement("div",{className:"mdi mdi-"+node.getSvgSource()+" mimefont mimefont-overlay"})))),content)}},{key:"entryHandleClicks",value:function(node,clickType,event){var _this$props2=this.props,dm=_this$props2.dataModel,_this$props2=_this$props2.pydio,mobile=_this$props2.UI.MOBILE_EXTENSIONS||this.props.horizontalRibbon;dm.getContextNode().getParent()===node&&clickType===SimpleList.CLICK_TYPE_SIMPLE||(mobile||clickType&&clickType!==SimpleList.CLICK_TYPE_SIMPLE?!mobile&&clickType!==SimpleList.CLICK_TYPE_DOUBLE||(node.isBrowsable()?_this$props2.goTo(node):(dm.setSelectedNodes([node]),_this$props2.Controller.fireAction("open_with_unique"))):(mobile=dm.getSelectedNodes(),event&&event.shiftKey&&mobile.length&&this.refs.list?(clickType=this.refs.list.computeSelectionFromCurrentPlusTargetNode(mobile,node),dm.setSelectedNodes(clickType)):event&&(event.ctrlKey||event.metaKey)&&mobile.length?-1===mobile.indexOf(node)?dm.setSelectedNodes([].concat(_toConsumableArray(mobile),[node])):(_this$props2=mobile.filter(function(obj){return obj!==node}),dm.setSelectedNodes(_this$props2)):dm.setSelectedNodes([node])))}},{key:"entryRenderSecondLine",value:function(node){var repoLabel,linkString,_this$props3=this.props,searchResults=_this$props3.searchResults,searchScope=_this$props3.searchScope,pydio=_this$props3.pydio,metaData=node.getMetadata(),_this$props3=[],standardPieces=[],otherPieces=[];if(metaData.has("pending_operation"))return metaData.has("pending_operation_uuid")?_react.default.createElement(SingleJobProgress,{jobID:metaData.get("pending_operation_uuid"),style:{display:"flex",flexDirection:"row-reverse",alignItems:"center"},progressStyle:{width:60,paddingRight:10},labelStyle:{flex:1}}):_react.default.createElement("span",{style:{fontStyle:"italic",color:"rgba(0,0,0,.33)"}},metaData.get("pending_operation"));if(metaData.has("local:entryRenderSecondLine"))return metaData.get("local:entryRenderSecondLine")();if(metaData.has("local:entryDescription"))return _react.default.createElement("span",{className:"metadata_chunk metadata_chunk_description"},metaData.get("local:entryDescription"));searchResults&&(node.getMetadata().get("repository_display")&&(repoLabel="["+node.getMetadata().get("repository_display")+"]"),(linkString=node.isLeaf()?_path.default.getDirname(node.getPath()):node.getPath())&&"/"===linkString.charAt(0)&&(linkString=linkString.substr(1)),_this$props3.push(_react.default.createElement("span",{className:"metadata_chunk metadata_chunk_description metadata_chunk_clickable",key:"result_path",style:{marginRight:5,cursor:"pointer"},onClick:function(e){e.stopPropagation(),pydio.goTo(node)}},linkString="all"===searchScope&&linkString?repoLabel+" "+linkString:linkString||repoLabel),_react.default.createElement("span",null,"• "))),metaData.get("ajxp_modiftime")&&(-1<(repoLabel=(searchScope=moment(1e3*parseFloat(metaData.get("ajxp_modiftime")))).calendar()).indexOf("/")&&(repoLabel=searchScope.fromNow()),linkString=_path.default.formatModifDate(searchScope.toDate()),_this$props3.push(_react.default.createElement("span",{key:"time_description",title:linkString,className:"metadata_chunk metadata_chunk_description"},repoLabel)));var columns=this.state.columns,searchScope=(Object.keys(columns).forEach(function(s){var columnDef=columns[s],standard=!1;if("ajxp_label"!==s&&"text"!==s&&"ajxp_modiftime"!==s&&!columnDef.inlineHide){if("ajxp_dirname"===s&&metaData.get("filename"))var dirName=_path.default.getDirname(metaData.get("filename")),dirName=dirName||"/",standard=!0;else if("bytesize"===s){if(!metaData.has(s)||"-"===metaData.get(s))return;dirName=_path.default.roundFileSize(parseInt(metaData.get(s))),standard=!0}else if(columnDef.renderComponent){if(columnDef.name=s,null===(dirName=columnDef.renderComponent(node,columnDef)))return}else{"mimestring"!==s&&"readable_dimension"!==s||(standard=!0);var metaValue=metaData.get(s)||"";if(!metaValue)return;dirName=metaValue=metaValue.length&&26<metaValue.length?_react.default.createElement(_react.default.Fragment,null,metaValue.substr(0,26),"…"):metaValue}var metaValue=_react.default.createElement("span",{className:"icon-angle-right"}),cellClass="metadata_chunk metadata_chunk_"+(standard?"standard":"other")+" metadata_chunk_"+s,columnDef=(columnDef.renderComponent&&columnDef.renderBlock&&(cellClass+=" metadata_chunk_block"),_react.default.createElement("span",{key:s,className:cellClass},metaValue,_react.default.createElement("span",{className:"text_label"},dirName)));(standard?standardPieces:otherPieces).push(columnDef)}}),_react.default.createElement(_OverlayIcon.default,{pydio:pydio,node:node,overlay:"mdi mdi-tag-outline",style:{height:22,width:22,margin:"0 2px",padding:"0 2px"},disableActions:!!searchResults,className:"metadata_chunk metadata_chunk_standard",tooltipPosition:"bottom-right",popoverDirection:"left"}));return _this$props3.push.apply(_this$props3,otherPieces.concat([searchScope],standardPieces)),_this$props3}},{key:"switchDisplayMode",value:function(displayMode){var _this5=this;this.setState({displayMode:displayMode},function(){var near=null;0===displayMode.indexOf("grid-")&&(near=parseInt(displayMode.split("-")[1])),_this5.recomputeThumbnailsDimension(near),_this5.setPrefValue("FilesListDisplayMode",displayMode),_this5.props.onDisplayModeChange&&_this5.props.onDisplayModeChange(displayMode),_this5.props.pydio.notify("actions_refreshed")})}},{key:"buildDisplayModeItems",value:function(){var _this6=this,displayMode=this.state.displayMode;return[{name:_pydio.default.getMessages()["ajax_gui.list.display-mode.list"],title:227,icon_class:"mdi mdi-view-list",value:"list",hasAccessKey:!0,accessKey:"list_access_key"},{name:_pydio.default.getMessages()["ajax_gui.list.display-mode.details"],title:461,icon_class:"mdi mdi-view-headline",value:"detail",hasAccessKey:!0,accessKey:"detail_access_key"},{name:_pydio.default.getMessages()["ajax_gui.list.display-mode.thumbs"],title:229,icon_class:"mdi mdi-view-grid",value:"grid-160",hasAccessKey:!0,accessKey:"thumbs_access_key"},{name:_pydio.default.getMessages()["ajax_gui.list.display-mode.thumbs-large"],title:229,icon_class:"mdi mdi-view-agenda",value:"grid-320",hasAccessKey:!1},{name:_pydio.default.getMessages()["ajax_gui.list.display-mode.thumbs-small"],title:229,icon_class:"mdi mdi-view-module",value:"grid-80",hasAccessKey:!1},{name:_pydio.default.getMessages()["ajax_gui.list.display-mode.masonry"],title:229,icon_class:"mdi mdi-view-dashboard",value:"masonry",hasAccessKey:!1}].map(function(item){var i=_objectSpread({},item),item=item.value;return i.callback=function(){_this6.switchDisplayMode(i.value)},item===displayMode&&(i.icon_class="mdi mdi-check"),i})}},{key:"buildShowExtensionsItems",value:function(){var _this7=this,_this$state2=this.state,showExtensions=_this$state2.showExtensions,pinBookmarks=_this$state2.pinBookmarks;return[{name:_pydio.default.getMessages()["ajax_gui.list.extensions.show"],icon_class:showExtensions?"mdi mdi-toggle-switch":"mdi mdi-toggle-switch-off",callback:function(){_this7.setState({showExtensions:!showExtensions},function(){_this7.props.pydio.notify("actions_refreshed"),_this7.setPrefValue("FilesListShowExtensions",!showExtensions)})}},{name:_pydio.default.getMessages()["ajax_gui.list.pin.bookmarks"],icon_class:pinBookmarks?"mdi mdi-toggle-switch":"mdi mdi-toggle-switch-off",callback:function(){_this7.setState({pinBookmarks:!pinBookmarks},function(){_this7.props.pydio.notify("actions_refreshed"),_this7.setPrefValue("FilesListPinBookmarks",!pinBookmarks)})}}]}},{key:"getPydioActions",value:function(){if(0<arguments.length&&void 0!==arguments[0]&&arguments[0])return["switch_display_mode","toggle_show_extensions"];var multiAction=new _action.default({name:"switch_display_mode",icon_class:"mdi mdi-view-list",text_id:150,title_id:151,text:MessageHash[150],title:MessageHash[151],hasAccessKey:!1,subMenu:!0,subMenuUpdateImage:!0},{selection:!1,dir:!0,actionBar:!0,actionBarGroup:"display_toolbar",contextMenu:!1,infoPanel:!1},{},{},{dynamicBuilder:this.buildDisplayModeItems.bind(this)}),buttons=new Map,multiAction=(buttons.set("switch_display_mode",multiAction),new _action.default({name:"toggle_show_extensions",icon_class:"mdi mdi-format-size",text_id:"ajax_gui.list.extensions.action",text:_pydio.default.getMessages()["ajax_gui.list.extensions.action"],subMenu:!0,subMenuUpdateImage:!0},{selection:!1,dir:!0,actionBar:!0,actionBarGroup:"display_toolbar",contextMenu:!1,infoPanel:!1},{},{},{dynamicBuilder:this.buildShowExtensionsItems.bind(this)}));return buttons.set("toggle_show_extensions",multiAction),buttons}},{key:"render",value:function(){var tableKeys,sortKeys,elementHeight,entryRenderSecondLine,labelHeight,recyclePath,_this8=this,_this$props4=this.props,pydio=_this$props4.pydio,dataModel=_this$props4.dataModel,style=_this$props4.style,_this$props4=_this$props4.gridBackground,_this$state3=this.state,contextNode=_this$state3.contextNode,displayMode=_this$state3.displayMode,columns=_this$state3.columns,thumbSize=_this$state3.thumbSize,_this$state3=_this$state3.pinBookmarks,className="files-list layout-fill main-files-list",elementsPerLine=1,infiniteSliceCount=(0===displayMode.indexOf("grid-")&&(near=parseInt(displayMode.split("-")[1]),displayMode="grid"),50),additionalStyle={},thumbSize=("detail"===displayMode?(elementHeight=SimpleList.HEIGHT_ONE_LINE,tableKeys=columns):"grid"===displayMode?(sortKeys=columns,className+=" material-list-grid grid-size-"+near,labelHeight=80===near?16:36,(elementHeight=0<(elementsPerLine=this.state.elementsPerLine)?Math.ceil((thumbSize+labelHeight)/elementsPerLine):elementHeight)&&!this.props.horizontalRibbon||(elementHeight=1),labelHeight={width:thumbSize,height:thumbSize+labelHeight},this.props.horizontalRibbon&&(className+=" horizontal-ribbon"),320===near?infiniteSliceCount=25:160===near?infiniteSliceCount=80:80===near&&(infiniteSliceCount=200),additionalStyle={backgroundColor:_this$props4}):"list"===displayMode&&(sortKeys=columns,elementHeight=SimpleList.HEIGHT_TWO_LINES,entryRenderSecondLine=this.entryRenderSecondLine.bind(this)),pydio.MessageHash),near=pydio.Controller.getActionByName("upload")&&!contextNode.getMetadata().has("node_readonly"),_this$props4=thumbSize[near?"565":"566"],columns=near?"mdi mdi-cloud-upload":"mdi mdi-folder-outline",near={style:{backgroundColor:"transparent"},iconClassName:columns,primaryTextId:thumbSize[562],secondaryTextId:_this$props4},isCell=(contextNode.isRoot()?(isCell=!(!pydio.user||!pydio.user.activeRepository)&&pydio.user.getRepositoriesList().get(pydio.user.activeRepository).getOwner(),recyclePath=contextNode.getMetadata().get("repo_has_recycle"),near={style:{backgroundColor:"transparent"},iconClassName:columns,primaryTextId:isCell?thumbSize[631]:thumbSize[563],secondaryTextId:_this$props4},recyclePath&&(near=_objectSpread(_objectSpread({},near),{},{checkEmptyState:function(node){return node.isLoaded()&&1===node.getChildren().size&&node.getChildren().get(recyclePath)},actionLabelId:thumbSize[567],actionIconClassName:"mdi mdi-delete",actionCallback:function(e){pydio.goTo(recyclePath)}}))):(columns=dataModel.getRootNode().getMetadata().get("repo_has_recycle"),contextNode.getPath()===columns&&(near=_objectSpread(_objectSpread({},near),{},{iconClassName:"mdi mdi-delete-empty",primaryTextId:thumbSize[564],secondaryTextId:null}))),contextNode.getMetadata().has("local:custom-list-classes")&&(className+=" "+contextNode.getMetadata().get("local:custom-list-classes").join(" ")),this.props),_this$props4=isCell.searchResults,columns=isCell.searchScope,thumbSize=isCell.searchLoading,isCell={};return _this$props4?(isCell={skipParentNavigation:!0},"all"===columns&&(isCell=_objectSpread(_objectSpread({},isCell),{},{defaultGroupBy:"repository_id",groupByLabel:"repository_display"})),near={primaryTextId:thumbSize?"searchengine.searching":478,style:{backgroundColor:"transparent"}}):_this$state3&&(isCell={groupSkipUnique:!0,defaultGroupBy:"bookmark",groupByValueFunc:function(value){return"true"===value?-1:1},renderGroupLabels:function(groupBy,value){return-1===value?_react.default.createElement("span",null,_react.default.createElement("span",{className:"mdi mdi-pin"})," ",pydio.MessageHash[147]):_react.default.createElement("span",null,_react.default.createElement("span",{className:"mdi mdi-folder-multiple-outline"})," ",pydio.MessageHash["ajax_gui.pinned-bookmarks.other"])}}),"masonry"===displayMode?_react.default.createElement(_react.default.Fragment,null,_react.default.createElement(Masonry,{className:"masonic-grid",dataModel:dataModel,entryProps:{handleClicks:this.entryHandleClicks.bind(this),renderIcon:this.entryRenderIcon.bind(this),renderActions:this.entryRenderActions.bind(this)},emptyStateProps:near,containerStyle:style}),_react.default.createElement("style",{type:"text/css",dangerouslySetInnerHTML:{__html:"\n               .masonic-grid .mimefont-container {\n                    display:flex; \n                    height:100%; \n                    align-items:center !important; \n                    justify-content:center;\n                    border-radius: 4px;\n               }\n               .masonic-grid .mimefont-container .mimefont {\n                    font-size: 36px;\n                    margin-bottom: 22px;\n               }\n               .react-mui-context .info-panel-open .masonic-grid{\n                    width: calc(100% - 270px) !important;\n               }\n            "}})):_react.default.createElement(SimpleList,_extends({ref:"list",tableKeys:tableKeys,sortKeys:sortKeys,node:contextNode,dataModel:dataModel,observeNodeReload:!0,className:className,actionBarGroups:["change_main"],infiniteSliceCount:infiniteSliceCount,skipInternalDataModel:!0,style:_objectSpread(_objectSpread({},style),additionalStyle),displayMode:displayMode,usePlaceHolder:!0,elementsPerLine:elementsPerLine,elementHeight:elementHeight,elementStyle:labelHeight,passScrollingStateToChildren:!0,entryRenderIcon:this.entryRenderIcon.bind(this),entryRenderParentIcon:this.entryRenderIcon.bind(this),entryRenderFirstLine:function(node){return _this8.computeLabel(node)},entryRenderSecondLine:entryRenderSecondLine,entryRenderActions:this.entryRenderActions.bind(this),entryHandleClicks:this.entryHandleClicks.bind(this),entriesProps:"grid"===displayMode?{selectedAsBorder:!0,noHover:!0}:{},horizontalRibbon:this.props.horizontalRibbon,emptyStateProps:near,defaultSortingInfo:{sortType:"file-natural",attribute:"",direction:"asc"},hideToolbar:!0,customToolbar:_react.default.createElement(_CellsMessageToolbar.default,{pydio:pydio})},isCell))}}]),MainFilesList}(_react.default.Component);_defineProperty(exports.default=_Pydio$requireLib,"propTypes",{pydio:_propTypes.default.instanceOf(_pydio.default),horizontalRibbon:_propTypes.default.bool}),module.exports=exports.default}.call(this)}.call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./CellsMessageToolbar":64,"./FilePreview":67,"./OverlayIcon":70,lodash:3,"material-ui":"material-ui","prop-types":"prop-types",pydio:"pydio","pydio/http/resources-manager":"pydio/http/resources-manager","pydio/model/action":"pydio/model/action","pydio/model/context-menu":"pydio/model/context-menu","pydio/util/path":"pydio/util/path","pydio/util/xml":"pydio/util/xml",react:"react","react-dom":"react-dom"}],69:[function(require,module,exports){"use strict";function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _pydio=_interopRequireDefault(require("pydio")),_react=_interopRequireDefault(require("react")),_reactDom=_interopRequireDefault(require("react-dom")),_LeftPanel=_interopRequireDefault(require("../leftnav/LeftPanel"));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _extends(){return(_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var key,source=arguments[i];for(key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target}).apply(this,arguments)}function ownKeys(object,enumerableOnly){var symbols,keys=Object.keys(object);return Object.getOwnPropertySymbols&&(symbols=Object.getOwnPropertySymbols(object),enumerableOnly&&(symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable})),keys.push.apply(keys,symbols)),keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach(function(key){!function(obj,key,value){key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value}(target,key,source[key])}):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))})}return target}function _toConsumableArray(arr){return function(arr){if(Array.isArray(arr))return _arrayLikeToArray(arr)}(arr)||function(iter){if("undefined"!=typeof Symbol&&null!=iter[Symbol.iterator]||null!=iter["@@iterator"])return Array.from(iter)}(arr)||function(o,minLen){if(o){if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);return"Map"===(n="Object"===n&&o.constructor?o.constructor.name:n)||"Set"===n?Array.from(o):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(o,minLen):void 0}}(arr)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(o,p)}function _createSuper(Derived){var hasNativeReflectConstruct=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var NewTarget,Super=_getPrototypeOf(Derived),Super=(NewTarget=hasNativeReflectConstruct?(NewTarget=_getPrototypeOf(this).constructor,Reflect.construct(Super,arguments,NewTarget)):Super.apply(this,arguments),this);if(NewTarget&&("object"===_typeof(NewTarget)||"function"==typeof NewTarget))return NewTarget;if(void 0!==NewTarget)throw new TypeError("Derived constructors may only return object or undefined");return function(self){if(void 0!==self)return self;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(Super)}}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}var require=_pydio.default.requireLib("hoc"),withContextMenu=require.withContextMenu,require=require.dropProvider,ContextMenu=_pydio.default.requireLib("components").ContextMenu,_pydio=function(_React$Component){var subClass=MasterLayout;if("function"!=typeof _React$Component&&null!==_React$Component)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(_React$Component&&_React$Component.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),Object.defineProperty(subClass,"prototype",{writable:!1}),_React$Component&&_setPrototypeOf(subClass,_React$Component);var staticProps,_super=_createSuper(MasterLayout);function MasterLayout(){var instance=this,Constructor=MasterLayout;if(instance instanceof Constructor)return _super.apply(this,arguments);throw new TypeError("Cannot call a class as a function")}return subClass=MasterLayout,(_React$Component=[{key:"closeDrawer",value:function(e){var widgets;!this.props.drawerOpen||(widgets=document.getElementsByClassName("left-panel"))&&0<widgets.length&&widgets[0].contains(_reactDom.default.findDOMNode(e.target))||this.props.onCloseDrawerRequested()}},{key:"render",value:function(){var _this$props=this.props,pydio=_this$props.pydio,tutorialComponent=_this$props.tutorialComponent,onContextMenu=_this$props.onContextMenu,classes=_this$props.classes,style=_this$props.style,leftPanelProps=_this$props.leftPanelProps,children=_this$props.children,drawerOpen=_this$props.drawerOpen,_this$props=_this$props.desktopStyle,_this$props=void 0===_this$props?{}:_this$props,connectDropTarget=this.props.connectDropTarget||function(c){return c},classes=_toConsumableArray(classes);return drawerOpen&&classes.push("drawer-open"),connectDropTarget(_react.default.createElement("div",{style:_objectSpread(_objectSpread({},style),{},{overflow:"hidden"}),className:classes.join(" "),onClick:this.closeDrawer.bind(this),onContextMenu:onContextMenu},tutorialComponent,_react.default.createElement(_LeftPanel.default,_extends({className:"left-panel",pydio:pydio},leftPanelProps)),_react.default.createElement("div",{className:"desktop-container vertical_layout vertical_fit",style:_this$props},children),_react.default.createElement("span",{className:"context-menu"},_react.default.createElement(ContextMenu,{pydio:this.props.pydio}))))}}])&&_defineProperties(subClass.prototype,_React$Component),staticProps&&_defineProperties(subClass,staticProps),Object.defineProperty(subClass,"prototype",{writable:!1}),MasterLayout}(_react.default.Component);exports.default=_pydio,exports.default=_pydio=require(_pydio),exports.default=withContextMenu(_pydio),module.exports=exports.default},{"../leftnav/LeftPanel":50,pydio:"pydio",react:"react","react-dom":"react-dom"}],70:[function(require,module,exports){"use strict";function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _react=function(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule)return obj;if(null===obj||"object"!==_typeof(obj)&&"function"!=typeof obj)return{default:obj};nodeInterop=_getRequireWildcardCache(nodeInterop);if(nodeInterop&&nodeInterop.has(obj))return nodeInterop.get(obj);var key,newObj={},hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(key in obj){var desc;"default"!==key&&Object.prototype.hasOwnProperty.call(obj,key)&&((desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null)&&(desc.get||desc.set)?Object.defineProperty(newObj,key,desc):newObj[key]=obj[key])}newObj.default=obj,nodeInterop&&nodeInterop.set(obj,newObj);return newObj}(require("react")),_pydio=_interopRequireDefault(require("pydio")),_styles=require("material-ui/styles"),_color=_interopRequireDefault(require("color")),_materialUi=require("material-ui");function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _getRequireWildcardCache(nodeInterop){if("function"!=typeof WeakMap)return null;var cacheBabelInterop=new WeakMap,cacheNodeInterop=new WeakMap;return(_getRequireWildcardCache=function(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop})(nodeInterop)}function ownKeys(object,enumerableOnly){var symbols,keys=Object.keys(object);return Object.getOwnPropertySymbols&&(symbols=Object.getOwnPropertySymbols(object),enumerableOnly&&(symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable})),keys.push.apply(keys,symbols)),keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach(function(key){!function(obj,key,value){key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value}(target,key,source[key])}):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))})}return target}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(o,p)}function _createSuper(Derived){var hasNativeReflectConstruct=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var NewTarget,Super=_getPrototypeOf(Derived),Super=(NewTarget=hasNativeReflectConstruct?(NewTarget=_getPrototypeOf(this).constructor,Reflect.construct(Super,arguments,NewTarget)):Super.apply(this,arguments),this);if(NewTarget&&("object"===_typeof(NewTarget)||"function"==typeof NewTarget))return NewTarget;if(void 0!==NewTarget)throw new TypeError("Derived constructors may only return object or undefined");return function(self){if(void 0!==self)return self;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(Super)}}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}var AsyncComponent=_pydio.default.requireLib("boot").AsyncComponent,Callbacks=(_pydio.default.requireLib("components").IconButtonMenu,_pydio.default.requireLib("actions/core").Callbacks),require=function(_Component){var subClass=OverlayIcon;if("function"!=typeof _Component&&null!==_Component)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(_Component&&_Component.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),Object.defineProperty(subClass,"prototype",{writable:!1}),_Component&&_setPrototypeOf(subClass,_Component);var staticProps,_super=_createSuper(OverlayIcon);function OverlayIcon(){var instance=this,Constructor=OverlayIcon;if(instance instanceof Constructor)return _super.apply(this,arguments);throw new TypeError("Cannot call a class as a function")}return subClass=OverlayIcon,(_Component=[{key:"findAction",value:function(){function m(id){return pydio.MessageHash[id]||id}var tooltip,count,popoverNS,popoverComponent,clickAction,_this$props=this.props,overlay=_this$props.overlay,pydio=_this$props.pydio,node=_this$props.node,clickActions=_this$props.clickActions,isLeaf=node.isLeaf();switch(overlay){case"mdi mdi-star":case"mdi mdi-star-outline":tooltip=m(isLeaf?"overlay.bookmark.file":"overlay.bookmark.folder"),clickActions&&(clickAction=function(){return Callbacks.toggleBookmarkNode(node)});break;case"mdi mdi-share-variant":popoverNS="ShareDialog",popoverComponent="InfoPanel",tooltip=m(isLeaf?"overlay.shared.file":"overlay.shared.folder");break;case"mdi mdi-lock-outline":tooltip=m(isLeaf?"overlay.lock.file":"overlay.lock.folder");break;case"mdi mdi-bell":popoverNS="PydioActivityStreams",popoverComponent="OverlayPanel",tooltip=m(isLeaf?"overlay.watch.file":"overlay.watch.folder");break;case"mdi mdi-tag":case"mdi mdi-tag-outline":tooltip="",popoverNS="ReactMeta",popoverComponent="InfoPanel";break;case"mdi mdi-message-outline":case"mdi mdi-message":tooltip=(count=node.getMetadata().get("has_comments"))+" comment"+(1<count?"s":""),popoverNS="MetaComments",popoverComponent="InfoPanel"}return{tooltip:tooltip,count:count,popoverNS:popoverNS,popoverComponent:popoverComponent,clickAction:clickAction}}},{key:"selectAndApply",value:function(action){var _this$props2=this.props,pydio=_this$props2.pydio,_this$props2=_this$props2.node,dm=pydio.getContextHolder();dm.getUniqueNode()===_this$props2?action.apply():(pydio.observeOnce("actions_refreshed",function(){action.apply()}),dm.setSelectedNodes([_this$props2]))}},{key:"render",value:function(){var onClick,_this=this,_this$props3=this.props,pydio=_this$props3.pydio,node=_this$props3.node,muiTheme=_this$props3.muiTheme,overlay=_this$props3.overlay,selected=_this$props3.selected,_this$props3$tooltipP=_this$props3.tooltipPosition,_this$props3$tooltipP=void 0===_this$props3$tooltipP?"bottom-left":_this$props3$tooltipP,popoverDirection=_this$props3.popoverDirection,style=_this$props3.style,_this$props3=_this$props3.className,muiTheme=new _color.default(muiTheme.palette.primary1Color).saturationl(15).lightness(73).toString(),_this$findAction=this.findAction(),tooltip=_this$findAction.tooltip,count=_this$findAction.count,popoverNS=_this$findAction.popoverNS,popoverComponent=_this$findAction.popoverComponent,clickAction=_this$findAction.clickAction,_this$findAction=(popoverComponent?onClick=function(e){e.stopPropagation(),pydio.getContextHolder().setSelectedNodes([node]),_this.setState({popoverAnchor:e.currentTarget,popoverOpen:!0})}:clickAction&&(onClick=function(e){e.stopPropagation(),clickAction()}),_react.default.createElement(_materialUi.IconButton,{tooltip:tooltip,tooltipPosition:_this$props3$tooltipP,iconClassName:overlay+" overlay-icon-span"+(_this$props3?" "+_this$props3:""),style:_objectSpread({width:30,height:30,padding:6,margin:"6px 2px",zIndex:0,cursor:onClick?"pointer":"default"},style),iconStyle:{color:selected?"white":muiTheme,fontSize:15,transition:"none"},onClick:onClick,"data-icon-count":count}));return popoverComponent?(_this$props3$tooltipP=(tooltip=this.state||{}).popoverAnchor,overlay=tooltip.popoverOpen,_react.default.createElement(_react.Fragment,null,_react.default.createElement(_materialUi.Popover,{open:overlay,anchorEl:_this$props3$tooltipP,anchorOrigin:{horizontal:popoverDirection,vertical:"top"},targetOrigin:{horizontal:popoverDirection,vertical:"top"},canAutoPosition:!0,onRequestClose:function(){_this.setState({popoverOpen:!1})},style:{backgroundColor:"transparent",width:310},zDepth:0},_react.default.createElement(AsyncComponent,{namespace:popoverNS,componentName:popoverComponent,pydio:pydio,node:node,popoverPanel:!0,popoverRequestClose:function(){_this.setState({popoverOpen:!1})},onLoad:function(){window.dispatchEvent(new Event("resize"))}})),_this$findAction)):_this$findAction}}])&&_defineProperties(subClass.prototype,_Component),staticProps&&_defineProperties(subClass,staticProps),Object.defineProperty(subClass,"prototype",{writable:!1}),OverlayIcon}(_react.Component);exports.default=require,exports.default=(0,_styles.muiThemeable)()(require),module.exports=exports.default},{color:"color","material-ui":"material-ui","material-ui/styles":"material-ui/styles",pydio:"pydio",react:"react"}],71:[function(require,module,exports){"use strict";function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _react=require("react"),_pydio=_interopRequireDefault(require("pydio")),_reactJoyride=_interopRequireDefault(require("react-joyride"));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _extends(){return(_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var key,source=arguments[i];for(key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target}).apply(this,arguments)}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(o,p)}function _createSuper(Derived){var hasNativeReflectConstruct=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var NewTarget,Super=_getPrototypeOf(Derived),Super=(NewTarget=hasNativeReflectConstruct?(NewTarget=_getPrototypeOf(this).constructor,Reflect.construct(Super,arguments,NewTarget)):Super.apply(this,arguments),this);if(NewTarget&&("object"===_typeof(NewTarget)||"function"==typeof NewTarget))return NewTarget;if(void 0!==NewTarget)throw new TypeError("Derived constructors may only return object or undefined");return function(self){if(void 0!==self)return self;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(Super)}}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}require=_pydio.default.requireLib("boot").PydioContextConsumer,_pydio=function(_Component){var subClass=TourGuide;if("function"!=typeof _Component&&null!==_Component)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(_Component&&_Component.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),Object.defineProperty(subClass,"prototype",{writable:!1}),_Component&&_setPrototypeOf(subClass,_Component);var staticProps,_super=_createSuper(TourGuide);function TourGuide(){var instance=this,Constructor=TourGuide;if(instance instanceof Constructor)return _super.apply(this,arguments);throw new TypeError("Cannot call a class as a function")}return subClass=TourGuide,(_Component=[{key:"render",value:function(){var _this=this,locale={};return["back","close","last","next","skip"].forEach(function(k){locale[k]=_this.props.getMessage("ajax_gui.tour.locale."+k)}),React.createElement(_reactJoyride.default,_extends({},this.props,{locale:locale,allowClicksThruHole:!0}))}}])&&_defineProperties(subClass.prototype,_Component),staticProps&&_defineProperties(subClass,staticProps),Object.defineProperty(subClass,"prototype",{writable:!1}),TourGuide}(_react.Component);exports.default=_pydio,exports.default=require(_pydio),module.exports=exports.default},{pydio:"pydio",react:"react","react-joyride":11}],72:[function(require,module,exports){"use strict";function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _react=require("react"),_materialUi=require("material-ui"),_pydio=_interopRequireDefault(require("pydio")),_TourGuide=_interopRequireDefault(require("./TourGuide"));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function ownKeys(object,enumerableOnly){var symbols,keys=Object.keys(object);return Object.getOwnPropertySymbols&&(symbols=Object.getOwnPropertySymbols(object),enumerableOnly&&(symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable})),keys.push.apply(keys,symbols)),keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach(function(key){!function(obj,key,value){key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value}(target,key,source[key])}):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))})}return target}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Object.defineProperty(Constructor,"prototype",{writable:!1})}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),Object.defineProperty(subClass,"prototype",{writable:!1}),superClass&&_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(o,p)}function _createSuper(Derived){var hasNativeReflectConstruct=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var NewTarget,Super=_getPrototypeOf(Derived),Super=(NewTarget=hasNativeReflectConstruct?(NewTarget=_getPrototypeOf(this).constructor,Reflect.construct(Super,arguments,NewTarget)):Super.apply(this,arguments),this);if(NewTarget&&("object"===_typeof(NewTarget)||"function"==typeof NewTarget))return NewTarget;if(void 0!==NewTarget)throw new TypeError("Derived constructors may only return object or undefined");return function(self){if(void 0!==self)return self;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(Super)}}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}var _pydio=_pydio.default.requireLib("boot").PydioContextConsumer,DOMUtils=require("pydio/util/dom"),Scheme=function(){_inherits(Scheme,_react.Component);var _super=_createSuper(Scheme);function Scheme(){return _classCallCheck(this,Scheme),_super.apply(this,arguments)}return _createClass(Scheme,[{key:"render",value:function(){var style={position:"relative",fontSize:24,width:this.props.dimension||100,height:this.props.dimension||100,backgroundColor:"#ECEFF1",color:"#607d8b",borderRadius:"50%",margin:"0 auto"};return React.createElement("div",{style:_objectSpread(_objectSpread({},style),this.props.style)},this.props.children)}}]),Scheme}(),IconScheme=function(){_inherits(IconScheme,_react.Component);var _super2=_createSuper(IconScheme);function IconScheme(props){var _this;return _classCallCheck(this,IconScheme),(_this=_super2.call(this,props)).state={icon:props.icon||props.icons[0],index:0},_this}return _createClass(IconScheme,[{key:"componentDidMount",value:function(){this.componentWillReceiveProps(this.props)}},{key:"componentWillReceiveProps",value:function(nextProps){var state,_this2=this,icon=nextProps.icon,nextProps=nextProps.icons;this._interval&&clearInterval(this._interval),icon?state={icon:icon}:nextProps&&(state={icon:nextProps[0],index:0},this._interval=setInterval(function(){_this2.nextIcon()},1700)),this.setState(state)}},{key:"nextIcon",value:function(){var icons=this.props.icons,next=this.state.index+1;next>icons.length-1&&(next=0),this.setState({index:next,icon:icons[next]})}},{key:"componentWillUnmount",value:function(){this._interval&&clearInterval(this._interval)}},{key:"render",value:function(){var icon=this.state.icon;return React.createElement(Scheme,{dimension:80},React.createElement("span",{className:"mdi mdi-"+icon,style:{position:"absolute",top:14,left:14,fontSize:50}}))}}]),IconScheme}(),CreateMenuCard=function(){_inherits(CreateMenuCard,_react.Component);var _super3=_createSuper(CreateMenuCard);function CreateMenuCard(){return _classCallCheck(this,CreateMenuCard),_super3.apply(this,arguments)}return _createClass(CreateMenuCard,[{key:"componentDidMount",value:function(){var _this3=this;setTimeout(function(){_this3.props.pydio.notify("tutorial-open-create-menu")},950)}},{key:"render",value:function(){return React.createElement("div",null,React.createElement("p",null,this.props.message("create-menu")),React.createElement(IconScheme,{icons:["file-plus","folder-plus"]}))}}]),CreateMenuCard}(),InfoPanelCard=function(){_inherits(InfoPanelCard,_react.Component);var _super4=_createSuper(InfoPanelCard);function InfoPanelCard(){return _classCallCheck(this,InfoPanelCard),_super4.apply(this,arguments)}return _createClass(InfoPanelCard,[{key:"componentDidMount",value:function(){var _this4=this;this._int=setInterval(function(){_this4.setState({closed:!(_this4.state&&_this4.state.closed)})},1500)}},{key:"componentWillUnmount",value:function(){this._int&&clearInterval(this._int)}},{key:"render",value:function(){var leftStyle={width:24,transition:DOMUtils.getBeziersTransition(),transform:"scaleX(1)",transformOrigin:"right"};return this.state&&this.state.closed&&(leftStyle=_objectSpread(_objectSpread({},leftStyle),{},{width:0,transform:"scaleX(0)"})),React.createElement("div",null,React.createElement("p",null,this.props.message("infopanel.1")),React.createElement(Scheme,{style:{fontSize:10,padding:25},dimension:130},React.createElement("div",{style:{boxShadow:"2px 2px 0px #CFD8DC",display:"flex"}},React.createElement("div",{style:{backgroundColor:"white",flex:3}},React.createElement("div",null,React.createElement("span",{className:"mdi mdi-folder"})," ",this.props.message("infopanel.folder")," 1 "),React.createElement("div",{style:{backgroundColor:"#03a9f4",color:"white"}},React.createElement("span",{className:"mdi mdi-folder"}),"  ",this.props.message("infopanel.folder")," 2"),React.createElement("div",null,React.createElement("span",{className:"mdi mdi-file"})," ",this.props.message("infopanel.file")," 3"),React.createElement("div",null,React.createElement("span",{className:"mdi mdi-file"})," ",this.props.message("infopanel.file")," 4")),React.createElement("div",{style:leftStyle},React.createElement("div",{style:{backgroundColor:"#edf4f7",padding:4,height:"100%",fontSize:17}},React.createElement("span",{className:"mdi mdi-information-variant"}))))),React.createElement("p",null,this.props.message("infopanel.2")," (",React.createElement("span",{className:"mdi mdi-information",style:{fontSize:18,color:"#5c7784"}}),")."))}}]),InfoPanelCard}(),UserWidgetCard=function(){_inherits(UserWidgetCard,_react.Component);var _super5=_createSuper(UserWidgetCard);function UserWidgetCard(){return _classCallCheck(this,UserWidgetCard),_super5.apply(this,arguments)}return _createClass(UserWidgetCard,[{key:"render",value:function(){var iconStyle={display:"inline-block",textAlign:"center",fontSize:17,lineHeight:"20px",backgroundColor:"#ECEFF1",color:"#607D8B",borderRadius:"50%",padding:"5px 6px",width:30,height:30,marginRight:5};return React.createElement("div",null,React.createElement("p",null,React.createElement("span",{className:"mdi mdi-book-open-variant",style:iconStyle})," ",this.props.message("uwidget.addressbook")),React.createElement(_materialUi.Divider,null),React.createElement("p",null,React.createElement("span",{className:"mdi mdi-bell-outline",style:iconStyle})," ",this.props.message("uwidget.alerts")),React.createElement(_materialUi.Divider,null),React.createElement("p",null,React.createElement("span",{className:"mdi mdi-dots-vertical",style:iconStyle})," ",this.props.message("uwidget.menu")),React.createElement(_materialUi.Divider,null),React.createElement("p",null,React.createElement("span",{className:"mdi mdi-home-variant",style:iconStyle})," ",this.props.message("uwidget.home")))}}]),UserWidgetCard}(),require=function(){_inherits(WelcomeTour,_react.Component);var _super6=_createSuper(WelcomeTour);function WelcomeTour(props,context){return _classCallCheck(this,WelcomeTour),(context=_super6.call(this,props,context)).state={started:!(props.pydio.user&&!props.pydio.user.getPreference("gui_preferences",!0)["UserAccount.WelcomeModal.Shown"])},context}return _createClass(WelcomeTour,[{key:"discard",value:function(){var finished=0<arguments.length&&void 0!==arguments[0]&&arguments[0],user=this.props.pydio.user,guiPrefs=user.getPreference("gui_preferences",!0);guiPrefs["UserAccount.WelcomeModal.Shown"]=!0,finished&&(guiPrefs["WelcomeComponent.Pydio8.TourGuide.FSTemplate"]=!0),user.setPreference("gui_preferences",guiPrefs,!0),user.savePreference("gui_preferences")}},{key:"componentDidMount",value:function(){var _this6=this;this.state.started||pydio.UI.openComponentInModal("UserAccount","WelcomeModal",{onRequestStart:function(skip){skip?_this6.discard(!0):(_this6.discard(),_this6.setState({started:!0,skip:skip}))}})}},{key:"render",value:function(){var _this7=this;if(!this.state.started||this.state.skip)return null;function message(id){return getMessage("ajax_gui.tour."+id)}var _this$props=this.props,getMessage=_this$props.getMessage,_this$props=_this$props.pydio,tourguideSteps=[],Controller=_this$props.Controller,_this$props=_this$props.user,mkdir=Controller.getActionByName("mkdir")||{},Controller=Controller.getActionByName("upload")||{};!_this$props||!_this$props.activeRepository||mkdir.deny&&Controller.deny||tourguideSteps.push({title:message("create-menu.title"),text:React.createElement(CreateMenuCard,{message:message,pydio:this.props.pydio}),selector:"#create-button-menu",position:"left",style:{width:220}}),document.getElementById("display-toolbar")&&tourguideSteps.push({title:message("display-bar.title"),text:React.createElement("div",null,React.createElement("p",null,message("display-bar")),React.createElement(IconScheme,{icons:["view-list","view-grid","view-carousel","sort-ascending","sort-descending"]})),selector:"#display-toolbar",position:"left"}),document.getElementById("info_panel")&&tourguideSteps.push({title:message("infopanel.title"),text:React.createElement(InfoPanelCard,{message:message}),selector:"#info_panel",position:"left"}),tourguideSteps.push({title:message("uwidget.title"),text:React.createElement(UserWidgetCard,{message:message}),selector:".user-widget",position:"right",style:{width:320}});return React.createElement(_TourGuide.default,{ref:"joyride",steps:tourguideSteps,run:!0,autoStart:!0,debug:!1,callback:function(data){("step:after"===data.type&&data.index===tourguideSteps.length-1||"skip"===data.action)&&_this7.discard(!0)},type:"continuous",showSkipButton:!0})}}]),WelcomeTour}();exports.default=require,exports.default=_pydio(require),module.exports=exports.default},{"./TourGuide":71,"material-ui":"material-ui",pydio:"pydio","pydio/util/dom":"pydio/util/dom",react:"react"}],73:[function(require,module,exports){"use strict";function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _react=_interopRequireDefault(require("react")),_pydio=_interopRequireDefault(require("pydio")),_resourcesManager=_interopRequireDefault(require("pydio/http/resources-manager"));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(o,p)}function _createSuper(Derived){var hasNativeReflectConstruct=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var NewTarget,Super=_getPrototypeOf(Derived),Super=(NewTarget=hasNativeReflectConstruct?(NewTarget=_getPrototypeOf(this).constructor,Reflect.construct(Super,arguments,NewTarget)):Super.apply(this,arguments),this);if(NewTarget&&("object"===_typeof(NewTarget)||"function"==typeof NewTarget))return NewTarget;if(void 0!==NewTarget)throw new TypeError("Derived constructors may only return object or undefined");return function(self){if(void 0!==self)return self;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(Super)}}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}var require=_pydio.default.requireLib("components"),GenericCard=require.GenericCard,GenericLine=require.GenericLine,QuotaUsageLine=require.QuotaUsageLine,_pydio=function(_React$Component){var subClass=WorkspaceCard;if("function"!=typeof _React$Component&&null!==_React$Component)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(_React$Component&&_React$Component.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),Object.defineProperty(subClass,"prototype",{writable:!1}),_React$Component&&_setPrototypeOf(subClass,_React$Component);var staticProps,_super=_createSuper(WorkspaceCard);function WorkspaceCard(props){var _this;if(!(this instanceof WorkspaceCard))throw new TypeError("Cannot call a class as a function");(_this=_super.call(this,props)).state={};var rootNode=_this.props.rootNode;return rootNode.getMetadata().has("virtual_root")?rootNode.isLoaded()?(_this.state.rootNodes=[],rootNode.getChildren().forEach(function(n){return _this.state.rootNodes.push(n)})):(rootNode.observeOnce("loaded",function(){var rootNodes=[];rootNode.getChildren().forEach(function(n){return rootNodes.push(n)}),_this.setState({rootNodes:rootNodes})}),rootNode.load()):_this.state.rootNodes=[rootNode],_resourcesManager.default.loadClassesAndApply(["PydioActivityStreams"],function(){_this.setState({ASLib:!0})}),_resourcesManager.default.loadClassesAndApply(["PydioCoreActions"],function(){_this.setState({CALib:!0})}),_this}return subClass=WorkspaceCard,(_React$Component=[{key:"render",value:function(){var bookmarkAction,_this$props=this.props,pydio=_this$props.pydio,workspace=_this$props.workspace,_this$props=_this$props.onDismiss,rootNodes=this.state.rootNodes,_this$state=this.state,ASLib=_this$state.ASLib,_this$state=_this$state.CALib,lines=[];return workspace.getDescription()&&lines.push(_react.default.createElement(GenericLine,{iconClassName:"mdi mdi-information",legend:pydio.MessageHash["share_center.145"],data:workspace.getDescription()})),rootNodes&&rootNodes.length&&rootNodes.forEach(function(node){node.getMetadata().get("ws_quota")&&lines.push(_react.default.createElement(QuotaUsageLine,{node:node}))}),pydio.getPluginConfigs("core.activitystreams").get("ACTIVITY_SHOW_ACTIVITIES")&&ASLib&&rootNodes&&(ASLib=_react.default.createElement(PydioActivityStreams.WatchSelector,{pydio:pydio,nodes:rootNodes}),lines.push(_react.default.createElement(GenericLine,{iconClassName:"mdi mdi-bell-outline",legend:pydio.MessageHash["meta.watch.selector.legend"],iconStyle:{marginTop:32},data:ASLib}))),_this$state&&rootNodes&&(bookmarkAction=_react.default.createElement(PydioCoreActions.BookmarkButton,{pydio:pydio,nodes:rootNodes,styles:{iconStyle:{color:"white"}}})),_react.default.createElement(GenericCard,{pydio:pydio,title:workspace.getLabel(),onDismissAction:_this$props,style:{width:350},otherActions:[bookmarkAction]},lines)}}])&&_defineProperties(subClass.prototype,_React$Component),staticProps&&_defineProperties(subClass,staticProps),Object.defineProperty(subClass,"prototype",{writable:!1}),WorkspaceCard}(_react.default.Component);exports.default=_pydio,module.exports=exports.default},{pydio:"pydio","pydio/http/resources-manager":"pydio/http/resources-manager",react:"react"}],74:[function(require,module,exports){"use strict";function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _react=_interopRequireDefault(require("react")),_propTypes=_interopRequireDefault(require("prop-types")),_pydio=_interopRequireDefault(require("pydio")),_styles=require("material-ui/styles"),_color=_interopRequireDefault(require("color")),_materialUi=require("material-ui"),_reactDnd=require("react-dnd"),_node=_interopRequireDefault(require("pydio/model/node")),_dom=_interopRequireDefault(require("pydio/util/dom")),_resourcesManager=_interopRequireDefault(require("pydio/http/resources-manager")),_metaNodeProvider=_interopRequireDefault(require("pydio/model/meta-node-provider")),_WorkspaceCard=_interopRequireDefault(require("./WorkspaceCard"));_interopRequireDefault(require("pydio/model/context-menu"));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function ownKeys(object,enumerableOnly){var symbols,keys=Object.keys(object);return Object.getOwnPropertySymbols&&(symbols=Object.getOwnPropertySymbols(object),enumerableOnly&&(symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable})),keys.push.apply(keys,symbols)),keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach(function(key){_defineProperty(target,key,source[key])}):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))})}return target}function _extends(){return(_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var key,source=arguments[i];for(key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target}).apply(this,arguments)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Object.defineProperty(Constructor,"prototype",{writable:!1})}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),Object.defineProperty(subClass,"prototype",{writable:!1}),superClass&&_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(o,p)}function _createSuper(Derived){var hasNativeReflectConstruct=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var NewTarget,Super=_getPrototypeOf(Derived),Super=(NewTarget=hasNativeReflectConstruct?(NewTarget=_getPrototypeOf(this).constructor,Reflect.construct(Super,arguments,NewTarget)):Super.apply(this,arguments),this);if(NewTarget&&("object"===_typeof(NewTarget)||"function"==typeof NewTarget))return NewTarget;if(void 0!==NewTarget)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(Super)}}function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function _defineProperty(obj,key,value){key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value}var require=_pydio.default.requireLib("components"),FoldersTree=require.FoldersTree,DND=require.DND,ChatIcon=require.ChatIcon,require=DND.Types,collectDrop=DND.collectDrop,DND=DND.nodeDropTarget,Confirm=((0,_styles.muiThemeable)()(function(_ref){var children=_ref.children,_ref={display:"inline-block",backgroundColor:_ref.muiTheme.palette.accent1Color,color:"white",fontSize:10,borderRadius:6,padding:"0 5px",marginLeft:5,height:16,lineHeight:"17px",fontWeight:500};return _react.default.createElement("span",{style:_ref},children)}),function(){_inherits(Confirm,_react["default"].Component);var _super=_createSuper(Confirm);function Confirm(){return _classCallCheck(this,Confirm),_super.apply(this,arguments)}return _createClass(Confirm,[{key:"render",value:function(){var _this=this,messages=this.props.pydio.MessageHash,messageTitle=messages[545],messageBody=messages[546],actions=[{text:messages[548],ref:"decline",onClick:this.props.onDecline},{text:messages[547],ref:"accept",onClick:this.props.onAccept}];return"reject_accepted"===this.props.mode&&(messageBody=messages[549],actions=[{text:messages[54],ref:"decline",onClick:this.props.onDecline},{text:messages[551],ref:"accept",onClick:this.props.onAccept}]),Object.keys(this.props.replacements).forEach(function(key){messageTitle=messageTitle.replace(new RegExp(key),_this.props.replacements[key]),messageBody=messageBody.replace(new RegExp(key),_this.props.replacements[key])}),_react.default.createElement("div",{className:"react-mui-context",style:{position:"fixed",top:0,left:0,width:"100%",height:"100%",background:"transparent"}},_react.default.createElement(_materialUi.Dialog,{title:messageTitle,actions:actions,modal:!1,dismissOnClickAway:!0,onDismiss:this.props.onDismiss.bind(this),open:!0},messageBody))}}]),Confirm}()),WorkspaceEntry=(_defineProperty(Confirm,"propTypes",{pydio:_propTypes.default.instanceOf(_pydio.default),onDecline:_propTypes.default.func,onAccept:_propTypes.default.func,mode:_propTypes.default.oneOf(["new_share","reject_accepted"])}),function(){_inherits(WorkspaceEntry,_react["default"].Component);var _super2=_createSuper(WorkspaceEntry);function WorkspaceEntry(){var _this2;_classCallCheck(this,WorkspaceEntry);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return _defineProperty(_assertThisInitialized(_this2=_super2.call.apply(_super2,[this].concat(args))),"state",{openAlert:!1,openFoldersTree:!1,currentContextNode:_this2.props.pydio.getContextHolder().getContextNode()}),_defineProperty(_assertThisInitialized(_this2),"getLetterBadge",function(){return{__html:_this2.props.workspace.getHtmlBadge(!0)}}),_defineProperty(_assertThisInitialized(_this2),"handleAccept",function(){_this2.props.workspace.setAccessStatus("accepted"),_this2.handleCloseAlert(),_this2.onClick()}),_defineProperty(_assertThisInitialized(_this2),"handleDecline",function(){_this2.props.workspace.setAccessStatus("declined"),_this2.props.pydio.fire("repository_list_refreshed",{list:_this2.props.pydio.user.getRepositoriesList(),active:_this2.props.pydio.user.getActiveRepository()}),_this2.handleCloseAlert()}),_defineProperty(_assertThisInitialized(_this2),"handleOpenAlert",function(){var mode=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"new_share",replacements=((1<arguments.length?arguments[1]:void 0).stopPropagation(),_this2.wrapper=document.body.appendChild(document.createElement("div")),_this2.wrapper.style.zIndex=11,{"%%OWNER%%":_this2.props.workspace.getOwner()});ReactDOM.render(_react.default.createElement(Confirm,_extends({},_this2.props,{mode:mode,replacements:replacements,onAccept:("new_share"===mode?_this2.handleAccept:_this2.handleDecline).bind(_assertThisInitialized(_this2)),onDecline:("new_share"===mode?_this2.handleDecline:_this2.handleCloseAlert).bind(_assertThisInitialized(_this2)),onDismiss:_this2.handleCloseAlert})),_this2.wrapper)}),_defineProperty(_assertThisInitialized(_this2),"handleCloseAlert",function(){ReactDOM.unmountComponentAtNode(_this2.wrapper),_this2.wrapper.remove()}),_defineProperty(_assertThisInitialized(_this2),"toggleFoldersPanelOpen",function(ev){ev.stopPropagation(),_this2.setState({openFoldersTree:!_this2.state.openFoldersTree})}),_defineProperty(_assertThisInitialized(_this2),"getRootItemStyle",function(node){var node=_this2.props.pydio.getContextHolder().getContextNode()===node,accent2=_this2.props.muiTheme.palette.accent2Color;return node?{borderLeft:"4px solid "+accent2,paddingLeft:12}:{}}),_defineProperty(_assertThisInitialized(_this2),"getItemStyle",function(node){var isContext=_this2.props.pydio.getContextHolder().getContextNode()===node,accent2=_this2.props.muiTheme.palette.accent2Color;return isContext?{color:"rgba(0,0,0,.77)",fontWeight:500,backgroundColor:(0,_color.default)(accent2).fade(.9).toString()}:-1!==_this2.props.pydio.getContextHolder().getSelectedNodes().indexOf(node)?{color:accent2,fontWeight:500}:{}}),_defineProperty(_assertThisInitialized(_this2),"workspacePopoverNode",function(workspace){var menuNode=1<arguments.length&&void 0!==arguments[1]?arguments[1]:void 0;return menuNode?Promise.resolve(menuNode):_metaNodeProvider.default.loadRoots([workspace.getSlug()]).then(function(results){return results&&results[workspace.getSlug()]?results[workspace.getSlug()]:((results=new _node.default("/",!1,workspace.getLabel())).setRoot(!0),results.getMetadata().set("repository_id",workspace.getId()),results.getMetadata().set("workspaceEntry",workspace),results)})}),_defineProperty(_assertThisInitialized(_this2),"workspacePopover",function(event){var menuNode=1<arguments.length&&void 0!==arguments[1]?arguments[1]:void 0,_this2$props=_this2.props,pydio=_this2$props.pydio,workspace=_this2$props.workspace,target=(event.stopPropagation(),event.target),_this2$props=target.getBoundingClientRect().top,popoverTop=_dom.default.getViewportHeight()-_this2$props<250;_this2.workspacePopoverNode(workspace,menuNode).then(function(n){var popoverContent;workspace.getOwner()?_resourcesManager.default.loadClassesAndApply(["ShareDialog"],function(){var popoverContent=_react.default.createElement(ShareDialog.CellCard,{pydio:pydio,cellId:workspace.getId(),onDismiss:function(){_this2.setState({popoverOpen:!1})},onHeightChange:function(){_this2.setState({popoverHeight:500})},editorOneColumn:!0,rootNode:n});_this2.setState({popoverAnchor:target,popoverOpen:!0,popoverContent:popoverContent,popoverTop:popoverTop,popoverHeight:null})}):(popoverContent=_react.default.createElement(_WorkspaceCard.default,{pydio:pydio,workspace:workspace,rootNode:n,onDismiss:function(){_this2.setState({popoverOpen:!1})}}),_this2.setState({popoverAnchor:target,popoverOpen:!0,popoverContent:popoverContent,popoverTop:popoverTop,popoverHeight:null}))})}),_this2}return _createClass(WorkspaceEntry,[{key:"componentDidMount",value:function(){this.props.showFoldersTree&&(this._monitorFolder=function(){this.setState({currentContextNode:this.props.pydio.getContextHolder().getContextNode()})}.bind(this),this.props.pydio.getContextHolder().observe("context_changed",this._monitorFolder))}},{key:"componentWillUnmount",value:function(){this._monitorFolder&&this.props.pydio.getContextHolder().stopObserving("context_changed",this._monitorFolder)}},{key:"onClick",value:function(){var _this3=this,_this$props=this.props,workspace=_this$props.workspace,pydio=_this$props.pydio,showFoldersTree=_this$props.showFoldersTree,searchView=_this$props.searchView,values=_this$props.values,setValues=_this$props.setValues;_this$props.searchLoading;searchView?(searchView="ALL"===(_this$props=workspace.getSlug())?"all":_this$props+"/",setValues(_objectSpread(_objectSpread({},values),{},{scope:searchView}))):workspace.getId()===pydio.user.activeRepository&&showFoldersTree?pydio.goTo("/"):(pydio.observeOnce("repository_list_refreshed",function(){_this3.setState({loading:!1})}),this.setState({loading:!0}),pydio.triggerRepositoryChange(workspace.getId()))}},{key:"onContextMenu",value:function(event,menuNode){event.preventDefault(),event.stopPropagation(),this.workspacePopover(event,menuNode)}},{key:"render",value:function(){var current,onHover,onOut,additionalAction,chatIcon,popoverNode,hasFolders,treeToggle,menuNode,count,_this4=this,_this$props2=this.props,workspace=_this$props2.workspace,pydio=_this$props2.pydio,onHoverLink=_this$props2.onHoverLink,onOutLink=_this$props2.onOutLink,showFoldersTree=_this$props2.showFoldersTree,searchView=_this$props2.searchView,values=_this$props2.values,_this$props2=(_this$props2.setValues,_this$props2.searchLoading,searchView?"ALL"===workspace.getSlug()?(current=values.scope&&"all"===values.scope,isSearchAll=!0):current=values.scope&&0===values.scope.indexOf(workspace.getSlug()+"/"):current=pydio.user.getActiveRepository()===workspace.getId(),"workspace-entry"),style={},accent2=(current&&(_this$props2+=" workspace-current",style=this.getRootItemStyle(pydio.getContextHolder().getContextNode())),style=_objectSpread({paddingLeft:16},style),_this$props2+=" workspace-access-"+workspace.getAccessType(),onHoverLink&&(onHover=function(event){onHoverLink(event,workspace)}.bind(this)),onOutLink&&(onOut=function(event){onOutLink(event,workspace)}.bind(this)),this.props.muiTheme.palette.accent2Color),icon="mdi mdi-folder",iconStyle={fontSize:20,marginRight:10,opacity:.3},isSearchAll=(searchView?(icon=isSearchAll?"mdi mdi-folder-multiple":"mdi mdi-folder",current||(icon+="-outline")):"workspace-personal"===workspace.getRepositoryType()?icon="mdi mdi-folder-account":"cell"===workspace.getRepositoryType()&&(icon="icomoon-cells",iconStyle=_objectSpread(_objectSpread({},iconStyle),{},{fontSize:22})),current&&!searchView?(menuNode=pydio.getContextHolder().getRootNode(),showFoldersTree&&(menuNode.isLoading()&&menuNode.observeOnce("loaded",function(){_this4.forceUpdate()}),isSearchAll=menuNode.getChildren(),hasFolders=!1,isSearchAll.forEach(function(c){c.isLeaf()||(hasFolders=!0)}),hasFolders&&(isSearchAll=this.state.openFoldersTree?"mdi mdi-chevron-down":"mdi mdi-chevron-right",treeToggle=_react.default.createElement("span",{style:{opacity:.3},className:"workspace-additional-action "+isSearchAll,onClick:this.toggleFoldersPanelOpen}))),iconStyle.opacity=1,iconStyle.color=accent2,popoverNode=menuNode):((menuNode=new _node.default("/",!1,workspace.getLabel())).setRoot(!0),menuNode.getMetadata().set("repository_id",workspace.getId()),menuNode.getMetadata().set("workspaceEntry",workspace)),this.state),accent2=isSearchAll.popoverOpen,popoverAnchor=isSearchAll.popoverAnchor,popoverTop=isSearchAll.popoverTop,popoverHeight=isSearchAll.popoverHeight,isSearchAll=(isSearchAll.loading?additionalAction=_react.default.createElement(_materialUi.CircularProgress,{size:20,thickness:2,style:{marginTop:2,marginRight:6,opacity:.5}}):searchView||(isSearchAll=accent2?{opacity:1}:{},accent2&&(style=_objectSpread(_objectSpread({},style),{},{backgroundColor:"rgba(133, 133, 133, 0.1)"})),additionalAction=_react.default.createElement("span",{className:"workspace-additional-action with-hover mdi mdi-dots-vertical",onClick:function(e){return _this4.workspacePopover(e,popoverNode)},style:isSearchAll})),searchView||!workspace.getOwner()||pydio.getPluginConfigs("action.advanced_settings").get("GLOBAL_DISABLE_CHATS")||(chatIcon=_react.default.createElement(ChatIcon,{pydio:pydio,roomType:"WORKSPACE",objectId:workspace.getId()})),workspace.getLabel()),label=workspace.getLabel(),values=(workspace.getDescription()&&(isSearchAll+=" - "+workspace.getDescription()),searchView&&(count=0,searchView=pydio.getContextHolder().getSearchNode().getChildren(),"ALL"===workspace.getSlug()?count=searchView.size:searchView.forEach(function(node){node.getMetadata().get("repository_id")===workspace.getId()&&count++}),searchView=values.scope&&"all"===values.scope,count&&(searchView||current)&&(label+=" ("+count+")")),_react.default.createElement("span",{className:icon,style:iconStyle})),searchView=_react.default.createElement(ContextMenuWrapper,{node:menuNode,className:_this$props2,onClick:this.onClick.bind(this),onMouseOver:onHover,onMouseOut:onOut,onContextMenu:function(event){return _this4.onContextMenu(event,popoverNode)},style:style},values,_react.default.createElement("span",{className:"workspace-label",title:isSearchAll},label),chatIcon,treeToggle,_react.default.createElement("span",{style:{flex:1}}),additionalAction,_react.default.createElement(_materialUi.Popover,{open:accent2,anchorEl:popoverAnchor,useLayerForClickAway:!0,autoCloseWhenOffScreen:!1,canAutoPosition:!0,onRequestClose:function(){_this4.setState({popoverOpen:!1})},anchorOrigin:{horizontal:"right",vertical:popoverTop?"bottom":"center"},targetOrigin:{horizontal:"left",vertical:popoverTop?"bottom":"center"},zDepth:3,style:{overflow:"hidden",borderRadius:10,height:popoverHeight}},_react.default.createElement(_materialUi.Menu,{style:{maxWidth:350},listStyle:{paddingBottom:0,paddingTop:0}},this.state.popoverContent)));return showFoldersTree?_react.default.createElement("div",null,searchView,_react.default.createElement(FoldersTree,{pydio:pydio,dataModel:pydio.getContextHolder(),className:this.state.openFoldersTree?"open":"closed",draggable:!0,getItemStyle:this.getItemStyle})):searchView}}]),WorkspaceEntry}()),ContextMenuWrapper=(_defineProperty(exports.default=WorkspaceEntry,"propTypes",{pydio:_propTypes.default.instanceOf(_pydio.default).isRequired,workspace:_propTypes.default.instanceOf(Repository).isRequired,showFoldersTree:_propTypes.default.bool,onHoverLink:_propTypes.default.func,onOutLink:_propTypes.default.func}),function(props){var canDrop=props.canDrop,isOver=props.isOver,connectDropTarget=props.connectDropTarget,className=props.className||"";return canDrop&&isOver&&(className+=" droppable-active"),_react.default.createElement("div",_extends({},props,{className:className,ref:function(instance){instance=ReactDOM.findDOMNode(instance);"function"==typeof connectDropTarget&&connectDropTarget(instance)}}))}),ContextMenuWrapper=(0,_reactDnd.DropTarget)(require.NODE_PROVIDER,DND,collectDrop)(ContextMenuWrapper);exports.default=(0,_styles.muiThemeable)()(WorkspaceEntry),module.exports=exports.default},{"./WorkspaceCard":73,color:"color","material-ui":"material-ui","material-ui/styles":"material-ui/styles","prop-types":"prop-types",pydio:"pydio","pydio/http/resources-manager":"pydio/http/resources-manager","pydio/model/context-menu":"pydio/model/context-menu","pydio/model/meta-node-provider":"pydio/model/meta-node-provider","pydio/model/node":"pydio/model/node","pydio/util/dom":"pydio/util/dom",react:"react","react-dnd":"react-dnd"}],75:[function(require,module,exports){"use strict";function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(o,p)}function _createSuper(Derived){var hasNativeReflectConstruct=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var NewTarget,Super=_getPrototypeOf(Derived),Super=(NewTarget=hasNativeReflectConstruct?(NewTarget=_getPrototypeOf(this).constructor,Reflect.construct(Super,arguments,NewTarget)):Super.apply(this,arguments),this);if(NewTarget&&("object"===_typeof(NewTarget)||"function"==typeof NewTarget))return NewTarget;if(void 0!==NewTarget)throw new TypeError("Derived constructors may only return object or undefined");return function(self){if(void 0!==self)return self;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(Super)}}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var React=require("react"),_require=require("material-ui"),ListItem=_require.ListItem,Avatar=_require.Avatar,FontIcon=_require.FontIcon,_require=require("material-ui/styles").muiThemeable,PropTypes=(require("color"),require("prop-types")),Pydio=require("pydio"),require=require("pydio/model/repository"),WorkspaceEntryMaterial=function(_React$Component){var subClass=WorkspaceEntryMaterial;if("function"!=typeof _React$Component&&null!==_React$Component)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(_React$Component&&_React$Component.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),Object.defineProperty(subClass,"prototype",{writable:!1}),_React$Component&&_setPrototypeOf(subClass,_React$Component);var staticProps,_super=_createSuper(WorkspaceEntryMaterial);function WorkspaceEntryMaterial(){var instance=this,Constructor=WorkspaceEntryMaterial;if(instance instanceof Constructor)return _super.apply(this,arguments);throw new TypeError("Cannot call a class as a function")}return subClass=WorkspaceEntryMaterial,(_React$Component=[{key:"onClick",value:function(){this.props.onWorkspaceTouchTap?this.props.onWorkspaceTouchTap(this.props.workspace.getId()):this.props.workspace.getId()===this.props.pydio.user.activeRepository&&this.props.showFoldersTree?this.props.pydio.goTo("/"):this.props.pydio.triggerRepositoryChange(this.props.workspace.getId())}},{key:"render",value:function(){var _this$props=this.props,workspace=_this$props.workspace,_this$props=_this$props.muiTheme.palette.primary1Color,icon=workspace.getOwner()||"inbox"===workspace.getAccessType()?(_this$props=MaterialUI.Style.colors.teal500,icon="inbox"===workspace.getAccessType()?"file-multiple":"folder-outline","remote"===workspace.getRepositoryType()&&(icon="cloud-outline"),React.createElement(Avatar,{backgroundColor:"#ECEFF1",color:_this$props,icon:React.createElement(FontIcon,{className:"mdi mdi-"+icon})})):React.createElement(Avatar,{style:{fontSize:18},backgroundColor:"#ECEFF1",color:_this$props},workspace.getLettersBadge());return React.createElement(ListItem,{leftAvatar:icon,leftIcon:void 0,primaryText:workspace.getLabel(),secondaryText:workspace.getDescription(),onClick:this.onClick.bind(this)})}}])&&_defineProperties(subClass.prototype,_React$Component),staticProps&&_defineProperties(subClass,staticProps),Object.defineProperty(subClass,"prototype",{writable:!1}),WorkspaceEntryMaterial}(React.Component);(exports.default=WorkspaceEntryMaterial).propTypes={pydio:PropTypes.instanceOf(Pydio).isRequired,workspace:PropTypes.instanceOf(require).isRequired,muiTheme:PropTypes.object},exports.default=WorkspaceEntryMaterial=_require()(WorkspaceEntryMaterial),module.exports=exports.default},{color:"color","material-ui":"material-ui","material-ui/styles":"material-ui/styles","prop-types":"prop-types",pydio:"pydio","pydio/model/repository":"pydio/model/repository",react:"react"}],76:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _WorkspacesListMaterial=(obj=require("./WorkspacesListMaterial"))&&obj.__esModule?obj:{default:obj};var React=require("react"),obj=require("create-react-class"),require=require("pydio").requireLib("boot"),obj=obj({displayName:"WorkspacePickerDialog",mixins:[require.ActionDialogMixin,require.CancelButtonProviderMixin],getDefaultProps:function(){return{dialogTitleId:"user_home.90",dialogSize:"sm",dialogPadding:!1,dialogIsModal:!0,dialogScrollBody:!0}},submit:function(){this.dismiss()},workspaceTouchTap:function(wsId){this.dismiss(),UploaderModel.Store.getInstance().handleDropEventResults(this.props.items,this.props.files,new AjxpNode("/"),null,null,wsId),this.props.switchAtUpload&&pydio.triggerRepositoryChange(wsId)},render:function(){var _this$props=this.props,pydio=_this$props.pydio,_this$props=_this$props.files,_this$props=_this$props&&_this$props[0]?React.createElement("div",{style:{fontSize:13,padding:16,backgroundColor:"#FFEBEE"}},pydio.MessageHash["user_home.89"],": ",_this$props[0].name):void 0;return React.createElement("div",{style:{width:"100%",height:"100%",display:"flex",flexDirection:"column"}},_this$props,React.createElement(_WorkspacesListMaterial.default,{pydio:pydio,workspaces:pydio.user?pydio.user.getRepositoriesList():[],showTreeForWorkspace:!1,onWorkspaceTouchTap:this.workspaceTouchTap,filterByType:"entries",sectionTitleStyle:{display:"none"},style:{flex:1,overflowY:"auto",maxHeight:400}}))}});exports.default=obj,module.exports=exports.default},{"./WorkspacesListMaterial":78,"create-react-class":"create-react-class",pydio:"pydio",react:"react"}],77:[function(require,module,exports){"use strict";function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _react=_interopRequireDefault(require("react")),_propTypes=_interopRequireDefault(require("prop-types")),_pydio=_interopRequireDefault(require("pydio")),_WorkspaceEntry=_interopRequireDefault(require("./WorkspaceEntry")),_repository=_interopRequireDefault(require("pydio/model/repository")),_resourcesManager=_interopRequireDefault(require("pydio/http/resources-manager")),_materialUi=require("material-ui"),_color=_interopRequireDefault(require("color")),_Facets=_interopRequireDefault(require("../search/components/Facets"));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _toConsumableArray(arr){return function(arr){if(Array.isArray(arr))return _arrayLikeToArray(arr)}(arr)||function(iter){if("undefined"!=typeof Symbol&&null!=iter[Symbol.iterator]||null!=iter["@@iterator"])return Array.from(iter)}(arr)||function(o,minLen){if(o){if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);return"Map"===(n="Object"===n&&o.constructor?o.constructor.name:n)||"Set"===n?Array.from(o):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(o,minLen):void 0}}(arr)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function ownKeys(object,enumerableOnly){var symbols,keys=Object.keys(object);return Object.getOwnPropertySymbols&&(symbols=Object.getOwnPropertySymbols(object),enumerableOnly&&(symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable})),keys.push.apply(keys,symbols)),keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach(function(key){!function(obj,key,value){key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value}(target,key,source[key])}):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))})}return target}function _extends(){return(_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var key,source=arguments[i];for(key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target}).apply(this,arguments)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Object.defineProperty(Constructor,"prototype",{writable:!1})}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),Object.defineProperty(subClass,"prototype",{writable:!1}),superClass&&_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(o,p)}function _createSuper(Derived){var hasNativeReflectConstruct=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var NewTarget,Super=_getPrototypeOf(Derived),Super=(NewTarget=hasNativeReflectConstruct?(NewTarget=_getPrototypeOf(this).constructor,Reflect.construct(Super,arguments,NewTarget)):Super.apply(this,arguments),this);if(NewTarget&&("object"===_typeof(NewTarget)||"function"==typeof NewTarget))return NewTarget;if(void 0!==NewTarget)throw new TypeError("Derived constructors may only return object or undefined");return function(self){if(void 0!==self)return self;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(Super)}}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}var _Pydio$requireLib=_pydio.default.requireLib("hoc"),withVerticalScroll=_Pydio$requireLib.withVerticalScroll,ModernTextField=_Pydio$requireLib.ModernTextField,_Pydio$requireLib=require("material-ui/styles").muiThemeable,Entries=function(){_inherits(Entries,_react["default"].Component);var _super=_createSuper(Entries);function Entries(props){return _classCallCheck(this,Entries),(props=_super.call(this,props)).state={toggleFilter:!1,filterValue:""},props}return _createClass(Entries,[{key:"computePagination",value:function(entries){if(!entries||!entries.length)return{use:!1};if(entries.length<=15)return{use:!1};for(var page=this.state.page,activeWorkspace=this.props.activeWorkspace,max=(page||(page=1,activeWorkspace&&-1<(activeWorkspace=entries.map(function(ws){return ws.getId()}).indexOf(activeWorkspace))&&(page=Math.floor(activeWorkspace/15)+1)),Math.ceil(entries.length/15)),activeWorkspace=15*(page-1),sliceEnd=Math.min(15*page,entries.length),pages=[],i=1;i<=max;i++)pages.push(i);return{use:!0,sliceStart:activeWorkspace,sliceEnd:sliceEnd,total:entries.length,pages:pages,page:page,pageSize:15}}},{key:"renderPagination",value:function(pagination){var _this2=this,titleStyle=this.props.titleStyle,page=pagination.page,pages=pagination.pages,sliceStart=pagination.sliceStart,sliceEnd=pagination.sliceEnd,pagination=pagination.total,chevStyles={style:{width:36,height:36,padding:6},iconStyle:{color:titleStyle.color}};return _react.default.createElement("div",{style:{display:"flex",backgroundColor:"rgba(0, 0, 0, 0.03)",color:titleStyle.color,alignItems:"center",justifyContent:"center",fontWeight:400}},_react.default.createElement(_materialUi.IconButton,_extends({iconClassName:"mdi mdi-chevron-left",disabled:1===page,onClick:function(){return _this2.setState({page:page-1})}},chevStyles)),_react.default.createElement("div",null,sliceStart+1,"-",sliceEnd," of ",pagination),_react.default.createElement(_materialUi.IconButton,_extends({iconClassName:"mdi mdi-chevron-right",disabled:page===pages.length,onClick:function(){return _this2.setState({page:page+1})}},chevStyles)))}},{key:"render",value:function(){var uniqueResult,_this3=this,_this$props=this.props,title=_this$props.title,entries=_this$props.entries,filterHint=_this$props.filterHint,titleStyle=_this$props.titleStyle,pydio=_this$props.pydio,createAction=_this$props.createAction,activeWorkspace=_this$props.activeWorkspace,palette=_this$props.palette,buttonStyles=_this$props.buttonStyles,emptyState=_this$props.emptyState,searchView=_this$props.searchView,values=_this$props.values,setValues=_this$props.setValues,searchLoading=_this$props.searchLoading,_this$props=this.state,toggleFilter=_this$props.toggleFilter,filterValue=_this$props.filterValue,_this$props=entries.filter(function(ws){return function(t,f,ws){return!t||!f||0<=ws.getLabel().toLowerCase().indexOf(f.toLowerCase())}(toggleFilter,filterValue,ws)}),pagination=this.computePagination(_this$props);return pagination.use&&(_this$props=_this$props.slice(pagination.sliceStart,pagination.sliceEnd)),toggleFilter&&filterValue&&1===_this$props.length&&_this$props[0].getId()!==activeWorkspace&&(uniqueResult=_this$props[0]),_react.default.createElement("div",null,!toggleFilter&&_react.default.createElement("div",{key:"shared-title",className:"section-title",style:titleStyle},_react.default.createElement("span",{style:{cursor:"pointer"},title:filterHint,onClick:function(){_this3.setState({toggleFilter:!0})}},title,0<entries.length&&_react.default.createElement("span",{style:{fontSize:12,opacity:"0.4",marginLeft:3},className:"mdi mdi-filter"})),createAction),toggleFilter&&_react.default.createElement("div",{key:"shared-title",className:"section-title",style:_objectSpread(_objectSpread({},titleStyle),{},{paddingLeft:12,paddingRight:8,textTransform:"none",transition:"none"})},_react.default.createElement(ModernTextField,{focusOnMount:!0,fullWidth:!0,style:{marginTop:-16,marginBottom:-16,top:-1},hintText:filterHint,hintStyle:{fontWeight:400},inputStyle:{fontWeight:400,color:palette.primary1Color,backgroundColor:"rgba(0,0,0,.03)"},value:filterValue,onChange:function(e,v){_this3.setState({filterValue:v})},onBlur:function(){setTimeout(function(){filterValue||_this3.setState({toggleFilter:!1})},150)},onKeyPress:function(ev){"Enter"===ev.key&&uniqueResult&&(searchView?(ev="ALL"===(ev=uniqueResult.getSlug())?"all":ev+"/",setValues(_objectSpread(_objectSpread({},values),{},{scope:ev}))):pydio.triggerRepositoryChange(uniqueResult.getId()),_this3.setState({filterValue:"",toggleFilter:!1}))}}),uniqueResult&&_react.default.createElement("div",{style:_objectSpread(_objectSpread({},buttonStyles.button),{},{right:28,lineHeight:"24px",fontSize:20,opacity:.5})},_react.default.createElement("span",{className:"mdi mdi-keyboard-return"})),_react.default.createElement(_materialUi.IconButton,{key:"close-filter",iconClassName:"mdi mdi-close",style:buttonStyles.button,iconStyle:buttonStyles.icon,onClick:function(){_this3.setState({toggleFilter:!1,filterValue:""})}})),_react.default.createElement("div",{className:"workspaces"},_this$props.map(function(ws){return _react.default.createElement(_WorkspaceEntry.default,{pydio:pydio,key:ws.getId(),workspace:ws,showFoldersTree:activeWorkspace&&activeWorkspace===ws.getId(),searchView:searchView,values:values,setValues:setValues,searchLoading:searchLoading})}),!entries.length&&emptyState,pagination.use&&this.renderPagination(pagination)))}}]),Entries}(),require=function(){_inherits(WorkspacesList,_react["default"].Component);var _super2=_createSuper(WorkspacesList);function WorkspacesList(props,context){var _this4;return _classCallCheck(this,WorkspacesList),(_this4=_super2.call(this,props,context)).state=_this4.stateFromPydio(props.pydio),_this4._reloadObserver=function(){_this4.setState(_this4.stateFromPydio(_this4.props.pydio))},_this4}return _createClass(WorkspacesList,[{key:"shouldComponentUpdate",value:function(nextProps,nextState){return nextState.random!==this.state.random||nextState.popoverOpen!==this.state.popoverOpen||nextProps.searchView!==this.props.searchView||nextProps.values!==this.props.values||nextProps.facets!==this.props.facets||nextProps.activeFacets!==this.props.activeFacets}},{key:"stateFromPydio",value:function(pydio){var workspaces=pydio.user?pydio.user.getRepositoriesList():[],wsList=[];return workspaces.forEach(function(o){return wsList.push(o)}),{merge:pydio.getPluginConfigs("core.pydio").get("MERGE_WORKSPACES_AND_CELLS"),random:Math.random(),workspaces:workspaces,activeWorkspace:!!pydio.user&&pydio.user.activeRepository,activeRepoIsHome:pydio.user&&"homepage"===pydio.user.activeRepository}}},{key:"componentDidMount",value:function(){this.props.pydio.observe("repository_list_refreshed",this._reloadObserver)}},{key:"componentWillUnmount",value:function(){this.props.pydio.stopObserving("repository_list_refreshed",this._reloadObserver)}},{key:"createRepositoryEnabled",value:function(){return this.props.pydio.getPluginConfigs("auth").get("USER_CREATE_CELLS")}},{key:"render",value:function(){var createAction,_this6=this,_this$state2=this.state,workspaces=_this$state2.workspaces,activeWorkspace=_this$state2.activeWorkspace,popoverOpen=_this$state2.popoverOpen,popoverAnchor=_this$state2.popoverAnchor,popoverContent=_this$state2.popoverContent,_this$state2=_this$state2.merge,_this$props2=this.props,pydio=_this$props2.pydio,className=_this$props2.className,muiTheme=_this$props2.muiTheme,sectionTitleStyle=_this$props2.sectionTitleStyle,searchView=_this$props2.searchView,values=_this$props2.values,setValues=_this$props2.setValues,searchLoading=_this$props2.searchLoading,facets=_this$props2.facets,activeFacets=_this$props2.activeFacets,_this$props2=_this$props2.toggleFacet,wsList=[],workspaces=(workspaces.forEach(function(o){return wsList.push(o)}),(wsList=wsList.filter(function(ws){return!_repository.default.isInternal(ws.getId())})).sort(function(oA,oB){if("workspace-personal"===oA.getRepositoryType())return-1;if("workspace-personal"===oB.getRepositoryType())return 1;var res=oA.getLabel().localeCompare(oB.getLabel(),void 0,{numeric:!0});return 0===res?oA.getSlug().localeCompare(oB.getSlug()):res}),wsList.filter(function(ws){return!ws.getOwner()})),sharedEntries=wsList.filter(function(ws){return ws.getOwner()}),messages=pydio.MessageHash,createClick=function(event){var _this5=this,target=event.target;_resourcesManager.default.loadClassesAndApply(["ShareDialog"],function(){_this5.setState({popoverOpen:!0,popoverAnchor:target,popoverContent:_react.default.createElement(ShareDialog.CreateCellDialog,{pydio:pydio,onDismiss:function(){_this5.setState({popoverOpen:!1})}})})})}.bind(this),buttonStyles={button:{width:36,height:36,padding:6,position:"absolute",right:4,top:8},icon:{fontSize:22,color:muiTheme.palette.primary1Color}},classNames=(this.createRepositoryEnabled()&&(sharedEntries.length||_this$state2&&(sharedEntries.length||workspaces.length))&&(createAction=_react.default.createElement(_materialUi.IconButton,{key:"create-cell",style:buttonStyles.button,iconStyle:buttonStyles.icon,iconClassName:"mdi mdi-plus",tooltip:messages[417],tooltipPosition:_this$state2?"bottom-left":"top-left",onClick:createClick})),["user-workspaces-list"]);return className&&classNames.push(className),searchView?((className=new _repository.default("ALL")).setSlug("ALL"),className.setLabel(messages[610]),_react.default.createElement("div",{className:classNames.join(" ")},_react.default.createElement(Entries,{title:messages["searchengine.scope.title"],entries:[className].concat(_toConsumableArray(workspaces),_toConsumableArray(sharedEntries)),filterHint:messages["ws.quick-filter"],titleStyle:_objectSpread(_objectSpread({},sectionTitleStyle),{},{marginTop:5,position:"relative",overflow:"visible",transition:"none"}),pydio:pydio,activeWorkspace:activeWorkspace,palette:muiTheme.palette,buttonStyles:buttonStyles,searchView:searchView,values:values,setValues:setValues,searchLoading:searchLoading}),_react.default.createElement(_Facets.default,{pydio:pydio,facets:facets,activeFacets:activeFacets,onToggleFacet:_this$props2,values:values,dataModel:pydio.getContextHolder(),zDepth:0,styles:{container:{color:"inherit",backgroundColor:"transparent",padding:"0 16px 16px"},header:{display:"none"},subHeader:{color:(0,_color.default)(muiTheme.palette.primary1Color).darken(.1).alpha(.5).toString(),fontWeight:500,textTransform:"uppercase",padding:"12px 0"}}}))):_react.default.createElement("div",{className:classNames.join(" ")},_react.default.createElement(_materialUi.Popover,{open:popoverOpen,anchorEl:popoverAnchor,useLayerForClickAway:!0,onRequestClose:function(){_this6.setState({popoverOpen:!1})},anchorOrigin:sharedEntries.length?{horizontal:"left",vertical:"top"}:{horizontal:"left",vertical:"bottom"},targetOrigin:sharedEntries.length?{horizontal:"left",vertical:"top"}:{horizontal:"left",vertical:"bottom"},zDepth:3,style:{borderRadius:6,overflow:"hidden",marginLeft:sharedEntries.length?-10:0,marginTop:sharedEntries.length?-10:0}},popoverContent),!_this$state2&&0<workspaces.length&&_react.default.createElement(Entries,{title:messages[468],entries:workspaces,filterHint:messages["ws.quick-filter"],titleStyle:_objectSpread(_objectSpread({},sectionTitleStyle),{},{marginTop:5,position:"relative",overflow:"visible",transition:"none"}),pydio:pydio,activeWorkspace:activeWorkspace,palette:muiTheme.palette,buttonStyles:buttonStyles}),_react.default.createElement(Entries,{title:messages[_this$state2?468:469],entries:_this$state2?[].concat(_toConsumableArray(workspaces),_toConsumableArray(sharedEntries)):sharedEntries,filterHint:messages["cells.quick-filter"],titleStyle:_objectSpread(_objectSpread({},sectionTitleStyle),{},{position:"relative",overflow:"visible",transition:"none"}),pydio:pydio,createAction:createAction,activeWorkspace:activeWorkspace,palette:muiTheme.palette,buttonStyles:buttonStyles,emptyState:_react.default.createElement("div",{style:{textAlign:"center",color:(0,_color.default)(muiTheme.palette.primary1Color).fade(.6).toString()}},_react.default.createElement("div",{className:"icomoon-cells",style:{fontSize:80}}),this.createRepositoryEnabled()&&_react.default.createElement(_materialUi.FlatButton,{style:{color:muiTheme.palette.accent2Color,marginTop:5},primary:!0,label:messages[418],onClick:createClick}),_react.default.createElement("div",{style:{fontSize:13,padding:"5px 20px"}},messages[633]))}))}}]),WorkspacesList}();(exports.default=require).PropTypes={pydio:_propTypes.default.instanceOf(_pydio.default),workspaces:_propTypes.default.instanceOf(Map),onHoverLink:_propTypes.default.func,onOutLink:_propTypes.default.func,className:_propTypes.default.string,style:_propTypes.default.object,sectionTitleStyle:_propTypes.default.object,filterByType:_propTypes.default.oneOf(["shared","entries","create"])},exports.default=require=withVerticalScroll(require),exports.default=require=_Pydio$requireLib()(require),module.exports=exports.default},{"../search/components/Facets":54,"./WorkspaceEntry":74,color:"color","material-ui":"material-ui","material-ui/styles":"material-ui/styles","prop-types":"prop-types",pydio:"pydio","pydio/http/resources-manager":"pydio/http/resources-manager","pydio/model/repository":"pydio/model/repository",react:"react"}],78:[function(require,module,exports){"use strict";function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _WorkspaceEntryMaterial=_interopRequireDefault(require("./WorkspaceEntryMaterial")),_propTypes=_interopRequireDefault(require("prop-types")),_pydio=_interopRequireDefault(require("pydio"));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _extends(){return(_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var key,source=arguments[i];for(key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target}).apply(this,arguments)}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(o,p)}function _createSuper(Derived){var hasNativeReflectConstruct=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var NewTarget,Super=_getPrototypeOf(Derived),Super=(NewTarget=hasNativeReflectConstruct?(NewTarget=_getPrototypeOf(this).constructor,Reflect.construct(Super,arguments,NewTarget)):Super.apply(this,arguments),this);if(NewTarget&&("object"===_typeof(NewTarget)||"function"==typeof NewTarget))return NewTarget;if(void 0!==NewTarget)throw new TypeError("Derived constructors may only return object or undefined");return function(self){if(void 0!==self)return self;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(Super)}}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}var React=require("react"),Repository=require("pydio/model/repository"),require=require("material-ui"),List=require.List,Subheader=require.Subheader,Divider=require.Divider,require=function(_React$Component){var subClass=WorkspacesListMaterial;if("function"!=typeof _React$Component&&null!==_React$Component)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(_React$Component&&_React$Component.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),Object.defineProperty(subClass,"prototype",{writable:!1}),_React$Component&&_setPrototypeOf(subClass,_React$Component);var staticProps,_super=_createSuper(WorkspacesListMaterial);function WorkspacesListMaterial(){var instance=this,Constructor=WorkspacesListMaterial;if(instance instanceof Constructor)return _super.apply(this,arguments);throw new TypeError("Cannot call a class as a function")}return subClass=WorkspacesListMaterial,(_React$Component=[{key:"render",value:function(){var inboxEntry,_this$props=this.props,workspaces=_this$props.workspaces,showTreeForWorkspace=_this$props.showTreeForWorkspace,_this$props=_this$props.filterByType,entries=[],sharedEntries=[],remoteShares=[],workspaces=(workspaces.forEach(function(object,key){Repository.isInternal(object.getId())||object.hasContentFilter()||"declined"!==object.getAccessStatus()&&(key=React.createElement(_WorkspaceEntryMaterial.default,_extends({},this.props,{key:key,workspace:object,showFoldersTree:showTreeForWorkspace&&showTreeForWorkspace===key})),"inbox"==object.getAccessType()?inboxEntry=key:(object.getOwner()?"remote"===object.getRepositoryType()?remoteShares:sharedEntries:entries).push(key))}.bind(this)),pydio.MessageHash);return sharedEntries.length&&sharedEntries.unshift(React.createElement(Subheader,null,workspaces[626])),inboxEntry&&(sharedEntries.length&&sharedEntries.unshift(React.createElement(Divider,null)),sharedEntries.unshift(inboxEntry),sharedEntries.unshift(React.createElement(Subheader,null,workspaces[630]))),remoteShares.length&&(remoteShares.unshift(React.createElement(Subheader,null,workspaces[627])),remoteShares.unshift(React.createElement(Divider,null)),sharedEntries=sharedEntries.concat(remoteShares)),"entries"===_this$props&&entries.unshift(React.createElement(Subheader,null,workspaces[468])),workspaces=_this$props?"shared"===_this$props?sharedEntries:entries:entries.concat(sharedEntries),React.createElement(List,{style:this.props.style},workspaces)}}])&&_defineProperties(subClass.prototype,_React$Component),staticProps&&_defineProperties(subClass,staticProps),Object.defineProperty(subClass,"prototype",{writable:!1}),WorkspacesListMaterial}(React.Component);(exports.default=require).propTypes={pydio:_propTypes.default.instanceOf(_pydio.default),workspaces:_propTypes.default.instanceOf(Map),filterByType:_propTypes.default.oneOf(["shared","entries","create"]),sectionTitleStyle:_propTypes.default.object,showTreeForWorkspace:_propTypes.default.string,onHoverLink:_propTypes.default.func,onOutLink:_propTypes.default.func,className:_propTypes.default.string,style:_propTypes.default.object},module.exports=exports.default},{"./WorkspaceEntryMaterial":75,"material-ui":"material-ui","prop-types":"prop-types",pydio:"pydio","pydio/model/repository":"pydio/model/repository",react:"react"}]},{},[48])(48)});