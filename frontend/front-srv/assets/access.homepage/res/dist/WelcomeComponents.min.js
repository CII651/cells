(()=>{"use strict";var e={760:e=>{e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var r="",n=void 0!==t[5];return t[4]&&(r+="@supports (".concat(t[4],") {")),t[2]&&(r+="@media ".concat(t[2]," {")),n&&(r+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),r+=e(t),n&&(r+="}"),t[2]&&(r+="}"),t[4]&&(r+="}"),r})).join("")},t.i=function(e,r,n,o,i){"string"==typeof e&&(e=[[null,e,void 0]]);var a={};if(n)for(var l=0;l<this.length;l++){var s=this[l][0];null!=s&&(a[s]=!0)}for(var c=0;c<e.length;c++){var u=[].concat(e[c]);n&&a[u[0]]||(void 0!==i&&(void 0===u[5]||(u[1]="@layer".concat(u[5].length>0?" ".concat(u[5]):""," {").concat(u[1],"}")),u[5]=i),r&&(u[2]?(u[1]="@media ".concat(u[2]," {").concat(u[1],"}"),u[2]=r):u[2]=r),o&&(u[4]?(u[1]="@supports (".concat(u[4],") {").concat(u[1],"}"),u[4]=o):u[4]="".concat(o)),t.push(u))}},t}},156:e=>{e.exports=function(e){return e[1]}},177:(e,t,r)=>{r.d(t,{Z:()=>l});var n=r(156),o=r.n(n),i=r(760),a=r.n(i)()(o());a.push([e.id,"@keyframes fadein {\n  from {\n    opacity: 0;\n  }\n  to {\n    opacity: 1;\n  }\n}\n.home-top-logo {\n  height: 100px;\n}\ndiv.user-dashboard-main .admin-helper-panel {\n  position: absolute;\n  top: 55px;\n  bottom: 0;\n  padding-top: 0;\n  right: 260px;\n  z-index: 1400;\n  width: 316px;\n  background-color: rgba(255, 255, 255, 0.89);\n}\ndiv.user-dashboard-main .admin-helper-panel .mui-paper-container {\n  height: 100%;\n  overflow-y: auto;\n}\ndiv.user-dashboard-main .admin-helper-panel h3 {\n  background-color: #FF6E40;\n  color: white;\n  text-align: left;\n  padding: 12px 12px 11px;\n  font-size: 17px;\n}\ndiv.user-dashboard-main .admin-helper-panel .pydio-form-panel .pydio-form-group {\n  margin-top: 0;\n}\ndiv.user-dashboard-main .admin-helper-panel .legend {\n  padding: 0 17px;\n  color: #878787;\n  font-size: 12px;\n  line-height: 17px;\n}\ndiv.user-dashboard-main .admin-helper-panel .widget-type-selector {\n  border: 1px solid #E0E0E0;\n  margin-left: 16px;\n  border-radius: 3px;\n  margin-top: 8px;\n  width: 280px;\n}\ndiv.user-dashboard-main .home-dashboard {\n  position: static;\n  width: auto;\n  height: 100%;\n  padding: 0;\n  overflow: auto;\n  background-color: transparent;\n}\n@media only screen and (max-width: 758px) {\n  div.user-dashboard-main .home-center-paper {\n    left: 10px !important;\n    right: 10px !important;\n  }\n}\n@media only screen and (max-width: 758px) {\n  div.user-dashboard-main div.react-grid-layout.dashboard-layout {\n    display: none;\n  }\n}\ndiv.user-dashboard-main div.react-grid-layout.dashboard-layout .video-card .tutorial_legend {\n  display: flex;\n  flex-direction: column;\n  height: 100%;\n}\ndiv.user-dashboard-main div.react-grid-layout.dashboard-layout .video-card .tutorial_content {\n  flex: 1;\n  padding: 16px;\n  position: relative;\n  overflow-y: auto;\n  font-size: 16px;\n  line-height: 1.6em;\n}\ndiv.user-dashboard-main div.react-grid-layout.dashboard-layout .video-card .tutorial_content h2 {\n  display: none;\n}\ndiv.user-dashboard-main div.react-grid-layout.dashboard-layout .video-card .tutorial_content ul {\n  padding-left: 20px;\n}\ndiv.user-dashboard-main div.react-grid-layout.dashboard-layout .video-card div.tutorial_video_thumb {\n  height: 170px;\n  min-height: 170px;\n  background-color: black;\n  background-position: center center;\n  background-size: cover;\n  background-repeat: no-repeat;\n  border-radius: 2px;\n  position: relative;\n}\ndiv.user-dashboard-main div.react-grid-layout.dashboard-layout .video-card div.tutorial_video_thumb .tutorial_prev,\ndiv.user-dashboard-main div.react-grid-layout.dashboard-layout .video-card div.tutorial_video_thumb .tutorial_next,\ndiv.user-dashboard-main div.react-grid-layout.dashboard-layout .video-card div.tutorial_video_thumb .tutorial_play {\n  opacity: 0;\n  position: absolute;\n  z-index: 100;\n  color: rgba(255, 255, 255, 0.83);\n  font-size: 30px;\n  background-color: rgba(0, 0, 0, 0.43);\n  border-radius: 50%;\n  padding: 8px;\n  top: 41px;\n  left: 5px;\n  cursor: pointer;\n  transition: all 550ms cubic-bezier(0.23, 1, 0.32, 1) 0ms;\n}\ndiv.user-dashboard-main div.react-grid-layout.dashboard-layout .video-card div.tutorial_video_thumb .tutorial_prev.tutorial_next,\ndiv.user-dashboard-main div.react-grid-layout.dashboard-layout .video-card div.tutorial_video_thumb .tutorial_next.tutorial_next,\ndiv.user-dashboard-main div.react-grid-layout.dashboard-layout .video-card div.tutorial_video_thumb .tutorial_play.tutorial_next {\n  left: initial;\n  right: 5px;\n}\ndiv.user-dashboard-main div.react-grid-layout.dashboard-layout .video-card div.tutorial_video_thumb .tutorial_prev.tutorial_play,\ndiv.user-dashboard-main div.react-grid-layout.dashboard-layout .video-card div.tutorial_video_thumb .tutorial_next.tutorial_play,\ndiv.user-dashboard-main div.react-grid-layout.dashboard-layout .video-card div.tutorial_video_thumb .tutorial_play.tutorial_play {\n  left: 94px;\n  opacity: 1;\n  background-color: rgba(255, 255, 255, 0.78);\n  color: rgba(0, 0, 0, 0.4);\n  font-size: 40px;\n  top: 36px;\n}\ndiv.user-dashboard-main div.react-grid-layout.dashboard-layout .video-card div.tutorial_video_thumb:hover .tutorial_prev,\ndiv.user-dashboard-main div.react-grid-layout.dashboard-layout .video-card div.tutorial_video_thumb:hover .tutorial_next {\n  opacity: 1;\n}\ndiv.user-dashboard-main div.react-grid-layout.dashboard-layout .video-card div.tutorial_video_thumb .tutorial_title > span {\n  color: rgba(0, 0, 0, 0);\n}\ndiv.user-dashboard-main div.react-grid-layout.dashboard-layout .video-card div.tutorial_video_thumb .tutorial_title > span h2 {\n  letter-spacing: 0;\n  display: block;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n  overflow: hidden;\n  font-weight: 400;\n  font-size: 16px;\n  color: white;\n  position: absolute;\n  bottom: 0;\n  left: 0;\n  right: 52px;\n  background-color: rgba(0, 0, 0, 0.43);\n  padding: 16px 0 16px 12px;\n  line-height: 20px;\n  margin: 0;\n  border-radius: 0 0 0 2px;\n}\ndiv.user-dashboard-main div.react-grid-layout.dashboard-layout .video-card div.tutorial_load_button {\n  display: block;\n  padding: 5px 18px 16px;\n  cursor: pointer;\n  text-align: right;\n  text-transform: uppercase;\n  font-weight: 500;\n  font-size: 15px;\n  color: #009688;\n}\ndiv.user-dashboard-main div.react-grid-layout.dashboard-layout div.recently-accessed-list.table-mode div.toolbarTableHeader.mui-toolbar {\n  border-radius: 2px 2px 0 0;\n  border-bottom: 0 !important;\n}\ndiv.user-dashboard-main div.react-grid-layout.dashboard-layout div.recently-accessed-list.table-mode div.toolbarTableHeader.mui-toolbar .mui-toolbar-group {\n  font-size: 16px !important;\n  font-weight: 400 !important;\n  color: #ffffff !important;\n}\ndiv.user-dashboard-main div.react-grid-layout.dashboard-layout div.recently-accessed-list.files-list .material-list-entry {\n  border-bottom: 1px solid rgba(255, 255, 255, 0.1);\n}\ndiv.user-dashboard-main div.react-grid-layout.dashboard-layout div.recently-accessed-list.files-list .material-list-entry .material-list-icon {\n  width: 64px;\n}\ndiv.user-dashboard-main div.react-grid-layout.dashboard-layout div.recently-accessed-list.files-list .material-list-entry .material-list-icon .covering-bg-preview,\ndiv.user-dashboard-main div.react-grid-layout.dashboard-layout div.recently-accessed-list.files-list .material-list-entry .material-list-icon .mimefont-container {\n  height: 30px;\n  width: 30px;\n  margin: 14px;\n}\ndiv.user-dashboard-main div.react-grid-layout.dashboard-layout div.recently-accessed-list.files-list .material-list-entry .material-list-icon .mimefont-container {\n  background-color: transparent;\n  border: 1px solid white;\n}\ndiv.user-dashboard-main div.react-grid-layout.dashboard-layout div.recently-accessed-list.files-list .material-list-entry .material-list-icon .mimefont-container .mimefont {\n  color: #ffffff;\n  font-size: 17px;\n}\ndiv.user-dashboard-main div.react-grid-layout.dashboard-layout div.recently-accessed-list.files-list .material-list-entry .material-list-text {\n  color: white;\n  padding: 10px 0;\n}\ndiv.user-dashboard-main div.react-grid-layout.dashboard-layout div.recently-accessed-list.files-list .material-list-entry .material-list-text .material-list-line-2 {\n  color: rgba(255, 255, 255, 0.53);\n}\n",""]);const l=a},247:e=>{var t=[];function r(e){for(var r=-1,n=0;n<t.length;n++)if(t[n].identifier===e){r=n;break}return r}function n(e,n){for(var i={},a=[],l=0;l<e.length;l++){var s=e[l],c=n.base?s[0]+n.base:s[0],u=i[c]||0,d="".concat(c," ").concat(u);i[c]=u+1;var p=r(d),f={css:s[1],media:s[2],sourceMap:s[3],supports:s[4],layer:s[5]};if(-1!==p)t[p].references++,t[p].updater(f);else{var m=o(f,n);n.byIndex=l,t.splice(l,0,{identifier:d,updater:m,references:1})}a.push(d)}return a}function o(e,t){var r=t.domAPI(t);return r.update(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap&&t.supports===e.supports&&t.layer===e.layer)return;r.update(e=t)}else r.remove()}}e.exports=function(e,o){var i=n(e=e||[],o=o||{});return function(e){e=e||[];for(var a=0;a<i.length;a++){var l=r(i[a]);t[l].references--}for(var s=n(e,o),c=0;c<i.length;c++){var u=r(i[c]);0===t[u].references&&(t[u].updater(),t.splice(u,1))}i=s}}},938:e=>{var t={};e.exports=function(e,r){var n=function(e){if(void 0===t[e]){var r=document.querySelector(e);if(window.HTMLIFrameElement&&r instanceof window.HTMLIFrameElement)try{r=r.contentDocument.head}catch(e){r=null}t[e]=r}return t[e]}(e);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");n.appendChild(r)}},767:e=>{e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},549:(e,t,r)=>{e.exports=function(e){var t=r.nc;t&&e.setAttribute("nonce",t)}},415:e=>{e.exports=function(e){var t=e.insertStyleElement(e);return{update:function(r){!function(e,t,r){var n="";r.supports&&(n+="@supports (".concat(r.supports,") {")),r.media&&(n+="@media ".concat(r.media," {"));var o=void 0!==r.layer;o&&(n+="@layer".concat(r.layer.length>0?" ".concat(r.layer):""," {")),n+=r.css,o&&(n+="}"),r.media&&(n+="}"),r.supports&&(n+="}");var i=r.sourceMap;i&&"undefined"!=typeof btoa&&(n+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),t.styleTagTransform(n,e,t.options)}(t,e,r)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}},35:e=>{e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}},566:e=>{e.exports=require("create-react-class")},757:e=>{e.exports=require("pydio")},689:e=>{e.exports=require("react")}},t={};function r(n){var o=t[n];if(void 0!==o)return o.exports;var i=t[n]={id:n,exports:{}};return e[n](i,i.exports,r),i.exports}r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.nc=void 0;var n={};(()=>{r.r(n),r.d(n,{HomeDashboard:()=>et,WorkspacePickerDialog:()=>lt});var e=r(247),t=r.n(e),o=r(415),i=r.n(o),a=r(938),l=r.n(a),s=r(549),c=r.n(s),u=r(767),d=r.n(u),p=r(35),f=r.n(p),m=r(177),y={};y.styleTagTransform=f(),y.setAttributes=c(),y.insert=l().bind(null,"head"),y.domAPI=i(),y.insertStyleElement=d(),t()(m.Z,y),m.Z&&m.Z.locals&&m.Z.locals;var h=r(689),b=r.n(h),v=r(757),g=r.n(v);const w=require("material-ui"),x=require("material-ui/styles");function O(e){return O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},O(e)}function S(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(void 0,o=function(e,t){if("object"!==O(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==O(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(n.key),"symbol"===O(o)?o:String(o)),n)}var o}function E(e,t){return E=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},E(e,t)}function P(e){return P=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},P(e)}var _=r(689),j=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&E(e,t)}(a,e);var t,r,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=P(n);if(o){var r=P(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===O(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function a(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),i.apply(this,arguments)}return t=a,(r=[{key:"render",value:function(){var e,t=this.props.pydio.Registry.getPluginConfigs(this.props.pluginName).get(this.props.pluginParameter);return t||(t=this.props.pydio.Registry.getDefaultImageFromParameters(this.props.pluginName,this.props.pluginParameter)),t&&(e=0===t.indexOf("plug/")?t:this.props.pydio.Parameters.get("ENDPOINT_REST_API")+"/frontend/binaries/GLOBAL/"+t),_.createElement("img",{src:e,style:this.props.style,className:this.props.className})}}])&&S(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),a}(_.Component);function T(e){return T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},T(e)}function R(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function k(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?R(Object(r),!0).forEach((function(t){C(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):R(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function C(e,t,r){return(t=N(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function D(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function M(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,N(n.key),n)}}function z(e,t,r){return t&&M(e.prototype,t),r&&M(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function N(e){var t=function(e,t){if("object"!==T(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==T(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===T(t)?t:String(t)}function L(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&I(e,t)}function I(e,t){return I=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},I(e,t)}function F(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=W(e);if(t){var o=W(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(e,t){if(t&&("object"===T(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,r)}}function W(e){return W=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},W(e)}var q=g().requireLib("boot"),B=q.AsyncComponent,A=q.PydioContextConsumer,H=function(e){L(r,e);var t=F(r);function r(){return D(this,r),t.apply(this,arguments)}return z(r,[{key:"render",value:function(){var e={position:"relative",fontSize:24,width:this.props.dimension||100,height:this.props.dimension||100,backgroundColor:"#ECEFF1",color:"#607d8b",borderRadius:"50%",margin:"0 auto"};return React.createElement("div",{style:k(k({},e),this.props.style)},this.props.children)}}]),r}(h.Component),U=function(e){var t=function(e){return React.createElement("div",{style:{position:"absolute",top:52,left:20,width:80,display:"flex",transformOrigin:"left",transform:"rotate("+-e+"deg)"}},React.createElement("span",{style:{flex:1}}),React.createElement("span",{className:"mdi mdi-dots-horizontal",style:{opacity:.5,marginRight:5}}),React.createElement("span",{style:{display:"inline-block",transform:"rotate("+e+"deg)"},className:"mdi mdi-account"}))};return React.createElement("div",null,React.createElement("p",null,e.message("workspaces.1")),React.createElement(H,{dimension:130},React.createElement("span",{style:{position:"absolute",top:52,left:20},className:"mdi mdi-network"}),t(30),t(0),t(-30)),React.createElement("p",null,e.message("workspaces.2")),React.createElement(H,{dimension:130},React.createElement("span",{className:"mdi mdi-account",style:{position:"absolute",left:54,top:32}}),React.createElement("div",{style:{position:"absolute",top:60,left:30}},React.createElement("span",{className:"mdi mdi-folder"}),React.createElement("span",{className:"mdi mdi-arrow-right"}),React.createElement("span",{className:"mdi mdi-network"}))))},G=function(e){return React.createElement("div",null,React.createElement("p",null,e.message("globsearch.1")),React.createElement(H,{style:{fontSize:10,padding:25},dimension:130},React.createElement("div",{style:{boxShadow:"2px 2px 0px #CFD8DC"}},React.createElement("div",{style:{backgroundColor:"#03a9f4",color:"white",borderRadius:"3px 3px 0 0"}},React.createElement("span",{className:"mdi mdi-magnify"}),e.message("infopanel.search"),"..."),React.createElement("div",{style:{backgroundColor:"white"}},React.createElement("div",null,React.createElement("span",{className:"mdi mdi-folder"})," ",e.message("infopanel.folder")," 1 "),React.createElement("div",null,React.createElement("span",{className:"mdi mdi-folder"}),"  ",e.message("infopanel.file")," 2"),React.createElement("div",null,React.createElement("span",{className:"mdi mdi-file"})," ",e.message("infopanel.file")," 3")))),React.createElement("p",null,e.message("globsearch.2")))},J=function(e){L(r,e);var t=F(r);function r(e,n){var o;return D(this,r),(o=t.call(this,e,n)).state={started:!(e.pydio.user&&!e.pydio.user.getPreference("gui_preferences",!0)["UserAccount.WelcomeModal.Shown"])},o}return z(r,[{key:"componentDidMount",value:function(){var e=this;this.state.started||pydio.UI.openComponentInModal("UserAccount","WelcomeModal",{onRequestStart:function(t){t?e.discard(!0):(e.discard(!1),e.setState({started:!0}))}})}},{key:"discard",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this.props,r=t.pydio,n=t.onFinish,o=r.user,i=o.getPreference("gui_preferences",!0);i["UserAccount.WelcomeModal.Shown"]=!0,e&&(i["WelcomeComponent.Pydio8.TourGuide.Welcome"]=!0,n&&n()),o.setPreference("gui_preferences",i,!0),o.savePreference("gui_preferences")}},{key:"render",value:function(){var e=this;if(!this.state.started)return null;var t=this.props.getMessage,r=function(e){return t("ajax_gui.tour."+e)},n=[{title:r("workspaces.title"),text:React.createElement(U,{message:r}),selector:".user-workspaces-list",position:"right"},{title:r("globsearch.title"),text:React.createElement(G,{message:r}),selector:".home-search-form",position:"bottom"}];if(this.props.pydio.user){var o=!1;this.props.pydio.user.getRepositoriesList().forEach((function(e){"gateway"===e.accessType&&(o=!0)})),o&&n.push({title:r("openworkspace.title"),text:r("openworkspace"),selector:".workspace-entry",position:"right"})}return React.createElement(B,{namespace:"PydioWorkspaces",componentName:"TourGuide",ref:"joyride",steps:n,run:!0,autoStart:!0,debug:!1,callback:function(t){"step:after"===t.type&&t.index===n.length-1&&e.discard(!0)},type:"continuous"})}}]),r}(h.Component);J=A(J);const Z=require("pydio/util/path");var V=r.n(Z);const Y=require("pydio/util/dom");var K=r.n(Y);function Q(e){return Q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Q(e)}function X(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(void 0,o=function(e,t){if("object"!==Q(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==Q(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(n.key),"symbol"===Q(o)?o:String(o)),n)}var o}function $(e,t){return $=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},$(e,t)}function ee(e){return ee=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},ee(e)}var te=g().requireLib("components"),re=te.SimpleList,ne=te.NodeListCustomProvider,oe=g().requireLib("boot"),ie=oe.PydioContextConsumer,ae=oe.moment,le=g().requireLib("workspaces"),se=le.UnifiedSearchForm,ce=le.Facets,ue=le.FilePreview,de=le.AdvancedChips,pe=g().requireLib("hoc").withSearch,fe=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&$(e,t)}(a,e);var t,r,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=ee(n);if(o){var r=ee(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===Q(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function a(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),i.call(this,e)}return t=a,r=[{key:"componentDidMount",value:function(){var e=this.props.onFocusChange;this._escListener=function(t){"Escape"===t.key&&e(!1)},document.addEventListener("keyup",this._escListener)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keyup",this._escListener)}},{key:"update",value:function(e){(0,this.props.searchTools.setValues)({basenameOrContent:e})}},{key:"render",value:function(){var e=this.props,t=e.searchTools,r=e.searchTools,n=r.facets,o=r.activeFacets,i=r.toggleFacet,a=r.loading,l=r.dataModel,s=(r.empty,this.props),c=s.style,u=s.zDepth,d=s.pydio,p=s.fullScreen,f=s.fullScreenTransition,m=s.onFocusChange,y=s.muiTheme,h="mui3"===y.userTheme,v=y.palette.mui3,g="rgba(0,0,0,.53)",x={mainContainer:{width:"100%",position:"absolute",top:p?0:199,bottom:0,transition:"all 450ms cubic-bezier(0.23, 1, 0.32, 1) 0ms",display:"flex",flexDirection:"column",alignItems:"center"},searchContainer:{width:"100%",zIndex:1,display:"flex",flexDirection:"column",alignItems:"center",background:h&&p?v["surface-1"]:"transparent",padding:p?"10px 50px":0},textFieldContainer:{width:"100%",maxWidth:p?1e4:700,display:"flex",alignItems:"center",background:h?v["surface-variant"]:"#eceff1",height:p?40:50,padding:"2px 4px",borderRadius:50,marginTop:p?0:-25},textField:{flex:1},textInput:{color:"inherit"},textHint:{color:g,overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis",width:"100%"},magnifier:{color:g,fontSize:20,padding:"14px 8px"},close:{position:"absolute",right:0,zIndex:2},searchForm:{mainStyle:{backgroundColor:"transparent",height:48,border:0},completeMenuStyle:{width:"100%"},inputStyle:{fontSize:18},hintStyle:{fontSize:18},magnifierStyle:{fontSize:20,color:"rgba(0,0,0,0.73)",marginRight:10},filterButton:{color:"#03a9f4",fontSize:22,width:28,height:28,padding:3},filterButtonActive:{}},facets:{container:{width:230,overflowY:"auto",background:v["surface-2"],color:h?v["on-surface-variant"]:"#5c7784",borderRadius:0,borderRight:h?"1px solid "+v["outline-variant-50"]:void 0,paddingLeft:16,paddingRight:16,paddingTop:10},header:{fontWeight:500,padding:"10px 0",fontSize:15},subHeader:{fontWeight:500,textTransform:"uppercase",padding:"12px 0"}}};return b().createElement(w.Paper,{style:c,zDepth:u,className:"vertical-layout home-center-paper",rounded:!1},b().createElement("div",{style:x.mainContainer},b().createElement(w.Paper,{zDepth:p?1:0,rounded:!1,style:x.searchContainer},b().createElement(w.Paper,{zDepth:0,style:x.textFieldContainer,className:"home-search-form"},b().createElement(se,{style:{flex:1},active:p,preventOpen:f,pydio:d,formStyles:x.searchForm,searchTools:t,onRequestOpen:function(){return m(!0)},onRequestClose:function(){return m(!1)}}),a&&b().createElement("div",{style:{marginTop:14,marginRight:8}},b().createElement(w.CircularProgress,{size:20,thickness:2}))),p&&b().createElement(de,{searchTools:t,containerStyle:{width:"100%",paddingTop:11,marginBottom:-4}})),p&&b().createElement("div",{className:"layout-fill",style:{width:"100%",display:"flex"}},K().getViewportWidth()>758&&b().createElement(ce,{pydio:d,facets:n,activeFacets:o,onToggleFacet:i,emptyStateView:b().createElement("div",{style:{fontWeight:500,padding:"10px 0px",fontSize:15}},"Filter Results... (no results)"),styles:x.facets,zDepth:h?0:void 0}),b().createElement(ne,{containerStyle:{flex:1,marginLeft:10},className:"files-list vertical_fit",elementHeight:re.HEIGHT_TWO_LINES,entryRenderIcon:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return b().createElement(ue,{loadThumbnail:!t.parentIsScrolling,node:e})},entryRenderActions:function(){return null},entryRenderSecondLine:function(e){var t=e.getPath(),r=e.getMetadata(),n=new Date;n.setTime(1e3*parseInt(r.get("ajxp_modiftime")));var o,i,a=ae(n).fromNow();return parseInt(e.getMetadata().get("bytesize"))&&(o=V().roundFileSize(parseInt(e.getMetadata().get("bytesize")))),V().getDirname(t)&&(i=d.MessageHash["user_home.search.result.location"]+": "+V().getDirname(t)||"/"),b().createElement("div",null,a," ",o?b().createElement("span",null,"• ",o):""," ",i?b().createElement("span",null,"• ",i):null)},entryRenderGroupHeader:function(e,t){return b().createElement("div",{style:{fontSize:13,color:"#93a8b2",fontWeight:500,cursor:"pointer"},onClick:function(){return d.triggerRepositoryChange(e)}},t)},presetDataModel:l,presetRootNode:l.getSearchNode(),openCollection:function(e){d.goTo(e)},nodeClicked:function(e){d.goTo(e)},defaultGroupBy:"repository_id",groupByLabel:"repository_display",emptyStateProps:{iconClassName:"",primaryTextId:a?"searchengine.searching":478,style:{backgroundColor:"transparent"}}})),b().createElement("div",{style:{display:p?"none":"block",flex:1,overflowY:"auto",marginTop:40},id:"history-block"},this.props.children)),p&&b().createElement(w.IconButton,{iconClassName:"mdi mdi-close",style:x.close,onClick:function(){return m(!1)},tooltipPosition:"bottom-left",tooltip:d.MessageHash[86]}))}}],r&&X(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),a}(h.Component);fe=ie(fe=pe(fe,"main","all")),fe=(0,x.muiThemeable)()(fe),require("pydio/model/node");const me=require("pydio/model/meta-node-provider");var ye=r.n(me);const he=require("pydio/http/api");var be=r.n(he);const ve=require("cells-sdk");function ge(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function we(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ge(Object(r),!0).forEach((function(t){xe(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ge(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function xe(e,t,r){return(t=Ce(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Oe(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Se(e,t)}function Se(e,t){return Se=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Se(e,t)}function Ee(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=_e(e);if(t){var o=_e(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(e,t){if(t&&("object"===je(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Pe(e)}(this,r)}}function Pe(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _e(e){return _e=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},_e(e)}function je(e){return je="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},je(e)}function Te(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Re(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Ce(n.key),n)}}function ke(e,t,r){return t&&Re(e.prototype,t),r&&Re(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Ce(e){var t=function(e,t){if("object"!==je(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==je(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===je(t)?t:String(t)}var De=g().requireLib("boot"),Me=De.PydioContextConsumer,ze=De.moment,Ne=g().requireLib("workspaces").FilePreview,Le=(g().requireLib("PydioActivityStreams").ASClient,g().requireLib("hoc")),Ie=Le.PlaceHolder,Fe=Le.PhTextRow,We=Le.PhRoundShape,qe=function(){function e(t,r){Te(this,e),this.pydio=t,this.stater=r}return ke(e,[{key:"m",value:function(e){return this.pydio.MessageHash["user_home.reco."+e]||e}},{key:"load",value:function(){var e=this,t=new ve.GraphServiceApi(be().getRestClient()),r=new ve.RestRecommendRequest;return r.Limit=8,t.recommend(r).then((function(t){return(t.Nodes||[]).map((function(t){var r;if(t.AppearsIn?r=t.AppearsIn[0].WsSlug:t.MetaStore.ws_slug&&(r=JSON.parse(t.MetaStore.ws_slug)),t.MetaStore["reco-annotation"]){var n=JSON.parse(t.MetaStore["reco-annotation"]);if(0===n.indexOf("activity:")){var o=n.replace("activity:","");t.MetaStore.card_legend=JSON.stringify(ze(1e3*o).fromNow())}else"bookmark"===n?t.MetaStore.card_legend=JSON.stringify(e.m("bookmark")):"workspace"===n&&('"ROOM"'===t.MetaStore.ws_scope?(t.MetaStore.card_legend=JSON.stringify(e.m("cell")),t.MetaStore.fonticon=JSON.stringify("icomoon-cells")):t.MetaStore.card_legend=JSON.stringify(e.m("workspace")))}return ye().parseTreeNode(t,r)}))}))}}]),e}(),Be=function(e){Oe(r,e);var t=Ee(r);function r(e){var n;return Te(this,r),(n=t.call(this,e)).state={opacity:0},n}return ke(r,[{key:"componentDidMount",value:function(){var e=this;setTimeout((function(){e.setState({opacity:1})}),200)}},{key:"render",value:function(){var e=this,t=this.state,r=t.opacity,n=t.hover,o=this.props.muiTheme,i={paper:{width:140,height:160,margin:10,padding:6,borderRadius:6,boxShadow:n?"0px 15px 30px -6px rgba(0, 0, 0, .15)":"-1px 0px 15px 0px rgba(0, 0, 0, 0.1)",display:"flex",flexDirection:"column",cursor:"pointer",alignItems:"center",textAlign:"center",opacity:r,transition:"all 1000ms cubic-bezier(0.23, 1, 0.32, 1) 0ms"},preview:{boxShadow:"0 0 0 1px #edf0f2",borderRadius:6,width:"100%",flex:1,alignItems:"center",justifyContent:"center",display:"flex"},fontOverlay:{position:"absolute",bottom:0,right:5},label:{fontSize:14,overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis",width:"100%"},title:{fontSize:14,marginTop:10},legend:{fontSize:11,fontWeight:500,color:"#9E9E9E"}};if("mui3"===o.userTheme){var a=o.palette.mui3;i.paper=we(we({},i.paper),{},{width:160,height:160,borderRadius:12,boxShadow:null,margin:4,padding:0,paddingBottom:6,backgroundColor:a.surface,color:a["on-surface"],border:"1px solid "+a["outline-variant-50"]}),i.preview=we(we({},i.preview),{},{borderRadius:12,boxShadow:null}),i.label=we(we({},i.label),{},{paddingLeft:10,textAlign:"left"}),i.title.fontWeight=500,i.legend.color=a["on-surface-variant"],i.legend.fontWeight=400}var l=this.props,s=l.title,c=l.legend,u=l.node,d=l.pydio;return b().createElement(w.Paper,{zDepth:0,style:i.paper,onClick:function(){d.goTo(u)},onMouseOver:function(){return e.setState({hover:!0})},onMouseOut:function(){return e.setState({hover:!1})},title:u&&u.getLabel()},u&&b().createElement(Ne,{node:u,style:i.preview,mimeFontStyle:{fontSize:40},loadThumbnail:!0,mimeFontOverlay:!0,mimeFontOverlayStyle:i.fontOverlay}),b().createElement("div",{style:we(we({},i.label),i.title)},s),b().createElement("div",{style:we(we({},i.label),i.legend)},c))}}]),r}(b().Component),Ae=function(e){Oe(r,e);var t=Ee(r);function r(e){var n;return Te(this,r),(n=t.call(this,e)).loader=new qe(e.pydio,Pe(n)),n.state={nodes:[],loading:!1},n}return ke(r,[{key:"componentDidMount",value:function(){var e=this;this.setState({loading:!0}),this.loader.load().then((function(t){e.setState({nodes:t,loading:!1})})).catch((function(t){console.error(t),e.setState({loading:!1})}))}},{key:"render",value:function(){var e=this.props,t=e.pydio,r=e.style,n=e.muiTheme,o=this.state,i=o.nodes,a=o.loading,l={margin:10,width:140,height:160,padding:6,display:"flex",flexDirection:"column",alignItems:"center",borderRadius:6};"mui3"===n.userTheme&&(l.width=160,l.height=160,l.margin=4,l.borderRadius=12);var s=b().createElement("div",{style:{display:"flex",flexWrap:"wrap"}},[0,1,2,3,4,5,6,7].map((function(){return b().createElement("div",{style:l},b().createElement(We,{style:{width:"100%",height:100,borderRadius:l.borderRadius}}),b().createElement(Fe,null),b().createElement(Fe,null))})));if(!t.user||t.user.lock)return b().createElement("div",null);var c={},u=[];return i.forEach((function(e){var r=e.getMetadata().get("uuid");c[r]||u.length>=8||(c[r]=r,u.push(b().createElement(Be,{key:r,pydio:t,muiTheme:n,node:e,title:e.getLabel(),legend:e.getMetadata().get("card_legend")})))})),b().createElement("div",{style:we({display:"flex",flexWrap:"wrap",justifyContent:"center"},r)},b().createElement(Ie,{ready:!a,showLoadingAnimation:!0,customPlaceholder:s},u))}}]),r}(b().Component);Ae=Me(Ae);const He=require("lodash");function Ue(e){return Ue="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ue(e)}function Ge(){return Ge=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ge.apply(this,arguments)}function Je(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ze(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Je(Object(r),!0).forEach((function(t){Ve(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Je(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Ve(e,t,r){return(t=Ke(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ye(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Ke(n.key),n)}}function Ke(e){var t=function(e,t){if("object"!==Ue(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==Ue(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===Ue(t)?t:String(t)}function Qe(e,t){return Qe=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Qe(e,t)}function Xe(e){return Xe=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Xe(e)}var $e=g().requireLib("workspaces").MasterLayout,et=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Qe(e,t)}(a,e);var t,r,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Xe(n);if(o){var r=Xe(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===Ue(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this,e)).state={unreadStatus:0,drawerOpen:!0},t.showTutorial()||(t.closeTimeout=setTimeout((function(){t.setState({drawerOpen:!1})}),2500)),t._resizeEventDebounced=(0,He.debounce)((function(){window.dispatchEvent(new Event("resize")),t.setState({fullScreenTransition:!1})}),350),t}return t=a,(r=[{key:"showTutorial",value:function(){var e=this.props.pydio,t=e.user?e.user.getPreference("gui_preferences",!0):[];return e.getPluginConfigs("gui.ajax").get("ENABLE_WELCOME_TOUR")&&!t["WelcomeComponent.Pydio8.TourGuide.Welcome"]}},{key:"openDrawer",value:function(e){e.stopPropagation(),this.clearCloseTimeout(),this.setState({drawerOpen:!0})}},{key:"clearCloseTimeout",value:function(){this.closeTimeout&&clearTimeout(this.closeTimeout)}},{key:"render",value:function(){var e,t=this,r=this.props,n=r.pydio,o=r.muiTheme,i=this.state,a=i.drawerOpen,l=i.fullScreen,s=i.fullScreenTransition,c=new w.Color(o.appBar.color),u="mui3"===o.userTheme,d=o.palette.mui3,p={appBarStyle:{backgroundColor:"rgba(255, 255, 255, 0.40)",height:l?0:200,display:"flex",alignItems:"center",justifyContent:"center"},buttonsStyle:{color:o.appBar.textColor},iconButtonsStyle:{color:c.darken(.4).toString()},wsListsContainerStyle:{flex:1,display:"flex",flexDirection:"column",alignItems:"center",backgroundColor:u?d.surface:"white",overflow:"hidden"}};this.showTutorial()&&(e=b().createElement(J,{ref:"welcome",pydio:n,onFinish:function(){t.closeTimeout=setTimeout((function(){t.setState({drawerOpen:!1})}),1500)}}));var f={style:o.buildFSTemplate({}).leftPanel.masterStyle,headerHeight:72,onMouseOver:function(){t.clearCloseTimeout()},userWidgetProps:{mergeButtonInAvatar:!0,popoverDirection:"left",actionBarStyle:{marginTop:0},style:{height:72,display:"flex",alignItems:"center",boxShadow:"none",background:"transparent"}}};return b().createElement($e,{pydio:n,classes:["vertical_layout","vertical_fit","react-fs-template","user-dashboard-template"],tutorialComponent:e,leftPanelProps:f,drawerOpen:a,onCloseDrawerRequested:function(){void 0===e&&t.setState({drawerOpen:!1})}},b().createElement(w.Paper,{zDepth:0,style:Ze({},p.appBarStyle),rounded:!1},b().createElement("span",{className:"drawer-button",style:{position:"absolute",top:0,left:0,zIndex:2}},b().createElement(w.IconButton,{iconStyle:{color:null},iconClassName:"mdi mdi-menu",onClick:this.openDrawer.bind(this)})),b().createElement("div",{style:{width:250}},b().createElement(j,{className:"home-top-logo",pydio:this.props.pydio,pluginName:"gui.ajax",pluginParameter:"CUSTOM_DASH_LOGO"}))),b().createElement(fe,Ge({zDepth:0},this.props,{style:p.wsListsContainerStyle,fullScreen:l,fullScreenTransition:s,onFocusChange:function(e){e!==t.state.fullScreen&&t.setState({fullScreen:e,fullScreenTransition:!0},t._resizeEventDebounced)}}),b().createElement(Ae,Ge({},this.props,{style:{maxWidth:680,width:"100%",padding:"8px 0"},emptyStateProps:{style:{backgroundColor:"transparent"}}}))))}}])&&Ye(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),a}(b().Component);et=(0,x.muiThemeable)()(et);var tt=r(689),rt=r(566),nt=r(757).requireLib("boot"),ot=nt.ActionDialogMixin,it=nt.CancelButtonProviderMixin,at=r(757).requireLib("workspaces").WorkspacesListMaterial,lt=rt({displayName:"WorkspacePickerDialog",mixins:[ot,it],getDefaultProps:function(){return{dialogTitleId:"user_home.90",dialogSize:"sm",dialogPadding:!1,dialogIsModal:!0,dialogScrollBody:!0}},submit:function(){this.dismiss()},workspaceTouchTap:function(e){this.dismiss(),this.props.onWorkspaceTouchTap(e)},render:function(){var e=this.props.pydio;return tt.createElement("div",{style:{width:"100%",height:"100%",display:"flex",flexDirection:"column"}},this.props.legend,tt.createElement(at,{pydio:e,workspaces:e.user?e.user.getRepositoriesList():[],showTreeForWorkspace:!1,onWorkspaceTouchTap:this.workspaceTouchTap,filterByType:"entries",sectionTitleStyle:{display:"none"},style:{flex:1,overflowY:"auto",maxHeight:400}}))}})})(),window.WelcomeComponents=n})();