/*
 * ATTENTION: The "eval" devtool has been used (maybe by default in mode: "development").
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
/******/ (() => { // webpackBootstrap
/******/ 	"use strict";
/******/ 	var __webpack_modules__ = ({

/***/ "./res/js/AdminWorkspaces/board/DataSourcesBoard.js":
/*!**********************************************************!*\
  !*** ./res/js/AdminWorkspaces/board/DataSourcesBoard.js ***!
  \**********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ DataSourcesBoard)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! prop-types */ \"prop-types\");\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var material_ui__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! material-ui */ \"material-ui\");\n/* harmony import */ var material_ui__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(material_ui__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _editor_DataSourceEditor__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../editor/DataSourceEditor */ \"./res/js/AdminWorkspaces/editor/DataSourceEditor.js\");\n/* harmony import */ var _editor_VersionPolicyEditor__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../editor/VersionPolicyEditor */ \"./res/js/AdminWorkspaces/editor/VersionPolicyEditor.js\");\n/* harmony import */ var pydio_model_data_model__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! pydio/model/data-model */ \"pydio/model/data-model\");\n/* harmony import */ var pydio_model_data_model__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(pydio_model_data_model__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var pydio_model_node__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! pydio/model/node */ \"pydio/model/node\");\n/* harmony import */ var pydio_model_node__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(pydio_model_node__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var pydio_util_lang__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! pydio/util/lang */ \"pydio/util/lang\");\n/* harmony import */ var pydio_util_lang__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(pydio_util_lang__WEBPACK_IMPORTED_MODULE_7__);\n/* harmony import */ var pydio__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! pydio */ \"pydio\");\n/* harmony import */ var pydio__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(pydio__WEBPACK_IMPORTED_MODULE_8__);\n/* harmony import */ var pydio_http_api__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! pydio/http/api */ \"pydio/http/api\");\n/* harmony import */ var pydio_http_api__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(pydio_http_api__WEBPACK_IMPORTED_MODULE_9__);\n/* harmony import */ var pydio_http_resources_manager__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! pydio/http/resources-manager */ \"pydio/http/resources-manager\");\n/* harmony import */ var pydio_http_resources_manager__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(pydio_http_resources_manager__WEBPACK_IMPORTED_MODULE_10__);\n/* harmony import */ var _model_DataSource__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../model/DataSource */ \"./res/js/AdminWorkspaces/model/DataSource.js\");\n/* harmony import */ var _model_Ws__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../model/Ws */ \"./res/js/AdminWorkspaces/model/Ws.js\");\n/* harmony import */ var cells_sdk__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! cells-sdk */ \"cells-sdk\");\n/* harmony import */ var cells_sdk__WEBPACK_IMPORTED_MODULE_13___default = /*#__PURE__*/__webpack_require__.n(cells_sdk__WEBPACK_IMPORTED_MODULE_13__);\n/* harmony import */ var uuid__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! uuid */ \"../node_modules/.pnpm/uuid@7.0.3/node_modules/uuid/dist/esm-browser/v4.js\");\n/* harmony import */ var _editor_VersionPolicyPeriods__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../editor/VersionPolicyPeriods */ \"./res/js/AdminWorkspaces/editor/VersionPolicyPeriods.js\");\n/* harmony import */ var _EncryptionKeys__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./EncryptionKeys */ \"./res/js/AdminWorkspaces/board/EncryptionKeys.js\");\n/* harmony import */ var material_ui_styles__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! material-ui/styles */ \"material-ui/styles\");\n/* harmony import */ var material_ui_styles__WEBPACK_IMPORTED_MODULE_16___default = /*#__PURE__*/__webpack_require__.n(material_ui_styles__WEBPACK_IMPORTED_MODULE_16__);\n/* harmony import */ var _editor_CreateDSDialog__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../editor/CreateDSDialog */ \"./res/js/AdminWorkspaces/editor/CreateDSDialog.js\");\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _toPropertyKey(arg) { var key = _toPrimitive(arg, \"string\"); return _typeof(key) === \"symbol\" ? key : String(key); }\nfunction _toPrimitive(input, hint) { if (_typeof(input) !== \"object\" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || \"default\"); if (_typeof(res) !== \"object\") return res; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (hint === \"string\" ? String : Number)(input); }\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n/*\n * Copyright 2007-2021 Charles du Jeu - Abstrium SAS <team (at) pyd.io>\n * This file is part of Pydio.\n *\n * Pydio is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * Pydio is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with Pydio.  If not, see <http://www.gnu.org/licenses/>.\n *\n * The latest code can be found at <https://pydio.com>.\n */\n\n\n\n\n\n\n\n\n\n\n\n\nvar _Pydio$requireLib = pydio__WEBPACK_IMPORTED_MODULE_8___default().requireLib('components'),\n  MaterialTable = _Pydio$requireLib.MaterialTable;\n\n\n\n\n\n\n\nvar _Pydio$requireLib2 = pydio__WEBPACK_IMPORTED_MODULE_8___default().requireLib(\"boot\"),\n  JobsStore = _Pydio$requireLib2.JobsStore,\n  moment = _Pydio$requireLib2.moment;\n\nvar DataSourcesBoard = /*#__PURE__*/function (_React$Component) {\n  _inherits(DataSourcesBoard, _React$Component);\n  var _super = _createSuper(DataSourcesBoard);\n  function DataSourcesBoard(props) {\n    var _this;\n    _classCallCheck(this, DataSourcesBoard);\n    _this = _super.call(this, props);\n    _this.state = {\n      dataSources: [],\n      resyncJobs: {},\n      versioningPolicies: [],\n      dsLoaded: false,\n      versionsLoaded: false,\n      showExportKey: false,\n      exportedKey: null,\n      showImportKey: false,\n      importResult: null,\n      keyOperationError: null,\n      startedServices: [],\n      peerAddresses: [],\n      m: function m(id) {\n        return props.pydio.MessageHash[\"ajxp_admin.ds.\" + id] || id;\n      }\n    };\n    return _this;\n  }\n  _createClass(DataSourcesBoard, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n      var api = new cells_sdk__WEBPACK_IMPORTED_MODULE_13__.ConfigServiceApi(pydio_http_api__WEBPACK_IMPORTED_MODULE_9___default().getRestClient());\n      var pydio = this.props.pydio;\n      this.statusPoller = setInterval(function () {\n        if (!pydio.WebSocketClient.getStatus()) {\n          return;\n        }\n        _model_DataSource__WEBPACK_IMPORTED_MODULE_11__[\"default\"].loadStatuses().then(function (data) {\n          _this2.setState({\n            startedServices: data.Services || []\n          });\n        });\n        api.listPeersAddresses().then(function (res) {\n          _this2.setState({\n            peerAddresses: res.PeerAddresses || []\n          });\n        });\n      }, 2500);\n      setTimeout(function () {\n        _this2.syncPoller = setInterval(function () {\n          if (!pydio.WebSocketClient.getStatus()) {\n            return;\n          }\n          _this2.syncStatuses();\n        }, 2500);\n      }, 1250);\n      this.load();\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      clearInterval(this.statusPoller);\n      clearInterval(this.syncPoller);\n    }\n  }, {\n    key: \"load\",\n    value: function load() {\n      var _this3 = this;\n      var newDsName = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n      this.setState({\n        dsLoaded: false,\n        versionsLoaded: false,\n        newDsName: newDsName\n      });\n      _model_DataSource__WEBPACK_IMPORTED_MODULE_11__[\"default\"].loadDatasources().then(function (data) {\n        _this3.setState({\n          dataSources: data.DataSources || [],\n          dsLoaded: true\n        }, function () {\n          _this3.syncStatuses();\n        });\n      });\n      _model_DataSource__WEBPACK_IMPORTED_MODULE_11__[\"default\"].loadVersioningPolicies().then(function (data) {\n        _this3.setState({\n          versioningPolicies: data.Policies || [],\n          versionsLoaded: true\n        });\n      });\n      _model_DataSource__WEBPACK_IMPORTED_MODULE_11__[\"default\"].loadStatuses().then(function (data) {\n        _this3.setState({\n          startedServices: data.Services\n        });\n      });\n      if (this.refs && this.refs.encKeys) {\n        this.refs.encKeys.load();\n      }\n    }\n  }, {\n    key: \"syncStatuses\",\n    value: function syncStatuses() {\n      var _this4 = this;\n      var _this$state$dataSourc = this.state.dataSources,\n        dataSources = _this$state$dataSourc === void 0 ? [] : _this$state$dataSourc;\n      if (!dataSources.length) {\n        return;\n      }\n      JobsStore.getInstance().getAdminJobs(null, null, dataSources.map(function (d) {\n        return 'resync-ds-' + d.Name;\n      }), 1).then(function (response) {\n        var resyncJobs = {};\n        var jobs = response.Jobs || [];\n        jobs.forEach(function (job) {\n          if (job.Tasks && job.Tasks.length) {\n            resyncJobs[job.ID.replace('resync-ds-', '')] = job;\n          }\n        });\n        _this4.setState({\n          resyncJobs: resyncJobs\n        });\n      });\n    }\n  }, {\n    key: \"closeEditor\",\n    value: function closeEditor() {\n      this.props.closeRightPane();\n    }\n  }, {\n    key: \"openDataSource\",\n    value: function openDataSource(dataSources) {\n      if (!dataSources.length) {\n        return;\n      }\n      var dataSource = dataSources[0];\n      var _this$props = this.props,\n        openRightPane = _this$props.openRightPane,\n        accessByName = _this$props.accessByName,\n        pydio = _this$props.pydio,\n        storageTypes = _this$props.storageTypes;\n      openRightPane({\n        COMPONENT: _editor_DataSourceEditor__WEBPACK_IMPORTED_MODULE_3__[\"default\"],\n        PROPS: {\n          ref: \"editor\",\n          pydio: pydio,\n          dataSource: dataSource,\n          storageTypes: storageTypes,\n          readonly: !accessByName('CreateDatasource'),\n          closeEditor: this.closeEditor.bind(this),\n          reloadList: this.load.bind(this)\n        }\n      });\n    }\n  }, {\n    key: \"makeStatusLabel\",\n    value: function makeStatusLabel(level, message) {\n      switch (level) {\n        case 'error':\n          return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"span\", {\n            style: {\n              color: '#e53935'\n            }\n          }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"span\", {\n            className: \"mdi mdi-alert\"\n          }), \" \", message);\n        case 'running':\n          return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"span\", {\n            style: {\n              color: '#ef6c00'\n            }\n          }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"span\", {\n            className: \"mdi mdi-timer-sand\"\n          }), \" \", message);\n        default:\n          return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"span\", {\n            style: {\n              color: '#1b5e20'\n            }\n          }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"span\", {\n            className: \"mdi mdi-check\"\n          }), \" \", message);\n      }\n    }\n  }, {\n    key: \"computeStatus\",\n    value: function computeStatus(dataSource) {\n      var _this5 = this;\n      var asNumber = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n      if (asNumber && dataSource.Disabled) {\n        return -1;\n      }\n      var _this$state = this.state,\n        _this$state$startedSe = _this$state.startedServices,\n        startedServices = _this$state$startedSe === void 0 ? [] : _this$state$startedSe,\n        _this$state$peerAddre = _this$state.peerAddresses,\n        peerAddresses = _this$state$peerAddre === void 0 ? [] : _this$state$peerAddre,\n        m = _this$state.m,\n        newDsName = _this$state.newDsName;\n      if (!startedServices.length) {\n        return m('status.na');\n      }\n      var index, sync, object;\n      startedServices.map(function (service) {\n        if (service.Name === 'pydio.grpc.data.sync.' + dataSource.Name && service.Status === 'STARTED') {\n          sync = true;\n        } else if (service.Name === 'pydio.grpc.data.index.' + dataSource.Name && service.Status === 'STARTED') {\n          index = true;\n        } else if (service.Name === 'pydio.grpc.data.objects.' + dataSource.ObjectsServiceName && service.Status === 'STARTED') {\n          object = true;\n        }\n      });\n      if (index && sync && object) {\n        if (newDsName && dataSource.Name === newDsName) {\n          setTimeout(function () {\n            _this5.setState({\n              newDsName: null\n            });\n          }, 100);\n        }\n        if (asNumber) {\n          return 0;\n        }\n        return this.makeStatusLabel('ok', m('status.ok'));\n      } else if (newDsName && dataSource.Name === newDsName) {\n        if (asNumber) {\n          return 1;\n        }\n        return this.makeStatusLabel('running', m('status.starting'));\n      } else if (!index && !sync && !object) {\n        var koMessage = m('status.ko');\n        if (peerAddresses && peerAddresses.indexOf(dataSource.PeerAddress) === -1) {\n          koMessage = m('status.ko-peers').replace('%s', dataSource.PeerAddress);\n        }\n        if (asNumber) {\n          return 2;\n        }\n        return this.makeStatusLabel('error', koMessage);\n      } else {\n        var services = [];\n        if (!index) {\n          services.push(m('status.index'));\n        }\n        if (!sync) {\n          services.push(m('status.sync'));\n        }\n        if (!object) {\n          services.push(m('status.object'));\n        }\n        if (asNumber) {\n          return 3;\n        }\n        return this.makeStatusLabel('error', services.join(' - '));\n      }\n    }\n  }, {\n    key: \"computeJobStatus\",\n    value: function computeJobStatus(job) {\n      var task = job.Tasks[0];\n      switch (task.Status) {\n        case 'Finished':\n          return this.makeStatusLabel('ok', moment(new Date(parseInt(task.EndTime) * 1000)).fromNow());\n        case 'Running':\n          return this.makeStatusLabel('running', task.StatusMessage || 'Running...');\n        case 'Error':\n          return this.makeStatusLabel('error', task.StatusMessage);\n        case 'Queued':\n          return this.makeStatusLabel('running', task.StatusMessage);\n        default:\n          break;\n      }\n      return this.makeStatusLabel('ok', task.StatusMessage);\n    }\n  }, {\n    key: \"openVersionPolicy\",\n    value: function openVersionPolicy() {\n      var versionPolicies = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : undefined;\n      var clone = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n      if (versionPolicies !== undefined && !versionPolicies.length) {\n        return;\n      }\n      var versionPolicy;\n      var create = false;\n      if (versionPolicies === undefined) {\n        create = true;\n        versionPolicy = new cells_sdk__WEBPACK_IMPORTED_MODULE_13__.TreeVersioningPolicy();\n        versionPolicy.Uuid = (0,uuid__WEBPACK_IMPORTED_MODULE_18__[\"default\"])();\n        versionPolicy.VersionsDataSourceName = \"versions\";\n        versionPolicy.NodeDeletedStrategy = \"KeepAll\";\n        var period = new cells_sdk__WEBPACK_IMPORTED_MODULE_13__.TreeVersioningKeepPeriod();\n        period.IntervalStart = \"0\";\n        period.MaxNumber = -1;\n        versionPolicy.KeepPeriods = [period];\n      } else {\n        versionPolicy = versionPolicies[0];\n        if (clone) {\n          create = true;\n          versionPolicy = cells_sdk__WEBPACK_IMPORTED_MODULE_13__.TreeVersioningPolicy.constructFromObject(JSON.parse(JSON.stringify(versionPolicy)));\n          versionPolicy.Uuid = (0,uuid__WEBPACK_IMPORTED_MODULE_18__[\"default\"])();\n          versionPolicy.Name += ' (Copy)';\n        }\n      }\n      var _this$props2 = this.props,\n        openRightPane = _this$props2.openRightPane,\n        pydio = _this$props2.pydio,\n        versioningReadonly = _this$props2.versioningReadonly,\n        accessByName = _this$props2.accessByName;\n      var dataSources = this.state.dataSources;\n      openRightPane({\n        COMPONENT: _editor_VersionPolicyEditor__WEBPACK_IMPORTED_MODULE_4__[\"default\"],\n        PROPS: {\n          ref: \"editor\",\n          versionPolicy: versionPolicy,\n          create: create,\n          pydio: pydio,\n          internalSources: dataSources.filter(function (ds) {\n            return ds.StorageConfiguration && ds.StorageConfiguration.cellsInternal;\n          }).map(function (ds) {\n            return ds.Name;\n          }),\n          readonly: versioningReadonly || !accessByName('CreateVersioning'),\n          closeEditor: this.closeEditor.bind(this),\n          reloadList: this.load.bind(this)\n        }\n      });\n    }\n  }, {\n    key: \"deleteVersionPolicy\",\n    value: function deleteVersionPolicy(policy) {\n      var _this6 = this;\n      var pydio = this.props.pydio;\n      pydio.UI.openConfirmDialog({\n        message: pydio.MessageHash['ajxp_admin.versions.editor.delete.confirm'],\n        destructive: [policy.Name],\n        validCallback: function validCallback() {\n          pydio_http_resources_manager__WEBPACK_IMPORTED_MODULE_10___default().loadClass('EnterpriseSDK').then(function (sdk) {\n            var api = new sdk.EnterpriseConfigServiceApi(pydio_http_api__WEBPACK_IMPORTED_MODULE_9___default().getRestClient());\n            api.deleteVersioningPolicy(policy.Uuid).then(function (r) {\n              _this6.load();\n            });\n          });\n        }\n      });\n    }\n  }, {\n    key: \"createDataSource\",\n    value: function createDataSource(storageStructure) {\n      var _this$props3 = this.props,\n        pydio = _this$props3.pydio,\n        storageTypes = _this$props3.storageTypes;\n      var dataSources = this.state.dataSources;\n      this.props.openRightPane({\n        COMPONENT: _editor_DataSourceEditor__WEBPACK_IMPORTED_MODULE_3__[\"default\"],\n        PROPS: {\n          ref: \"editor\",\n          create: true,\n          createStructure: storageStructure,\n          existingNames: dataSources.map(function (ds) {\n            return ds.Name;\n          }),\n          pydio: pydio,\n          storageTypes: storageTypes,\n          closeEditor: this.closeEditor.bind(this),\n          reloadList: this.load.bind(this)\n        }\n      });\n    }\n  }, {\n    key: \"resyncDataSource\",\n    value: function resyncDataSource(pydio, m, row) {\n      pydio.UI.openConfirmDialog({\n        message: m('editor.legend.resync'),\n        skipNext: 'datasource.resync.confirm',\n        validCallback: function validCallback() {\n          var ds = new _model_DataSource__WEBPACK_IMPORTED_MODULE_11__[\"default\"](row);\n          ds.resyncSource();\n        }\n      });\n    }\n  }, {\n    key: \"deleteDataSource\",\n    value: function deleteDataSource(pydio, m, row) {\n      var _this7 = this;\n      pydio.UI.openConfirmDialog({\n        message: m('editor.delete.warning'),\n        validCallback: function validCallback() {\n          var ds = new _model_DataSource__WEBPACK_IMPORTED_MODULE_11__[\"default\"](row);\n          ds.deleteSource().then(function () {\n            _this7.load();\n          });\n        },\n        destructive: [row.Name]\n      });\n    }\n  }, {\n    key: \"createWorkspaceFromDatasource\",\n    value: function createWorkspaceFromDatasource(pydio, m, row) {\n      var ws = new _model_Ws__WEBPACK_IMPORTED_MODULE_12__[\"default\"]();\n      var model = ws.getModel();\n      var dsName = row.Name;\n      model.Label = dsName;\n      model.Description = \"Root of \" + dsName;\n      model.Slug = dsName;\n      model.Attributes['DEFAULT_RIGHTS'] = '';\n      var roots = model.RootNodes;\n      var fakeRoot = {\n        Uuid: 'DATASOURCE:' + dsName,\n        Path: dsName\n      };\n      roots[fakeRoot.Uuid] = fakeRoot;\n      pydio.UI.openComponentInModal('PydioReactUI', 'PromptDialog', {\n        dialogTitle: m('board.wsfromds.title'),\n        legendId: m('board.wsfromds.legend').replace('%s', dsName),\n        fieldLabelId: m('board.wsfromds.field'),\n        defaultValue: m('board.wsfromds.defaultPrefix').replace('%s', dsName),\n        submitValue: function submitValue(v) {\n          model.Label = v;\n          ws.save().then(function () {\n            pydio.goTo('/data/workspaces');\n          });\n        }\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this8 = this;\n      var _this$state2 = this.state,\n        dataSources = _this$state2.dataSources,\n        resyncJobs = _this$state2.resyncJobs,\n        versioningPolicies = _this$state2.versioningPolicies,\n        m = _this$state2.m,\n        createDialog = _this$state2.createDialog;\n      dataSources.sort(pydio_util_lang__WEBPACK_IMPORTED_MODULE_7___default().arraySorter('Name'));\n      var splitSources = dataSources.filter(function (ds) {\n        return !(ds.StorageConfiguration && ds.StorageConfiguration.cellsInternal);\n      });\n      var internalSources = dataSources.filter(function (ds) {\n        return ds.StorageConfiguration && ds.StorageConfiguration.cellsInternal;\n      });\n      versioningPolicies.sort(pydio_util_lang__WEBPACK_IMPORTED_MODULE_7___default().arraySorter('Name'));\n      var adminStyles = AdminComponents.AdminStyles(this.props.muiTheme.palette);\n      var body = adminStyles.body;\n      var tableMaster = body.tableMaster;\n      var blockProps = body.block.props;\n      var blockStyle = body.block.container;\n      var _this$props4 = this.props,\n        currentNode = _this$props4.currentNode,\n        pydio = _this$props4.pydio,\n        versioningReadonly = _this$props4.versioningReadonly,\n        accessByName = _this$props4.accessByName;\n      var dsColumns = [{\n        name: 'Name',\n        label: m('name'),\n        style: {\n          fontSize: 15,\n          width: '15%'\n        },\n        headerStyle: {\n          width: '15%'\n        },\n        sorter: {\n          type: 'string',\n          \"default\": true\n        }\n      }, {\n        name: 'StorageType',\n        label: m('storage'),\n        style: {\n          width: '15%'\n        },\n        headerStyle: {\n          width: '15%'\n        },\n        renderCell: function renderCell(row) {\n          var s = 'storage.fs';\n          switch (row.StorageType) {\n            case \"S3\":\n              s = 'storage.s3';\n              break;\n            case \"AZURE\":\n              s = 'storage.azure';\n              break;\n            case \"GCS\":\n              s = 'storage.gcs';\n              break;\n            default:\n              break;\n          }\n          return m(s);\n        },\n        sorter: {\n          type: 'string'\n        }\n      }, {\n        name: 'Status',\n        label: m('status'),\n        hideSmall: true,\n        renderCell: function renderCell(row) {\n          return row.Disabled ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"span\", {\n            style: {\n              color: '#757575'\n            }\n          }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"span\", {\n            className: \"mdi mdi-checkbox-blank-circle-outline\"\n          }), \" \", m('status.disabled')) : _this8.computeStatus(row);\n        },\n        sorter: {\n          type: 'number',\n          value: function value(row) {\n            return _this8.computeStatus(row, true);\n          }\n        }\n      }, {\n        name: 'SyncStatus',\n        label: m('syncStatus'),\n        hideSmall: true,\n        renderCell: function renderCell(row) {\n          return resyncJobs && resyncJobs[row.Name] ? _this8.computeJobStatus(resyncJobs[row.Name]) : 'n/a';\n        },\n        sorter: {\n          type: 'number',\n          value: function value(row) {\n            return resyncJobs && resyncJobs[row.Name] ? resyncJobs[row.Name].Tasks[0].EndTime : 0;\n          }\n        }\n      }, {\n        name: 'VersioningPolicyName',\n        label: m('versioning'),\n        style: {\n          width: '15%'\n        },\n        headerStyle: {\n          width: '15%'\n        },\n        hideSmall: true,\n        renderCell: function renderCell(row) {\n          var pol = versioningPolicies.find(function (obj) {\n            return obj.Uuid === row['VersioningPolicyName'];\n          });\n          if (pol) {\n            return pol.Name;\n          } else {\n            return row['VersioningPolicyName'] || '-';\n          }\n        },\n        sorter: {\n          type: 'string'\n        }\n      }, {\n        name: 'EncryptionMode',\n        label: m('encryption'),\n        hideSmall: true,\n        style: {\n          width: '8%',\n          textAlign: 'center'\n        },\n        headerStyle: {\n          width: '8%'\n        },\n        renderCell: function renderCell(row) {\n          return row['EncryptionMode'] === 'MASTER' ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"span\", {\n            className: \"mdi mdi-check\"\n          }) : '-';\n        },\n        sorter: {\n          type: 'number',\n          value: function value(row) {\n            return row['EncryptionMode'] === 'MASTER' ? 1 : 0;\n          }\n        }\n      }];\n      if (!splitSources.filter(function (ds) {\n        return !ds.FlatStorage;\n      }).length) {\n        dsColumns = dsColumns.filter(function (col) {\n          return col.name !== 'SyncStatus';\n        });\n      }\n      var internalColumns = dsColumns.filter(function (col) {\n        return col.name !== 'VersioningPolicyName' && col.name !== 'SyncStatus';\n      });\n      var title = currentNode.getLabel();\n      var icon = currentNode.getMetadata().get('icon_class');\n      var buttons = [];\n      if (accessByName('CreateDatasource')) {\n        buttons.push( /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(material_ui__WEBPACK_IMPORTED_MODULE_2__.FlatButton, _extends({\n          primary: true,\n          label: pydio.MessageHash['ajxp_admin.ws.4'],\n          onClick: function onClick() {\n            return _this8.setState({\n              createDialog: true\n            });\n          }\n        }, adminStyles.props.header.flatButton)));\n      }\n      var versioningEditable = !versioningReadonly && accessByName('CreateVersioning');\n      if (versioningEditable) {\n        buttons.push( /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(material_ui__WEBPACK_IMPORTED_MODULE_2__.FlatButton, _extends({\n          primary: true,\n          label: pydio.MessageHash['ajxp_admin.ws.4b'],\n          onClick: function onClick() {\n            _this8.openVersionPolicy();\n          }\n        }, adminStyles.props.header.flatButton)));\n      }\n      var policiesColumns = [{\n        name: 'Name',\n        label: m('versioning.name'),\n        style: {\n          width: 180,\n          fontSize: 15\n        },\n        headerStyle: {\n          width: 180\n        },\n        sorter: {\n          type: 'string',\n          \"default\": true\n        }\n      }, {\n        name: 'Description',\n        label: m('versioning.description'),\n        sorter: {\n          type: 'string'\n        }\n      }, {\n        name: 'KeepPeriods',\n        hideSmall: true,\n        label: m('versioning.periods'),\n        renderCell: function renderCell(row) {\n          return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_editor_VersionPolicyPeriods__WEBPACK_IMPORTED_MODULE_14__[\"default\"], {\n            rendering: \"short\",\n            policy: row,\n            pydio: pydio\n          });\n        }\n      }, {\n        name: 'VersionsDataSourceName',\n        style: {\n          width: 180\n        },\n        headerStyle: {\n          width: 180\n        },\n        label: m('versioning.storage'),\n        sorter: {\n          type: 'string'\n        },\n        hideSmall: true\n      }];\n      var dsActions = [];\n      if (accessByName('CreateDatasource')) {\n        dsActions.push({\n          iconClassName: 'mdi mdi-pencil',\n          tooltip: 'Edit datasource',\n          onClick: function onClick(row) {\n            _this8.openDataSource([row]);\n          }\n        });\n      }\n      dsActions.push({\n        iconClassName: 'mdi mdi-folder-plus',\n        tooltip: 'Create workspace here',\n        onClick: function onClick(row) {\n          return _this8.createWorkspaceFromDatasource(pydio, m, row);\n        }\n      });\n      if (accessByName('CreateDatasource')) {\n        dsActions.push({\n          iconClassName: 'mdi mdi-delete',\n          tooltip: m('editor.legend.delete.button'),\n          onClick: function onClick(row) {\n            return _this8.deleteDataSource(pydio, m, row);\n          }\n        });\n      }\n      var internalActions = [].concat(dsActions);\n      if (splitSources.filter(function (ds) {\n        return !ds.FlatStorage;\n      }).length > 0) {\n        dsActions.push({\n          iconClassName: 'mdi mdi-sync',\n          tooltip: m('editor.legend.resync.button'),\n          onClick: function onClick(row) {\n            return _this8.resyncDataSource(pydio, m, row);\n          },\n          disable: function disable(row) {\n            return row.FlatStorage;\n          }\n        });\n      }\n      var vsActions = [];\n      vsActions.push({\n        iconClassName: versioningEditable ? 'mdi mdi-pencil' : 'mdi mdi-eye',\n        tooltip: versioningEditable ? 'Edit policy' : 'Display policy',\n        onClick: function onClick(row) {\n          _this8.openVersionPolicy([row]);\n        }\n      });\n      if (versioningEditable) {\n        vsActions.push({\n          iconClassName: 'mdi mdi-content-copy',\n          tooltip: 'Duplicate policy',\n          onClick: function onClick(row) {\n            return _this8.openVersionPolicy([row], true);\n          }\n        });\n        vsActions.push({\n          iconClassName: 'mdi mdi-delete',\n          tooltip: 'Delete policy',\n          destructive: true,\n          onClick: function onClick(row) {\n            return _this8.deleteVersionPolicy(row);\n          }\n        });\n      }\n      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", {\n        className: \"main-layout-nav-to-stack workspaces-board\"\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", {\n        className: \"vertical-layout\",\n        style: {\n          width: '100%'\n        }\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(AdminComponents.Header, {\n        title: title,\n        icon: icon,\n        actions: buttons,\n        reloadAction: this.load.bind(this),\n        loading: !(this.state.dsLoaded && this.state.versionsLoaded)\n      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_editor_CreateDSDialog__WEBPACK_IMPORTED_MODULE_17__[\"default\"], {\n        open: createDialog,\n        onRequestClose: function onRequestClose() {\n          _this8.setState({\n            createDialog: false\n          });\n        },\n        onSubmit: function onSubmit(value) {\n          _this8.createDataSource(value);\n        }\n      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", {\n        className: \"layout-fill\"\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(AdminComponents.SubHeader, {\n        title: m('board.ds.title'),\n        legend: m('board.ds.legend')\n      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(material_ui__WEBPACK_IMPORTED_MODULE_2__.Paper, _extends({}, blockProps, {\n        style: _objectSpread({}, blockStyle)\n      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(MaterialTable, {\n        data: splitSources,\n        columns: dsColumns,\n        actions: dsActions,\n        onSelectRows: this.openDataSource.bind(this),\n        deselectOnClickAway: true,\n        showCheckboxes: false,\n        emptyStateString: m('emptyState'),\n        masterStyles: tableMaster,\n        storageKey: 'console.datasources.list'\n      })), internalSources.length > 0 && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", {\n        style: {\n          padding: '0px 20px'\n        }\n      }, \"Internal DataSources are used to store binaries like files versions\"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(material_ui__WEBPACK_IMPORTED_MODULE_2__.Paper, _extends({}, blockProps, {\n        style: _objectSpread({}, blockStyle)\n      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(MaterialTable, {\n        data: internalSources,\n        columns: internalColumns,\n        actions: internalActions,\n        onSelectRows: this.openDataSource.bind(this),\n        deselectOnClickAway: true,\n        showCheckboxes: false,\n        emptyStateString: m('emptyState'),\n        masterStyles: tableMaster,\n        storageKey: 'console.internalsources.list'\n      }))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(AdminComponents.SubHeader, {\n        title: m('board.versioning.title'),\n        legend: m('board.versioning.legend')\n      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(material_ui__WEBPACK_IMPORTED_MODULE_2__.Paper, _extends({}, blockProps, {\n        style: _objectSpread({}, blockStyle)\n      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(MaterialTable, {\n        data: versioningPolicies,\n        columns: policiesColumns,\n        actions: vsActions,\n        onSelectRows: this.openVersionPolicy.bind(this),\n        deselectOnClickAway: true,\n        showCheckboxes: false,\n        masterStyles: tableMaster,\n        storageKey: 'console.versioning.policies.list'\n      })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(AdminComponents.SubHeader, {\n        title: m('board.enc.title'),\n        legend: m('board.enc.legend')\n      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_EncryptionKeys__WEBPACK_IMPORTED_MODULE_15__[\"default\"], {\n        pydio: pydio,\n        ref: \"encKeys\",\n        accessByName: accessByName,\n        adminStyles: adminStyles\n      }))));\n    }\n  }]);\n  return DataSourcesBoard;\n}((react__WEBPACK_IMPORTED_MODULE_0___default().Component));\nDataSourcesBoard.propTypes = {\n  dataModel: prop_types__WEBPACK_IMPORTED_MODULE_1___default().instanceOf((pydio_model_data_model__WEBPACK_IMPORTED_MODULE_5___default())).isRequired,\n  rootNode: prop_types__WEBPACK_IMPORTED_MODULE_1___default().instanceOf((pydio_model_node__WEBPACK_IMPORTED_MODULE_6___default())).isRequired,\n  currentNode: prop_types__WEBPACK_IMPORTED_MODULE_1___default().instanceOf((pydio_model_node__WEBPACK_IMPORTED_MODULE_6___default())).isRequired,\n  openEditor: (prop_types__WEBPACK_IMPORTED_MODULE_1___default().func.isRequired),\n  openRightPane: (prop_types__WEBPACK_IMPORTED_MODULE_1___default().func.isRequired),\n  closeRightPane: (prop_types__WEBPACK_IMPORTED_MODULE_1___default().func.isRequired),\n  filter: (prop_types__WEBPACK_IMPORTED_MODULE_1___default().string),\n  versioningReadonly: (prop_types__WEBPACK_IMPORTED_MODULE_1___default().bool)\n};\nDataSourcesBoard = (0,material_ui_styles__WEBPACK_IMPORTED_MODULE_16__.muiThemeable)()(DataSourcesBoard);\n\n\n//# sourceURL=webpack://access.settings/./res/js/AdminWorkspaces/board/DataSourcesBoard.js?");

/***/ }),

/***/ "./res/js/AdminWorkspaces/board/EncryptionKeys.js":
/*!********************************************************!*\
  !*** ./res/js/AdminWorkspaces/board/EncryptionKeys.js ***!
  \********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var pydio_http_api__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! pydio/http/api */ \"pydio/http/api\");\n/* harmony import */ var pydio_http_api__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(pydio_http_api__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var pydio__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! pydio */ \"pydio\");\n/* harmony import */ var pydio__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(pydio__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var material_ui__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! material-ui */ \"material-ui\");\n/* harmony import */ var material_ui__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(material_ui__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var cells_sdk__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! cells-sdk */ \"cells-sdk\");\n/* harmony import */ var cells_sdk__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(cells_sdk__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _model_Ws__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../model/Ws */ \"./res/js/AdminWorkspaces/model/Ws.js\");\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _toPropertyKey(arg) { var key = _toPrimitive(arg, \"string\"); return _typeof(key) === \"symbol\" ? key : String(key); }\nfunction _toPrimitive(input, hint) { if (_typeof(input) !== \"object\" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || \"default\"); if (_typeof(res) !== \"object\") return res; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (hint === \"string\" ? String : Number)(input); }\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n/*\n * Copyright 2007-2017 Charles du Jeu - Abstrium SAS <team (at) pyd.io>\n * This file is part of Pydio.\n *\n * Pydio is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * Pydio is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with Pydio.  If not, see <http://www.gnu.org/licenses/>.\n *\n * The latest code can be found at <https://pydio.com>.\n */\n\n\n\n\n\n\n\nvar _Pydio$requireLib = pydio__WEBPACK_IMPORTED_MODULE_2___default().requireLib('components'),\n  MaterialTable = _Pydio$requireLib.MaterialTable;\nvar _Pydio$requireLib2 = pydio__WEBPACK_IMPORTED_MODULE_2___default().requireLib('hoc'),\n  ModernTextField = _Pydio$requireLib2.ModernTextField;\nvar EncryptionKeys = /*#__PURE__*/function (_React$Component) {\n  _inherits(EncryptionKeys, _React$Component);\n  var _super = _createSuper(EncryptionKeys);\n  function EncryptionKeys(props) {\n    var _this;\n    _classCallCheck(this, EncryptionKeys);\n    _this = _super.call(this, props);\n    _this.state = {\n      keys: [],\n      showDialog: false,\n      showExportKey: null,\n      exportedKey: null,\n      showCreateKey: null,\n      showImportKey: null,\n      m: function m(id) {\n        return props.pydio.MessageHash['ajxp_admin.ds.encryption.' + id] || id;\n      }\n    };\n    return _this;\n  }\n  _createClass(EncryptionKeys, [{\n    key: \"load\",\n    value: function load() {\n      var _this2 = this;\n      var api = new cells_sdk__WEBPACK_IMPORTED_MODULE_4__.ConfigServiceApi(pydio_http_api__WEBPACK_IMPORTED_MODULE_1___default().getRestClient());\n      api.listEncryptionKeys(new cells_sdk__WEBPACK_IMPORTED_MODULE_4__.EncryptionAdminListKeysRequest()).then(function (result) {\n        _this2.setState({\n          keys: result.Keys || []\n        });\n      });\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.load();\n    }\n  }, {\n    key: \"exportKey\",\n    value: function exportKey() {\n      var _this3 = this;\n      var pydio = this.props.pydio;\n      var m = this.state.m;\n      var api = new cells_sdk__WEBPACK_IMPORTED_MODULE_4__.ConfigServiceApi(pydio_http_api__WEBPACK_IMPORTED_MODULE_1___default().getRestClient());\n      var request = new cells_sdk__WEBPACK_IMPORTED_MODULE_4__.EncryptionAdminExportKeyRequest();\n      request.KeyID = this.state.showExportKey;\n      request.StrPassword = this.refs['key-password-field'].getValue();\n      var confirm = this.refs['key-password-confirm'].getValue();\n      if (confirm !== request.StrPassword) {\n        pydio.UI.displayMessage('ERROR', 'Warning, passwords differ!');\n        return;\n      }\n      api.exportEncryptionKey(request).then(function (response) {\n        _this3.setState({\n          exportedKey: response.Key,\n          showExportKey: null\n        }, function () {\n          _this3.timeout = setTimeout(function () {\n            _this3.setState({\n              exportedKey: '',\n              showDialog: false\n            });\n          }, 10000);\n        });\n        _this3.setState({\n          showExportKey: null\n        });\n      })[\"catch\"](function (reason) {\n        pydio.UI.displayMessage('ERROR', m('key.export.fail') + \" : \" + reason.message);\n        _this3.setState({\n          showExportKey: null\n        });\n      });\n    }\n  }, {\n    key: \"createKey\",\n    value: function createKey() {\n      var _this4 = this;\n      var api = new cells_sdk__WEBPACK_IMPORTED_MODULE_4__.ConfigServiceApi(pydio_http_api__WEBPACK_IMPORTED_MODULE_1___default().getRestClient());\n      var req = new cells_sdk__WEBPACK_IMPORTED_MODULE_4__.EncryptionAdminCreateKeyRequest();\n      req.KeyID = this.refs['createKeyId'].getValue();\n      req.Label = this.refs['createKeyLabel'].getValue();\n      api.createEncryptionKey(req).then(function (result) {\n        _this4.load();\n        _this4.setState({\n          showDialog: false\n        });\n      })[\"catch\"](function () {\n        _this4.setState({\n          showDialog: false\n        });\n      });\n    }\n  }, {\n    key: \"deleteKey\",\n    value: function deleteKey(keyId) {\n      var _this5 = this;\n      var pydio = this.props.pydio;\n      var m = this.state.m;\n      pydio.UI.openConfirmDialog({\n        message: m('key.delete.warning'),\n        destructive: [keyId],\n        validCallback: function validCallback() {\n          var api = new cells_sdk__WEBPACK_IMPORTED_MODULE_4__.ConfigServiceApi(pydio_http_api__WEBPACK_IMPORTED_MODULE_1___default().getRestClient());\n          var req = new cells_sdk__WEBPACK_IMPORTED_MODULE_4__.EncryptionAdminDeleteKeyRequest();\n          req.KeyID = keyId;\n          api.deleteEncryptionKey(req).then(function (result) {\n            _this5.load();\n          });\n        }\n      });\n    }\n  }, {\n    key: \"importKey\",\n    value: function importKey() {\n      var _this6 = this;\n      var pydio = this.props.pydio;\n      var m = this.state.m;\n      var api = new cells_sdk__WEBPACK_IMPORTED_MODULE_4__.ConfigServiceApi(pydio_http_api__WEBPACK_IMPORTED_MODULE_1___default().getRestClient());\n      var importKey = this.state.showImportKey;\n      var importExisting = true;\n      if (!importKey.ID) {\n        importKey = new cells_sdk__WEBPACK_IMPORTED_MODULE_4__.EncryptionKey();\n        importKey.ID = this.refs['key-import-id'].getValue();\n        importKey.Label = this.refs['key-import-label'].getValue();\n        importExisting = false;\n      }\n      importKey.Content = this.refs['key-imported-field'].getValue();\n      var request = new cells_sdk__WEBPACK_IMPORTED_MODULE_4__.EncryptionAdminImportKeyRequest();\n      request.StrPassword = this.refs['key-password-field'].getValue();\n      request.Key = importKey;\n      request.Override = importExisting;\n      api.importEncryptionKey(request).then(function (response) {\n        if (response.Success) {\n          pydio.UI.displayMessage('SUCCESS', m('key.import.success'));\n        } else {\n          pydio.UI.displayMessage('ERROR', m('key.import.fail'));\n        }\n        _this6.load();\n        _this6.setState({\n          showImportKey: false,\n          showDialog: false\n        });\n      })[\"catch\"](function () {\n        _this6.setState({\n          showImportKey: false,\n          showDialog: false\n        });\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this7 = this;\n      var _this$state = this.state,\n        keys = _this$state.keys,\n        showDialog = _this$state.showDialog,\n        showImportKey = _this$state.showImportKey,\n        showExportKey = _this$state.showExportKey,\n        exportedKey = _this$state.exportedKey,\n        showCreateKey = _this$state.showCreateKey,\n        m = _this$state.m;\n      var _this$props = this.props,\n        pydio = _this$props.pydio,\n        accessByName = _this$props.accessByName,\n        adminStyles = _this$props.adminStyles;\n      var columns = [{\n        name: 'Label',\n        label: m('key.label'),\n        style: {\n          width: '30%',\n          fontSize: 15\n        },\n        headerStyle: {\n          width: '30%'\n        },\n        sorter: {\n          type: 'string',\n          \"default\": true\n        }\n      }, {\n        name: 'ID',\n        label: m('key.id'),\n        hideSmall: true,\n        sorter: {\n          type: 'string'\n        }\n      }, {\n        name: 'Owner',\n        label: m('key.owner'),\n        hideSmall: true,\n        sorter: {\n          type: 'string'\n        }\n      }, {\n        name: 'CreationDate',\n        label: m('key.created'),\n        hideSmall: true,\n        useMoment: true,\n        sorter: {\n          type: 'number'\n        }\n      }];\n      var actions = [];\n      if (accessByName('CreateEncryption')) {\n        actions.push({\n          iconClassName: 'mdi mdi-import',\n          tooltip: m('key.import'),\n          onClick: function onClick(row) {\n            _this7.setState({\n              showDialog: true,\n              showImportKey: row\n            });\n          }\n        }, {\n          iconClassName: 'mdi mdi-export',\n          tooltip: m('key.export'),\n          onClick: function onClick(row) {\n            _this7.setState({\n              showDialog: true,\n              showExportKey: row.ID\n            });\n          }\n        }, {\n          iconClassName: 'mdi mdi-delete',\n          tooltip: m('key.delete'),\n          onClick: function onClick(row) {\n            _this7.deleteKey(row.ID);\n          }\n        });\n      }\n      var dialogContent,\n        dialogTitle,\n        dialogActions = [];\n      if (showExportKey || exportedKey) {\n        dialogTitle = m('key.export');\n        if (exportedKey) {\n          dialogContent = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(ModernTextField, {\n            value: exportedKey.Content,\n            fullWidth: true,\n            floatingLabelText: m('key.export.result.copy'),\n            multiLine: true,\n            ref: \"key-imported-field\"\n          });\n          dialogActions = [/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(material_ui__WEBPACK_IMPORTED_MODULE_3__.FlatButton, {\n            label: \"Close\",\n            onClick: function onClick() {\n              clearTimeout(_this7.timeout);\n              _this7.setState({\n                showExportKey: null,\n                exportedKey: '',\n                showDialog: false\n              });\n            }\n          })];\n        } else {\n          dialogContent = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(ModernTextField, {\n            floatingLabelText: m('key.export.password'),\n            ref: \"key-password-field\",\n            type: \"password\",\n            fullWidth: true\n          }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(ModernTextField, {\n            floatingLabelText: m('key.export.confirm'),\n            ref: \"key-password-confirm\",\n            type: \"password\",\n            fullWidth: true\n          }));\n          dialogActions = [/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(material_ui__WEBPACK_IMPORTED_MODULE_3__.FlatButton, {\n            label: pydio.MessageHash['54'],\n            onClick: function onClick() {\n              _this7.setState({\n                showExportKey: null,\n                showDialog: false\n              });\n            }\n          }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(material_ui__WEBPACK_IMPORTED_MODULE_3__.FlatButton, {\n            label: m('key.export'),\n            primary: true,\n            onClick: function onClick() {\n              _this7.exportKey();\n            }\n          })];\n        }\n      } else if (showImportKey) {\n        dialogTitle = m('key.import');\n        dialogContent = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", null, !showImportKey.ID && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(ModernTextField, {\n          floatingLabelText: m('key.import.id'),\n          ref: \"key-import-id\",\n          fullWidth: true\n        }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(ModernTextField, {\n          floatingLabelText: m('key.import.label'),\n          ref: \"key-import-label\",\n          fullWidth: true\n        })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(ModernTextField, {\n          floatingLabelText: m('key.import.password'),\n          ref: \"key-password-field\",\n          type: \"password\",\n          fullWidth: true\n        }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(ModernTextField, {\n          fullWidth: true,\n          floatingLabelText: m('key.import.content'),\n          multiLine: true,\n          ref: \"key-imported-field\"\n        }));\n        dialogActions = [/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(material_ui__WEBPACK_IMPORTED_MODULE_3__.FlatButton, {\n          label: pydio.MessageHash['54'],\n          onClick: function onClick() {\n            _this7.setState({\n              showImportKey: null,\n              showDialog: false\n            });\n          }\n        }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(material_ui__WEBPACK_IMPORTED_MODULE_3__.FlatButton, {\n          label: m('key.import'),\n          primary: true,\n          onClick: function onClick() {\n            _this7.importKey();\n          }\n        })];\n      } else if (showCreateKey) {\n        dialogTitle = \"Create a Key\";\n        dialogContent = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(ModernTextField, {\n          floatingLabelText: m('key.import.id'),\n          ref: \"createKeyId\",\n          fullWidth: true\n        }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(ModernTextField, {\n          floatingLabelText: m('key.import.label'),\n          ref: \"createKeyLabel\",\n          fullWidth: true\n        }));\n        dialogActions = [/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(material_ui__WEBPACK_IMPORTED_MODULE_3__.FlatButton, {\n          label: pydio.MessageHash['54'],\n          onClick: function onClick() {\n            _this7.setState({\n              showCreateKey: null,\n              showDialog: false\n            });\n          }\n        }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(material_ui__WEBPACK_IMPORTED_MODULE_3__.FlatButton, {\n          label: m('key.create'),\n          primary: true,\n          onClick: function onClick() {\n            _this7.createKey();\n          }\n        })];\n      }\n      var _AdminComponents$Admi = AdminComponents.AdminStyles(),\n        body = _AdminComponents$Admi.body;\n      var tableMaster = body.tableMaster;\n      var blockProps = body.block.props;\n      var blockStyle = body.block.container;\n      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(material_ui__WEBPACK_IMPORTED_MODULE_3__.Dialog, {\n        title: dialogTitle,\n        open: showDialog,\n        onRequestClose: function onRequestClose() {\n          _this7.setState({\n            showDialog: false,\n            showExportKey: null,\n            showImportKey: null,\n            showCreateKey: false\n          });\n        },\n        modal: true,\n        actions: dialogActions,\n        contentStyle: {\n          maxWidth: 340\n        }\n      }, dialogContent), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(material_ui__WEBPACK_IMPORTED_MODULE_3__.Paper, _extends({}, blockProps, {\n        style: blockStyle\n      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(MaterialTable, {\n        data: keys,\n        columns: columns,\n        actions: actions,\n        onSelectRows: function onSelectRows() {},\n        showCheckboxes: false,\n        emptyStateString: m('key.emptyState'),\n        masterStyles: tableMaster,\n        storageKey: 'console.encryption-keys.list'\n      })), accessByName('CreateEncryption') && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", {\n        style: {\n          textAlign: 'right',\n          paddingRight: 24,\n          paddingBottom: 24\n        }\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(material_ui__WEBPACK_IMPORTED_MODULE_3__.FlatButton, _extends({\n        primary: true,\n        label: m('key.import'),\n        onClick: function onClick() {\n          _this7.setState({\n            showImportKey: {},\n            showDialog: true\n          });\n        }\n      }, adminStyles.props.header.flatButton)), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"span\", {\n        style: {\n          marginLeft: 8\n        }\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(material_ui__WEBPACK_IMPORTED_MODULE_3__.FlatButton, _extends({\n        primary: true,\n        label: m('key.create'),\n        onClick: function onClick() {\n          _this7.setState({\n            showCreateKey: true,\n            showDialog: true\n          });\n        }\n      }, adminStyles.props.header.flatButton)))));\n    }\n  }]);\n  return EncryptionKeys;\n}((react__WEBPACK_IMPORTED_MODULE_0___default().Component));\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (EncryptionKeys);\n\n//# sourceURL=webpack://access.settings/./res/js/AdminWorkspaces/board/EncryptionKeys.js?");

/***/ }),

/***/ "./res/js/AdminWorkspaces/board/MetadataBoard.js":
/*!*******************************************************!*\
  !*** ./res/js/AdminWorkspaces/board/MetadataBoard.js ***!
  \*******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ MetadataBoard)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _model_Metadata__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../model/Metadata */ \"./res/js/AdminWorkspaces/model/Metadata.js\");\n/* harmony import */ var material_ui__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! material-ui */ \"material-ui\");\n/* harmony import */ var material_ui__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(material_ui__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var pydio__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! pydio */ \"pydio\");\n/* harmony import */ var pydio__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(pydio__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _editor_MetaNamespace__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../editor/MetaNamespace */ \"./res/js/AdminWorkspaces/editor/MetaNamespace.js\");\n/* harmony import */ var cells_sdk__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! cells-sdk */ \"cells-sdk\");\n/* harmony import */ var cells_sdk__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(cells_sdk__WEBPACK_IMPORTED_MODULE_5__);\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _toPropertyKey(arg) { var key = _toPrimitive(arg, \"string\"); return _typeof(key) === \"symbol\" ? key : String(key); }\nfunction _toPrimitive(input, hint) { if (_typeof(input) !== \"object\" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || \"default\"); if (_typeof(res) !== \"object\") return res; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (hint === \"string\" ? String : Number)(input); }\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\n\n\nvar _require = __webpack_require__(/*! material-ui/styles */ \"material-ui/styles\"),\n  muiThemeable = _require.muiThemeable;\n\nvar _Pydio$requireLib = pydio__WEBPACK_IMPORTED_MODULE_3___default().requireLib('components'),\n  MaterialTable = _Pydio$requireLib.MaterialTable;\n\n\nvar MetadataBoard = /*#__PURE__*/function (_React$Component) {\n  _inherits(MetadataBoard, _React$Component);\n  var _super = _createSuper(MetadataBoard);\n  function MetadataBoard(props) {\n    var _this;\n    _classCallCheck(this, MetadataBoard);\n    _this = _super.call(this, props);\n    _this.state = {\n      loading: false,\n      namespaces: [],\n      m: function m(id) {\n        return props.pydio.MessageHash['ajxp_admin.metadata.' + id];\n      }\n    };\n    return _this;\n  }\n  _createClass(MetadataBoard, [{\n    key: \"componentWillMount\",\n    value: function componentWillMount() {\n      this.load();\n    }\n  }, {\n    key: \"load\",\n    value: function load() {\n      var _this2 = this;\n      this.setState({\n        loading: true\n      });\n      _model_Metadata__WEBPACK_IMPORTED_MODULE_1__[\"default\"].loadNamespaces().then(function (result) {\n        _this2.setState({\n          loading: false,\n          namespaces: result.Namespaces || []\n        });\n      });\n    }\n  }, {\n    key: \"emptyNs\",\n    value: function emptyNs() {\n      var ns = new cells_sdk__WEBPACK_IMPORTED_MODULE_5__.IdmUserMetaNamespace();\n      ns.Policies = [cells_sdk__WEBPACK_IMPORTED_MODULE_5__.ServiceResourcePolicy.constructFromObject({\n        Action: 'READ',\n        Subject: '*',\n        Effect: 'allow'\n      }), cells_sdk__WEBPACK_IMPORTED_MODULE_5__.ServiceResourcePolicy.constructFromObject({\n        Action: 'WRITE',\n        Subject: '*',\n        Effect: 'allow'\n      })];\n      ns.JsonDefinition = JSON.stringify({\n        type: 'string'\n      });\n      ns.Indexable = true;\n      return ns;\n    }\n  }, {\n    key: \"create\",\n    value: function create() {\n      this.setState({\n        create: true,\n        dialogOpen: true,\n        selectedNamespace: this.emptyNs()\n      });\n    }\n  }, {\n    key: \"deleteNs\",\n    value: function deleteNs(row) {\n      var _this3 = this;\n      var pydio = this.props.pydio;\n      var m = this.state.m;\n      pydio.UI.openConfirmDialog({\n        message: m('delete.confirm'),\n        destructive: [row.Namespace],\n        validCallback: function validCallback() {\n          _model_Metadata__WEBPACK_IMPORTED_MODULE_1__[\"default\"].deleteNS(row).then(function () {\n            _this3.load();\n          });\n        }\n      });\n    }\n  }, {\n    key: \"open\",\n    value: function open(rows) {\n      if (rows.length) {\n        this.setState({\n          create: false,\n          dialogOpen: true,\n          selectedNamespace: rows[0]\n        });\n      }\n    }\n  }, {\n    key: \"close\",\n    value: function close() {\n      this.setState({\n        dialogOpen: false,\n        selectedNamespace: null\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this4 = this;\n      var _this$props = this.props,\n        muiTheme = _this$props.muiTheme,\n        currentNode = _this$props.currentNode,\n        pydio = _this$props.pydio,\n        accessByName = _this$props.accessByName,\n        policiesBuilder = _this$props.policiesBuilder;\n      var adminStyle = AdminComponents.AdminStyles(muiTheme.palette);\n      var _this$state = this.state,\n        namespaces = _this$state.namespaces,\n        loading = _this$state.loading,\n        dialogOpen = _this$state.dialogOpen,\n        selectedNamespace = _this$state.selectedNamespace,\n        create = _this$state.create,\n        m = _this$state.m;\n      if (!selectedNamespace) {\n        selectedNamespace = this.emptyNs();\n      }\n      namespaces.sort(function (a, b) {\n        var a0 = a.Order || 0;\n        var b0 = b.Order || 0;\n        if (a0 === b0) return 0;\n        return a0 > b0 ? 1 : -1;\n      });\n      var columns = [{\n        name: 'Order',\n        label: m('order'),\n        style: {\n          width: 30\n        },\n        headerStyle: {\n          width: 30\n        },\n        hideSmall: true,\n        renderCell: function renderCell(row) {\n          return row.Order || '0';\n        },\n        sorter: {\n          type: 'number'\n        }\n      }, {\n        name: 'Namespace',\n        label: m('namespace'),\n        style: {\n          fontSize: 15\n        },\n        sorter: {\n          type: 'string'\n        }\n      }, {\n        name: 'Label',\n        label: m('label'),\n        style: {\n          width: '25%'\n        },\n        headerStyle: {\n          width: '25%'\n        },\n        sorter: {\n          type: 'string'\n        }\n      }, {\n        name: 'Indexable',\n        label: m('indexable'),\n        style: {\n          width: '10%'\n        },\n        headerStyle: {\n          width: '10%'\n        },\n        hideSmall: true,\n        renderCell: function renderCell(row) {\n          return row.Indexable ? 'Yes' : 'No';\n        },\n        sorter: {\n          type: 'number',\n          value: function value(row) {\n            return row.Indexable ? 1 : 0;\n          }\n        }\n      }, {\n        name: 'JsonDefinition',\n        label: m('definition'),\n        hideSmall: true,\n        renderCell: function renderCell(row) {\n          var def = row.JsonDefinition;\n          if (!def) {\n            return '';\n          }\n          var data = JSON.parse(def);\n          return _model_Metadata__WEBPACK_IMPORTED_MODULE_1__[\"default\"].MetaTypes[data.type] || data.type;\n        },\n        sorter: {\n          type: 'string'\n        }\n      }];\n      var title = currentNode.getLabel();\n      var icon = currentNode.getMetadata().get('icon_class');\n      var buttons = [];\n      var actions = [];\n      if (accessByName('Create')) {\n        buttons.push( /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(material_ui__WEBPACK_IMPORTED_MODULE_2__.FlatButton, _extends({\n          primary: true,\n          label: m('namespace.add'),\n          onClick: function onClick() {\n            _this4.create();\n          }\n        }, adminStyle.props.header.flatButton)));\n        actions.push({\n          iconClassName: 'mdi mdi-pencil',\n          onClick: function onClick(row) {\n            _this4.open([row]);\n          }\n        }, {\n          iconClassName: 'mdi mdi-delete',\n          onClick: function onClick(row) {\n            _this4.deleteNs(row);\n          }\n        });\n      }\n      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", {\n        className: \"main-layout-nav-to-stack workspaces-board\"\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_editor_MetaNamespace__WEBPACK_IMPORTED_MODULE_4__[\"default\"], {\n        pydio: pydio,\n        open: dialogOpen,\n        create: create,\n        namespace: selectedNamespace,\n        onRequestClose: function onRequestClose() {\n          return _this4.close();\n        },\n        reloadList: function reloadList() {\n          return _this4.load();\n        },\n        namespaces: namespaces,\n        readonly: !accessByName('Create'),\n        policiesBuilder: policiesBuilder\n      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", {\n        className: \"vertical-layout\",\n        style: {\n          width: '100%'\n        }\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(AdminComponents.Header, {\n        title: title,\n        icon: icon,\n        actions: buttons,\n        reloadAction: this.load.bind(this),\n        loading: loading\n      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", {\n        className: \"layout-fill\"\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(AdminComponents.SubHeader, {\n        title: m('namespaces'),\n        legend: m('namespaces.legend')\n      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(material_ui__WEBPACK_IMPORTED_MODULE_2__.Paper, adminStyle.body.block.props, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(MaterialTable, {\n        data: namespaces,\n        columns: columns,\n        actions: actions,\n        onSelectRows: this.open.bind(this),\n        deselectOnClickAway: true,\n        showCheckboxes: false,\n        emptyStateString: m('empty'),\n        masterStyles: adminStyle.body.tableMaster,\n        storageKey: 'console.metadata.list'\n      })))));\n    }\n  }]);\n  return MetadataBoard;\n}((react__WEBPACK_IMPORTED_MODULE_0___default().Component));\nMetadataBoard = muiThemeable()(MetadataBoard);\n\n\n//# sourceURL=webpack://access.settings/./res/js/AdminWorkspaces/board/MetadataBoard.js?");

/***/ }),

/***/ "./res/js/AdminWorkspaces/board/VirtualNodes.js":
/*!******************************************************!*\
  !*** ./res/js/AdminWorkspaces/board/VirtualNodes.js ***!
  \******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ VirtualNodes)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var pydio__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! pydio */ \"pydio\");\n/* harmony import */ var pydio__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(pydio__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _model_VirtualNode__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../model/VirtualNode */ \"./res/js/AdminWorkspaces/model/VirtualNode.js\");\n/* harmony import */ var _model_DataSource__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../model/DataSource */ \"./res/js/AdminWorkspaces/model/DataSource.js\");\n/* harmony import */ var _virtual_NodeCard__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../virtual/NodeCard */ \"./res/js/AdminWorkspaces/virtual/NodeCard.js\");\n/* harmony import */ var material_ui__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! material-ui */ \"material-ui\");\n/* harmony import */ var material_ui__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(material_ui__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var material_ui_styles__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! material-ui/styles */ \"material-ui/styles\");\n/* harmony import */ var material_ui_styles__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(material_ui_styles__WEBPACK_IMPORTED_MODULE_6__);\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\nfunction _iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter); }\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _toPropertyKey(arg) { var key = _toPrimitive(arg, \"string\"); return _typeof(key) === \"symbol\" ? key : String(key); }\nfunction _toPrimitive(input, hint) { if (_typeof(input) !== \"object\" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || \"default\"); if (_typeof(res) !== \"object\") return res; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (hint === \"string\" ? String : Number)(input); }\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n/*\n * Copyright 2007-2017 Charles du Jeu - Abstrium SAS <team (at) pyd.io>\n * This file is part of Pydio.\n *\n * Pydio is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * Pydio is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with Pydio.  If not, see <http://www.gnu.org/licenses/>.\n *\n * The latest code can be found at <https://pydio.com>.\n */\n\n\n\n\n\n\n\nvar _Pydio$requireLib = pydio__WEBPACK_IMPORTED_MODULE_1___default().requireLib('hoc'),\n  ModernTextField = _Pydio$requireLib.ModernTextField;\n\nvar _Pydio$requireLib2 = pydio__WEBPACK_IMPORTED_MODULE_1___default().requireLib('components'),\n  MaterialTable = _Pydio$requireLib2.MaterialTable;\nvar VirtualNodes = /*#__PURE__*/function (_React$Component) {\n  _inherits(VirtualNodes, _React$Component);\n  var _super = _createSuper(VirtualNodes);\n  function VirtualNodes(props) {\n    var _this;\n    _classCallCheck(this, VirtualNodes);\n    _this = _super.call(this, props);\n    _this.state = {\n      nodesLoaded: false,\n      nodes: [],\n      dataSourcesLoaded: false,\n      dataSources: []\n    };\n    _model_VirtualNode__WEBPACK_IMPORTED_MODULE_2__[\"default\"].loadNodes(function (result) {\n      _this.setState({\n        nodes: result,\n        nodesLoaded: true\n      });\n    });\n    _model_DataSource__WEBPACK_IMPORTED_MODULE_3__[\"default\"].loadDatasources().then(function (result) {\n      _this.setState({\n        dataSources: result.DataSources,\n        dataSourcesLoaded: true\n      });\n    });\n    return _this;\n  }\n  _createClass(VirtualNodes, [{\n    key: \"reload\",\n    value: function reload() {\n      var _this2 = this;\n      this.setState({\n        nodesLoaded: false\n      });\n      _model_VirtualNode__WEBPACK_IMPORTED_MODULE_2__[\"default\"].loadNodes(function (result) {\n        _this2.setState({\n          nodes: result,\n          nodesLoaded: true\n        });\n      });\n    }\n  }, {\n    key: \"createNode\",\n    value: function createNode() {\n      this.handleRequestClose();\n      var newNode = new _model_VirtualNode__WEBPACK_IMPORTED_MODULE_2__[\"default\"]();\n      newNode.setName(this.state.newName);\n      var nodes = this.state.nodes;\n      this.setState({\n        nodes: [].concat(_toConsumableArray(nodes), [newNode])\n      });\n    }\n  }, {\n    key: \"handleTouchTap\",\n    value: function handleTouchTap(event) {\n      var _this3 = this;\n      // This prevents ghost click.\n      event.preventDefault();\n      this.setState({\n        newName: '',\n        open: true,\n        anchorEl: event.currentTarget\n      }, function () {\n        setTimeout(function () {\n          if (_this3.refs['newNode']) _this3.refs['newNode'].focus();\n        }, 300);\n      });\n    }\n  }, {\n    key: \"handleRequestClose\",\n    value: function handleRequestClose() {\n      this.setState({\n        open: false\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this4 = this;\n      var _this$props = this.props,\n        readonly = _this$props.readonly,\n        pydio = _this$props.pydio,\n        muiTheme = _this$props.muiTheme,\n        accessByName = _this$props.accessByName;\n      var _this$state = this.state,\n        nodes = _this$state.nodes,\n        dataSources = _this$state.dataSources,\n        nodesLoaded = _this$state.nodesLoaded,\n        dataSourcesLoaded = _this$state.dataSourcesLoaded,\n        selectedNode = _this$state.selectedNode;\n      var m = function m(id) {\n        return pydio.MessageHash['ajxp_admin.virtual.' + id] || id;\n      };\n      var adminStyles = AdminComponents.AdminStyles(muiTheme.palette);\n      var vNodes = nodes.map(function (node) {\n        if (node.getName() === selectedNode) {\n          return {\n            node: node,\n            expandedRow: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_virtual_NodeCard__WEBPACK_IMPORTED_MODULE_4__[\"default\"], {\n              pydio: pydio,\n              dataSources: dataSources,\n              node: node,\n              reloadList: _this4.reload.bind(_this4),\n              readonly: readonly || !accessByName('Create'),\n              adminStyles: adminStyles,\n              onSave: _this4.reload.bind(_this4)\n            })\n          };\n        } else {\n          return {\n            node: node\n          };\n        }\n      });\n      var headerActions = [];\n      if (!readonly && accessByName('Create')) {\n        headerActions.push( /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(material_ui__WEBPACK_IMPORTED_MODULE_5__.FlatButton, _extends({\n          primary: true,\n          label: m('create'),\n          onClick: this.handleTouchTap.bind(this)\n        }, adminStyles.props.header.flatButton)));\n      }\n      var columns = [{\n        name: 'id',\n        label: m('col.id'),\n        style: {\n          width: '25%',\n          fontSize: 15\n        },\n        headerStyle: {\n          width: '25%'\n        },\n        renderCell: function renderCell(row) {\n          return row.node.getName();\n        },\n        sorter: {\n          type: 'string'\n        }\n      }, {\n        name: 'code',\n        label: m('col.code'),\n        renderCell: function renderCell(row) {\n          return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"pre\", null, row.node.getValue().split('\\n').pop());\n        }\n      }];\n      var actions = [];\n      if (readonly) {\n        actions.push({\n          iconClassName: 'mdi mdi-eye',\n          tooltip: m('code.display'),\n          onClick: function onClick(row) {\n            return _this4.setState({\n              selectedNode: selectedNode === row.node.getName() ? null : row.node.getName()\n            });\n          }\n        });\n      } else {\n        actions.push({\n          iconClassName: 'mdi mdi-pencil',\n          tooltip: m('code.edit'),\n          onClick: function onClick(row) {\n            return _this4.setState({\n              selectedNode: selectedNode === row.node.getName() ? null : row.node.getName()\n            });\n          }\n        });\n        actions.push({\n          iconClassName: 'mdi mdi-delete',\n          tooltip: m('delete'),\n          onClick: function onClick(row) {\n            pydio.UI.openConfirmDialog({\n              message: m('delete.confirm'),\n              destructive: [row.node.getName()],\n              validCallback: function validCallback() {\n                row.node.remove(function () {\n                  _this4.reload();\n                });\n              }\n            });\n          },\n          disable: function disable(row) {\n            return row.node.getName() === 'cells' || row.node.getName() === 'my-files';\n          }\n        });\n      }\n      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", {\n        className: \"vertical-layout workspaces-list layout-fill\",\n        style: {\n          height: '100%'\n        }\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(AdminComponents.Header, {\n        title: m('title'),\n        icon: \"mdi mdi-help-network\",\n        actions: headerActions,\n        reloadAction: this.reload.bind(this),\n        loading: !(nodesLoaded && dataSourcesLoaded)\n      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(material_ui__WEBPACK_IMPORTED_MODULE_5__.Popover, {\n        open: this.state.open,\n        anchorEl: this.state.anchorEl,\n        anchorOrigin: {\n          horizontal: 'right',\n          vertical: 'top'\n        },\n        targetOrigin: {\n          horizontal: 'right',\n          vertical: 'top'\n        },\n        onRequestClose: this.handleRequestClose.bind(this)\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", {\n        style: {\n          margin: '0 10px'\n        }\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(ModernTextField, {\n        ref: \"newNode\",\n        floatingLabelText: m('label'),\n        value: this.state.newName,\n        onChange: function onChange(e, v) {\n          _this4.setState({\n            newName: v\n          });\n        },\n        hintText: m('label.new')\n      })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(material_ui__WEBPACK_IMPORTED_MODULE_5__.Divider, null), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", {\n        style: {\n          textAlign: 'right',\n          padding: '4px 10px'\n        }\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(material_ui__WEBPACK_IMPORTED_MODULE_5__.FlatButton, {\n        label: pydio.MessageHash['54'],\n        onClick: this.handleRequestClose.bind(this)\n      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(material_ui__WEBPACK_IMPORTED_MODULE_5__.RaisedButton, {\n        primary: true,\n        label: m('create.button'),\n        onClick: this.createNode.bind(this)\n      }))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", {\n        className: \"layout-fill\",\n        style: {\n          overflowY: 'auto'\n        }\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", {\n        style: {\n          padding: 20,\n          paddingBottom: 0\n        }\n      }, m('legend.1')), nodesLoaded && dataSourcesLoaded && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(material_ui__WEBPACK_IMPORTED_MODULE_5__.Paper, _extends({}, adminStyles.body.block.props, {\n        style: adminStyles.body.block.container\n      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(MaterialTable, {\n        columns: columns,\n        data: vNodes,\n        actions: actions,\n        deselectOnClickAway: true,\n        showCheckboxes: false,\n        masterStyles: adminStyles.body.tableMaster,\n        storageKey: 'console.templatepaths.list'\n      })), (!nodesLoaded || !dataSourcesLoaded) && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", {\n        style: {\n          margin: 16,\n          textAlign: 'center',\n          padding: 20\n        }\n      }, pydio.MessageHash['ajxp_admin.loading']), !readonly && accessByName('Create') && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", {\n        style: {\n          padding: '0 24px',\n          opacity: '.5'\n        }\n      }, m('legend.2'))));\n    }\n  }]);\n  return VirtualNodes;\n}((react__WEBPACK_IMPORTED_MODULE_0___default().Component));\nVirtualNodes = (0,material_ui_styles__WEBPACK_IMPORTED_MODULE_6__.muiThemeable)()(VirtualNodes);\n\n\n//# sourceURL=webpack://access.settings/./res/js/AdminWorkspaces/board/VirtualNodes.js?");

/***/ }),

/***/ "./res/js/AdminWorkspaces/board/WorkspaceList.js":
/*!*******************************************************!*\
  !*** ./res/js/AdminWorkspaces/board/WorkspaceList.js ***!
  \*******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var create_react_class__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! create-react-class */ \"create-react-class\");\n/* harmony import */ var create_react_class__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(create_react_class__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var pydio_model_data_model__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! pydio/model/data-model */ \"pydio/model/data-model\");\n/* harmony import */ var pydio_model_data_model__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(pydio_model_data_model__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var pydio_model_node__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! pydio/model/node */ \"pydio/model/node\");\n/* harmony import */ var pydio_model_node__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(pydio_model_node__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var pydio_util_lang__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! pydio/util/lang */ \"pydio/util/lang\");\n/* harmony import */ var pydio_util_lang__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(pydio_util_lang__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _model_Ws__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../model/Ws */ \"./res/js/AdminWorkspaces/model/Ws.js\");\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! prop-types */ \"prop-types\");\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var pydio__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! pydio */ \"pydio\");\n/* harmony import */ var pydio__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(pydio__WEBPACK_IMPORTED_MODULE_7__);\n\n\n\n\n\n\n\n/*\n * Copyright 2007-2017 Charles du Jeu - Abstrium SAS <team (at) pyd.io>\n * This file is part of Pydio.\n *\n * Pydio is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * Pydio is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with Pydio.  If not, see <http://www.gnu.org/licenses/>.\n *\n * The latest code can be found at <https://pydio.com>.\n */\n\n\nvar _Pydio$requireLib = pydio__WEBPACK_IMPORTED_MODULE_7___default().requireLib('components'),\n  MaterialTable = _Pydio$requireLib.MaterialTable;\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (create_react_class__WEBPACK_IMPORTED_MODULE_1___default()({\n  displayName: 'WorkspaceList',\n  mixins: [AdminComponents.MessagesConsumerMixin],\n  propTypes: {\n    dataModel: prop_types__WEBPACK_IMPORTED_MODULE_6___default().instanceOf((pydio_model_data_model__WEBPACK_IMPORTED_MODULE_2___default())).isRequired,\n    rootNode: prop_types__WEBPACK_IMPORTED_MODULE_6___default().instanceOf((pydio_model_node__WEBPACK_IMPORTED_MODULE_3___default())).isRequired,\n    currentNode: prop_types__WEBPACK_IMPORTED_MODULE_6___default().instanceOf((pydio_model_node__WEBPACK_IMPORTED_MODULE_3___default())).isRequired,\n    openSelection: (prop_types__WEBPACK_IMPORTED_MODULE_6___default().func),\n    advanced: (prop_types__WEBPACK_IMPORTED_MODULE_6___default().boolean)\n  },\n  getInitialState: function getInitialState() {\n    return {\n      workspaces: [],\n      loading: false\n    };\n  },\n  startLoad: function startLoad() {\n    if (this.props.onLoadState) {\n      this.props.onLoadState(true);\n    }\n    this.setState({\n      loading: true\n    });\n  },\n  endLoad: function endLoad() {\n    if (this.props.onLoadState) {\n      this.props.onLoadState(false);\n    }\n    this.setState({\n      loading: false\n    });\n  },\n  reload: function reload() {\n    var _this = this;\n    this.startLoad();\n    _model_Ws__WEBPACK_IMPORTED_MODULE_5__[\"default\"].listWorkspaces().then(function (response) {\n      _this.endLoad();\n      _this.setState({\n        workspaces: response.Workspaces || []\n      });\n    })[\"catch\"](function (e) {\n      _this.endLoad();\n    });\n  },\n  componentDidMount: function componentDidMount() {\n    this.reload();\n  },\n  openTableRows: function openTableRows(rows) {\n    if (rows.length) {\n      this.props.openSelection(rows[0].workspace);\n    }\n  },\n  deleteAction: function deleteAction(workspace) {\n    var _this2 = this;\n    var pydio = this.props.pydio;\n    pydio.UI.openConfirmDialog({\n      message: pydio.MessageHash['settings.35'],\n      destructive: [workspace.Label],\n      validCallback: function validCallback() {\n        var ws = new _model_Ws__WEBPACK_IMPORTED_MODULE_5__[\"default\"](workspace);\n        ws.remove().then(function () {\n          _this2.reload();\n        });\n      }\n    });\n  },\n  computeTableData: function computeTableData() {\n    var data = [];\n    var filterString = this.props.filterString;\n    var workspaces = this.state.workspaces;\n    workspaces.map(function (workspace) {\n      var summary = \"\"; // compute root nodes list\n      if (workspace.RootNodes) {\n        summary = Object.keys(workspace.RootNodes).map(function (k) {\n          return pydio_util_lang__WEBPACK_IMPORTED_MODULE_4___default().trimRight(workspace.RootNodes[k].Path, '/');\n        }).join(', ');\n      }\n      var syncable = false;\n      if (workspace.Attributes) {\n        try {\n          var atts = JSON.parse(workspace.Attributes);\n          if (atts['ALLOW_SYNC'] === true || atts['ALLOW_SYNC'] === \"true\") {\n            syncable = true;\n          }\n        } catch (e) {}\n      }\n      if (filterString) {\n        var search = filterString.toLowerCase();\n        var l = workspace.Label && workspace.Label.toLowerCase().indexOf(search) >= 0;\n        var d = workspace.Description && workspace.Description.toLowerCase().indexOf(search) >= 0;\n        var ss = summary && summary.toLowerCase().indexOf(search) >= 0;\n        if (!(l || d || ss)) {\n          return;\n        }\n      }\n      data.push({\n        workspace: workspace,\n        label: workspace.Label,\n        description: workspace.Description,\n        slug: workspace.Slug,\n        summary: summary,\n        syncable: syncable\n      });\n    });\n    data.sort(pydio_util_lang__WEBPACK_IMPORTED_MODULE_4___default().arraySorter('label', false, true));\n    return data;\n  },\n  render: function render() {\n    var _this3 = this;\n    var _this$props = this.props,\n      pydio = _this$props.pydio,\n      advanced = _this$props.advanced,\n      editable = _this$props.editable,\n      tableStyles = _this$props.tableStyles,\n      openSelection = _this$props.openSelection;\n    var m = function m(id) {\n      return pydio.MessageHash['ajxp_admin.' + id];\n    };\n    var s = function s(id) {\n      return pydio.MessageHash['settings.' + id];\n    };\n    var columns = [{\n      name: 'label',\n      label: s('8'),\n      style: {\n        width: '20%',\n        fontSize: 15\n      },\n      headerStyle: {\n        width: '20%'\n      },\n      sorter: {\n        type: 'string',\n        \"default\": 'true'\n      }\n    }, {\n      name: 'description',\n      label: s('103'),\n      hideSmall: true,\n      style: {\n        width: '25%'\n      },\n      headerStyle: {\n        width: '25%'\n      },\n      sorter: {\n        type: 'string'\n      }\n    }, {\n      name: 'summary',\n      label: m('ws.board.summary'),\n      hideSmall: true,\n      style: {\n        width: '25%'\n      },\n      headerStyle: {\n        width: '25%'\n      },\n      sorter: {\n        type: 'string'\n      }\n    }];\n    if (advanced) {\n      columns.push({\n        name: 'syncable',\n        label: m('ws.board.syncable'),\n        style: {\n          width: '10%',\n          textAlign: 'center'\n        },\n        headerStyle: {\n          width: '10%',\n          textAlign: 'center'\n        },\n        sorter: {\n          type: 'number',\n          sortValue: function sortValue(row) {\n            return row.syncable ? 1 : 0;\n          }\n        },\n        renderCell: function renderCell(row) {\n          return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"span\", {\n            className: \"mdi mdi-check\",\n            style: {\n              fontSize: 18,\n              opacity: row.syncable ? 1 : 0\n            }\n          });\n        }\n      });\n    }\n    columns.push({\n      name: 'slug',\n      label: m('ws.5'),\n      style: {\n        width: '20%'\n      },\n      headerStyle: {\n        width: '20%'\n      },\n      sorter: {\n        type: 'string'\n      }\n    });\n    var loading = this.state.loading;\n    var data = this.computeTableData();\n    var actions = [];\n    if (editable) {\n      actions.push({\n        iconClassName: \"mdi mdi-pencil\",\n        tooltip: 'Edit Workspace',\n        onClick: function onClick(row) {\n          openSelection(row.workspace);\n        },\n        disable: function disable(row) {\n          return !row.workspace.PoliciesContextEditable;\n        }\n      });\n    }\n    var repos = pydio.user.getRepositoriesList();\n    actions.push({\n      iconClassName: 'mdi mdi-open-in-new',\n      tooltip: 'Open this workspace...',\n      onClick: function onClick(row) {\n        pydio.triggerRepositoryChange(row.workspace.UUID);\n      },\n      disable: function disable(row) {\n        return !repos.has(row.workspace.UUID);\n      }\n    });\n    if (editable) {\n      actions.push({\n        iconClassName: \"mdi mdi-delete\",\n        onClick: function onClick(row) {\n          _this3.deleteAction(row.workspace);\n        },\n        disable: function disable(row) {\n          return !row.workspace.PoliciesContextEditable;\n        }\n      });\n    }\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(MaterialTable, {\n      data: data,\n      columns: columns,\n      actions: actions,\n      onSelectRows: editable ? this.openTableRows.bind(this) : null,\n      deselectOnClickAway: true,\n      showCheckboxes: false,\n      emptyStateString: loading ? m('loading') : m('ws.board.empty'),\n      masterStyles: tableStyles,\n      paginate: [10, 25, 50, 100],\n      defaultPageSize: 25,\n      storageKey: 'console.workspaces.list'\n    });\n  }\n}));\n\n//# sourceURL=webpack://access.settings/./res/js/AdminWorkspaces/board/WorkspaceList.js?");

/***/ }),

/***/ "./res/js/AdminWorkspaces/board/WsDashboard.js":
/*!*****************************************************!*\
  !*** ./res/js/AdminWorkspaces/board/WsDashboard.js ***!
  \*****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var create_react_class__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! create-react-class */ \"create-react-class\");\n/* harmony import */ var create_react_class__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(create_react_class__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! prop-types */ \"prop-types\");\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var pydio__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! pydio */ \"pydio\");\n/* harmony import */ var pydio__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(pydio__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var material_ui__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! material-ui */ \"material-ui\");\n/* harmony import */ var material_ui__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(material_ui__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var pydio_util_xml__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! pydio/util/xml */ \"pydio/util/xml\");\n/* harmony import */ var pydio_util_xml__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(pydio_util_xml__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var _editor_WsEditor__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../editor/WsEditor */ \"./res/js/AdminWorkspaces/editor/WsEditor.js\");\n/* harmony import */ var _WorkspaceList__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./WorkspaceList */ \"./res/js/AdminWorkspaces/board/WorkspaceList.js\");\n/* harmony import */ var pydio_model_data_model__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! pydio/model/data-model */ \"pydio/model/data-model\");\n/* harmony import */ var pydio_model_data_model__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(pydio_model_data_model__WEBPACK_IMPORTED_MODULE_8__);\n/* harmony import */ var pydio_model_node__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! pydio/model/node */ \"pydio/model/node\");\n/* harmony import */ var pydio_model_node__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(pydio_model_node__WEBPACK_IMPORTED_MODULE_9__);\n/* harmony import */ var material_ui_styles__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! material-ui/styles */ \"material-ui/styles\");\n/* harmony import */ var material_ui_styles__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(material_ui_styles__WEBPACK_IMPORTED_MODULE_10__);\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\n\n\n/*\n * Copyright 2007-2017 Charles du Jeu - Abstrium SAS <team (at) pyd.io>\n * This file is part of Pydio.\n *\n * Pydio is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * Pydio is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with Pydio.  If not, see <http://www.gnu.org/licenses/>.\n *\n * The latest code can be found at <https://pydio.com>.\n */\n\n\n\n\n\n\n\n\n\n\nvar _Pydio$requireLib = pydio__WEBPACK_IMPORTED_MODULE_3___default().requireLib('hoc'),\n  ModernTextField = _Pydio$requireLib.ModernTextField;\nvar WsDashboard = create_react_class__WEBPACK_IMPORTED_MODULE_1___default()({\n  displayName: 'WsDashboard',\n  mixins: [AdminComponents.MessagesConsumerMixin],\n  propTypes: {\n    dataModel: prop_types__WEBPACK_IMPORTED_MODULE_2___default().instanceOf((pydio_model_data_model__WEBPACK_IMPORTED_MODULE_8___default())).isRequired,\n    rootNode: prop_types__WEBPACK_IMPORTED_MODULE_2___default().instanceOf((pydio_model_node__WEBPACK_IMPORTED_MODULE_9___default())).isRequired,\n    currentNode: prop_types__WEBPACK_IMPORTED_MODULE_2___default().instanceOf((pydio_model_node__WEBPACK_IMPORTED_MODULE_9___default())).isRequired,\n    openEditor: (prop_types__WEBPACK_IMPORTED_MODULE_2___default().func.isRequired),\n    openRightPane: (prop_types__WEBPACK_IMPORTED_MODULE_2___default().func.isRequired),\n    closeRightPane: (prop_types__WEBPACK_IMPORTED_MODULE_2___default().func.isRequired),\n    accessByName: (prop_types__WEBPACK_IMPORTED_MODULE_2___default().func.isRequired),\n    advanced: (prop_types__WEBPACK_IMPORTED_MODULE_2___default().boolean)\n  },\n  getInitialState: function getInitialState() {\n    return {\n      selectedNode: null,\n      searchString: ''\n    };\n  },\n  dirtyEditor: function dirtyEditor() {\n    var pydio = this.props.pydio;\n    if (this.refs.editor && this.refs.editor.isDirty()) {\n      if (!confirm(pydio.MessageHash[\"role_editor.19\"])) {\n        return true;\n      }\n    }\n    return false;\n  },\n  openWorkspace: function openWorkspace(workspace) {\n    var _this = this;\n    if (this.dirtyEditor()) {\n      return;\n    }\n    var editor = _editor_WsEditor__WEBPACK_IMPORTED_MODULE_6__[\"default\"];\n    var editorNode = pydio_util_xml__WEBPACK_IMPORTED_MODULE_5___default().XPathSelectSingleNode(this.props.pydio.getXmlRegistry(), '//client_configs/component_config[@component=\"AdminWorkspaces.Dashboard\"]/editor');\n    if (editorNode) {\n      editor = editorNode.getAttribute('namespace') + '.' + editorNode.getAttribute('component');\n    }\n    var _this$props = this.props,\n      pydio = _this$props.pydio,\n      advanced = _this$props.advanced,\n      accessByName = _this$props.accessByName;\n    var editorData = {\n      COMPONENT: editor,\n      PROPS: {\n        ref: \"editor\",\n        pydio: pydio,\n        workspace: workspace,\n        closeEditor: this.closeWorkspace,\n        advanced: advanced,\n        reloadList: function reloadList() {\n          _this.refs['workspacesList'].reload();\n        }\n      }\n    };\n    this.props.openRightPane(editorData);\n    return true;\n  },\n  closeWorkspace: function closeWorkspace() {\n    if (!this.dirtyEditor()) {\n      this.props.closeRightPane();\n    }\n  },\n  showWorkspaceCreator: function showWorkspaceCreator(type) {\n    var _this2 = this;\n    var _this$props2 = this.props,\n      pydio = _this$props2.pydio,\n      advanced = _this$props2.advanced;\n    var editorData = {\n      COMPONENT: _editor_WsEditor__WEBPACK_IMPORTED_MODULE_6__[\"default\"],\n      PROPS: {\n        ref: \"editor\",\n        type: type,\n        pydio: pydio,\n        advanced: advanced,\n        closeEditor: this.closeWorkspace,\n        reloadList: function reloadList() {\n          _this2.refs['workspacesList'].reload();\n        }\n      }\n    };\n    this.props.openRightPane(editorData);\n  },\n  reloadWorkspaceList: function reloadWorkspaceList() {\n    this.refs.workspacesList.reload();\n  },\n  render: function render() {\n    var _this3 = this;\n    var _this$props3 = this.props,\n      pydio = _this$props3.pydio,\n      advanced = _this$props3.advanced,\n      currentNode = _this$props3.currentNode,\n      accessByName = _this$props3.accessByName,\n      muiTheme = _this$props3.muiTheme;\n    var _this$state = this.state,\n      searchString = _this$state.searchString,\n      loading = _this$state.loading;\n    var adminStyles = AdminComponents.AdminStyles(muiTheme.palette);\n    var buttons = [];\n    if (accessByName('Create')) {\n      buttons.push( /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(material_ui__WEBPACK_IMPORTED_MODULE_4__.FlatButton, _extends({\n        primary: true,\n        label: this.context.getMessage('ws.3'),\n        onClick: this.showWorkspaceCreator\n      }, adminStyles.props.header.flatButton)));\n    }\n    var searchBox = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", {\n      style: {\n        display: 'flex'\n      }\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", {\n      style: {\n        flex: 1\n      }\n    }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", {\n      style: {\n        width: 190\n      }\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(ModernTextField, {\n      fullWidth: true,\n      hintText: this.context.getMessage('ws.filter.workspaces'),\n      value: searchString,\n      onChange: function onChange(e, v) {\n        return _this3.setState({\n          searchString: v\n        });\n      }\n    })));\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", {\n      className: \"main-layout-nav-to-stack vertical-layout workspaces-board\"\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(AdminComponents.Header, {\n      title: currentNode.getLabel(),\n      icon: 'mdi mdi-folder-open',\n      actions: buttons,\n      centerContent: searchBox,\n      reloadAction: this.reloadWorkspaceList,\n      loading: loading\n    }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", {\n      className: \"layout-fill\"\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(AdminComponents.SubHeader, {\n      legend: this.context.getMessage('ws.dashboard', 'ajxp_admin')\n    }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(material_ui__WEBPACK_IMPORTED_MODULE_4__.Paper, _extends({}, adminStyles.body.block.props, {\n      style: adminStyles.body.block.container\n    }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_WorkspaceList__WEBPACK_IMPORTED_MODULE_7__[\"default\"], {\n      ref: \"workspacesList\",\n      pydio: pydio,\n      openSelection: this.openWorkspace,\n      advanced: advanced,\n      editable: accessByName('Create'),\n      onLoadState: function onLoadState(state) {\n        _this3.setState({\n          loading: state\n        });\n      },\n      tableStyles: adminStyles.body.tableMaster,\n      filterString: searchString\n    }))));\n  }\n});\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,material_ui_styles__WEBPACK_IMPORTED_MODULE_10__.muiThemeable)()(WsDashboard));\n\n//# sourceURL=webpack://access.settings/./res/js/AdminWorkspaces/board/WsDashboard.js?");

/***/ }),

/***/ "./res/js/AdminWorkspaces/editor/CreateDSDialog.js":
/*!*********************************************************!*\
  !*** ./res/js/AdminWorkspaces/editor/CreateDSDialog.js ***!
  \*********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var pydio__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! pydio */ \"pydio\");\n/* harmony import */ var pydio__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(pydio__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var material_ui__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! material-ui */ \"material-ui\");\n/* harmony import */ var material_ui__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(material_ui__WEBPACK_IMPORTED_MODULE_2__);\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _toPropertyKey(arg) { var key = _toPrimitive(arg, \"string\"); return _typeof(key) === \"symbol\" ? key : String(key); }\nfunction _toPrimitive(input, hint) { if (_typeof(input) !== \"object\" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || \"default\"); if (_typeof(res) !== \"object\") return res; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (hint === \"string\" ? String : Number)(input); }\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n/*\n * Copyright 2007-2021 Charles du Jeu - Abstrium SAS <team (at) pyd.io>\n * This file is part of Pydio.\n *\n * Pydio is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * Pydio is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with Pydio.  If not, see <http://www.gnu.org/licenses/>.\n *\n * The latest code can be found at <https://pydio.com>.\n */\n\n\n\n\nvar CreateDSDialog = /*#__PURE__*/function (_React$Component) {\n  _inherits(CreateDSDialog, _React$Component);\n  var _super = _createSuper(CreateDSDialog);\n  function CreateDSDialog(props) {\n    var _this;\n    _classCallCheck(this, CreateDSDialog);\n    _this = _super.call(this, props);\n    _this.state = {\n      value: 'flat'\n    };\n    return _this;\n  }\n  _createClass(CreateDSDialog, [{\n    key: \"componentWillReceiveProps\",\n    value: function componentWillReceiveProps(nextProps, nextContext) {\n      if (nextProps.open && !this.props.open) {\n        this.setState({\n          value: 'flat'\n        });\n      }\n    }\n  }, {\n    key: \"submit\",\n    value: function submit() {\n      var _this$props = this.props,\n        onSubmit = _this$props.onSubmit,\n        onRequestClose = _this$props.onRequestClose;\n      var value = this.state.value;\n      onSubmit(value);\n      onRequestClose();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n      var _this$props2 = this.props,\n        open = _this$props2.open,\n        onRequestClose = _this$props2.onRequestClose;\n      var value = this.state.value;\n      var m = function m(id) {\n        return pydio__WEBPACK_IMPORTED_MODULE_1___default().getMessages()['ajxp_admin.ds.format-picker.' + id] || id;\n      };\n      var makeRadio = function makeRadio(value) {\n        var lab = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", null, m(value + '.title')), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", {\n          style: {\n            opacity: .67,\n            margin: '5px 0 10px'\n          }\n        }, m(value + '.legend')));\n        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(material_ui__WEBPACK_IMPORTED_MODULE_2__.RadioButton, {\n          value: value,\n          label: lab\n        });\n      };\n      var actions = [/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(material_ui__WEBPACK_IMPORTED_MODULE_2__.FlatButton, {\n        label: pydio__WEBPACK_IMPORTED_MODULE_1___default().getMessages()['54'],\n        onClick: function onClick() {\n          onRequestClose();\n        },\n        primary: true\n      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(material_ui__WEBPACK_IMPORTED_MODULE_2__.FlatButton, {\n        label: m('submit'),\n        primary: true,\n        onClick: function onClick() {\n          return _this2.submit();\n        }\n      })];\n      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(material_ui__WEBPACK_IMPORTED_MODULE_2__.Dialog, {\n        open: open,\n        title: m('title'),\n        onRequestClose: onRequestClose,\n        actions: actions\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", {\n        style: {\n          marginBottom: 20\n        }\n      }, m('legend')), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(material_ui__WEBPACK_IMPORTED_MODULE_2__.RadioButtonGroup, {\n        valueSelected: value,\n        onChange: function onChange(e, v) {\n          return _this2.setState({\n            value: v\n          });\n        }\n      }, makeRadio('flat'), makeRadio('structured'), makeRadio('internal')));\n    }\n  }]);\n  return CreateDSDialog;\n}((react__WEBPACK_IMPORTED_MODULE_0___default().Component));\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (CreateDSDialog);\n\n//# sourceURL=webpack://access.settings/./res/js/AdminWorkspaces/editor/CreateDSDialog.js?");

/***/ }),

/***/ "./res/js/AdminWorkspaces/editor/DataSourceBucketSelector.js":
/*!*******************************************************************!*\
  !*** ./res/js/AdminWorkspaces/editor/DataSourceBucketSelector.js ***!
  \*******************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ DataSourceBucketSelector)\n/* harmony export */ });\n/* harmony import */ var pydio__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! pydio */ \"pydio\");\n/* harmony import */ var pydio__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(pydio__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var pydio_util_lang__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! pydio/util/lang */ \"pydio/util/lang\");\n/* harmony import */ var pydio_util_lang__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(pydio_util_lang__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _model_DataSource__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../model/DataSource */ \"./res/js/AdminWorkspaces/model/DataSource.js\");\n/* harmony import */ var material_ui__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! material-ui */ \"material-ui\");\n/* harmony import */ var material_ui__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(material_ui__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! lodash */ \"lodash\");\n/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_5__);\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\nfunction _iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter); }\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _toPropertyKey(arg) { var key = _toPrimitive(arg, \"string\"); return _typeof(key) === \"symbol\" ? key : String(key); }\nfunction _toPrimitive(input, hint) { if (_typeof(input) !== \"object\" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || \"default\"); if (_typeof(res) !== \"object\") return res; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (hint === \"string\" ? String : Number)(input); }\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n/*\n * Copyright 2007-2019 Charles du Jeu - Abstrium SAS <team (at) pyd.io>\n * This file is part of Pydio.\n *\n * Pydio is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * Pydio is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with Pydio.  If not, see <http://www.gnu.org/licenses/>.\n *\n * The latest code can be found at <https://pydio.com>.\n */\n\n\n\n\n\n\nvar _Pydio$requireLib = pydio__WEBPACK_IMPORTED_MODULE_0___default().requireLib('hoc'),\n  ModernTextField = _Pydio$requireLib.ModernTextField;\n\nvar DataSourceBucketSelector = /*#__PURE__*/function (_React$Component) {\n  _inherits(DataSourceBucketSelector, _React$Component);\n  var _super = _createSuper(DataSourceBucketSelector);\n  function DataSourceBucketSelector(props) {\n    var _this;\n    _classCallCheck(this, DataSourceBucketSelector);\n    _this = _super.call(this, props);\n    _this.state = {\n      buckets: [],\n      selection: [],\n      mode: _this.modeFromValue(),\n      monitorApi: props.dataSource.ApiKey + '-' + props.dataSource.ApiSecret\n    };\n    if (props.dataSource.ObjectsBucket) {\n      _this.state.selection = [props.dataSource.ObjectsBucket];\n    }\n    _this.load();\n    _this.loadSelection();\n    _this.reloadSelection = (0,lodash__WEBPACK_IMPORTED_MODULE_5__.debounce)(function () {\n      _this.loadSelection();\n    }, 500);\n    _this.loadDebounced = (0,lodash__WEBPACK_IMPORTED_MODULE_5__.debounce)(function () {\n      _this.load();\n    }, 500);\n    return _this;\n  }\n  _createClass(DataSourceBucketSelector, [{\n    key: \"componentWillReceiveProps\",\n    value: function componentWillReceiveProps(newProps) {\n      var monitor = newProps.dataSource.ApiKey + '-' + newProps.dataSource.ApiSecret;\n      var monitorApi = this.state.monitorApi;\n      if (monitor !== monitorApi) {\n        this.loadDebounced();\n        this.setState({\n          monitorApi: monitor\n        });\n      }\n    }\n  }, {\n    key: \"load\",\n    value: function load() {\n      var _this2 = this;\n      var dataSource = this.props.dataSource;\n      if (!dataSource.ApiKey || !dataSource.ApiSecret) {\n        this.setState({\n          buckets: []\n        });\n        return;\n      }\n      this.setState({\n        loading: true\n      });\n      _model_DataSource__WEBPACK_IMPORTED_MODULE_3__[\"default\"].loadBuckets(dataSource).then(function (collection) {\n        var nodes = collection.Children || [];\n        _this2.setState({\n          buckets: nodes.map(function (n) {\n            return n.Path;\n          }),\n          loading: false\n        });\n      })[\"catch\"](function (e) {\n        _this2.setState({\n          buckets: [],\n          loading: false\n        });\n      });\n    }\n  }, {\n    key: \"createBucket\",\n    value: function createBucket() {\n      var _this3 = this;\n      var dataSource = this.props.dataSource;\n      var createBucket = this.state.createBucket;\n      this.setState({\n        loading: true\n      });\n      _model_DataSource__WEBPACK_IMPORTED_MODULE_3__[\"default\"].createBucket(dataSource, createBucket).then(function () {\n        _this3.setState({\n          create: false,\n          createBucket: ''\n        });\n        _this3.load();\n      })[\"catch\"](function (e) {\n        _this3.setState({\n          loading: false\n        });\n      });\n    }\n  }, {\n    key: \"loadSelection\",\n    value: function loadSelection() {\n      var _this4 = this;\n      var dataSource = this.props.dataSource;\n      if (!dataSource.ApiKey || !dataSource.ApiSecret) {\n        this.setState({\n          selection: []\n        });\n        return;\n      }\n      if (dataSource.ObjectsBucket) {\n        this.setState({\n          selection: [dataSource.ObjectsBucket]\n        });\n        return;\n      }\n      this.setState({\n        selection: []\n      });\n      if (!dataSource.StorageConfiguration.bucketsRegexp) {\n        return;\n      }\n      _model_DataSource__WEBPACK_IMPORTED_MODULE_3__[\"default\"].loadBuckets(dataSource, dataSource.StorageConfiguration.bucketsRegexp).then(function (collection) {\n        var nodes = collection.Children || [];\n        _this4.setState({\n          selection: nodes.map(function (n) {\n            return n.Path;\n          })\n        });\n      });\n    }\n  }, {\n    key: \"modeFromValue\",\n    value: function modeFromValue() {\n      var dataSource = this.props.dataSource;\n      var mode = 'picker';\n      if (dataSource.StorageConfiguration.bucketsRegexp) {\n        mode = 'regexp';\n      }\n      return mode;\n    }\n  }, {\n    key: \"toggleMode\",\n    value: function toggleMode() {\n      var mode = this.state.mode;\n      var dataSource = this.props.dataSource;\n      if (mode === 'picker') {\n        if (dataSource.ObjectsBucket) {\n          dataSource.StorageConfiguration.bucketsRegexp = dataSource.ObjectsBucket;\n          dataSource.ObjectsBucket = '';\n          this.reloadSelection();\n        }\n        this.setState({\n          mode: 'regexp'\n        });\n      } else {\n        dataSource.StorageConfiguration.bucketsRegexp = '';\n        this.reloadSelection();\n        this.setState({\n          mode: 'picker'\n        });\n      }\n    }\n  }, {\n    key: \"togglePicker\",\n    value: function togglePicker(value) {\n      var dataSource = this.props.dataSource;\n      var selection = this.state.selection;\n      var newSel = [];\n      var idx = selection.indexOf(value);\n      if (idx === -1) {\n        newSel = [].concat(_toConsumableArray(selection), [value]);\n      } else {\n        newSel = pydio_util_lang__WEBPACK_IMPORTED_MODULE_2___default().arrayWithout(selection, idx);\n      }\n      if (newSel.length === 1) {\n        dataSource.ObjectsBucket = newSel[0];\n        dataSource.StorageConfiguration.bucketsRegexp = '';\n      } else {\n        dataSource.ObjectsBucket = '';\n        dataSource.StorageConfiguration.bucketsRegexp = newSel.map(function (v) {\n          return '^' + v + '$';\n        }).join('|');\n      }\n      this.setState({\n        selection: newSel\n      });\n    }\n  }, {\n    key: \"updateRegexp\",\n    value: function updateRegexp(v) {\n      var dataSource = this.props.dataSource;\n      dataSource.StorageConfiguration.bucketsRegexp = v;\n      this.reloadSelection();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this5 = this;\n      var dataSource = this.props.dataSource;\n      var _this$state = this.state,\n        buckets = _this$state.buckets,\n        selection = _this$state.selection,\n        mode = _this$state.mode,\n        loading = _this$state.loading,\n        create = _this$state.create,\n        _this$state$createBuc = _this$state.createBucket,\n        createBucket = _this$state$createBuc === void 0 ? '' : _this$state$createBuc;\n      var mm = pydio__WEBPACK_IMPORTED_MODULE_0___default().getInstance().MessageHash;\n      var m = function m(id) {\n        return mm['ajxp_admin.ds.editor.storage.' + id] || id;\n      };\n      var iconStyles = {\n        style: {\n          width: 30,\n          height: 30,\n          padding: 5\n        },\n        iconStyle: {\n          width: 20,\n          height: 20,\n          color: 'rgba(0,0,0,.5)',\n          fontSize: 18\n        }\n      };\n      var disabled = !dataSource.ApiKey || !dataSource.ApiSecret;\n      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\"div\", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\"div\", {\n        style: {\n          display: 'flex',\n          alignItems: 'flex-end',\n          marginTop: 20\n        }\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\"div\", null, m('buckets.legend')), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\"div\", {\n        style: {\n          flex: 1\n        }\n      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\"div\", {\n        style: {\n          display: 'flex',\n          alignItems: 'flex-end',\n          marginRight: create ? 30 : 0\n        }\n      }, create && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\"div\", {\n        style: {\n          width: 200,\n          height: 36\n        }\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(ModernTextField, {\n        hintText: m('buckets.create.hint'),\n        fullWidth: true,\n        value: createBucket,\n        onChange: function onChange(e, v) {\n          _this5.setState({\n            createBucket: pydio_util_lang__WEBPACK_IMPORTED_MODULE_2___default().computeStringSlug(v)\n          });\n        }\n      })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(material_ui__WEBPACK_IMPORTED_MODULE_4__.IconButton, _extends({\n        iconClassName: create ? \"mdi mdi-check\" : \"mdi mdi-plus-circle\",\n        tooltip: m('buckets.create'),\n        tooltipPosition: \"top-left\",\n        onClick: function onClick() {\n          if (create) {\n            _this5.createBucket();\n          } else {\n            _this5.setState({\n              create: true\n            });\n          }\n        },\n        disabled: disabled\n      }, iconStyles)), create && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(material_ui__WEBPACK_IMPORTED_MODULE_4__.IconButton, _extends({\n        iconClassName: 'mdi mdi-close',\n        tooltip: mm['54'],\n        tooltipPosition: \"top-left\",\n        onClick: function onClick() {\n          return _this5.setState({\n            create: false,\n            createBucket: ''\n          });\n        },\n        disabled: disabled\n      }, iconStyles))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\"div\", {\n        style: {\n          display: 'flex',\n          alignItems: 'flex-end'\n        }\n      }, mode === 'regexp' && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\"div\", {\n        style: {\n          width: 200,\n          height: 36\n        }\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(ModernTextField, {\n        hintText: m('buckets.regexp.hint'),\n        fullWidth: true,\n        value: dataSource.StorageConfiguration.bucketsRegexp || '',\n        onChange: function onChange(e, v) {\n          _this5.updateRegexp(v);\n        }\n      })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(material_ui__WEBPACK_IMPORTED_MODULE_4__.IconButton, _extends({\n        iconClassName: \"mdi mdi-filter\",\n        tooltip: mode === 'picker' ? m('buckets.regexp') : '',\n        tooltipPosition: \"top-left\",\n        onClick: function onClick() {\n          _this5.toggleMode();\n        },\n        disabled: disabled\n      }, iconStyles))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(material_ui__WEBPACK_IMPORTED_MODULE_4__.IconButton, _extends({\n        iconClassName: \"mdi mdi-reload\",\n        tooltip: m('buckets.reload'),\n        tooltipPosition: \"top-left\",\n        onClick: function onClick() {\n          _this5.load();\n        },\n        disabled: disabled\n      }, iconStyles))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\"div\", {\n        style: {\n          display: 'flex',\n          flexWrap: 'wrap',\n          marginTop: 8,\n          backgroundColor: 'rgb(246 246 248)',\n          borderRadius: '4px 4px 0 0',\n          borderBottom: '1px solid #e0e0e0',\n          minHeight: 52,\n          padding: 2,\n          maxHeight: 275,\n          overflowY: 'auto'\n        }\n      }, buckets.map(function (b) {\n        var selected = selection.indexOf(b) !== -1;\n        var chipToucher = {};\n        if (mode === 'picker') {\n          chipToucher.onClick = function () {\n            _this5.togglePicker(b);\n          };\n        } else if (!dataSource.StorageConfiguration.bucketsRegexp) {\n          chipToucher.onClick = function () {\n            _this5.toggleMode();\n            _this5.togglePicker(b);\n          };\n        }\n        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\"div\", {\n          style: {\n            margin: 5\n          }\n        }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(material_ui__WEBPACK_IMPORTED_MODULE_4__.Chip, _extends({}, chipToucher, {\n          backgroundColor: selected ? '#03a9f4' : null\n        }), b));\n      }), buckets.length === 0 && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\"div\", {\n        style: {\n          paddingLeft: 5,\n          textAlign: 'center',\n          fontSize: 12,\n          color: 'rgba(0,0,0,.3)'\n        }\n      }, disabled ? m('buckets.cont.nokeys') : loading ? m('buckets.cont.loading') : m('buckets.cont.empty'))));\n    }\n  }]);\n  return DataSourceBucketSelector;\n}((react__WEBPACK_IMPORTED_MODULE_1___default().Component));\n\n\n//# sourceURL=webpack://access.settings/./res/js/AdminWorkspaces/editor/DataSourceBucketSelector.js?");

/***/ }),

/***/ "./res/js/AdminWorkspaces/editor/DataSourceEditor.js":
/*!***********************************************************!*\
  !*** ./res/js/AdminWorkspaces/editor/DataSourceEditor.js ***!
  \***********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ DataSourceEditor)\n/* harmony export */ });\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! prop-types */ \"prop-types\");\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var pydio__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! pydio */ \"pydio\");\n/* harmony import */ var pydio__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(pydio__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var pydio_http_api__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! pydio/http/api */ \"pydio/http/api\");\n/* harmony import */ var pydio_http_api__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(pydio_http_api__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _model_DataSource__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../model/DataSource */ \"./res/js/AdminWorkspaces/model/DataSource.js\");\n/* harmony import */ var material_ui__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! material-ui */ \"material-ui\");\n/* harmony import */ var material_ui__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(material_ui__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var material_ui_styles__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! material-ui/styles */ \"material-ui/styles\");\n/* harmony import */ var material_ui_styles__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(material_ui_styles__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var _DataSourceLocalSelector__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./DataSourceLocalSelector */ \"./res/js/AdminWorkspaces/editor/DataSourceLocalSelector.js\");\n/* harmony import */ var _DsStorageSelector__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./DsStorageSelector */ \"./res/js/AdminWorkspaces/editor/DsStorageSelector.js\");\n/* harmony import */ var _DataSourceBucketSelector__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./DataSourceBucketSelector */ \"./res/js/AdminWorkspaces/editor/DataSourceBucketSelector.js\");\n/* harmony import */ var cells_sdk__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! cells-sdk */ \"cells-sdk\");\n/* harmony import */ var cells_sdk__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(cells_sdk__WEBPACK_IMPORTED_MODULE_10__);\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _toPropertyKey(arg) { var key = _toPrimitive(arg, \"string\"); return _typeof(key) === \"symbol\" ? key : String(key); }\nfunction _toPrimitive(input, hint) { if (_typeof(input) !== \"object\" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || \"default\"); if (_typeof(res) !== \"object\") return res; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (hint === \"string\" ? String : Number)(input); }\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n/*\n * Copyright 2007-2019 Charles du Jeu - Abstrium SAS <team (at) pyd.io>\n * This file is part of Pydio.\n *\n * Pydio is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * Pydio is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with Pydio.  If not, see <http://www.gnu.org/licenses/>.\n *\n * The latest code can be found at <https://pydio.com>.\n */\n\n\n\n\n\n\n\n\n\n\n\nvar _AdminComponents = AdminComponents,\n  PaperEditorLayout = _AdminComponents.PaperEditorLayout,\n  AdminStyles = _AdminComponents.AdminStyles;\nvar _Pydio$requireLib = pydio__WEBPACK_IMPORTED_MODULE_1___default().requireLib('hoc'),\n  ModernTextField = _Pydio$requireLib.ModernTextField,\n  ModernSelectField = _Pydio$requireLib.ModernSelectField,\n  ModernStyles = _Pydio$requireLib.ModernStyles;\n\nvar createSteps = ['main', 'storage', 'data', 'advanced'];\nvar DataSourceEditor = /*#__PURE__*/function (_React$Component) {\n  _inherits(DataSourceEditor, _React$Component);\n  var _super = _createSuper(DataSourceEditor);\n  function DataSourceEditor(props) {\n    var _this;\n    _classCallCheck(this, DataSourceEditor);\n    _this = _super.call(this, props);\n    var pydio = props.pydio,\n      create = props.create,\n      dataSource = props.dataSource,\n      existingNames = props.existingNames,\n      createStructure = props.createStructure;\n    var observable = new _model_DataSource__WEBPACK_IMPORTED_MODULE_4__[\"default\"](dataSource, existingNames, createStructure);\n    var sConf = observable.getModel().StorageConfiguration || {};\n    var s3Custom = sConf.customEndpoint ? 'custom' : 'aws';\n    if (s3Custom === 'custom' && sConf.minioServer) {\n      s3Custom = \"minio\";\n    }\n    _this.state = {\n      dirty: false,\n      create: create,\n      observable: observable,\n      model: observable.getModel(),\n      loaded: false,\n      valid: observable.isValid(),\n      encryptionKeys: [],\n      versioningPolicies: [],\n      s3Custom: s3Custom,\n      m: function m(id) {\n        return pydio.MessageHash['ajxp_admin.ds.editor.' + id] || id;\n      }\n    };\n    _model_DataSource__WEBPACK_IMPORTED_MODULE_4__[\"default\"].loadEncryptionKeys().then(function (res) {\n      _this.setState({\n        encryptionKeys: res.Keys || []\n      });\n    });\n    _model_DataSource__WEBPACK_IMPORTED_MODULE_4__[\"default\"].loadVersioningPolicies().then(function (res) {\n      _this.setState({\n        versioningPolicies: res.Policies || []\n      });\n    });\n    return _this;\n  }\n  _createClass(DataSourceEditor, [{\n    key: \"componentWillReceiveProps\",\n    value: function componentWillReceiveProps(newProps) {\n      if (newProps.dataSource && this.state.model.Name !== newProps.dataSource.Name) {\n        if (this.state.dirty) {\n          alert(this.props.pydio.MessageHash['role_editor.19']);\n        } else {\n          var observable = new _model_DataSource__WEBPACK_IMPORTED_MODULE_4__[\"default\"](newProps.dataSource);\n          this.setState({\n            observable: observable,\n            model: observable.getModel()\n          });\n        }\n      }\n      if (newProps.create && this.state.create !== newProps.create) {\n        this.setState({\n          create: newProps.create\n        });\n      }\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n      var observable = this.state.observable;\n      observable.observe(\"update\", function () {\n        _this2.setState({\n          dirty: true\n        });\n        _this2.forceUpdate();\n      });\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      var observable = this.state.observable;\n      observable.stopObserving(\"update\");\n    }\n  }, {\n    key: \"resetForm\",\n    value: function resetForm() {\n      var _this3 = this;\n      var observable = this.state.observable;\n      var newModel = observable.revert();\n      this.setState({\n        valid: true,\n        dirty: false,\n        model: newModel\n      }, function () {\n        _this3.forceUpdate();\n      });\n    }\n  }, {\n    key: \"deleteSource\",\n    value: function deleteSource() {\n      var _this4 = this;\n      var _this$state = this.state,\n        m = _this$state.m,\n        observable = _this$state.observable;\n      var pydio = this.props.pydio;\n      pydio.UI.openConfirmDialog({\n        message: m('delete.warning'),\n        validCallback: function validCallback() {\n          observable.deleteSource().then(function () {\n            _this4.props.closeEditor();\n            _this4.props.reloadList();\n          });\n        },\n        destructive: [observable.getModel().Name]\n      });\n    }\n  }, {\n    key: \"saveSource\",\n    value: function saveSource() {\n      var _this5 = this;\n      var _this$state2 = this.state,\n        observable = _this$state2.observable,\n        create = _this$state2.create;\n      this.state.observable.saveSource().then(function () {\n        var newDsName = null;\n        if (create) {\n          newDsName = observable.getModel().Name;\n        }\n        _this5.setState({\n          valid: true,\n          dirty: false,\n          create: false\n        });\n        if (create) {\n          _this5.props.closeEditor();\n        }\n        _this5.props.reloadList(newDsName);\n      });\n    }\n  }, {\n    key: \"launchResync\",\n    value: function launchResync() {\n      this.state.observable.resyncSource();\n    }\n  }, {\n    key: \"toggleEncryption\",\n    value: function toggleEncryption(value) {\n      var model = this.state.model;\n      if (value === 'VALUE_CREATE') {\n        this.setState({\n          showDialog: 'enableEncryptionWithCreate',\n          dialogTargetValue: value,\n          newKeyName: model.Name || ''\n        });\n      } else if (value === 'VALUE_CLEAR') {\n        this.setState({\n          showDialog: 'disableEncryption',\n          dialogTargetValue: value\n        });\n      } else if (model.EncryptionMode !== 'MASTER') {\n        this.setState({\n          showDialog: 'enableEncryption',\n          dialogTargetValue: value\n        });\n      } else {\n        model.EncryptionKey = value;\n      }\n    }\n  }, {\n    key: \"confirmEncryption\",\n    value: function confirmEncryption(value) {\n      var _this6 = this;\n      var _this$state3 = this.state,\n        model = _this$state3.model,\n        newKeyName = _this$state3.newKeyName;\n      if (value === 'VALUE_CREATE') {\n        var api = new cells_sdk__WEBPACK_IMPORTED_MODULE_10__.ConfigServiceApi(pydio_http_api__WEBPACK_IMPORTED_MODULE_2___default().getRestClient());\n        var req = new cells_sdk__WEBPACK_IMPORTED_MODULE_10__.EncryptionAdminCreateKeyRequest();\n        req.KeyID = newKeyName;\n        req.Label = newKeyName;\n        api.createEncryptionKey(req).then(function (result) {\n          model.EncryptionMode = 'MASTER';\n          model.EncryptionKey = newKeyName;\n          _this6.setState({\n            showDialog: false,\n            dialogTargetValue: null,\n            encryptionKeys: [{\n              ID: newKeyName,\n              Label: newKeyName\n            }]\n          });\n        })[\"catch\"](function () {\n          //this.setState({showDialog: false})\n        });\n        return;\n      }\n      if (value === 'VALUE_CLEAR') {\n        model.EncryptionMode = 'CLEAR';\n        model.EncryptionKey = '';\n      } else {\n        model.EncryptionMode = 'MASTER';\n        model.EncryptionKey = value;\n      }\n      this.setState({\n        showDialog: false,\n        dialogTargetValue: null\n      });\n    }\n  }, {\n    key: \"toggleS3Custom\",\n    value: function toggleS3Custom(value) {\n      var model = this.state.model;\n      if (value === \"aws\") {\n        model.StorageConfiguration.customEndpoint = \"\";\n        model.StorageConfiguration.customRegion = \"\";\n        model.StorageConfiguration.minioServer = \"\";\n        model.StorageConfiguration.signatureVersion = \"\";\n      } else if (value === \"minio\") {\n        // Add custom flag\n        model.StorageConfiguration.minioServer = \"true\";\n        model.StorageConfiguration.signatureVersion = \"v4\";\n      } else {\n        model.StorageConfiguration.minioServer = \"\";\n        model.StorageConfiguration.signatureVersion = \"v4\";\n      }\n      this.setState({\n        s3Custom: value\n      });\n    }\n  }, {\n    key: \"stepperBack\",\n    value: function stepperBack() {\n      var _this$state$currentPa = this.state.currentPane,\n        currentPane = _this$state$currentPa === void 0 ? 'main' : _this$state$currentPa;\n      var i = createSteps.indexOf(currentPane);\n      if (i > 0) {\n        this.setState({\n          currentPane: createSteps[i - 1]\n        });\n      }\n    }\n  }, {\n    key: \"stepperNext\",\n    value: function stepperNext() {\n      var _this$state$currentPa2 = this.state.currentPane,\n        currentPane = _this$state$currentPa2 === void 0 ? 'main' : _this$state$currentPa2;\n      var i = createSteps.indexOf(currentPane);\n      if (i < createSteps.length - 1) {\n        this.setState({\n          currentPane: createSteps[i + 1]\n        });\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this7 = this;\n      var _this$props = this.props,\n        storageTypes = _this$props.storageTypes,\n        pydio = _this$props.pydio,\n        readonly = _this$props.readonly;\n      var _this$state4 = this.state,\n        _this$state4$currentP = _this$state4.currentPane,\n        currentPane = _this$state4$currentP === void 0 ? 'main' : _this$state4$currentP,\n        model = _this$state4.model,\n        create = _this$state4.create,\n        observable = _this$state4.observable,\n        encryptionKeys = _this$state4.encryptionKeys,\n        versioningPolicies = _this$state4.versioningPolicies,\n        showDialog = _this$state4.showDialog,\n        dialogTargetValue = _this$state4.dialogTargetValue,\n        newKeyName = _this$state4.newKeyName,\n        s3Custom = _this$state4.s3Custom,\n        m = _this$state4.m;\n      var titleActionBarButtons = [];\n      if (!readonly && !create) {\n        titleActionBarButtons.push( /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default().createElement(material_ui__WEBPACK_IMPORTED_MODULE_5__.Toggle, {\n          style: {\n            borderRight: '1px solid #e0e0e0',\n            paddingRight: 14,\n            zoom: 0.8\n          },\n          labelStyle: {\n            fontSize: 17\n          },\n          toggled: !model.Disabled,\n          onToggle: function onToggle(e, v) {\n            model.Disabled = !v;\n          },\n          labelPosition: \"right\",\n          label: m('options.enabled')\n        }));\n        titleActionBarButtons.push(PaperEditorLayout.actionButton(this.context.getMessage('plugins.6'), 'mdi mdi-undo', function () {\n          _this7.resetForm();\n        }, !this.state.dirty));\n        titleActionBarButtons.push(PaperEditorLayout.actionButton(this.context.getMessage('plugins.5'), 'mdi mdi-content-save', function () {\n          _this7.saveSource();\n        }, !this.state.dirty));\n      }\n      var leftNavOldLegends = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default().createElement(\"div\", {\n        style: {\n          padding: '6px 0',\n          color: '#9E9E9E',\n          fontSize: 13\n        }\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default().createElement(\"div\", {\n        style: {\n          fontSize: 120,\n          textAlign: 'center'\n        }\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default().createElement(\"i\", {\n        className: \"mdi mdi-database\"\n      })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default().createElement(\"div\", {\n        style: {\n          padding: 16\n        }\n      }, this.context.getMessage('ws.75'), \"\\xA0\", this.context.getMessage('ws.76')), create && model.StorageType === 'LOCAL' && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default().createElement(\"div\", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default().createElement(material_ui__WEBPACK_IMPORTED_MODULE_5__.Divider, null), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default().createElement(\"div\", {\n        style: {\n          padding: 16\n        }\n      }, m('legend.local'), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default().createElement(\"ul\", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default().createElement(\"li\", {\n        style: {\n          listStyle: 'disc',\n          marginLeft: 20\n        }\n      }, m('legend.local.li.1')), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default().createElement(\"li\", {\n        style: {\n          listStyle: 'disc',\n          marginLeft: 20\n        }\n      }, m('legend.local.li.2')), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default().createElement(\"li\", {\n        style: {\n          listStyle: 'disc',\n          marginLeft: 20\n        }\n      }, m('legend.local.li.3'))))), create && model.StorageType === 'S3' && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default().createElement(\"div\", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default().createElement(material_ui__WEBPACK_IMPORTED_MODULE_5__.Divider, null), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default().createElement(\"div\", {\n        style: {\n          padding: 16\n        }\n      }, m('legend.s3.1'), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default().createElement(\"br\", null), m('legend.s3.2'))), !create && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default().createElement(\"div\", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default().createElement(material_ui__WEBPACK_IMPORTED_MODULE_5__.Divider, null), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default().createElement(\"div\", {\n        style: {\n          padding: 16\n        }\n      }, m('legend.resync'), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default().createElement(\"div\", {\n        style: {\n          textAlign: 'center',\n          marginTop: 10\n        }\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default().createElement(material_ui__WEBPACK_IMPORTED_MODULE_5__.RaisedButton, {\n        label: m('legend.resync.button'),\n        onClick: this.launchResync.bind(this)\n      })))), !create && !readonly && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default().createElement(\"div\", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default().createElement(material_ui__WEBPACK_IMPORTED_MODULE_5__.Divider, null), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default().createElement(\"div\", {\n        style: {\n          padding: 16\n        }\n      }, m('legend.delete.1'), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default().createElement(\"br\", null), m('legend.delete.2'), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default().createElement(\"div\", {\n        style: {\n          textAlign: 'center',\n          marginTop: 10\n        }\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default().createElement(material_ui__WEBPACK_IMPORTED_MODULE_5__.RaisedButton, {\n        secondary: true,\n        label: m('legend.delete.button'),\n        onClick: this.deleteSource.bind(this),\n        style: {\n          marginTop: 16\n        }\n      })))));\n      var title = model.Name ? m('title').replace('%s', model.Name) : m('new');\n      var storageConfig = model.StorageConfiguration;\n      var adminStyles = AdminStyles(this.props.muiTheme.palette);\n      var styles = {\n        title: _objectSpread(_objectSpread({}, adminStyles.body.block.headerFull), {}, {\n          margin: '0 -20px'\n        }),\n        legend: {},\n        subLegend: {\n          padding: '10px 6px 0 4px',\n          fontSize: 12,\n          lineHeight: '16px',\n          color: 'rgba(0,0,0,0.6)',\n          textAlign: 'justify'\n        },\n        section: _objectSpread({\n          padding: '0 20px 20px',\n          margin: 10,\n          backgroundColor: 'white'\n        }, adminStyles.body.block.container),\n        storageSection: {\n          padding: 20,\n          marginTop: -1\n        }\n      };\n      var storages = {\n        LOCAL: {\n          primaryText: this.context.getMessage('ds.storage.fs', 'ajxp_admin'),\n          image: 'fs.png'\n        },\n        S3: {\n          primaryText: this.context.getMessage('ds.storage.s3', 'ajxp_admin'),\n          image: 's3-compat.png'\n        },\n        AZURE: {\n          primaryText: this.context.getMessage('ds.storage.azure', 'ajxp_admin'),\n          image: 'azure.png'\n        },\n        GCS: {\n          primaryText: this.context.getMessage('ds.storage.gcs', 'ajxp_admin'),\n          image: 'gcs.png'\n        }\n      };\n      var storageData = {};\n      storageTypes.forEach(function (type) {\n        storageData[type] = storages[type];\n      });\n      if (model.StorageType && !storageData[model.StorageType]) {\n        storageData[model.StorageType] = storages[model.StorageType];\n      }\n      var makeStyle = function makeStyle(style, key) {\n        if (key === currentPane) {\n          return style;\n        } else {\n          return _objectSpread(_objectSpread({}, style), {}, {\n            display: 'none'\n          });\n        }\n      };\n      var Steps, CreateButton;\n      if (create) {\n        var stepperStyle = {\n          display: 'flex',\n          alignItems: 'center',\n          padding: '0 20px 0 8px',\n          position: 'absolute',\n          height: 64,\n          zIndex: 10,\n          top: 64,\n          left: 0,\n          right: 0,\n          backgroundColor: 'rgb(246 246 248)',\n          boxShadow: 'rgba(0, 0, 0, .1) 0px 1px 2px'\n        };\n        var backDisabled = createSteps.indexOf(currentPane) === 0;\n        var nextDisabled = createSteps.indexOf(currentPane) === createSteps.length - 1;\n        if (currentPane === 'main' && (!model.Name || observable.getNameError(m))) {\n          nextDisabled = true;\n        } else if (currentPane === 'storage' && !observable.isValid()) {\n          nextDisabled = true;\n        }\n        Steps = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default().createElement(\"div\", {\n          style: stepperStyle\n        }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default().createElement(\"div\", {\n          style: {\n            flex: 1\n          }\n        }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default().createElement(material_ui__WEBPACK_IMPORTED_MODULE_5__.Stepper, {\n          activeStep: createSteps.indexOf(currentPane)\n        }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default().createElement(material_ui__WEBPACK_IMPORTED_MODULE_5__.Step, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default().createElement(material_ui__WEBPACK_IMPORTED_MODULE_5__.StepLabel, null, m('tab.identifier'))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default().createElement(material_ui__WEBPACK_IMPORTED_MODULE_5__.Step, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default().createElement(material_ui__WEBPACK_IMPORTED_MODULE_5__.StepLabel, null, m('tab.storage'))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default().createElement(material_ui__WEBPACK_IMPORTED_MODULE_5__.Step, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default().createElement(material_ui__WEBPACK_IMPORTED_MODULE_5__.StepLabel, null, m('tab.lifecycle'))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default().createElement(material_ui__WEBPACK_IMPORTED_MODULE_5__.Step, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default().createElement(material_ui__WEBPACK_IMPORTED_MODULE_5__.StepLabel, null, m('tab.advanced'))))));\n        CreateButton = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default().createElement(\"div\", {\n          style: _objectSpread(_objectSpread({}, stepperStyle), {}, {\n            top: null,\n            bottom: 0,\n            backgroundColor: 'white',\n            boxShadow: 'rgba(0, 0, 0, .1) 0px -1px 2px'\n          })\n        }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default().createElement(\"span\", {\n          style: {\n            flex: 1\n          }\n        }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default().createElement(material_ui__WEBPACK_IMPORTED_MODULE_5__.FlatButton, {\n          primary: true,\n          label: m('tab.button-back'),\n          onClick: function onClick() {\n            return _this7.stepperBack();\n          },\n          disabled: backDisabled\n        }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default().createElement(material_ui__WEBPACK_IMPORTED_MODULE_5__.FlatButton, {\n          primary: true,\n          label: m('tab.button-next'),\n          onClick: function onClick() {\n            return _this7.stepperNext();\n          },\n          disabled: nextDisabled\n        }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default().createElement(\"div\", {\n          style: {\n            width: 1,\n            height: 40,\n            backgroundColor: '#efefef',\n            margin: '0 5px'\n          }\n        }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default().createElement(material_ui__WEBPACK_IMPORTED_MODULE_5__.FlatButton, {\n          primary: true,\n          label: m('tab.button-create'),\n          onClick: function onClick() {\n            return _this7.saveSource();\n          },\n          disabled: !observable.isValid()\n        }));\n      }\n      var EncDialog = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default().createElement(material_ui__WEBPACK_IMPORTED_MODULE_5__.Dialog, {\n        open: showDialog,\n        title: m('enc.warning'),\n        onRequestClose: function onRequestClose() {\n          _this7.setState({\n            showDialog: false,\n            dialogTargetValue: null\n          });\n        },\n        actions: [/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default().createElement(material_ui__WEBPACK_IMPORTED_MODULE_5__.FlatButton, {\n          label: pydio.MessageHash['54'],\n          onClick: function onClick() {\n            _this7.setState({\n              showDialog: false,\n              dialogTargetValue: null\n            });\n          }\n        }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default().createElement(material_ui__WEBPACK_IMPORTED_MODULE_5__.FlatButton, {\n          label: m('enc.validate'),\n          disabled: showDialog === 'enableEncryptionWithCreate' && !newKeyName,\n          onClick: function onClick() {\n            _this7.confirmEncryption(dialogTargetValue);\n          }\n        })]\n      }, (showDialog === 'enableEncryption' || showDialog === 'enableEncryptionWithCreate') && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default().createElement(\"div\", {\n        style: {\n          lineHeight: '1.6em'\n        }\n      }, m('enc.dialog.enable.1'), \"\\xA0\", m('enc.dialog.enable.2'), \" \", /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default().createElement(\"b\", {\n        style: {\n          fontWeight: 500\n        }\n      }, m('enc.dialog.enable.2bold')), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default().createElement(\"br\", null), m('enc.dialog.enable.3'), showDialog === 'enableEncryptionWithCreate' && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default().createElement(\"div\", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default().createElement(ModernTextField, {\n        hintText: m('enc.dialog.enable.create'),\n        fullWidth: true,\n        variant: 'v2',\n        value: newKeyName,\n        onChange: function onChange(e, v) {\n          _this7.setState({\n            newKeyName: v\n          });\n        }\n      }))), showDialog === 'disableEncryption' && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default().createElement(\"div\", {\n        style: {\n          lineHeight: '1.6em'\n        }\n      }, m('enc.dialog.disable')));\n      var MainOptions = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default().createElement(material_ui__WEBPACK_IMPORTED_MODULE_5__.Paper, {\n        zDepth: 0,\n        style: makeStyle(styles.section, 'main')\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default().createElement(\"div\", {\n        style: _objectSpread(_objectSpread({}, styles.title), {}, {\n          marginBottom: 16\n        })\n      }, m('options')), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default().createElement(ModernTextField, {\n        fullWidth: true,\n        variant: 'v2',\n        hintText: m('options.id') + ' *',\n        disabled: !create,\n        value: model.Name,\n        onChange: function onChange(e, v) {\n          model.Name = v;\n        },\n        errorText: observable.getNameError(m)\n      }));\n      var DsType = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default().createElement(material_ui__WEBPACK_IMPORTED_MODULE_5__.Paper, {\n        zDepth: 0,\n        style: makeStyle(_objectSpread(_objectSpread({}, styles.section), {}, {\n          padding: 0,\n          marginBottom: create ? 200 : null\n        }), create ? 'storage' : 'main')\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default().createElement(_DsStorageSelector__WEBPACK_IMPORTED_MODULE_8__[\"default\"], {\n        disabled: !create,\n        value: model.StorageType,\n        onChange: function onChange(e, i, v) {\n          model.StorageType = v;\n        },\n        values: storageData\n      }), model.StorageType === 'LOCAL' && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default().createElement(\"div\", {\n        style: styles.storageSection\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default().createElement(\"div\", {\n        style: styles.legend\n      }, m('storage.legend.fs')), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default().createElement(_DataSourceLocalSelector__WEBPACK_IMPORTED_MODULE_7__[\"default\"], {\n        model: model,\n        pydio: this.props.pydio,\n        styles: styles\n      }), !model.FlatStorage && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default().createElement(\"div\", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default().createElement(material_ui__WEBPACK_IMPORTED_MODULE_5__.Checkbox, _extends({\n        labelPosition: \"right\",\n        label: m('storage.fs.macos'),\n        checked: storageConfig.normalize === \"true\",\n        onCheck: function onCheck(e, v) {\n          storageConfig.normalize = v ? \"true\" : \"false\";\n        }\n      }, ModernStyles.toggleFieldV2)))), model.StorageType === 'S3' && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default().createElement(\"div\", {\n        style: styles.storageSection\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default().createElement(\"div\", {\n        style: styles.legend\n      }, m('storage.legend.s3')), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default().createElement(ModernSelectField, {\n        fullWidth: true,\n        variant: 'v2',\n        hintText: m('storage.s3.endpoint.type'),\n        value: s3Custom,\n        onChange: function onChange(e, i, v) {\n          _this7.toggleS3Custom(v);\n        }\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default().createElement(material_ui__WEBPACK_IMPORTED_MODULE_5__.MenuItem, {\n        value: \"aws\",\n        primaryText: m('storage.s3.endpoint.amazon')\n      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default().createElement(material_ui__WEBPACK_IMPORTED_MODULE_5__.MenuItem, {\n        value: \"minio\",\n        primaryText: m('storage.s3.endpoint.minio')\n      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default().createElement(material_ui__WEBPACK_IMPORTED_MODULE_5__.MenuItem, {\n        value: \"custom\",\n        primaryText: m('storage.s3.endpoint.custom')\n      })), (s3Custom === 'custom' || s3Custom === 'minio') && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default().createElement(\"div\", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default().createElement(ModernTextField, {\n        fullWidth: true,\n        variant: 'v2',\n        hintText: m('storage.s3.endpoint') + ' - ' + m('storage.s3.endpoint.hint'),\n        value: model.StorageConfiguration.customEndpoint,\n        onChange: function onChange(e, v) {\n          model.StorageConfiguration.customEndpoint = v;\n        }\n      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default().createElement(\"div\", {\n        style: {\n          display: 'flex'\n        }\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default().createElement(\"div\", {\n        style: {\n          flex: 3,\n          marginRight: 5\n        }\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default().createElement(ModernTextField, {\n        fullWidth: true,\n        variant: 'v2',\n        hintText: m('storage.s3.region'),\n        value: model.StorageConfiguration.customRegion,\n        onChange: function onChange(e, v) {\n          model.StorageConfiguration.customRegion = v;\n        }\n      })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default().createElement(\"div\", {\n        style: {\n          flex: 1\n        }\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default().createElement(ModernSelectField, {\n        fullWidth: true,\n        variant: 'v2',\n        hintText: m('storage.s3.signatureVersion'),\n        value: model.StorageConfiguration.signatureVersion,\n        onChange: function onChange(e, i, v) {\n          model.StorageConfiguration.signatureVersion = v;\n        }\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default().createElement(material_ui__WEBPACK_IMPORTED_MODULE_5__.MenuItem, {\n        value: \"v4\",\n        primaryText: \"v4\"\n      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default().createElement(material_ui__WEBPACK_IMPORTED_MODULE_5__.MenuItem, {\n        value: \"v2\",\n        primaryText: \"v2\"\n      }))))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default().createElement(ModernTextField, {\n        fullWidth: true,\n        variant: 'v2',\n        hintText: m('storage.s3.api') + ' *',\n        value: model.ApiKey,\n        onChange: function onChange(e, v) {\n          model.ApiKey = v;\n        }\n      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default().createElement(\"form\", {\n        autoComplete: \"off\"\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default().createElement(\"input\", {\n        type: \"hidden\",\n        value: \"something\"\n      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default().createElement(ModernTextField, {\n        autoComplete: \"off\",\n        fullWidth: true,\n        variant: 'v2',\n        type: \"password\",\n        hintText: m('storage.s3.secret') + ' *',\n        value: model.ApiSecret,\n        onChange: function onChange(e, v) {\n          model.ApiSecret = v;\n        }\n      })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default().createElement(_DataSourceBucketSelector__WEBPACK_IMPORTED_MODULE_9__[\"default\"], {\n        dataSource: model,\n        hintText: m('storage.s3.bucket')\n      }), model.ObjectsBucket && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default().createElement(\"div\", {\n        style: {\n          paddingTop: 20\n        }\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default().createElement(\"div\", {\n        style: _objectSpread({}, styles.subLegend)\n      }, m('storage.s3.legend.bucketPathPrefix')), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default().createElement(ModernTextField, {\n        fullWidth: true,\n        variant: \"v2\",\n        hintText: m('storage.s3.bucketPathPrefix'),\n        value: model.ObjectsBaseFolder || \"\",\n        onChange: function onChange(e, v) {\n          model.ObjectsBaseFolder = v;\n        }\n      })), (model.ObjectsBucket || model.StorageConfiguration.bucketsRegexp) && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default().createElement((react__WEBPACK_IMPORTED_MODULE_3___default().Fragment), null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default().createElement(\"div\", {\n        style: _objectSpread(_objectSpread({}, styles.subLegend), {}, {\n          paddingTop: 20\n        })\n      }, m('storage.s3.legend.storageClass')), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default().createElement(\"div\", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default().createElement(ModernTextField, {\n        fullWidth: true,\n        variant: 'v2',\n        hintText: m('storage.s3.storageClass'),\n        value: model.StorageConfiguration.storageClass || '',\n        onChange: function onChange(e, v) {\n          model.StorageConfiguration.storageClass = v;\n        }\n      }))), model.StorageConfiguration.bucketsRegexp && !model.ObjectsBucket && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default().createElement((react__WEBPACK_IMPORTED_MODULE_3___default().Fragment), null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default().createElement(\"div\", {\n        style: _objectSpread(_objectSpread({}, styles.subLegend), {}, {\n          paddingTop: 20\n        })\n      }, m('storage.s3.legend.tags')), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default().createElement(\"div\", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default().createElement(ModernTextField, {\n        fullWidth: true,\n        variant: 'v2',\n        disabled: !!model.ObjectsBucket,\n        hintText: m('storage.s3.bucketsTags'),\n        value: model.StorageConfiguration.bucketsTags || '',\n        onChange: function onChange(e, v) {\n          model.StorageConfiguration.bucketsTags = v;\n        }\n      })))), model.StorageType === 'AZURE' && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default().createElement(\"div\", {\n        style: styles.storageSection\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default().createElement(\"div\", {\n        style: styles.legend\n      }, m('storage.legend.azure')), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default().createElement(ModernTextField, {\n        fullWidth: true,\n        variant: 'v2',\n        hintText: m('storage.azure.bucket') + ' *',\n        value: model.ObjectsBucket,\n        onChange: function onChange(e, v) {\n          model.ObjectsBucket = v;\n        }\n      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default().createElement(ModernTextField, {\n        fullWidth: true,\n        variant: 'v2',\n        hintText: m('storage.azure.api') + ' *',\n        value: model.ApiKey,\n        onChange: function onChange(e, v) {\n          model.ApiKey = v;\n        }\n      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default().createElement(ModernTextField, {\n        fullWidth: true,\n        variant: 'v2',\n        type: \"password\",\n        hintText: m('storage.azure.secret') + ' *',\n        value: model.ApiSecret,\n        onChange: function onChange(e, v) {\n          model.ApiSecret = v;\n        }\n      })), model.StorageType === 'GCS' && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default().createElement(\"div\", {\n        style: styles.storageSection\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default().createElement(\"div\", {\n        style: styles.legend\n      }, m('storage.legend.gcs')), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default().createElement(ModernTextField, {\n        fullWidth: true,\n        variant: 'v2',\n        hintText: m('storage.gcs.bucket') + ' *',\n        value: model.ObjectsBucket,\n        onChange: function onChange(e, v) {\n          model.ObjectsBucket = v;\n        }\n      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default().createElement(ModernTextField, {\n        fullWidth: true,\n        variant: 'v2',\n        hintText: m('storage.gcs.credentials') + ' *',\n        value: model.StorageConfiguration.jsonCredentials,\n        onChange: function onChange(e, v) {\n          model.StorageConfiguration.jsonCredentials = v;\n        },\n        multiLine: true\n      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default().createElement(ModernTextField, {\n        fullWidth: true,\n        variant: 'v2',\n        hintText: m('storage.s3.path'),\n        value: model.ObjectsBaseFolder,\n        onChange: function onChange(e, v) {\n          model.ObjectsBaseFolder = v;\n        }\n      })));\n      var DataLifecycle = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default().createElement(material_ui__WEBPACK_IMPORTED_MODULE_5__.Paper, {\n        zDepth: 0,\n        style: makeStyle(styles.section, 'data')\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default().createElement(\"div\", {\n        style: styles.title\n      }, m('datamanagement')), !model.StorageConfiguration.cellsInternal && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default().createElement(react__WEBPACK_IMPORTED_MODULE_3__.Fragment, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default().createElement(\"div\", {\n        style: _objectSpread(_objectSpread({}, styles.subLegend), {}, {\n          paddingTop: 20\n        })\n      }, m('storage.legend.versioning')), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default().createElement(ModernSelectField, {\n        fullWidth: true,\n        variant: 'v2',\n        hintText: m('versioning'),\n        value: model.VersioningPolicyName,\n        onChange: function onChange(e, i, v) {\n          model.VersioningPolicyName = v;\n        }\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default().createElement(material_ui__WEBPACK_IMPORTED_MODULE_5__.MenuItem, {\n        value: undefined,\n        primaryText: m('versioning.disabled')\n      }), versioningPolicies.map(function (key) {\n        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default().createElement(material_ui__WEBPACK_IMPORTED_MODULE_5__.MenuItem, {\n          value: key.Uuid,\n          primaryText: key.Name + ' (stored in ' + key.VersionsDataSourceName + ')'\n        });\n      }))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default().createElement(\"div\", {\n        style: _objectSpread(_objectSpread({}, styles.subLegend), {}, {\n          paddingTop: 20\n        })\n      }, m('storage.legend.encryption')), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default().createElement(ModernSelectField, {\n        fullWidth: true,\n        variant: 'v2',\n        hintText: m('enc.key'),\n        value: model.EncryptionMode === 'MASTER' ? model.EncryptionKey : 'VALUE_CLEAR',\n        onChange: function onChange(e, i, v) {\n          _this7.toggleEncryption(v);\n        }\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default().createElement(material_ui__WEBPACK_IMPORTED_MODULE_5__.MenuItem, {\n        value: 'VALUE_CLEAR',\n        primaryText: m('enc.key.clear')\n      }), encryptionKeys.map(function (key) {\n        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default().createElement(material_ui__WEBPACK_IMPORTED_MODULE_5__.MenuItem, {\n          value: key.ID,\n          primaryText: key.Label\n        });\n      }), model.EncryptionMode !== 'MASTER' && encryptionKeys.length === 0 && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default().createElement(material_ui__WEBPACK_IMPORTED_MODULE_5__.MenuItem, {\n        value: 'VALUE_CREATE',\n        primaryText: m('enc.key.create')\n      })));\n      var AdvancedOptions = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default().createElement(material_ui__WEBPACK_IMPORTED_MODULE_5__.Paper, {\n        zDepth: 0,\n        style: makeStyle(styles.section, 'advanced')\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default().createElement(\"div\", {\n        style: styles.title\n      }, m('tab.advanced')), !model.StorageConfiguration.cellsInternal && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default().createElement(\"div\", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default().createElement(\"div\", {\n        style: _objectSpread(_objectSpread({}, styles.subLegend), {}, {\n          paddingTop: 20\n        })\n      }, m('storage.legend.flatStorage')), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default().createElement(material_ui__WEBPACK_IMPORTED_MODULE_5__.Checkbox, _extends({\n        label: m('storage.flatStorage'),\n        labelPosition: \"right\",\n        disabled: !create,\n        checked: !model.FlatStorage,\n        onCheck: function onCheck(e, v) {\n          model.FlatStorage = !v;\n        }\n      }, ModernStyles.toggleFieldV2)), create && model.FlatStorage && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default().createElement(ModernTextField, {\n        fullWidth: true,\n        variant: 'v2',\n        hintText: m('initFlatFromSnapshot'),\n        value: model.StorageConfiguration.initFromSnapshot || '',\n        onChange: function onChange(e, v) {\n          if (v) {\n            model.StorageConfiguration.initFromSnapshot = v;\n          } else {\n            delete model.StorageConfiguration.initFromSnapshot;\n          }\n        }\n      }), model.FlatStorage && (create || model.StorageConfiguration.foldersShardingPattern) && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default().createElement(ModernTextField, {\n        fullWidth: true,\n        variant: 'v2',\n        disabled: !create,\n        hintText: m('foldersShardingPattern'),\n        value: model.StorageConfiguration.foldersShardingPattern || '',\n        onChange: function onChange(e, v) {\n          if (v) {\n            model.StorageConfiguration.foldersShardingPattern = v;\n          } else {\n            delete model.StorageConfiguration.foldersShardingPattern;\n          }\n        }\n      })), !model.FlatStorage && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default().createElement(\"div\", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default().createElement(\"div\", {\n        style: _objectSpread(_objectSpread({}, styles.subLegend), {}, {\n          paddingTop: 20\n        })\n      }, m('storage.legend.skipResync')), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default().createElement(material_ui__WEBPACK_IMPORTED_MODULE_5__.Checkbox, _extends({\n        label: m('storage.skipResync'),\n        labelPosition: \"right\",\n        checked: model.SkipSyncOnRestart,\n        onCheck: function onCheck(e, v) {\n          model.SkipSyncOnRestart = v;\n        }\n      }, ModernStyles.toggleFieldV2))), model.StorageType !== 'LOCAL' && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default().createElement(\"div\", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default().createElement(\"div\", {\n        style: _objectSpread(_objectSpread({}, styles.subLegend), {}, {\n          paddingTop: 20\n        })\n      }, m('storage.legend.readOnly')), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default().createElement(material_ui__WEBPACK_IMPORTED_MODULE_5__.Checkbox, _extends({\n        label: m('storage.readOnly'),\n        labelPosition: \"right\",\n        checked: model.StorageConfiguration.readOnly === 'true',\n        onCheck: function onCheck(e, v) {\n          model.StorageConfiguration.readOnly = v ? 'true' : '';\n        }\n      }, ModernStyles.toggleFieldV2))), (!model.StorageConfiguration.readOnly || model.StorageConfiguration.readOnly !== 'true') && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default().createElement(\"div\", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default().createElement(\"div\", {\n        style: _objectSpread(_objectSpread({}, styles.subLegend), {}, {\n          paddingTop: 20\n        })\n      }, m('storage.legend.checksumMapper')), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default().createElement(material_ui__WEBPACK_IMPORTED_MODULE_5__.Checkbox, _extends({\n        label: m('storage.nativeEtags'),\n        labelPosition: \"right\",\n        checked: model.StorageConfiguration.nativeEtags,\n        onCheck: function onCheck(e, v) {\n          model.StorageConfiguration.nativeEtags = v ? 'true' : '';\n        }\n      }, ModernStyles.toggleFieldV2)), !model.StorageConfiguration.nativeEtags && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default().createElement(\"div\", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default().createElement(material_ui__WEBPACK_IMPORTED_MODULE_5__.Checkbox, _extends({\n        label: m('storage.checksumMapper'),\n        labelPosition: \"right\",\n        checked: model.StorageConfiguration.checksumMapper === 'dao',\n        onCheck: function onCheck(e, v) {\n          model.StorageConfiguration.checksumMapper = v ? 'dao' : '';\n        }\n      }, ModernStyles.toggleFieldV2)))));\n      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default().createElement(PaperEditorLayout, {\n        title: title,\n        titleLeftIcon: 'mdi mdi-database',\n        titleActionBar: titleActionBarButtons,\n        closeAction: this.props.closeEditor,\n        leftNavItems: create ? null : [{\n          label: m('tab.main'),\n          value: 'main',\n          icon: 'mdi mdi-database-plus'\n        }, {\n          label: m('tab.lifecycle'),\n          value: 'data',\n          icon: 'mdi mdi-recycle'\n        }, {\n          label: m('tab.advanced'),\n          value: 'advanced',\n          icon: 'mdi mdi-settings'\n        }],\n        leftNavSelected: currentPane,\n        leftNavChange: function leftNavChange(key) {\n          _this7.setState({\n            currentPane: key\n          });\n        },\n        className: \"workspace-editor\",\n        contentFill: false,\n        rightPanelStyle: create ? {\n          paddingTop: 64\n        } : null\n      }, Steps, EncDialog, DsType, MainOptions, DataLifecycle, AdvancedOptions, CreateButton);\n    }\n  }]);\n  return DataSourceEditor;\n}((react__WEBPACK_IMPORTED_MODULE_3___default().Component));\nDataSourceEditor.contextTypes = {\n  messages: (prop_types__WEBPACK_IMPORTED_MODULE_0___default().object),\n  getMessage: (prop_types__WEBPACK_IMPORTED_MODULE_0___default().func)\n};\nDataSourceEditor = (0,material_ui_styles__WEBPACK_IMPORTED_MODULE_6__.muiThemeable)()(DataSourceEditor);\n\n\n//# sourceURL=webpack://access.settings/./res/js/AdminWorkspaces/editor/DataSourceEditor.js?");

/***/ }),

/***/ "./res/js/AdminWorkspaces/editor/DataSourceLocalSelector.js":
/*!******************************************************************!*\
  !*** ./res/js/AdminWorkspaces/editor/DataSourceLocalSelector.js ***!
  \******************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ DataSourceLocalSelector)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var pydio__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! pydio */ \"pydio\");\n/* harmony import */ var pydio__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(pydio__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var pydio_http_api__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! pydio/http/api */ \"pydio/http/api\");\n/* harmony import */ var pydio_http_api__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(pydio_http_api__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var cells_sdk__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! cells-sdk */ \"cells-sdk\");\n/* harmony import */ var cells_sdk__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(cells_sdk__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var material_ui__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! material-ui */ \"material-ui\");\n/* harmony import */ var material_ui__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(material_ui__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var lodash_debounce__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! lodash.debounce */ \"lodash.debounce\");\n/* harmony import */ var lodash_debounce__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(lodash_debounce__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var pydio_util_lang__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! pydio/util/lang */ \"pydio/util/lang\");\n/* harmony import */ var pydio_util_lang__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(pydio_util_lang__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var pydio_util_path__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! pydio/util/path */ \"pydio/util/path\");\n/* harmony import */ var pydio_util_path__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(pydio_util_path__WEBPACK_IMPORTED_MODULE_7__);\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\nfunction _iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter); }\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _toPropertyKey(arg) { var key = _toPrimitive(arg, \"string\"); return _typeof(key) === \"symbol\" ? key : String(key); }\nfunction _toPrimitive(input, hint) { if (_typeof(input) !== \"object\" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || \"default\"); if (_typeof(res) !== \"object\") return res; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (hint === \"string\" ? String : Number)(input); }\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n/*\n * Copyright 2007-2019 Charles du Jeu - Abstrium SAS <team (at) pyd.io>\n * This file is part of Pydio.\n *\n * Pydio is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * Pydio is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with Pydio.  If not, see <http://www.gnu.org/licenses/>.\n *\n * The latest code can be found at <https://pydio.com>.\n */\n\n\n\n\n\n\n\n\n\nvar _Pydio$requireLib = pydio__WEBPACK_IMPORTED_MODULE_1___default().requireLib('hoc'),\n  ModernTextField = _Pydio$requireLib.ModernTextField,\n  ModernSelectField = _Pydio$requireLib.ModernSelectField,\n  ModernStyles = _Pydio$requireLib.ModernStyles,\n  ModernAutoComplete = _Pydio$requireLib.ModernAutoComplete;\nvar AutocompleteTree = /*#__PURE__*/function (_React$Component) {\n  _inherits(AutocompleteTree, _React$Component);\n  var _super = _createSuper(AutocompleteTree);\n  function AutocompleteTree(props) {\n    var _this;\n    _classCallCheck(this, AutocompleteTree);\n    _this = _super.call(this, props);\n    _this.debounced = lodash_debounce__WEBPACK_IMPORTED_MODULE_5___default()(_this.loadValues.bind(_assertThisInitialized(_this)), 300);\n    _this.state = {\n      searchText: props.value,\n      value: props.value\n    };\n    return _this;\n  }\n  _createClass(AutocompleteTree, [{\n    key: \"handleUpdateInput\",\n    value: function handleUpdateInput(searchText) {\n      this.debounced();\n      this.setState({\n        searchText: searchText\n      });\n    }\n  }, {\n    key: \"handleNewRequest\",\n    value: function handleNewRequest(chosenValue) {\n      var key;\n      var nodes = this.state.nodes;\n      var exist = false;\n      if (chosenValue.key === undefined) {\n        key = '/' + pydio_util_lang__WEBPACK_IMPORTED_MODULE_6___default().trim(chosenValue, '/');\n        var ok = false;\n        nodes.map(function (node) {\n          //const test = node.Path + '/';\n          if (node.Path === key || node.Path.indexOf(key + '/') === 0) {\n            ok = true;\n          }\n        });\n        if (ok) {\n          exist = true;\n        }\n      } else {\n        key = chosenValue.key;\n        exist = true;\n      }\n      this.setState({\n        value: key,\n        exist: exist\n      });\n      this.props.onChange(key, exist);\n      this.loadValues(key);\n    }\n  }, {\n    key: \"componentWillMount\",\n    value: function componentWillMount() {\n      this.lastSearch = null;\n      var value = \"\";\n      if (this.props.value) {\n        value = this.props.value;\n      }\n      this.loadValues(value);\n    }\n  }, {\n    key: \"componentWillReceiveProps\",\n    value: function componentWillReceiveProps(newProps) {\n      if (newProps.value && newProps.value !== this.state.value) {\n        this.setState({\n          value: newProps.value,\n          exist: true\n        });\n      }\n    }\n  }, {\n    key: \"loadValues\",\n    value: function loadValues() {\n      var _this2 = this;\n      var value = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : \"\";\n      var peerAddress = this.props.peerAddress;\n      var searchText = this.state.searchText;\n      var basePath = value;\n      if (!value && searchText) {\n        var last = searchText.lastIndexOf('/');\n        basePath = searchText.substr(0, last);\n      }\n      if (this.lastSearch !== null && this.lastSearch === basePath) {\n        return Promise.resolve();\n      }\n      this.lastSearch = basePath;\n      var api = new cells_sdk__WEBPACK_IMPORTED_MODULE_3__.ConfigServiceApi(pydio_http_api__WEBPACK_IMPORTED_MODULE_2___default().getRestClient());\n      var listRequest = new cells_sdk__WEBPACK_IMPORTED_MODULE_3__.RestListPeerFoldersRequest();\n      listRequest.PeerAddress = peerAddress === 'ANY' ? '' : peerAddress;\n      listRequest.Path = basePath;\n      this.setState({\n        loading: true\n      });\n      return api.listPeerFolders(peerAddress, listRequest).then(function (nodesColl) {\n        var children = nodesColl.Children || [];\n        children = children.map(function (c) {\n          if (c.Path[0] !== '/') {\n            c.Path = '/' + c.Path;\n          }\n          return c;\n        });\n        _this2.setState({\n          nodes: children,\n          loading: false\n        });\n      })[\"catch\"](function () {\n        _this2.setState({\n          loading: false\n        });\n      });\n    }\n  }, {\n    key: \"createFolder\",\n    value: function createFolder(newName) {\n      var _this3 = this;\n      var _this$props = this.props,\n        peerAddress = _this$props.peerAddress,\n        pydio = _this$props.pydio;\n      var value = this.state.value;\n      var api = new cells_sdk__WEBPACK_IMPORTED_MODULE_3__.ConfigServiceApi(pydio_http_api__WEBPACK_IMPORTED_MODULE_2___default().getRestClient());\n      var createRequest = new cells_sdk__WEBPACK_IMPORTED_MODULE_3__.RestCreatePeerFolderRequest();\n      createRequest.PeerAddress = peerAddress === 'ANY' ? '' : peerAddress;\n      createRequest.Path = value + '/' + newName;\n      api.createPeerFolder(peerAddress, createRequest).then(function (result) {\n        _this3.lastSearch = null; // Force reload\n        _this3.loadValues(value).then(function () {\n          // Select path after reload\n          _this3.handleNewRequest({\n            key: createRequest.Path\n          });\n          _this3.setState({\n            searchText: createRequest.Path\n          });\n        });\n      })[\"catch\"](function (e) {\n        pydio.UI.displayMessage('ERROR', e.message);\n      });\n    }\n  }, {\n    key: \"renderNode\",\n    value: function renderNode(node) {\n      var base = pydio_util_path__WEBPACK_IMPORTED_MODULE_7___default().getBasename(node.Path);\n      var dir = pydio_util_path__WEBPACK_IMPORTED_MODULE_7___default().getDirname(node.Path);\n      var label = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"span\", null, node.Path);\n      var invalid = false;\n      if (pydio_util_lang__WEBPACK_IMPORTED_MODULE_6___default().computeStringSlug(base) !== base) {\n        label = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"span\", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"span\", null, dir), \"/\", /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"span\", {\n          style: {\n            color: '#c62828'\n          }\n        }, base));\n      } else if (node.MetaStore && node.MetaStore['symlink']) {\n        // Symbolic link\n        label = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"span\", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"span\", null, dir), \"/\", /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"span\", {\n          style: {\n            color: '#1976d2'\n          }\n        }, base));\n      }\n      return {\n        key: node.Path,\n        text: node.Path,\n        invalid: invalid,\n        value: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(material_ui__WEBPACK_IMPORTED_MODULE_4__.MenuItem, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(material_ui__WEBPACK_IMPORTED_MODULE_4__.FontIcon, {\n          className: \"mdi mdi-folder\",\n          color: \"#616161\",\n          style: {\n            \"float\": 'left',\n            marginRight: 8\n          }\n        }), \" \", label)\n      };\n    }\n  }, {\n    key: \"showCreateDialog\",\n    value: function showCreateDialog() {\n      var _this4 = this;\n      var pydio = this.props.pydio;\n      var value = this.state.value;\n      var m = function m(id) {\n        return pydio.MessageHash['ajxp_admin.ds.editor.selector.' + id] || id;\n      };\n      pydio.UI.openComponentInModal('PydioReactUI', 'PromptDialog', {\n        dialogTitle: m('mkdir'),\n        legendId: m('mkdir.legend').replace('%s', value),\n        fieldLabelId: m('mkdir.field'),\n        submitValue: function submitValue(v) {\n          if (!v) {\n            return;\n          }\n          _this4.createFolder(v);\n        }\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this5 = this;\n      var _this$state = this.state,\n        nodes = _this$state.nodes,\n        loading = _this$state.loading,\n        exist = _this$state.exist,\n        value = _this$state.value,\n        searchText = _this$state.searchText;\n      var _this$props2 = this.props,\n        fieldLabel = _this$props2.fieldLabel,\n        pydio = _this$props2.pydio;\n      var dataSource = [];\n      if (nodes) {\n        nodes.forEach(function (node) {\n          dataSource.push(_this5.renderNode(node));\n        });\n      }\n      var displayText = searchText || value;\n      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", {\n        style: {\n          position: 'relative',\n          marginTop: -5\n        }\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", {\n        style: {\n          position: 'absolute',\n          right: 6,\n          top: 29,\n          width: 30,\n          zIndex: 1\n        }\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(material_ui__WEBPACK_IMPORTED_MODULE_4__.RefreshIndicator, {\n        size: 25,\n        left: 0,\n        top: 0,\n        status: loading ? \"loading\" : \"hide\"\n      })), value && exist && !loading && (!searchText || searchText === value) && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", {\n        style: {\n          position: 'absolute',\n          right: 0,\n          zIndex: 1,\n          top: 18\n        }\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(material_ui__WEBPACK_IMPORTED_MODULE_4__.IconButton, {\n        iconClassName: \"mdi mdi-folder-plus\",\n        iconStyle: {\n          color: '#9e9e9e'\n        },\n        onClick: function onClick() {\n          return _this5.showCreateDialog();\n        },\n        tooltip: pydio.MessageHash['ajxp_admin.ds.editor.selector.mkdir'],\n        tooltipPosition: \"top-center\"\n      })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(ModernAutoComplete, {\n        fullWidth: true,\n        searchText: displayText,\n        onUpdateInput: this.handleUpdateInput.bind(this),\n        onNewRequest: this.handleNewRequest.bind(this),\n        dataSource: dataSource,\n        hintText: fieldLabel,\n        filter: function filter(searchText, key) {\n          return key.toLowerCase().indexOf(searchText.toLowerCase()) === 0;\n        },\n        openOnFocus: true,\n        menuProps: {\n          maxHeight: 200\n        }\n      }));\n    }\n  }]);\n  return AutocompleteTree;\n}((react__WEBPACK_IMPORTED_MODULE_0___default().Component));\nvar DataSourceLocalSelector = /*#__PURE__*/function (_React$Component2) {\n  _inherits(DataSourceLocalSelector, _React$Component2);\n  var _super2 = _createSuper(DataSourceLocalSelector);\n  function DataSourceLocalSelector(props) {\n    var _this6;\n    _classCallCheck(this, DataSourceLocalSelector);\n    _this6 = _super2.call(this, props);\n    _this6.state = {\n      peerAddresses: [],\n      invalid: false,\n      m: function m(id) {\n        return props.pydio.MessageHash['ajxp_admin.ds.editor.' + id] || id;\n      }\n    };\n    return _this6;\n  }\n  _createClass(DataSourceLocalSelector, [{\n    key: \"compareAddresses\",\n    value: function compareAddresses(a1, a2) {\n      var p1 = a1.split(\"|\");\n      var p2 = a2.split(\"|\");\n      return p2.filter(function (p) {\n        return p1.indexOf(p) > -1;\n      }).length || p1.filter(function (p) {\n        return p2.indexOf(p) > -1;\n      }).length;\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this7 = this;\n      var model = this.props.model;\n      var api = new cells_sdk__WEBPACK_IMPORTED_MODULE_3__.ConfigServiceApi(pydio_http_api__WEBPACK_IMPORTED_MODULE_2___default().getRestClient());\n      api.listPeersAddresses().then(function (res) {\n        var aa = res.PeerAddresses || [];\n        if (aa === 1 && !model.PeerAddress) {\n          model.PeerAddress = aa[0];\n        }\n        _this7.setState({\n          peerAddresses: aa\n        });\n        if (model.PeerAddress && aa.indexOf(model.PeerAddress) === -1) {\n          var rep = aa.filter(function (a) {\n            return _this7.compareAddresses(a, model.PeerAddress);\n          });\n          if (rep.length) {\n            // If model address is contained in one of the res, replace it\n            model.PeerAddress = rep[0];\n          } else {\n            // Otherwise show it as invalid\n            _this7.setState({\n              invalidAddress: model.PeerAddress\n            });\n          }\n        }\n      });\n    }\n  }, {\n    key: \"baseIsInvalid\",\n    value: function baseIsInvalid(path) {\n      var m = this.state.m;\n      var invalid = false;\n      var base = pydio_util_path__WEBPACK_IMPORTED_MODULE_7___default().getBasename(path);\n      var segments = pydio_util_lang__WEBPACK_IMPORTED_MODULE_6___default().trim(path, '/').split('/').length;\n      if (segments < 2) {\n        invalid = m('selector.error.depth');\n      } else if (pydio_util_lang__WEBPACK_IMPORTED_MODULE_6___default().computeStringSlug(base) !== base) {\n        invalid = m('selector.error.dnsname');\n      }\n      return invalid;\n    }\n  }, {\n    key: \"onPathChange\",\n    value: function onPathChange(newValue, exists) {\n      var model = this.props.model;\n      var invalid = this.baseIsInvalid(newValue);\n      model.invalid = invalid;\n      model.StorageConfiguration.folder = newValue;\n      if (!exists) {\n        model.StorageConfiguration.create = 'true';\n      } else if (model.StorageConfiguration['create'] !== undefined) {\n        delete model.StorageConfiguration['create'];\n      }\n      this.setState({\n        invalid: invalid\n      });\n    }\n  }, {\n    key: \"onPeerChange\",\n    value: function onPeerChange(newValue) {\n      var model = this.props.model;\n      var invalidAddress = this.state.invalidAddress;\n      if (newValue === invalidAddress) {\n        return;\n      }\n      model.PeerAddress = newValue;\n      if (invalidAddress) {\n        // Now remove from choices\n        this.setState({\n          invalidAddress: null\n        });\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this8 = this;\n      var _this$props3 = this.props,\n        model = _this$props3.model,\n        pydio = _this$props3.pydio,\n        styles = _this$props3.styles;\n      var _this$state2 = this.state,\n        peerAddresses = _this$state2.peerAddresses,\n        invalidAddress = _this$state2.invalidAddress,\n        invalid = _this$state2.invalid,\n        m = _this$state2.m;\n      var pAds = _toConsumableArray(peerAddresses);\n      pAds = [\"ANY\"].concat(_toConsumableArray(pAds));\n      if (invalidAddress && invalidAddress !== 'ANY') {\n        pAds = [invalidAddress].concat(_toConsumableArray(pAds));\n      }\n      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", {\n        style: {\n          paddingBottom: 8\n        }\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", {\n        style: styles.subLegend\n      }, m('storage.legend.fs.peer')), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(ModernSelectField, {\n        value: model.PeerAddress || '',\n        variant: 'v2',\n        hintText: m('selector.peer') + ' *',\n        onChange: function onChange(e, i, v) {\n          return _this8.onPeerChange(v);\n        },\n        fullWidth: true\n      }, pAds.map(function (address) {\n        var label = m('selector.peer.any');\n        if (address !== 'ANY') {\n          label = m('selector.peer.word') + ' : ' + address.replace('|', ' | ') + (address === invalidAddress ? ' (' + m('selector.peer.invalid') + ')' : '');\n        }\n        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(material_ui__WEBPACK_IMPORTED_MODULE_4__.MenuItem, {\n          value: address,\n          primaryText: label\n        });\n      }))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", {\n        style: _objectSpread(_objectSpread({}, styles.subLegend), {}, {\n          paddingBottom: 6\n        })\n      }, m('storage.legend.fs.path')), model.PeerAddress && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(AutocompleteTree, {\n        pydio: pydio,\n        value: model.StorageConfiguration.folder,\n        peerAddress: model.PeerAddress,\n        onChange: this.onPathChange.bind(this),\n        fieldLabel: m('selector.completer') + (model.StorageConfiguration.create ? ' (' + m('selector.completer.create') + ')' : '') + ' *',\n        hintText: m('selector.completer.hint')\n      }), !model.PeerAddress && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(ModernTextField, {\n        style: {\n          marginTop: -3\n        },\n        fullWidth: true,\n        variant: 'v2',\n        disabled: true,\n        value: model.StorageConfiguration.folder,\n        floatingLabelText: m('selector.folder') + ' *',\n        hintText: m('selector.folder.hint')\n      })), invalid && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", {\n        style: {\n          color: '#c62828'\n        }\n      }, invalid));\n    }\n  }]);\n  return DataSourceLocalSelector;\n}((react__WEBPACK_IMPORTED_MODULE_0___default().Component));\n\n\n//# sourceURL=webpack://access.settings/./res/js/AdminWorkspaces/editor/DataSourceLocalSelector.js?");

/***/ }),

/***/ "./res/js/AdminWorkspaces/editor/DsStorageSelector.js":
/*!************************************************************!*\
  !*** ./res/js/AdminWorkspaces/editor/DsStorageSelector.js ***!
  \************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ DsStorageSelector)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var pydio_util_dom__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! pydio/util/dom */ \"pydio/util/dom\");\n/* harmony import */ var pydio_util_dom__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(pydio_util_dom__WEBPACK_IMPORTED_MODULE_1__);\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _toPropertyKey(arg) { var key = _toPrimitive(arg, \"string\"); return _typeof(key) === \"symbol\" ? key : String(key); }\nfunction _toPrimitive(input, hint) { if (_typeof(input) !== \"object\" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || \"default\"); if (_typeof(res) !== \"object\") return res; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (hint === \"string\" ? String : Number)(input); }\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n/*\n * Copyright 2007-2021 Charles du Jeu - Abstrium SAS <team (at) pyd.io>\n * This file is part of Pydio.\n *\n * Pydio is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * Pydio is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with Pydio.  If not, see <http://www.gnu.org/licenses/>.\n *\n * The latest code can be found at <https://pydio.com>.\n */\n\n\n\nvar DsStorageType = /*#__PURE__*/function (_React$Component) {\n  _inherits(DsStorageType, _React$Component);\n  var _super = _createSuper(DsStorageType);\n  function DsStorageType() {\n    _classCallCheck(this, DsStorageType);\n    return _super.apply(this, arguments);\n  }\n  _createClass(DsStorageType, [{\n    key: \"render\",\n    value: function render() {\n      var _this$props = this.props,\n        onSelect = _this$props.onSelect,\n        selected = _this$props.selected,\n        value = _this$props.value,\n        primaryText = _this$props.primaryText,\n        image = _this$props.image;\n      var styles = {\n        cont: {\n          display: 'flex',\n          flexDirection: 'column',\n          alignItems: 'center',\n          cursor: 'pointer',\n          padding: '10px 10px 0 10px',\n          backgroundColor: 'transparent',\n          borderBottom: '2px solid transparent',\n          transition: pydio_util_dom__WEBPACK_IMPORTED_MODULE_1___default().getBeziersTransition()\n        },\n        image: {\n          width: 30,\n          height: 30,\n          opacity: .3,\n          transition: pydio_util_dom__WEBPACK_IMPORTED_MODULE_1___default().getBeziersTransition()\n        },\n        label: {\n          margin: 5,\n          marginTop: 8,\n          /*textTransform: 'uppercase',*/\n          fontSize: 11,\n          fontWeight: 500,\n          color: 'rgba(0,0,0,.3)',\n          textAlign: 'center',\n          transition: pydio_util_dom__WEBPACK_IMPORTED_MODULE_1___default().getBeziersTransition()\n        }\n      };\n      if (selected) {\n        styles.cont.borderBottom = '2px solid #0e4d6d';\n        //styles.cont.backgroundColor = '#fff';\n        styles.image.opacity = 1;\n        styles.label.color = '#0e4d6d';\n      }\n      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", {\n        zDepth: 0,\n        style: styles.cont,\n        onClick: function onClick(e) {\n          onSelect(value);\n        },\n        rounded: false\n      }, image && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"img\", {\n        style: styles.image,\n        src: \"/plug/access.settings/res/images/\" + image\n      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", {\n        style: styles.label\n      }, primaryText));\n    }\n  }]);\n  return DsStorageType;\n}((react__WEBPACK_IMPORTED_MODULE_0___default().Component));\nvar DsStorageSelector = /*#__PURE__*/function (_React$Component2) {\n  _inherits(DsStorageSelector, _React$Component2);\n  var _super2 = _createSuper(DsStorageSelector);\n  function DsStorageSelector(props) {\n    _classCallCheck(this, DsStorageSelector);\n    return _super2.call(this, props);\n  }\n  _createClass(DsStorageSelector, [{\n    key: \"onChange\",\n    value: function onChange(newValue) {\n      var _this$props2 = this.props,\n        values = _this$props2.values,\n        onChange = _this$props2.onChange;\n      var i = Object.keys(values).indexOf(newValue);\n      onChange(null, i, newValue);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this = this;\n      var _this$props3 = this.props,\n        values = _this$props3.values,\n        value = _this$props3.value,\n        disabled = _this$props3.disabled;\n      var style = {\n        display: 'flex',\n        padding: '0 1px',\n        backgroundColor: 'rgb(251, 251, 252)'\n      };\n      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", {\n        style: style\n      }, Object.keys(values).map(function (k) {\n        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(DsStorageType, {\n          value: k,\n          selected: k === value,\n          onSelect: disabled ? function () {} : _this.onChange.bind(_this),\n          primaryText: values[k].primaryText,\n          image: values[k].image\n        });\n      }));\n    }\n  }]);\n  return DsStorageSelector;\n}((react__WEBPACK_IMPORTED_MODULE_0___default().Component));\n\n\n//# sourceURL=webpack://access.settings/./res/js/AdminWorkspaces/editor/DsStorageSelector.js?");

/***/ }),

/***/ "./res/js/AdminWorkspaces/editor/MetaNamespace.js":
/*!********************************************************!*\
  !*** ./res/js/AdminWorkspaces/editor/MetaNamespace.js ***!
  \********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! prop-types */ \"prop-types\");\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var pydio__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! pydio */ \"pydio\");\n/* harmony import */ var pydio__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(pydio__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var material_ui__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! material-ui */ \"material-ui\");\n/* harmony import */ var material_ui__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(material_ui__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var cells_sdk__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! cells-sdk */ \"cells-sdk\");\n/* harmony import */ var cells_sdk__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(cells_sdk__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _model_Metadata__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../model/Metadata */ \"./res/js/AdminWorkspaces/model/Metadata.js\");\n/* harmony import */ var pydio_http_api__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! pydio/http/api */ \"pydio/http/api\");\n/* harmony import */ var pydio_http_api__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(pydio_http_api__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var pydio_util_func__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! pydio/util/func */ \"pydio/util/func\");\n/* harmony import */ var pydio_util_func__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(pydio_util_func__WEBPACK_IMPORTED_MODULE_7__);\n/* harmony import */ var pydio_http_resources_manager__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! pydio/http/resources-manager */ \"pydio/http/resources-manager\");\n/* harmony import */ var pydio_http_resources_manager__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(pydio_http_resources_manager__WEBPACK_IMPORTED_MODULE_8__);\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; }\nfunction _iterableToArrayLimit(arr, i) { var _i = null == arr ? null : \"undefined\" != typeof Symbol && arr[Symbol.iterator] || arr[\"@@iterator\"]; if (null != _i) { var _s, _e, _x, _r, _arr = [], _n = !0, _d = !1; try { if (_x = (_i = _i.call(arr)).next, 0 === i) { if (Object(_i) !== _i) return; _n = !1; } else for (; !(_n = (_s = _x.call(_i)).done) && (_arr.push(_s.value), _arr.length !== i); _n = !0); } catch (err) { _d = !0, _e = err; } finally { try { if (!_n && null != _i[\"return\"] && (_r = _i[\"return\"](), Object(_r) !== _r)) return; } finally { if (_d) throw _e; } } return _arr; } }\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _toPropertyKey(arg) { var key = _toPrimitive(arg, \"string\"); return _typeof(key) === \"symbol\" ? key : String(key); }\nfunction _toPrimitive(input, hint) { if (_typeof(input) !== \"object\" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || \"default\"); if (_typeof(res) !== \"object\") return res; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (hint === \"string\" ? String : Number)(input); }\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n/*\n * Copyright 2007-2019 Charles du Jeu - Abstrium SAS <team (at) pyd.io>\n * This file is part of Pydio.\n *\n * Pydio is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * Pydio is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with Pydio.  If not, see <http://www.gnu.org/licenses/>.\n *\n * The latest code can be found at <https://pydio.com>.\n */\n\n\n\n\n\n\n\n\nvar _Pydio$requireLib = pydio__WEBPACK_IMPORTED_MODULE_2___default().requireLib('hoc'),\n  ModernTextField = _Pydio$requireLib.ModernTextField,\n  ModernStyles = _Pydio$requireLib.ModernStyles;\n\n\nfunction loadEditorClass() {\n  var className = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n  var defaultComponent = arguments.length > 1 ? arguments[1] : undefined;\n  if (!className) {\n    return Promise.resolve(defaultComponent);\n  }\n  var parts = className.split(\".\");\n  var ns = parts.shift();\n  var rest = parts.join('.');\n  return pydio_http_resources_manager__WEBPACK_IMPORTED_MODULE_8___default().loadClass(ns).then(function (c) {\n    var comp = pydio_util_func__WEBPACK_IMPORTED_MODULE_7___default().getFunctionByName(rest, c);\n    if (!comp) {\n      if (_typeof(c) === 'object' && c[ns]) {\n        var c2 = pydio_util_func__WEBPACK_IMPORTED_MODULE_7___default().getFunctionByName(rest, c[ns]);\n        if (c2) {\n          return c2;\n        }\n      }\n      if (defaultComponent) {\n        console.error('Cannot find editor component, using default instead', className, defaultComponent);\n        return defaultComponent;\n      } else {\n        throw new Error(\"cannot find editor component\");\n      }\n    }\n    return comp;\n  })[\"catch\"](function (e) {\n    if (defaultComponent) {\n      console.error('Cannot find editor component, using default instead', className, defaultComponent);\n      return defaultComponent;\n    } else {\n      throw e;\n    }\n  });\n}\nvar MetaPoliciesBuilder = /*#__PURE__*/function (_React$Component) {\n  _inherits(MetaPoliciesBuilder, _React$Component);\n  var _super = _createSuper(MetaPoliciesBuilder);\n  function MetaPoliciesBuilder(props) {\n    _classCallCheck(this, MetaPoliciesBuilder);\n    return _super.call(this, props);\n  }\n  _createClass(MetaPoliciesBuilder, [{\n    key: \"togglePolicies\",\n    value: function togglePolicies(right, value) {\n      var _this$props = this.props,\n        _this$props$policies = _this$props.policies,\n        policies = _this$props$policies === void 0 ? [] : _this$props$policies,\n        onChangePolicies = _this$props.onChangePolicies;\n      var newPols = policies.filter(function (p) {\n        return p.Action !== right;\n      });\n      newPols.push(cells_sdk__WEBPACK_IMPORTED_MODULE_4__.ServiceResourcePolicy.constructFromObject({\n        Action: right,\n        Effect: 'allow',\n        Subject: value ? 'profile:admin' : '*'\n      }));\n      if (right === 'READ' && value) {\n        // if read - set write as well\n        newPols = newPols.filter(function (p) {\n          return p.Action !== 'WRITE';\n        });\n        newPols.push(cells_sdk__WEBPACK_IMPORTED_MODULE_4__.ServiceResourcePolicy.constructFromObject({\n          Action: 'WRITE',\n          Effect: 'allow',\n          Subject: 'profile:admin'\n        }));\n      }\n      onChangePolicies(newPols);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this = this;\n      var _this$props2 = this.props,\n        readonly = _this$props2.readonly,\n        policies = _this$props2.policies,\n        pydio = _this$props2.pydio;\n      var m = function m(id) {\n        return pydio.MessageHash['ajxp_admin.metadata.' + id] || id;\n      };\n      var adminRead, adminWrite;\n      if (policies) {\n        policies.map(function (p) {\n          if (p.Subject === 'profile:admin' && p.Action === 'READ') {\n            adminRead = true;\n          }\n          if (p.Subject === 'profile:admin' && p.Action === 'WRITE') {\n            adminWrite = true;\n          }\n        });\n      }\n      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(material_ui__WEBPACK_IMPORTED_MODULE_3__.Toggle, _extends({\n        label: m('toggle.read'),\n        disabled: readonly,\n        labelPosition: \"left\",\n        toggled: adminRead,\n        onToggle: function onToggle(e, v) {\n          _this.togglePolicies('READ', v);\n        }\n      }, ModernStyles.toggleFieldV2))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(material_ui__WEBPACK_IMPORTED_MODULE_3__.Toggle, _extends({\n        label: m('toggle.write'),\n        labelPosition: \"left\",\n        disabled: adminRead || readonly,\n        toggled: adminWrite,\n        onToggle: function onToggle(e, v) {\n          _this.togglePolicies('WRITE', v);\n        }\n      }, ModernStyles.toggleFieldV2))));\n    }\n  }]);\n  return MetaPoliciesBuilder;\n}((react__WEBPACK_IMPORTED_MODULE_0___default().Component));\nvar MetaNamespace = /*#__PURE__*/function (_React$Component2) {\n  _inherits(MetaNamespace, _React$Component2);\n  var _super2 = _createSuper(MetaNamespace);\n  function MetaNamespace(props) {\n    var _this2;\n    _classCallCheck(this, MetaNamespace);\n    _this2 = _super2.call(this, props);\n    _this2.state = {\n      namespace: _this2.cloneNs(props.namespace),\n      m: function m(id) {\n        return props.pydio.MessageHash['ajxp_admin.metadata.' + id] || id;\n      },\n      selectorNewKey: '',\n      selectorNewValue: '',\n      PoliciesBuilder: MetaPoliciesBuilder\n    };\n    pydio_http_resources_manager__WEBPACK_IMPORTED_MODULE_8___default().loadClass('ReactMeta').then(function (c) {\n      _this2.setState({\n        metaModule: c\n      });\n      var policiesBuilder = _this2.props.policiesBuilder;\n      if (policiesBuilder) {\n        loadEditorClass(policiesBuilder, MetaPoliciesBuilder).then(function (c) {\n          return _this2.setState({\n            PoliciesBuilder: c\n          });\n        });\n      }\n    });\n    return _this2;\n  }\n  _createClass(MetaNamespace, [{\n    key: \"cloneNs\",\n    value: function cloneNs(ns) {\n      return cells_sdk__WEBPACK_IMPORTED_MODULE_4__.IdmUserMetaNamespace.constructFromObject(JSON.parse(JSON.stringify(ns)));\n    }\n  }, {\n    key: \"componentWillReceiveProps\",\n    value: function componentWillReceiveProps(props) {\n      if (props.open === this.props.open) {\n        return;\n      }\n      var create = props.create,\n        namespaces = props.namespaces;\n      var newNS = this.cloneNs(props.namespace);\n      if (create && namespaces.length) {\n        newNS.Order = namespaces.map(function (ns) {\n          return ns.Order || 0;\n        }).reduce(function (a, c) {\n          return Math.max(a, c);\n        }, 0) + 1;\n      }\n      this.setState({\n        namespace: newNS\n      });\n    }\n  }, {\n    key: \"save\",\n    value: function save() {\n      var _this3 = this;\n      var namespace = this.state.namespace;\n      _model_Metadata__WEBPACK_IMPORTED_MODULE_5__[\"default\"].putNS(namespace).then(function () {\n        _this3.props.onRequestClose();\n        _this3.props.reloadList();\n      });\n    }\n  }, {\n    key: \"getHideValue\",\n    value: function getHideValue() {\n      var namespace = this.state.namespace;\n      try {\n        return JSON.parse(namespace.JsonDefinition).hide;\n      } catch (e) {\n        return false;\n      }\n    }\n  }, {\n    key: \"setHideValue\",\n    value: function setHideValue(v) {\n      var namespace = this.state.namespace;\n      var def = JSON.parse(namespace.JsonDefinition);\n      namespace.JsonDefinition = JSON.stringify(_objectSpread(_objectSpread({}, def), {}, {\n        hide: v\n      }));\n      this.setState({\n        namespace: namespace\n      });\n    }\n  }, {\n    key: \"getAdditionalData\",\n    value: function getAdditionalData() {\n      var defaultValue = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      var namespace = this.state.namespace;\n      try {\n        var add = JSON.parse(namespace.JsonDefinition).data || defaultValue;\n        if (defaultValue.items && add.split) {\n          // Convert to new format\n          var items = add.split(',').map(function (i) {\n            var _i$split = i.split('|'),\n              _i$split2 = _slicedToArray(_i$split, 2),\n              key = _i$split2[0],\n              value = _i$split2[1];\n            return {\n              key: key,\n              value: value\n            };\n          });\n          return {\n            items: items\n          };\n        }\n        return add;\n      } catch (e) {}\n      return defaultValue;\n    }\n\n    // Append data key\n  }, {\n    key: \"setAdditionalDataKey\",\n    value: function setAdditionalDataKey(key, value) {\n      var namespace = this.state.namespace;\n      var def = JSON.parse(namespace.JsonDefinition);\n      var add = _defineProperty({}, key, value);\n      def.data = _objectSpread(_objectSpread({}, def.data), add);\n      namespace.JsonDefinition = JSON.stringify(def);\n      this.setState({\n        namespace: namespace\n      });\n    }\n  }, {\n    key: \"togglePolicies\",\n    value: function togglePolicies(right, value) {\n      var _this4 = this;\n      var namespace = this.state.namespace;\n      var pol = namespace.Policies || [];\n      var newPols = pol.filter(function (p) {\n        return p.Action !== right;\n      });\n      newPols.push(cells_sdk__WEBPACK_IMPORTED_MODULE_4__.ServiceResourcePolicy.constructFromObject({\n        Action: right,\n        Effect: 'allow',\n        Subject: value ? 'profile:admin' : '*'\n      }));\n      namespace.Policies = newPols;\n      this.setState({\n        namespace: namespace\n      }, function () {\n        if (right === 'READ' && value) {\n          _this4.togglePolicies('WRITE', true);\n        }\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this5 = this;\n      var _this$props3 = this.props,\n        create = _this$props3.create,\n        namespaces = _this$props3.namespaces,\n        pydio = _this$props3.pydio,\n        readonly = _this$props3.readonly;\n      var _this$state = this.state,\n        namespace = _this$state.namespace,\n        m = _this$state.m,\n        PoliciesBuilder = _this$state.PoliciesBuilder,\n        metaModule = _this$state.metaModule;\n      if (!metaModule) {\n        return null;\n      }\n      var TypeEditor = metaModule.TypeEditor;\n      var title;\n      if (namespace.Label) {\n        title = namespace.Label;\n      } else {\n        title = m('editor.title.create');\n      }\n      var type = 'string';\n      if (namespace.JsonDefinition) {\n        type = JSON.parse(namespace.JsonDefinition).type;\n      }\n      var invalid = false,\n        nameError,\n        labelError;\n      if (!namespace.Label) {\n        invalid = true;\n        labelError = m('editor.label.error');\n      } else if (!namespace.Namespace || namespace.Namespace === 'usermeta-') {\n        invalid = true;\n        nameError = m('editor.ns.error');\n      }\n      if (create && namespaces.filter(function (n) {\n        return n.Namespace === namespace.Namespace;\n      }).length) {\n        invalid = true;\n        nameError = m('editor.ns.exists');\n      }\n      if (type === 'choice') {\n        var choiceItems = this.getAdditionalData({\n          items: []\n        }).items;\n        if (!choiceItems || !choiceItems.length) {\n          invalid = true;\n        }\n      }\n      var adminRead, adminWrite;\n      if (namespace.Policies) {\n        namespace.Policies.map(function (p) {\n          if (p.Subject === 'profile:admin' && p.Action === 'READ') {\n            adminRead = true;\n          }\n          if (p.Subject === 'profile:admin' && p.Action === 'WRITE') {\n            adminWrite = true;\n          }\n        });\n      }\n      var actions = [/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(material_ui__WEBPACK_IMPORTED_MODULE_3__.FlatButton, {\n        primary: true,\n        label: pydio.MessageHash['54'],\n        onClick: this.props.onRequestClose\n      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(material_ui__WEBPACK_IMPORTED_MODULE_3__.FlatButton, {\n        primary: true,\n        disabled: invalid || readonly,\n        label: pydio.MessageHash['53'],\n        onClick: function onClick() {\n          _this5.save();\n        }\n      })];\n      if (type === 'tags' && !readonly) {\n        actions.unshift( /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(material_ui__WEBPACK_IMPORTED_MODULE_3__.FlatButton, {\n          primary: false,\n          label: m('editor.tags.reset'),\n          onClick: function onClick() {\n            var api = new cells_sdk__WEBPACK_IMPORTED_MODULE_4__.UserMetaServiceApi(pydio_http_api__WEBPACK_IMPORTED_MODULE_6___default().getRestClient());\n            api.deleteUserMetaTags(namespace.Namespace, \"*\").then(function () {\n              pydio.UI.displayMessage('SUCCESS', m('editor.tags.cleared').replace('%s', namespace.Namespace));\n            })[\"catch\"](function (e) {\n              pydio.UI.displayMessage('ERROR', e.message);\n            });\n          }\n        }));\n      }\n      var styles = {\n        section: {\n          marginTop: 10,\n          fontWeight: 500,\n          fontSize: 12\n        }\n      };\n      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(material_ui__WEBPACK_IMPORTED_MODULE_3__.Dialog, {\n        title: title,\n        actions: actions,\n        modal: false,\n        contentStyle: {\n          width: 520\n        },\n        open: this.props.open,\n        onRequestClose: this.props.onRequestClose,\n        autoScrollBodyContent: true,\n        bodyStyle: {\n          padding: 20\n        }\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(TypeEditor, {\n        m: m,\n        pydio: pydio,\n        namespace: namespace,\n        forcePrefix: 'usermeta-',\n        onChange: function onChange(ns) {\n          return _this5.setState({\n            namespace: ns\n          });\n        },\n        readonly: readonly,\n        create: create,\n        labelError: labelError,\n        nameError: nameError,\n        styles: styles\n      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", {\n        style: styles.section\n      }, pydio__WEBPACK_IMPORTED_MODULE_2___default().getInstance().MessageHash[310]), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(material_ui__WEBPACK_IMPORTED_MODULE_3__.Toggle, _extends({\n        label: m('toggle.list-visibility'),\n        disabled: readonly,\n        labelPosition: \"left\",\n        toggled: !this.getHideValue(),\n        onToggle: function onToggle(e, v) {\n          _this5.setHideValue(!v);\n        }\n      }, ModernStyles.toggleFieldV2)), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(material_ui__WEBPACK_IMPORTED_MODULE_3__.Toggle, _extends({\n        label: m('toggle.index'),\n        disabled: readonly,\n        labelPosition: \"left\",\n        toggled: namespace.Indexable,\n        onToggle: function onToggle(e, v) {\n          namespace.Indexable = v;\n          _this5.setState({\n            namespace: namespace\n          });\n        }\n      }, ModernStyles.toggleFieldV2)), PoliciesBuilder && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(PoliciesBuilder, {\n        policies: namespace.Policies,\n        readonly: readonly,\n        onChangePolicies: function onChangePolicies(pols) {\n          return _this5.setState({\n            namespace: _objectSpread(_objectSpread({}, namespace), {}, {\n              Policies: pols\n            })\n          });\n        },\n        pydio: pydio\n      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", {\n        style: styles.section\n      }, m('order')), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(ModernTextField, {\n        floatingLabelText: m('order'),\n        value: namespace.Order ? namespace.Order : '0',\n        onChange: function onChange(e, v) {\n          namespace.Order = parseInt(v);\n          _this5.setState({\n            namespace: namespace\n          });\n        },\n        fullWidth: true,\n        type: \"number\",\n        readOnly: readonly,\n        variant: \"v2\"\n      }));\n    }\n  }]);\n  return MetaNamespace;\n}((react__WEBPACK_IMPORTED_MODULE_0___default().Component));\nMetaNamespace.PropTypes = {\n  namespace: prop_types__WEBPACK_IMPORTED_MODULE_1___default().instanceOf(cells_sdk__WEBPACK_IMPORTED_MODULE_4__.IdmUserMetaNamespace).isRequired,\n  namespaces: prop_types__WEBPACK_IMPORTED_MODULE_1___default().arrayOf(cells_sdk__WEBPACK_IMPORTED_MODULE_4__.IdmUserMetaNamespace),\n  create: (prop_types__WEBPACK_IMPORTED_MODULE_1___default().bool),\n  reloadList: (prop_types__WEBPACK_IMPORTED_MODULE_1___default().func),\n  onRequestClose: (prop_types__WEBPACK_IMPORTED_MODULE_1___default().func)\n};\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (MetaNamespace);\n\n//# sourceURL=webpack://access.settings/./res/js/AdminWorkspaces/editor/MetaNamespace.js?");

/***/ }),

/***/ "./res/js/AdminWorkspaces/editor/VersionPolicyEditor.js":
/*!**************************************************************!*\
  !*** ./res/js/AdminWorkspaces/editor/VersionPolicyEditor.js ***!
  \**************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ VersionPolicyEditor)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var pydio_http_resources_manager__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! pydio/http/resources-manager */ \"pydio/http/resources-manager\");\n/* harmony import */ var pydio_http_resources_manager__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(pydio_http_resources_manager__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var material_ui__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! material-ui */ \"material-ui\");\n/* harmony import */ var material_ui__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(material_ui__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var material_ui_styles__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! material-ui/styles */ \"material-ui/styles\");\n/* harmony import */ var material_ui_styles__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(material_ui_styles__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var cells_sdk__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! cells-sdk */ \"cells-sdk\");\n/* harmony import */ var cells_sdk__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(cells_sdk__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var pydio_http_api__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! pydio/http/api */ \"pydio/http/api\");\n/* harmony import */ var pydio_http_api__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(pydio_http_api__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var pydio_util_xml__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! pydio/util/xml */ \"pydio/util/xml\");\n/* harmony import */ var pydio_util_xml__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(pydio_util_xml__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var pydio__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! pydio */ \"pydio\");\n/* harmony import */ var pydio__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(pydio__WEBPACK_IMPORTED_MODULE_7__);\n/* harmony import */ var _VersionPolicyPeriods__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./VersionPolicyPeriods */ \"./res/js/AdminWorkspaces/editor/VersionPolicyPeriods.js\");\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _toPropertyKey(arg) { var key = _toPrimitive(arg, \"string\"); return _typeof(key) === \"symbol\" ? key : String(key); }\nfunction _toPrimitive(input, hint) { if (_typeof(input) !== \"object\" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || \"default\"); if (_typeof(res) !== \"object\") return res; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (hint === \"string\" ? String : Number)(input); }\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n/*\n * Copyright 2007-2021 Charles du Jeu - Abstrium SAS <team (at) pyd.io>\n * This file is part of Pydio.\n *\n * Pydio is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * Pydio is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with Pydio.  If not, see <http://www.gnu.org/licenses/>.\n *\n * The latest code can be found at <https://pydio.com>.\n */\n\n\n\n\n\n\n\n\n\n\nvar _Pydio$requireLib = pydio__WEBPACK_IMPORTED_MODULE_7___default().requireLib('form'),\n  Manager = _Pydio$requireLib.Manager,\n  FormPanel = _Pydio$requireLib.FormPanel;\nvar _AdminComponents = AdminComponents,\n  PaperEditorLayout = _AdminComponents.PaperEditorLayout,\n  AdminStyles = _AdminComponents.AdminStyles;\nvar VersionPolicyEditor = /*#__PURE__*/function (_React$Component) {\n  _inherits(VersionPolicyEditor, _React$Component);\n  var _super = _createSuper(VersionPolicyEditor);\n  function VersionPolicyEditor(props) {\n    var _this;\n    _classCallCheck(this, VersionPolicyEditor);\n    _this = _super.call(this, props);\n    _this.state = {\n      dirty: false,\n      policy: props.versionPolicy,\n      loaded: true,\n      valid: true,\n      parameters: null,\n      m: function m(id) {\n        return props.pydio.MessageHash['ajxp_admin.versions.editor.' + id] || id;\n      }\n    };\n    return _this;\n  }\n  _createClass(VersionPolicyEditor, [{\n    key: \"componentWillReceiveProps\",\n    value: function componentWillReceiveProps(newProps) {\n      if (this.state.policy !== newProps.versionPolicy) {\n        this.setState({\n          policy: newProps.versionPolicy\n        });\n      }\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n      pydio_http_api__WEBPACK_IMPORTED_MODULE_5___default().getRestClient().callApi('/config/discovery/forms/{ServiceName}', 'GET', {\n        ServiceName: 'pydio.grpc.versions'\n      }, {}, {}, {}, null, [], ['application/json'], ['application/json'], \"String\").then(function (responseAndData) {\n        var xmlString = responseAndData.data;\n        var domNode = pydio_util_xml__WEBPACK_IMPORTED_MODULE_6___default().parseXml(xmlString);\n        _this2.setState({\n          parameters: Manager.parseParameters(domNode, \"//param\"),\n          loaded: true\n        });\n      });\n    }\n  }, {\n    key: \"resetForm\",\n    value: function resetForm() {\n      this.setState({\n        valid: true,\n        dirty: false,\n        saveValue: null\n      });\n    }\n  }, {\n    key: \"deleteSource\",\n    value: function deleteSource() {\n      var _this3 = this;\n      var _this$state = this.state,\n        m = _this$state.m,\n        policy = _this$state.policy;\n      var pydio = this.props.pydio;\n      pydio.UI.openConfirmDialog({\n        message: m('delete.confirm'),\n        destructive: [policy.Label],\n        validCallback: function validCallback() {\n          pydio_http_resources_manager__WEBPACK_IMPORTED_MODULE_1___default().loadClass('EnterpriseSDK').then(function (sdk) {\n            var api = new sdk.EnterpriseConfigServiceApi(pydio_http_api__WEBPACK_IMPORTED_MODULE_5___default().getRestClient());\n            api.deleteVersioningPolicy(policy.Uuid).then(function (r) {\n              _this3.props.closeEditor();\n            });\n          });\n        }\n      });\n    }\n  }, {\n    key: \"saveSource\",\n    value: function saveSource() {\n      var _this4 = this;\n      if (this.state.saveValue) {\n        var saveValue = this.state.saveValue;\n        pydio_http_resources_manager__WEBPACK_IMPORTED_MODULE_1___default().loadClass('EnterpriseSDK').then(function (sdk) {\n          var api = new sdk.EnterpriseConfigServiceApi(pydio_http_api__WEBPACK_IMPORTED_MODULE_5___default().getRestClient());\n          api.putVersioningPolicy(saveValue.Uuid, saveValue).then(function () {\n            _this4.props.reloadList();\n            _this4.setState({\n              dirty: false,\n              policy: saveValue,\n              saveValue: null\n            });\n          });\n        });\n      }\n    }\n  }, {\n    key: \"onFormChange\",\n    value: function onFormChange(values) {\n      var m = this.state.m;\n      var newPolicy = VersionPolicyEditor.valuesToTreeVersioningPolicy(values);\n      // Check periods\n      var periods = newPolicy.KeepPeriods || [];\n      var deleteAll = periods.findIndex(function (p) {\n        return p.MaxNumber === 0;\n      });\n      if (deleteAll > -1 && deleteAll < periods.length - 1) {\n        pydio.UI.displayMessage('ERROR', m('error.lastdelete'));\n        var i = periods.length - 1 - deleteAll;\n        while (i > 0) {\n          periods.pop();\n          i--;\n        }\n      }\n      newPolicy.KeepPeriods = periods;\n      this.setState({\n        saveValue: newPolicy,\n        dirty: true\n      });\n    }\n  }, {\n    key: \"updateValidStatus\",\n    value: function updateValidStatus(valid) {\n      //this.setState({valid: valid});\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this5 = this;\n      var _this$props = this.props,\n        create = _this$props.create,\n        readonly = _this$props.readonly,\n        pydio = _this$props.pydio,\n        muiTheme = _this$props.muiTheme,\n        internalSources = _this$props.internalSources;\n      var _this$state2 = this.state,\n        loaded = _this$state2.loaded,\n        policy = _this$state2.policy,\n        saveValue = _this$state2.saveValue,\n        m = _this$state2.m;\n      var parameters = this.state.parameters;\n      var palette = muiTheme.palette;\n      var adminStyles = AdminStyles(palette);\n      var form;\n      if (parameters && loaded) {\n        if (internalSources) {\n          parameters = parameters.map(function (p) {\n            if (p.name === 'VersionsDataSourceName') {\n              // Update choices list with detected internal datasources\n              p.choices += ',' + internalSources.map(function (s) {\n                return s + '|DataSource ' + s;\n              }).join(',');\n            }\n            return p;\n          });\n        }\n        var values = VersionPolicyEditor.TreeVersioningPolicyToValues(policy);\n        if (saveValue) {\n          values = VersionPolicyEditor.TreeVersioningPolicyToValues(saveValue);\n        }\n        form = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(FormPanel, {\n          parameters: parameters,\n          values: values,\n          className: \"full-width\",\n          onChange: this.onFormChange.bind(this),\n          onValidStatusChange: this.updateValidStatus.bind(this),\n          disabled: readonly,\n          depth: -2,\n          variant: 'v2'\n        });\n      }\n      var titleActionBarButtons = [];\n      if (!readonly) {\n        if (!create) {\n          titleActionBarButtons.push(PaperEditorLayout.actionButton(m('delete'), 'mdi mdi-delete', function () {\n            _this5.deleteSource();\n          }));\n          titleActionBarButtons.push(PaperEditorLayout.actionButton(pydio.MessageHash['ajxp_admin.plugins.6'], 'mdi mdi-undo', function () {\n            _this5.resetForm();\n          }, !this.state.dirty));\n        }\n        titleActionBarButtons.push(PaperEditorLayout.actionButton(pydio.MessageHash['53'], 'mdi mdi-content-save', function () {\n          _this5.saveSource();\n        }, !this.state.valid || !this.state.dirty));\n      }\n      var policyName = saveValue ? saveValue.Name : policy.Name;\n      if (!policyName) {\n        policyName = '';\n      }\n      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(PaperEditorLayout, {\n        title: loaded && parameters ? m('title').replace('%s', policyName) : pydio.MessageHash['ajxp_admin.loading'],\n        titleLeftIcon: \"mdi mdi-clock-start\",\n        titleActionBar: titleActionBarButtons,\n        closeAction: this.props.closeEditor,\n        className: \"workspace-editor\",\n        contentFill: true\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(material_ui__WEBPACK_IMPORTED_MODULE_2__.Paper, {\n        zDepth: 0,\n        style: {\n          backgroundColor: adminStyles.body.block.header.backgroundColor,\n          padding: '0px 20px',\n          height: 64,\n          display: 'flex',\n          alignItems: 'center'\n        }\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", {\n        style: {\n          overflowX: 'auto',\n          width: '100%'\n        }\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_VersionPolicyPeriods__WEBPACK_IMPORTED_MODULE_8__[\"default\"], {\n        pydio: pydio,\n        policy: saveValue ? saveValue : policy\n      }))), form, adminStyles.formSimpleCss());\n    }\n  }], [{\n    key: \"valuesToTreeVersioningPolicy\",\n    value: function valuesToTreeVersioningPolicy(values) {\n      var periods = [];\n      var baseName = \"IntervalStart\";\n      var baseNameMax = \"MaxNumber\";\n      var nextName = baseName;\n      var nextMax = baseNameMax;\n      var index = 0;\n      while (values[nextName] !== undefined && values[nextMax] !== undefined) {\n        var period = new cells_sdk__WEBPACK_IMPORTED_MODULE_4__.TreeVersioningKeepPeriod();\n        period.IntervalStart = values[nextName];\n        period.MaxNumber = values[nextMax];\n        periods.push(period);\n        delete values[nextMax];\n        delete values[nextName];\n        index++;\n        nextName = baseName + \"_\" + index;\n        nextMax = baseNameMax + \"_\" + index;\n      }\n      values.KeepPeriods = periods;\n      return cells_sdk__WEBPACK_IMPORTED_MODULE_4__.TreeVersioningPolicy.constructFromObject(values);\n    }\n  }, {\n    key: \"TreeVersioningPolicyToValues\",\n    value: function TreeVersioningPolicyToValues(policy) {\n      var values = _objectSpread({}, policy);\n      if (values.KeepPeriods) {\n        var i = 0;\n        values.KeepPeriods.map(function (p) {\n          if (i > 0) {\n            values['IntervalStart_' + i] = p.IntervalStart || 0;\n            values['MaxNumber_' + i] = p.MaxNumber || 0;\n          } else {\n            values['IntervalStart'] = p.IntervalStart || 0;\n            values['MaxNumber'] = p.MaxNumber || 0;\n          }\n          i++;\n        });\n      }\n      // Default Enum Value\n      if (!values.NodeDeletedStrategy) {\n        values.NodeDeletedStrategy = 'KeepAll';\n      }\n      return values;\n    }\n  }]);\n  return VersionPolicyEditor;\n}((react__WEBPACK_IMPORTED_MODULE_0___default().Component));\nVersionPolicyEditor = (0,material_ui_styles__WEBPACK_IMPORTED_MODULE_3__.muiThemeable)()(VersionPolicyEditor);\n\n\n//# sourceURL=webpack://access.settings/./res/js/AdminWorkspaces/editor/VersionPolicyEditor.js?");

/***/ }),

/***/ "./res/js/AdminWorkspaces/editor/VersionPolicyPeriods.js":
/*!***************************************************************!*\
  !*** ./res/js/AdminWorkspaces/editor/VersionPolicyPeriods.js ***!
  \***************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ VersionPolicyPeriods)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var material_ui__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! material-ui */ \"material-ui\");\n/* harmony import */ var material_ui__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(material_ui__WEBPACK_IMPORTED_MODULE_1__);\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _toPropertyKey(arg) { var key = _toPrimitive(arg, \"string\"); return _typeof(key) === \"symbol\" ? key : String(key); }\nfunction _toPrimitive(input, hint) { if (_typeof(input) !== \"object\" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || \"default\"); if (_typeof(res) !== \"object\") return res; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (hint === \"string\" ? String : Number)(input); }\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n/*\n * Copyright 2007-2021 Charles du Jeu - Abstrium SAS <team (at) pyd.io>\n * This file is part of Pydio.\n *\n * Pydio is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * Pydio is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with Pydio.  If not, see <http://www.gnu.org/licenses/>.\n *\n * The latest code can be found at <https://pydio.com>.\n */\n\n\n\nvar VersionPolicyPeriods = /*#__PURE__*/function (_React$Component) {\n  _inherits(VersionPolicyPeriods, _React$Component);\n  var _super = _createSuper(VersionPolicyPeriods);\n  function VersionPolicyPeriods() {\n    _classCallCheck(this, VersionPolicyPeriods);\n    return _super.apply(this, arguments);\n  }\n  _createClass(VersionPolicyPeriods, [{\n    key: \"render\",\n    value: function render() {\n      var _this$props = this.props,\n        policy = _this$props.policy,\n        rendering = _this$props.rendering,\n        pydio = _this$props.pydio;\n      var m = function m(id) {\n        return pydio.MessageHash['ajxp_admin.versions.period.' + id] || id;\n      };\n      var _policy$KeepPeriods = policy.KeepPeriods,\n        KeepPeriods = _policy$KeepPeriods === void 0 ? [] : _policy$KeepPeriods,\n        NodeDeletedStrategy = policy.NodeDeletedStrategy;\n      if (rendering === 'short') {\n        var text;\n        if (KeepPeriods.length === 1) {\n          var p = KeepPeriods[0];\n          if (p.MaxNumber === -1) {\n            text = m('keep-all.always');\n          } else {\n            text = m('keep-n').replace('%s', p.MaxNumber);\n          }\n        } else {\n          text = m('retentions-n').replace('%s', KeepPeriods.length);\n          var last = KeepPeriods[KeepPeriods.length - 1];\n          if (last.MaxNumber === 0 || last.MaxNumber === undefined) {\n            text += ' | ' + m('remove-all-after').replace('%s', last.IntervalStart);\n          } else {\n            text += ' | ' + m('keep-n-after').replace('%1', last.MaxNumber).replace('%2', last.IntervalStart);\n          }\n        }\n        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"span\", null, text);\n      }\n      var steps = KeepPeriods.map(function (p) {\n        var label = p.MaxNumber;\n        var timeLabel;\n        var icon = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(material_ui__WEBPACK_IMPORTED_MODULE_1__.FontIcon, {\n          className: \"mdi mdi-ray-start-arrow\"\n        });\n        var style = {};\n        if (p.IntervalStart === undefined || p.IntervalStart === \"0\") {\n          icon = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(material_ui__WEBPACK_IMPORTED_MODULE_1__.FontIcon, {\n            className: \"mdi mdi-clock-start\"\n          });\n        } else {\n          timeLabel = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"span\", {\n            style: {\n              fontWeight: 500,\n              fontSize: 16\n            }\n          }, p.IntervalStart, \"\\xA0\");\n        }\n        if (p.MaxNumber === -1) {\n          label = m('keep-all');\n        } else if (!p.MaxNumber) {\n          label = m('remove-all');\n          icon = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(material_ui__WEBPACK_IMPORTED_MODULE_1__.FontIcon, {\n            className: \"mdi mdi-clock-end\",\n            style: {\n              color: '#c62828'\n            }\n          });\n          style = {\n            color: '#c62828'\n          };\n        } else {\n          label = m('max-n').replace('%s', label);\n        }\n        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(material_ui__WEBPACK_IMPORTED_MODULE_1__.Step, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(material_ui__WEBPACK_IMPORTED_MODULE_1__.StepLabel, {\n          icon: icon,\n          style: style\n        }, timeLabel, label));\n      });\n      var label;\n      var stepStyle = {\n        color: '#c62828',\n        fontWeight: 500,\n        fontSize: 16\n      };\n      switch (NodeDeletedStrategy) {\n        case 'KeepLast':\n          label = 'Backup last';\n          break;\n        case 'KeepAll':\n          stepStyle.color = null;\n          label = 'Backup all';\n          break;\n        case 'KeepNone':\n          label = 'Clean all';\n          break;\n        default:\n          stepStyle.color = null;\n          label = 'Backup all';\n          break;\n      }\n      steps.push( /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(material_ui__WEBPACK_IMPORTED_MODULE_1__.Step, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(material_ui__WEBPACK_IMPORTED_MODULE_1__.StepLabel, {\n        style: stepStyle,\n        icon: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(material_ui__WEBPACK_IMPORTED_MODULE_1__.FontIcon, {\n          className: \"mdi mdi-delete\",\n          style: stepStyle\n        })\n      }, label)));\n      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(material_ui__WEBPACK_IMPORTED_MODULE_1__.Stepper, {\n        activeStep: KeepPeriods.length - 1,\n        linear: false\n      }, steps);\n    }\n  }]);\n  return VersionPolicyPeriods;\n}((react__WEBPACK_IMPORTED_MODULE_0___default().Component));\n\n\n//# sourceURL=webpack://access.settings/./res/js/AdminWorkspaces/editor/VersionPolicyPeriods.js?");

/***/ }),

/***/ "./res/js/AdminWorkspaces/editor/WsAutoComplete.js":
/*!*********************************************************!*\
  !*** ./res/js/AdminWorkspaces/editor/WsAutoComplete.js ***!
  \*********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ WsAutoComplete)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var pydio__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! pydio */ \"pydio\");\n/* harmony import */ var pydio__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(pydio__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var material_ui__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! material-ui */ \"material-ui\");\n/* harmony import */ var material_ui__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(material_ui__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var lodash_debounce__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! lodash.debounce */ \"lodash.debounce\");\n/* harmony import */ var lodash_debounce__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(lodash_debounce__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var pydio_util_path__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! pydio/util/path */ \"pydio/util/path\");\n/* harmony import */ var pydio_util_path__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(pydio_util_path__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var cells_sdk__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! cells-sdk */ \"cells-sdk\");\n/* harmony import */ var cells_sdk__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(cells_sdk__WEBPACK_IMPORTED_MODULE_5__);\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\nfunction _iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter); }\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; }\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _toPropertyKey(arg) { var key = _toPrimitive(arg, \"string\"); return _typeof(key) === \"symbol\" ? key : String(key); }\nfunction _toPrimitive(input, hint) { if (_typeof(input) !== \"object\" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || \"default\"); if (_typeof(res) !== \"object\") return res; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (hint === \"string\" ? String : Number)(input); }\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n/*\n * Copyright 2007-2019 Charles du Jeu - Abstrium SAS <team (at) pyd.io>\n * This file is part of Pydio.\n *\n * Pydio is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * Pydio is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with Pydio.  If not, see <http://www.gnu.org/licenses/>.\n *\n * The latest code can be found at <https://pydio.com>.\n */\n\n\n\n\n\n\nvar _Pydio$requireLib = pydio__WEBPACK_IMPORTED_MODULE_1___default().requireLib('hoc'),\n  ModernAutoComplete = _Pydio$requireLib.ModernAutoComplete,\n  ModernStyles = _Pydio$requireLib.ModernStyles;\nvar WsAutoComplete = /*#__PURE__*/function (_React$Component) {\n  _inherits(WsAutoComplete, _React$Component);\n  var _super = _createSuper(WsAutoComplete);\n  function WsAutoComplete(props) {\n    var _this;\n    _classCallCheck(this, WsAutoComplete);\n    _this = _super.call(this, props);\n    var _props$value = props.value,\n      value = _props$value === void 0 ? '' : _props$value;\n    _this.debounced = lodash_debounce__WEBPACK_IMPORTED_MODULE_3___default()(function () {\n      var value = _this.state.value;\n      _this.loadValues(value);\n    }, 300);\n    _this.state = {\n      nodes: [],\n      value: value\n    };\n    return _this;\n  }\n  _createClass(WsAutoComplete, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n      var validateOnLoad = this.props.validateOnLoad;\n      var value = this.state.value;\n      this.loadValues(value, function () {\n        var _this2$state = _this2.state,\n          nodes = _this2$state.nodes,\n          value = _this2$state.value;\n\n        // Checking if we have a collection and load deeper values if it's the case\n        var node = nodes.filter(function (node) {\n          return node.Path === value && (!node.Type || node.Type == \"COLLECTION\" && !node.MetaStore && !node.MetaStore.resolution);\n        }).map(function (node) {\n          _this2.loadValues(value + \"/\");\n        });\n        if (validateOnLoad) {\n          _this2.handleNewRequest(value);\n        }\n      });\n    }\n  }, {\n    key: \"handleUpdateInput\",\n    value: function handleUpdateInput(input) {\n      this.debounced();\n      this.setState({\n        value: input\n      });\n    }\n  }, {\n    key: \"handleNewRequest\",\n    value: function handleNewRequest(value) {\n      var nodes = this.state.nodes;\n      var _this$props = this.props,\n        _this$props$onChange = _this$props.onChange,\n        onChange = _this$props$onChange === void 0 ? function () {} : _this$props$onChange,\n        _this$props$onDelete = _this$props.onDelete,\n        onDelete = _this$props$onDelete === void 0 ? function () {} : _this$props$onDelete,\n        _this$props$onError = _this$props.onError,\n        onError = _this$props$onError === void 0 ? function () {} : _this$props$onError;\n      var key;\n      var node;\n      if (typeof value === 'string') {\n        if (value === '') {\n          onDelete();\n          return;\n        }\n        key = value;\n\n        // First we try to find an exact match\n        node = nodes.filter(function (node) {\n          return node.Path === value;\n        })[0];\n\n        // Then we try to retrieve the first node that starts with what we are looking at\n        if (!node) {\n          node = nodes.filter(function (node) {\n            return node.Path.indexOf(value) === 0;\n          })[0];\n        }\n      } else if (_typeof(value) === 'object') {\n        key = value.key;\n        node = value.node;\n      }\n      if (!node) {\n        return onError();\n      }\n      this.setState({\n        value: key\n      });\n      onChange(key, node);\n    }\n  }, {\n    key: \"loadValues\",\n    value: function loadValues(value) {\n      var _this3 = this;\n      var cb = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : function () {};\n      var last = value.lastIndexOf('/');\n      var basePath = value.substr(0, last);\n      if (this.lastSearch !== null && this.lastSearch === basePath) {\n        return;\n      }\n      this.lastSearch = basePath;\n      this.setState({\n        loading: true\n      });\n      var api = new cells_sdk__WEBPACK_IMPORTED_MODULE_5__.AdminTreeServiceApi(PydioApi.getRestClient());\n      var listRequest = new cells_sdk__WEBPACK_IMPORTED_MODULE_5__.TreeListNodesRequest();\n      var treeNode = new cells_sdk__WEBPACK_IMPORTED_MODULE_5__.TreeNode();\n      treeNode.Path = basePath + \"/\";\n      listRequest.Node = treeNode;\n      api.listAdminTree(listRequest).then(function (nodesColl) {\n        _this3.setState({\n          nodes: nodesColl.Children || [],\n          loading: false\n        }, function () {\n          return cb();\n        });\n      })[\"catch\"](function () {\n        _this3.setState({\n          loading: false\n        }, function () {\n          return cb();\n        });\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this4 = this;\n      var _this$state = this.state,\n        value = _this$state.value,\n        nodes = _this$state.nodes,\n        loading = _this$state.loading;\n      var _this$props2 = this.props,\n        pydio = _this$props2.pydio,\n        onDelete = _this$props2.onDelete,\n        skipTemplates = _this$props2.skipTemplates,\n        label = _this$props2.label,\n        _this$props2$zDepth = _this$props2.zDepth,\n        zDepth = _this$props2$zDepth === void 0 ? 0 : _this$props2$zDepth;\n      var m = function m(id) {\n        return pydio.MessageHash['ajxp_admin.' + id] || id;\n      };\n      var dataSource = [];\n      if (nodes) {\n        var categs = {};\n        nodes.forEach(function (node) {\n          if (node.MetaStore && node.MetaStore[\"resolution\"] && node.Uuid === \"cells\") {\n            // Skip \"Cells\" Template Path\n            return;\n          } else if (pydio_util_path__WEBPACK_IMPORTED_MODULE_4___default().getBasename(node.Path).startsWith(\".\")) {\n            // Skip hidden files\n            return;\n          }\n          var data = WsAutoComplete.renderNode(node, m);\n          if (!categs[data.categ]) {\n            categs[data.categ] = [];\n          }\n          categs[data.categ].push(data);\n        });\n        if (Object.keys(categs).length > 1) {\n          dataSource.push({\n            key: \"h1\",\n            text: '',\n            value: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(material_ui__WEBPACK_IMPORTED_MODULE_2__.MenuItem, {\n              primaryText: m('ws.complete.datasources'),\n              style: {\n                fontSize: 13,\n                fontWeight: 500\n              },\n              disabled: true\n            })\n          });\n          var dValues = categs[Object.keys(categs)[0]];\n          dValues.sort(LangUtils.arraySorter(\"text\"));\n          dataSource.push.apply(dataSource, _toConsumableArray(dValues));\n          if (!skipTemplates) {\n            dataSource.push({\n              key: \"h2\",\n              text: '',\n              value: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(material_ui__WEBPACK_IMPORTED_MODULE_2__.MenuItem, {\n                primaryText: m('ws.complete.templates'),\n                style: {\n                  fontSize: 13,\n                  fontWeight: 500\n                },\n                disabled: true\n              })\n            });\n            var tValues = categs[Object.keys(categs)[1]];\n            tValues.sort(LangUtils.arraySorter(\"text\"));\n            dataSource.push.apply(dataSource, _toConsumableArray(tValues));\n          }\n        } else if (Object.keys(categs).length === 1) {\n          dataSource.push.apply(dataSource, _toConsumableArray(categs[Object.keys(categs)[0]]));\n        }\n      }\n      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(material_ui__WEBPACK_IMPORTED_MODULE_2__.Paper, {\n        zDepth: zDepth,\n        style: _objectSpread({\n          display: 'flex',\n          alignItems: 'center',\n          margin: '2px 0'\n        }, this.props.style)\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", {\n        style: {\n          position: 'relative',\n          flex: 1,\n          height: 60\n        }\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", {\n        style: {\n          position: 'absolute',\n          right: 0,\n          top: 30,\n          width: 30\n        }\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(material_ui__WEBPACK_IMPORTED_MODULE_2__.RefreshIndicator, {\n        size: 30,\n        left: 0,\n        top: 0,\n        status: loading ? \"loading\" : \"hide\"\n      })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(ModernAutoComplete, {\n        fullWidth: true,\n        searchText: value,\n        onUpdateInput: function onUpdateInput(value) {\n          return _this4.handleUpdateInput(value);\n        },\n        onNewRequest: function onNewRequest(value) {\n          return _this4.handleNewRequest(value);\n        },\n        onClose: function onClose() {\n          return _this4.handleNewRequest(value);\n        },\n        dataSource: dataSource,\n        filter: function filter(searchText, key) {\n          return key.toLowerCase().indexOf(searchText.toLowerCase()) === 0;\n        },\n        floatingLabelText: label || m('ws.complete.label'),\n        openOnFocus: true,\n        menuProps: {\n          maxHeight: 200\n        },\n        hasRightBlock: true\n      })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", {\n        style: ModernStyles.fillBlockV2Right\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(material_ui__WEBPACK_IMPORTED_MODULE_2__.IconButton, {\n        style: {\n          marginTop: 2\n        },\n        iconStyle: {\n          color: onDelete ? '#9e9e9e' : '#eee'\n        },\n        iconClassName: \"mdi mdi-delete\",\n        onClick: onDelete,\n        disabled: !onDelete\n      })));\n    }\n  }], [{\n    key: \"renderNode\",\n    value: function renderNode(node, m) {\n      var label = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"span\", null, node.Path);\n      var icon = \"mdi mdi-folder\";\n      var categ = \"folder\";\n      if (node.MetaStore && node.MetaStore[\"resolution\"]) {\n        icon = \"mdi mdi-file-tree\";\n        categ = \"templatePath\";\n        var resolutionPart = node.MetaStore[\"resolution\"].split(\"\\n\").pop();\n        label = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"span\", null, node.Path, \" \", /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"i\", {\n          style: {\n            color: '#9e9e9e'\n          }\n        }, \"- \", m('ws.complete.resolves'), \" \", resolutionPart));\n      } else if (node.Type === 'LEAF') {\n        icon = \"mdi mdi-file\";\n      }\n      return {\n        key: node.Path,\n        text: node.Path,\n        node: node,\n        categ: categ,\n        value: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(material_ui__WEBPACK_IMPORTED_MODULE_2__.MenuItem, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(material_ui__WEBPACK_IMPORTED_MODULE_2__.FontIcon, {\n          className: icon,\n          color: \"#607d8b\",\n          style: {\n            \"float\": 'left',\n            marginRight: 8\n          }\n        }), \" \", label)\n      };\n    }\n  }]);\n  return WsAutoComplete;\n}((react__WEBPACK_IMPORTED_MODULE_0___default().Component));\n\n\n//# sourceURL=webpack://access.settings/./res/js/AdminWorkspaces/editor/WsAutoComplete.js?");

/***/ }),

/***/ "./res/js/AdminWorkspaces/editor/WsEditor.js":
/*!***************************************************!*\
  !*** ./res/js/AdminWorkspaces/editor/WsEditor.js ***!
  \***************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ WsEditor)\n/* harmony export */ });\n/* harmony import */ var pydio__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! pydio */ \"pydio\");\n/* harmony import */ var pydio__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(pydio__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var material_ui__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! material-ui */ \"material-ui\");\n/* harmony import */ var material_ui__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(material_ui__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var material_ui_styles__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! material-ui/styles */ \"material-ui/styles\");\n/* harmony import */ var material_ui_styles__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(material_ui_styles__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _model_Ws__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../model/Ws */ \"./res/js/AdminWorkspaces/model/Ws.js\");\n/* harmony import */ var _WsAutoComplete__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./WsAutoComplete */ \"./res/js/AdminWorkspaces/editor/WsAutoComplete.js\");\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _toPropertyKey(arg) { var key = _toPrimitive(arg, \"string\"); return _typeof(key) === \"symbol\" ? key : String(key); }\nfunction _toPrimitive(input, hint) { if (_typeof(input) !== \"object\" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || \"default\"); if (_typeof(res) !== \"object\") return res; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (hint === \"string\" ? String : Number)(input); }\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n/*\n * Copyright 2007-2019 Charles du Jeu - Abstrium SAS <team (at) pyd.io>\n * This file is part of Pydio.\n *\n * Pydio is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * Pydio is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with Pydio.  If not, see <http://www.gnu.org/licenses/>.\n *\n * The latest code can be found at <https://pydio.com>.\n */\n\n\n\n\n\n\nvar _Pydio$requireLib = pydio__WEBPACK_IMPORTED_MODULE_0___default().requireLib('hoc'),\n  ModernTextField = _Pydio$requireLib.ModernTextField,\n  ModernSelectField = _Pydio$requireLib.ModernSelectField,\n  ModernStyles = _Pydio$requireLib.ModernStyles;\nvar _Pydio$requireLib2 = pydio__WEBPACK_IMPORTED_MODULE_0___default().requireLib('form'),\n  InputIntegerBytes = _Pydio$requireLib2.InputIntegerBytes;\nvar _AdminComponents = AdminComponents,\n  PaperEditorLayout = _AdminComponents.PaperEditorLayout,\n  AdminStyles = _AdminComponents.AdminStyles;\nvar WsEditor = /*#__PURE__*/function (_Component) {\n  _inherits(WsEditor, _Component);\n  var _super = _createSuper(WsEditor);\n  function WsEditor(props) {\n    var _this;\n    _classCallCheck(this, WsEditor);\n    _this = _super.call(this, props);\n    var workspace = new _model_Ws__WEBPACK_IMPORTED_MODULE_4__[\"default\"](props.workspace);\n    workspace.observe('update', function () {\n      _this.forceUpdate();\n    });\n    _this.state = {\n      workspace: workspace.getModel(),\n      container: workspace,\n      newFolderKey: Math.random(),\n      showDialog: false\n    };\n    return _this;\n  }\n  _createClass(WsEditor, [{\n    key: \"enableSync\",\n    value: function enableSync(value) {\n      if (value) {\n        this.setState({\n          showDialog: 'enableSync',\n          dialogTargetValue: value\n        });\n      } else {\n        this.setState({\n          showDialog: 'disableSync',\n          dialogTargetValue: value\n        });\n      }\n    }\n  }, {\n    key: \"confirmSync\",\n    value: function confirmSync(value) {\n      var workspace = this.state.workspace;\n      workspace.Attributes['ALLOW_SYNC'] = value;\n      this.setState({\n        showDialog: false,\n        dialogTargetValue: null\n      });\n    }\n  }, {\n    key: \"revert\",\n    value: function revert() {\n      var _this2 = this;\n      var container = this.state.container;\n      container.revert();\n      this.setState({\n        workspace: container.getModel()\n      }, function () {\n        _this2.forceUpdate();\n      });\n    }\n  }, {\n    key: \"save\",\n    value: function save() {\n      var _this3 = this;\n      var container = this.state.container;\n      var _this$props = this.props,\n        reloadList = _this$props.reloadList,\n        closeEditor = _this$props.closeEditor;\n      this.setState({\n        saving: true\n      });\n      var create = container.create;\n      container.save().then(function () {\n        reloadList();\n        _this3.setState({\n          workspace: container.getModel(),\n          saving: false\n        }, function () {\n          _this3.forceUpdate();\n        });\n        if (create) {\n          closeEditor();\n        }\n      })[\"catch\"](function () {\n        _this3.setState({\n          saving: false\n        });\n      });\n    }\n  }, {\n    key: \"remove\",\n    value: function remove() {\n      var container = this.state.container;\n      var _this$props2 = this.props,\n        closeEditor = _this$props2.closeEditor,\n        reloadList = _this$props2.reloadList,\n        pydio = _this$props2.pydio;\n      pydio.UI.openConfirmDialog({\n        message: pydio.MessageHash['settings.35'],\n        destructive: [container.getModel().Label],\n        validCallback: function validCallback() {\n          container.remove().then(function () {\n            reloadList();\n            closeEditor();\n          });\n        }\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this4 = this;\n      var _this$props3 = this.props,\n        closeEditor = _this$props3.closeEditor,\n        pydio = _this$props3.pydio,\n        advanced = _this$props3.advanced;\n      var _this$state = this.state,\n        workspace = _this$state.workspace,\n        container = _this$state.container,\n        newFolderKey = _this$state.newFolderKey,\n        saving = _this$state.saving,\n        showDialog = _this$state.showDialog,\n        dialogTargetValue = _this$state.dialogTargetValue;\n      var m = function m(id) {\n        return pydio.MessageHash['ajxp_admin.' + id] || id;\n      };\n      var mS = function mS(id) {\n        return pydio.MessageHash['settings.' + id] || id;\n      };\n      var readonly = !workspace.PoliciesContextEditable;\n      var buttons = [];\n      if (!container.create && !readonly) {\n        buttons.push(PaperEditorLayout.actionButton(m('plugins.6'), \"mdi mdi-undo\", function () {\n          _this4.revert();\n        }, !container.isDirty()));\n      }\n      if (!readonly) {\n        buttons.push(PaperEditorLayout.actionButton(pydio.MessageHash['53'], \"mdi mdi-content-save\", function () {\n          _this4.save();\n        }, saving || !(container.isDirty() && container.isValid())));\n      }\n      var adminStyles = AdminStyles(this.props.muiTheme.palette);\n      var styles = {\n        title: _objectSpread(_objectSpread({}, adminStyles.body.block.headerFull), {}, {\n          margin: '0 -20px'\n        }),\n        /*legend: {color: '#9E9E9E', paddingTop: 10, paddingLeft: 4},*/\n        legend: {\n          padding: '16px 4px 8px'\n        },\n        section: _objectSpread({\n          padding: '0 20px 20px',\n          margin: 10,\n          backgroundColor: 'white'\n        }, adminStyles.body.block.container),\n        toggleDiv: {},\n        divider: {\n          margin: '24px -20px 0px',\n          height: 1,\n          border: 'none',\n          backgroundColor: 'rgb(236 239 241)'\n        }\n      };\n      var roots = workspace.RootNodes;\n      var completers = Object.keys(roots).map(function (k) {\n        var label = m('ws.editor.path.folder');\n        if (_model_Ws__WEBPACK_IMPORTED_MODULE_4__[\"default\"].rootIsTemplatePath(roots[k])) {\n          label = m('ws.editor.path.template');\n        }\n        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_WsAutoComplete__WEBPACK_IMPORTED_MODULE_5__[\"default\"], {\n          key: roots[k].Uuid,\n          pydio: pydio,\n          label: label,\n          value: roots[k].Path,\n          onDelete: function onDelete() {\n            delete roots[k];\n            _this4.forceUpdate();\n          },\n          onChange: function onChange(key, node) {\n            delete roots[k];\n            if (key !== '') {\n              roots[node.Uuid] = node;\n            }\n          },\n          skipTemplates: container.hasFolderRoots()\n        });\n      });\n      if (!container.hasTemplatePath()) {\n        completers.push( /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_WsAutoComplete__WEBPACK_IMPORTED_MODULE_5__[\"default\"], {\n          key: newFolderKey,\n          pydio: pydio,\n          value: \"\",\n          onChange: function onChange(k, node) {\n            if (node) {\n              roots[node.Uuid] = node;\n              _this4.setState({\n                newFolderKey: Math.random()\n              });\n            }\n          },\n          skipTemplates: container.hasFolderRoots()\n        }));\n      }\n      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(PaperEditorLayout, {\n        title: workspace.Label || mS('90'),\n        titleLeftIcon: \"mdi mdi-folder-open\",\n        titleActionBar: buttons,\n        closeAction: closeEditor,\n        className: \"workspace-editor\",\n        contentFill: false\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(material_ui__WEBPACK_IMPORTED_MODULE_2__.Dialog, {\n        open: showDialog,\n        title: m('ws.editor.sync.warning'),\n        onRequestClose: function onRequestClose() {\n          _this4.confirmSync(!dialogTargetValue);\n        },\n        actions: [/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(material_ui__WEBPACK_IMPORTED_MODULE_2__.FlatButton, {\n          label: pydio.MessageHash['54'],\n          onClick: function onClick() {\n            _this4.confirmSync(!dialogTargetValue);\n          }\n        }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(material_ui__WEBPACK_IMPORTED_MODULE_2__.FlatButton, {\n          label: m('ws.editor.sync.warning.validate'),\n          onClick: function onClick() {\n            _this4.confirmSync(dialogTargetValue);\n          }\n        })]\n      }, showDialog === 'enableSync' && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\"div\", null, m('ws.editor.sync.warning.enable')), showDialog === 'disableSync' && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\"div\", null, m('ws.editor.sync.warning.disable'))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(material_ui__WEBPACK_IMPORTED_MODULE_2__.Paper, {\n        zDepth: 0,\n        style: styles.section\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\"div\", {\n        style: styles.title\n      }, m('ws.30')), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\"div\", {\n        style: styles.legend\n      }, m('ws.editor.options.legend')), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(ModernTextField, {\n        fullWidth: true,\n        errorText: workspace.Label ? \"\" : m('ws.editor.label.legend'),\n        floatingLabelText: mS('8'),\n        value: workspace.Label,\n        onChange: function onChange(e, v) {\n          workspace.Label = v;\n        },\n        variant: 'v2'\n      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(ModernTextField, {\n        fullWidth: true,\n        floatingLabelText: m(\"ws.editor.description\"),\n        value: workspace.Description,\n        onChange: function onChange(e, v) {\n          workspace.Description = v;\n        },\n        variant: 'v2'\n      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(ModernTextField, {\n        fullWidth: true,\n        errorText: workspace.Label && !workspace.Slug ? m('ws.editor.slug.legend') : \"\",\n        floatingLabelText: m('ws.5'),\n        value: workspace.Slug,\n        onChange: function onChange(e, v) {\n          workspace.Slug = v;\n        },\n        variant: 'v2'\n      })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(material_ui__WEBPACK_IMPORTED_MODULE_2__.Paper, {\n        zDepth: 0,\n        style: styles.section\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\"div\", {\n        style: styles.title\n      }, m('ws.editor.data.title')), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\"div\", {\n        style: styles.legend\n      }, m('ws.editor.data.legend'), \" \", m('ws.editor.default_rights')), completers, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(ModernSelectField, {\n        fullWidth: true,\n        value: workspace.Attributes['DEFAULT_RIGHTS'] || '',\n        onChange: function onChange(e, i, v) {\n          workspace.Attributes['DEFAULT_RIGHTS'] = v;\n        },\n        hintText: 'Default Rights',\n        variant: 'v2'\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(material_ui__WEBPACK_IMPORTED_MODULE_2__.MenuItem, {\n        primaryText: m('ws.editor.default_rights.none'),\n        value: \"\"\n      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(material_ui__WEBPACK_IMPORTED_MODULE_2__.MenuItem, {\n        primaryText: m('ws.editor.default_rights.read'),\n        value: \"r\"\n      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(material_ui__WEBPACK_IMPORTED_MODULE_2__.MenuItem, {\n        primaryText: m('ws.editor.default_rights.readwrite'),\n        value: \"rw\"\n      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(material_ui__WEBPACK_IMPORTED_MODULE_2__.MenuItem, {\n        primaryText: m('ws.editor.default_rights.write'),\n        value: \"w\"\n      }))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(material_ui__WEBPACK_IMPORTED_MODULE_2__.Paper, {\n        zDepth: 0,\n        style: styles.section\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\"div\", {\n        style: styles.title\n      }, m('ws.editor.other')), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\"div\", {\n        style: _objectSpread({}, styles.legend)\n      }, m('ws.editor.other.skiprecycle.legend')), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\"div\", {\n        style: styles.toggleDiv\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(material_ui__WEBPACK_IMPORTED_MODULE_2__.Checkbox, _extends({\n        label: m('ws.editor.other.skiprecycle'),\n        labelPosition: \"right\",\n        checked: workspace.Attributes['SKIP_RECYCLE'],\n        onCheck: function onCheck(e, v) {\n          workspace.Attributes['SKIP_RECYCLE'] = v;\n        }\n      }, ModernStyles.toggleFieldV2))), advanced && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(react__WEBPACK_IMPORTED_MODULE_1__.Fragment, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\"hr\", {\n        style: styles.divider\n      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\"div\", {\n        style: _objectSpread({}, styles.legend)\n      }, m('ws.editor.other.sync.legend')), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\"div\", {\n        style: styles.toggleDiv\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(material_ui__WEBPACK_IMPORTED_MODULE_2__.Checkbox, _extends({\n        label: m('ws.editor.other.sync'),\n        labelPosition: \"right\",\n        checked: workspace.Attributes['ALLOW_SYNC'],\n        onCheck: function onCheck(e, v) {\n          if (!container.hasTemplatePath() && v) {\n            _this4.enableSync(v);\n          } else if (!v) {\n            _this4.enableSync(v);\n          } else {\n            workspace.Attributes['ALLOW_SYNC'] = v;\n          }\n        }\n      }, ModernStyles.toggleFieldV2))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\"hr\", {\n        style: styles.divider\n      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\"div\", {\n        style: _objectSpread({}, styles.legend)\n      }, m('ws.editor.other.quota')), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(InputIntegerBytes, {\n        variant: 'v2',\n        attributes: {\n          label: 'Quota'\n        },\n        value: workspace.Attributes['QUOTA'] || 0,\n        onChange: function onChange(v) {\n          if (v > 0) {\n            workspace.Attributes['QUOTA'] = v + '';\n          } else {\n            workspace.Attributes['QUOTA'] = '0';\n            delete workspace.Attributes['QUOTA'];\n          }\n        }\n      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\"hr\", {\n        style: styles.divider\n      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\"div\", {\n        style: _objectSpread({}, styles.legend)\n      }, m('ws.editor.other.layout')), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(ModernSelectField, {\n        fullWidth: true,\n        floatingLabelText: m('ws.editor.other.layout'),\n        variant: \"v2\",\n        value: workspace.Attributes['META_LAYOUT'] || \"\",\n        onChange: function onChange(e, i, v) {\n          workspace.Attributes['META_LAYOUT'] = v;\n        }\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(material_ui__WEBPACK_IMPORTED_MODULE_2__.MenuItem, {\n        primaryText: m('ws.editor.other.layout.default'),\n        value: \"\"\n      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(material_ui__WEBPACK_IMPORTED_MODULE_2__.MenuItem, {\n        primaryText: m('ws.editor.other.layout.easy'),\n        value: \"meta.layout_sendfile\"\n      })))));\n    }\n  }]);\n  return WsEditor;\n}(react__WEBPACK_IMPORTED_MODULE_1__.Component);\nWsEditor = (0,material_ui_styles__WEBPACK_IMPORTED_MODULE_3__.muiThemeable)()(WsEditor);\n\n\n//# sourceURL=webpack://access.settings/./res/js/AdminWorkspaces/editor/WsEditor.js?");

/***/ }),

/***/ "./res/js/AdminWorkspaces/index.js":
/*!*****************************************!*\
  !*** ./res/js/AdminWorkspaces/index.js ***!
  \*****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"DataSource\": () => (/* reexport safe */ _model_DataSource__WEBPACK_IMPORTED_MODULE_6__[\"default\"]),\n/* harmony export */   \"DataSourceEditor\": () => (/* reexport safe */ _editor_DataSourceEditor__WEBPACK_IMPORTED_MODULE_4__[\"default\"]),\n/* harmony export */   \"DataSourcesBoard\": () => (/* reexport safe */ _board_DataSourcesBoard__WEBPACK_IMPORTED_MODULE_2__[\"default\"]),\n/* harmony export */   \"MetadataBoard\": () => (/* reexport safe */ _board_MetadataBoard__WEBPACK_IMPORTED_MODULE_3__[\"default\"]),\n/* harmony export */   \"TemplatePath\": () => (/* reexport safe */ _model_VirtualNode__WEBPACK_IMPORTED_MODULE_9__[\"default\"]),\n/* harmony export */   \"TemplatePathEditor\": () => (/* reexport safe */ _virtual_NodeCard__WEBPACK_IMPORTED_MODULE_8__[\"default\"]),\n/* harmony export */   \"VirtualNodes\": () => (/* reexport safe */ _board_VirtualNodes__WEBPACK_IMPORTED_MODULE_1__[\"default\"]),\n/* harmony export */   \"Workspace\": () => (/* reexport safe */ _model_Ws__WEBPACK_IMPORTED_MODULE_5__[\"default\"]),\n/* harmony export */   \"WsAutoComplete\": () => (/* reexport safe */ _editor_WsAutoComplete__WEBPACK_IMPORTED_MODULE_7__[\"default\"]),\n/* harmony export */   \"WsDashboard\": () => (/* reexport safe */ _board_WsDashboard__WEBPACK_IMPORTED_MODULE_0__[\"default\"])\n/* harmony export */ });\n/* harmony import */ var _board_WsDashboard__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./board/WsDashboard */ \"./res/js/AdminWorkspaces/board/WsDashboard.js\");\n/* harmony import */ var _board_VirtualNodes__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./board/VirtualNodes */ \"./res/js/AdminWorkspaces/board/VirtualNodes.js\");\n/* harmony import */ var _board_DataSourcesBoard__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./board/DataSourcesBoard */ \"./res/js/AdminWorkspaces/board/DataSourcesBoard.js\");\n/* harmony import */ var _board_MetadataBoard__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./board/MetadataBoard */ \"./res/js/AdminWorkspaces/board/MetadataBoard.js\");\n/* harmony import */ var _editor_DataSourceEditor__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./editor/DataSourceEditor */ \"./res/js/AdminWorkspaces/editor/DataSourceEditor.js\");\n/* harmony import */ var _model_Ws__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./model/Ws */ \"./res/js/AdminWorkspaces/model/Ws.js\");\n/* harmony import */ var _model_DataSource__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./model/DataSource */ \"./res/js/AdminWorkspaces/model/DataSource.js\");\n/* harmony import */ var _editor_WsAutoComplete__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./editor/WsAutoComplete */ \"./res/js/AdminWorkspaces/editor/WsAutoComplete.js\");\n/* harmony import */ var _virtual_NodeCard__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./virtual/NodeCard */ \"./res/js/AdminWorkspaces/virtual/NodeCard.js\");\n/* harmony import */ var _model_VirtualNode__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./model/VirtualNode */ \"./res/js/AdminWorkspaces/model/VirtualNode.js\");\n/*\n * Copyright 2007-2017 Charles du Jeu - Abstrium SAS <team (at) pyd.io>\n * This file is part of Pydio.\n *\n * Pydio is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * Pydio is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with Pydio.  If not, see <http://www.gnu.org/licenses/>.\n *\n * The latest code can be found at <https://pydio.com>.\n */\n\n\n\n\n\n\n\n\n\n\n\n\n\n//# sourceURL=webpack://access.settings/./res/js/AdminWorkspaces/index.js?");

/***/ }),

/***/ "./res/js/AdminWorkspaces/model/DataSource.js":
/*!****************************************************!*\
  !*** ./res/js/AdminWorkspaces/model/DataSource.js ***!
  \****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ DataSource)\n/* harmony export */ });\n/* harmony import */ var pydio_util_lang__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! pydio/util/lang */ \"pydio/util/lang\");\n/* harmony import */ var pydio_util_lang__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(pydio_util_lang__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var cells_sdk__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! cells-sdk */ \"cells-sdk\");\n/* harmony import */ var cells_sdk__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(cells_sdk__WEBPACK_IMPORTED_MODULE_1__);\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _toPropertyKey(arg) { var key = _toPrimitive(arg, \"string\"); return _typeof(key) === \"symbol\" ? key : String(key); }\nfunction _toPrimitive(input, hint) { if (_typeof(input) !== \"object\" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || \"default\"); if (_typeof(res) !== \"object\") return res; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (hint === \"string\" ? String : Number)(input); }\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n/*\n * Copyright 2007-2019 Charles du Jeu - Abstrium SAS <team (at) pyd.io>\n * This file is part of Pydio.\n *\n * Pydio is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * Pydio is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with Pydio.  If not, see <http://www.gnu.org/licenses/>.\n *\n * The latest code can be found at <https://pydio.com>.\n */\n\nvar Observable = __webpack_require__(/*! pydio/lang/observable */ \"pydio/lang/observable\");\nvar PydioApi = __webpack_require__(/*! pydio/http/api */ \"pydio/http/api\");\n\n\nvar DataSource = /*#__PURE__*/function (_Observable) {\n  _inherits(DataSource, _Observable);\n  var _super = _createSuper(DataSource);\n  function DataSource(model) {\n    var _this;\n    var existingNames = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n    var createStructure = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 'flat';\n    _classCallCheck(this, DataSource);\n    _this = _super.call(this);\n    _this.internalInvalid = false;\n    _this.nameInvalid = false;\n    _this.existingNames = existingNames;\n    if (model) {\n      _this.model = model;\n      if (!model.StorageConfiguration) {\n        model.StorageConfiguration = {};\n      }\n      _this.snapshot = JSON.parse(JSON.stringify(model));\n    } else {\n      _this.model = new cells_sdk__WEBPACK_IMPORTED_MODULE_1__.ObjectDataSource();\n      _this.model.EncryptionMode = cells_sdk__WEBPACK_IMPORTED_MODULE_1__.ObjectEncryptionMode.constructFromObject('CLEAR');\n      _this.model.StorageType = cells_sdk__WEBPACK_IMPORTED_MODULE_1__.ObjectStorageType.constructFromObject('LOCAL');\n      switch (createStructure) {\n        case \"flat\":\n          _this.model.StorageConfiguration = {\n            \"folder\": \"\",\n            \"normalize\": \"false\"\n          };\n          _this.model.FlatStorage = true;\n          break;\n        case \"structured\":\n          _this.model.StorageConfiguration = {\n            \"folder\": \"\",\n            \"normalize\": \"false\"\n          };\n          _this.model.FlatStorage = false;\n          break;\n        case \"internal\":\n          _this.model.StorageConfiguration = {\n            \"folder\": \"\",\n            \"normalize\": \"false\",\n            \"cellsInternal\": \"true\"\n          };\n          _this.model.FlatStorage = true;\n          break;\n      }\n    }\n    _this.observableModel = _this.buildProxy(_this.model);\n    return _this;\n  }\n\n  /**\n   * @return {ObjectDataSource}\n   */\n  _createClass(DataSource, [{\n    key: \"buildProxy\",\n    value: function buildProxy(object) {\n      var _this2 = this;\n      return new Proxy(object, {\n        set: function set(target, p, value) {\n          var val = value;\n          if (p === 'StorageType') {\n            target['StorageConfiguration'] = {};\n            if (val === 'LOCAL') {\n              target['StorageConfiguration'] = {\n                \"folder\": \"\",\n                \"normalize\": \"false\"\n              };\n            } else if (val === 'S3') {\n              target['StorageConfiguration'] = {\n                \"customEndpoint\": \"\"\n              };\n            } else if (val === 'GCS') {\n              target['StorageConfiguration'] = {\n                \"jsonCredentials\": \"\"\n              };\n            }\n            _this2.internalInvalid = false;\n            target['ApiKey'] = target['ApiSecret'] = ''; // reset values\n          } else if (p === 'Name') {\n            // Limit Name to 33 chars\n            val = pydio_util_lang__WEBPACK_IMPORTED_MODULE_0___default().computeStringSlug(val).replace(\"-\", \"\").substr(0, 33);\n            if (_this2.existingNames && _this2.existingNames.indexOf(val) > -1) {\n              _this2.nameInvalid = true;\n            } else {\n              _this2.nameInvalid = false;\n            }\n          } else if (p === 'folder') {\n            if (val[0] !== '/') {\n              val = '/' + val;\n            }\n          } else if (p === 'invalid') {\n            _this2.internalInvalid = value;\n            _this2.notify('update');\n            return true;\n          } else if (p === 'PeerAddress') {\n            if (value === 'ANY') {\n              val = '';\n            }\n          }\n          target[p] = val;\n          _this2.notify('update');\n          return true;\n        },\n        get: function get(target, p) {\n          var out = target[p];\n          if (out instanceof Array) {\n            return out;\n          } else if (out instanceof Object) {\n            return _this2.buildProxy(out);\n          } else if (p === 'StorageType') {\n            return out || 'LOCAL';\n          } else if (p === 'PeerAddress') {\n            return out || 'ANY';\n          } else {\n            return out;\n          }\n        }\n      });\n    }\n  }, {\n    key: \"getModel\",\n    value: function getModel() {\n      return this.observableModel;\n    }\n  }, {\n    key: \"isValid\",\n    value: function isValid() {\n      if (this.internalInvalid || this.nameInvalid) {\n        return false;\n      }\n      if (this.model.StorageType === 'S3' || this.model.StorageType === 'AZURE') {\n        return this.model.ApiKey && this.model.ApiSecret && this.model.Name && (this.model.ObjectsBucket || this.model.StorageConfiguration.bucketsRegexp);\n      } else if (this.model.StorageType === 'GCS') {\n        return this.model.Name && this.model.ObjectsBucket && this.model.StorageConfiguration && this.model.StorageConfiguration['jsonCredentials'];\n      } else {\n        return this.model.Name && this.model.StorageConfiguration && this.model.StorageConfiguration['folder'];\n      }\n    }\n\n    /**\n     *\n     * @param translateFunc {Function} Translate function\n     * @return {*}\n     */\n  }, {\n    key: \"getNameError\",\n    value: function getNameError(translateFunc) {\n      if (this.nameInvalid) {\n        return translateFunc('name.inuse');\n      } else {\n        return null;\n      }\n    }\n  }, {\n    key: \"deleteSource\",\n    value: function deleteSource() {\n      var api = new cells_sdk__WEBPACK_IMPORTED_MODULE_1__.ConfigServiceApi(PydioApi.getRestClient());\n      return api.deleteDataSource(this.model.Name);\n    }\n  }, {\n    key: \"resyncSource\",\n    value: function resyncSource() {\n      var api = new cells_sdk__WEBPACK_IMPORTED_MODULE_1__.JobsServiceApi(PydioApi.getRestClient());\n      var req = new cells_sdk__WEBPACK_IMPORTED_MODULE_1__.RestUserJobRequest();\n      req.JobName = \"datasource-resync\";\n      req.JsonParameters = JSON.stringify({\n        dsName: this.model.Name\n      });\n      return api.userCreateJob(\"datasource-resync\", req);\n    }\n  }, {\n    key: \"revert\",\n    value: function revert() {\n      this.model = this.snapshot;\n      this.observableModel = this.buildProxy(this.model);\n      this.snapshot = JSON.parse(JSON.stringify(this.model));\n      return this.observableModel;\n    }\n  }, {\n    key: \"saveSource\",\n    value: function saveSource() {\n      var _this3 = this;\n      var api = new cells_sdk__WEBPACK_IMPORTED_MODULE_1__.ConfigServiceApi(PydioApi.getRestClient());\n      return api.putDataSource(this.model.Name, this.model).then(function (res) {\n        _this3.snapshot = JSON.parse(JSON.stringify(_this3.model));\n        _this3.notify('update');\n      });\n    }\n  }, {\n    key: \"stripPrefix\",\n    value: function stripPrefix(data) {\n      var prefix = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';\n      if (!prefix) {\n        return data;\n      }\n      var obj = {};\n      Object.keys(data).map(function (k) {\n        obj[k.replace(prefix, '')] = data[k];\n      });\n      return obj;\n    }\n  }, {\n    key: \"getDataWithPrefix\",\n    value: function getDataWithPrefix() {\n      var _this4 = this;\n      var prefix = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n      if (prefix === '') {\n        return this.model;\n      }\n      var data = {};\n      Object.keys(this.model).forEach(function (k) {\n        data[prefix + k] = _this4.model[k];\n        if (k === 'EncryptionMode' && !_this4.model[k]) {\n          data[prefix + k] = 'CLEAR';\n        }\n      });\n      return data;\n    }\n  }], [{\n    key: \"loadDatasources\",\n    value: function loadDatasources() {\n      var api = new cells_sdk__WEBPACK_IMPORTED_MODULE_1__.ConfigServiceApi(PydioApi.getRestClient());\n      return api.listDataSources();\n    }\n  }, {\n    key: \"loadVersioningPolicies\",\n    value: function loadVersioningPolicies() {\n      var api = new cells_sdk__WEBPACK_IMPORTED_MODULE_1__.ConfigServiceApi(PydioApi.getRestClient());\n      return api.listVersioningPolicies();\n    }\n  }, {\n    key: \"loadStatuses\",\n    value: function loadStatuses() {\n      var api = new cells_sdk__WEBPACK_IMPORTED_MODULE_1__.ConfigServiceApi(PydioApi.getRestClient());\n      return api.listServices('STARTED');\n    }\n  }, {\n    key: \"loadEncryptionKeys\",\n    value: function loadEncryptionKeys() {\n      var api = new cells_sdk__WEBPACK_IMPORTED_MODULE_1__.ConfigServiceApi(PydioApi.getRestClient());\n      return api.listEncryptionKeys(new cells_sdk__WEBPACK_IMPORTED_MODULE_1__.EncryptionAdminListKeysRequest());\n    }\n  }, {\n    key: \"loadBuckets\",\n    value: function loadBuckets(model) {\n      var regexp = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';\n      var api = new cells_sdk__WEBPACK_IMPORTED_MODULE_1__.ConfigServiceApi(PydioApi.getRestClient());\n      var request = new cells_sdk__WEBPACK_IMPORTED_MODULE_1__.RestListStorageBucketsRequest();\n      request.DataSource = model;\n      if (regexp) {\n        request.BucketsRegexp = regexp;\n      }\n      return api.listStorageBuckets(request);\n    }\n  }, {\n    key: \"createBucket\",\n    value: function createBucket(model, bucketName) {\n      var api = new cells_sdk__WEBPACK_IMPORTED_MODULE_1__.ConfigServiceApi(PydioApi.getRestClient());\n      var request = new cells_sdk__WEBPACK_IMPORTED_MODULE_1__.RestCreateStorageBucketRequest();\n      request.DataSource = model;\n      return api.createStorageBucket(bucketName, request);\n    }\n  }]);\n  return DataSource;\n}(Observable);\n\n\n//# sourceURL=webpack://access.settings/./res/js/AdminWorkspaces/model/DataSource.js?");

/***/ }),

/***/ "./res/js/AdminWorkspaces/model/Metadata.js":
/*!**************************************************!*\
  !*** ./res/js/AdminWorkspaces/model/Metadata.js ***!
  \**************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ Metadata)\n/* harmony export */ });\n/* harmony import */ var pydio_http_api__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! pydio/http/api */ \"pydio/http/api\");\n/* harmony import */ var pydio_http_api__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(pydio_http_api__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var pydio_http_resources_manager__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! pydio/http/resources-manager */ \"pydio/http/resources-manager\");\n/* harmony import */ var pydio_http_resources_manager__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(pydio_http_resources_manager__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var cells_sdk__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! cells-sdk */ \"cells-sdk\");\n/* harmony import */ var cells_sdk__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(cells_sdk__WEBPACK_IMPORTED_MODULE_2__);\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _toPropertyKey(arg) { var key = _toPrimitive(arg, \"string\"); return _typeof(key) === \"symbol\" ? key : String(key); }\nfunction _toPrimitive(input, hint) { if (_typeof(input) !== \"object\" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || \"default\"); if (_typeof(res) !== \"object\") return res; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (hint === \"string\" ? String : Number)(input); }\n\n\n\nvar Metadata = /*#__PURE__*/function () {\n  function Metadata() {\n    _classCallCheck(this, Metadata);\n  }\n  _createClass(Metadata, null, [{\n    key: \"loadNamespaces\",\n    value: function loadNamespaces() {\n      var api = new cells_sdk__WEBPACK_IMPORTED_MODULE_2__.UserMetaServiceApi(pydio_http_api__WEBPACK_IMPORTED_MODULE_0___default().getRestClient());\n      return api.listUserMetaNamespace();\n    }\n\n    /**\n     * @param namespace {IdmUserMetaNamespace}\n     * @return {Promise}\n     */\n  }, {\n    key: \"putNS\",\n    value: function putNS(namespace) {\n      var api = new cells_sdk__WEBPACK_IMPORTED_MODULE_2__.UserMetaServiceApi(pydio_http_api__WEBPACK_IMPORTED_MODULE_0___default().getRestClient());\n      var request = new cells_sdk__WEBPACK_IMPORTED_MODULE_2__.IdmUpdateUserMetaNamespaceRequest();\n      request.Operation = cells_sdk__WEBPACK_IMPORTED_MODULE_2__.UpdateUserMetaNamespaceRequestUserMetaNsOp.constructFromObject('PUT');\n      request.Namespaces = [namespace];\n      Metadata.clearLocalCache();\n      return api.updateUserMetaNamespace(request);\n    }\n\n    /**\n     * @param namespace {IdmUserMetaNamespace}\n     * @return {Promise}\n     */\n  }, {\n    key: \"deleteNS\",\n    value: function deleteNS(namespace) {\n      var api = new cells_sdk__WEBPACK_IMPORTED_MODULE_2__.UserMetaServiceApi(pydio_http_api__WEBPACK_IMPORTED_MODULE_0___default().getRestClient());\n      var request = new cells_sdk__WEBPACK_IMPORTED_MODULE_2__.IdmUpdateUserMetaNamespaceRequest();\n      request.Operation = cells_sdk__WEBPACK_IMPORTED_MODULE_2__.UpdateUserMetaNamespaceRequestUserMetaNsOp.constructFromObject('DELETE');\n      request.Namespaces = [namespace];\n      Metadata.clearLocalCache();\n      return api.updateUserMetaNamespace(request);\n    }\n\n    /**\n     * Clear ReactMeta cache if it exists\n     */\n  }, {\n    key: \"clearLocalCache\",\n    value: function clearLocalCache() {\n      try {\n        if (window.ReactMeta) {\n          ReactMeta.Renderer.getClient().clearConfigs();\n        }\n      } catch (e) {\n        //console.log(e)\n      }\n    }\n  }]);\n  return Metadata;\n}();\nMetadata.MetaTypes = {\n  \"string\": \"Text\",\n  \"textarea\": \"Long Text\",\n  \"integer\": \"Number\",\n  \"boolean\": \"Boolean\",\n  \"date\": \"Date\",\n  \"choice\": \"Selection\",\n  \"tags\": \"Extensible Tags\",\n  \"stars_rate\": \"Stars Rating\",\n  \"css_label\": \"Color Labels\",\n  \"json\": \"JSON\"\n};\n\n\n//# sourceURL=webpack://access.settings/./res/js/AdminWorkspaces/model/Metadata.js?");

/***/ }),

/***/ "./res/js/AdminWorkspaces/model/VirtualNode.js":
/*!*****************************************************!*\
  !*** ./res/js/AdminWorkspaces/model/VirtualNode.js ***!
  \*****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ VirtualNode)\n/* harmony export */ });\n/* harmony import */ var pydio__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! pydio */ \"pydio\");\n/* harmony import */ var pydio__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(pydio__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var pydio_util_lang__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! pydio/util/lang */ \"pydio/util/lang\");\n/* harmony import */ var pydio_util_lang__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(pydio_util_lang__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var pydio_lang_observable__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! pydio/lang/observable */ \"pydio/lang/observable\");\n/* harmony import */ var pydio_lang_observable__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(pydio_lang_observable__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var pydio_http_api__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! pydio/http/api */ \"pydio/http/api\");\n/* harmony import */ var pydio_http_api__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(pydio_http_api__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var pydio_http_resources_manager__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! pydio/http/resources-manager */ \"pydio/http/resources-manager\");\n/* harmony import */ var pydio_http_resources_manager__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(pydio_http_resources_manager__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var cells_sdk__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! cells-sdk */ \"cells-sdk\");\n/* harmony import */ var cells_sdk__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(cells_sdk__WEBPACK_IMPORTED_MODULE_5__);\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(arg) { var key = _toPrimitive(arg, \"string\"); return _typeof(key) === \"symbol\" ? key : String(key); }\nfunction _toPrimitive(input, hint) { if (_typeof(input) !== \"object\" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || \"default\"); if (_typeof(res) !== \"object\") return res; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (hint === \"string\" ? String : Number)(input); }\n/*\n * Copyright 2007-2017 Charles du Jeu - Abstrium SAS <team (at) pyd.io>\n * This file is part of Pydio.\n *\n * Pydio is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * Pydio is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with Pydio.  If not, see <http://www.gnu.org/licenses/>.\n *\n * The latest code can be found at <https://pydio.com>.\n */\n\n\n\n\n\n\nvar VirtualNode = /*#__PURE__*/function (_Observable) {\n  _inherits(VirtualNode, _Observable);\n  var _super = _createSuper(VirtualNode);\n  function VirtualNode(data) {\n    var _this;\n    _classCallCheck(this, VirtualNode);\n    _this = _super.call(this);\n    _defineProperty(_assertThisInitialized(_this), \"data\", void 0);\n    if (data) {\n      _this.data = data;\n    } else {\n      _this.data = new cells_sdk__WEBPACK_IMPORTED_MODULE_5__.TreeNode();\n      _this.data.Type = cells_sdk__WEBPACK_IMPORTED_MODULE_5__.TreeNodeType.constructFromObject('COLLECTION');\n      _this.data.MetaStore = {\n        name: \"\",\n        resolution: \"\",\n        onDelete: \"rename-uuid\",\n        contentType: \"text/javascript\"\n      };\n    }\n    return _this;\n  }\n  _createClass(VirtualNode, [{\n    key: \"getName\",\n    value: function getName() {\n      return this.data.MetaStore.name;\n    }\n  }, {\n    key: \"setName\",\n    value: function setName(name) {\n      this.data.MetaStore.name = name;\n      var slug = pydio_util_lang__WEBPACK_IMPORTED_MODULE_1___default().computeStringSlug(name);\n      this.data.Uuid = slug;\n      this.data.Path = slug;\n      this.notify('update');\n    }\n  }, {\n    key: \"getValue\",\n    value: function getValue() {\n      return this.data.MetaStore.resolution;\n    }\n  }, {\n    key: \"setValue\",\n    value: function setValue(value) {\n      this.data.MetaStore.resolution = value;\n      this.notify('update');\n    }\n  }, {\n    key: \"getOnDelete\",\n    value: function getOnDelete() {\n      return this.data.MetaStore.onDelete;\n    }\n  }, {\n    key: \"setOnDelete\",\n    value: function setOnDelete(value) {\n      this.data.MetaStore.onDelete = value;\n      this.notify('update');\n    }\n  }, {\n    key: \"save\",\n    value: function save(callback) {\n      var _this2 = this;\n      pydio_http_resources_manager__WEBPACK_IMPORTED_MODULE_4___default().loadClass('EnterpriseSDK').then(function (sdk) {\n        var api = new sdk.EnterpriseConfigServiceApi(pydio_http_api__WEBPACK_IMPORTED_MODULE_3___default().getRestClient());\n        api.putVirtualNode(_this2.data.Uuid, _this2.data).then(function () {\n          callback();\n        });\n      });\n    }\n  }, {\n    key: \"remove\",\n    value: function remove(callback) {\n      var _this3 = this;\n      pydio_http_resources_manager__WEBPACK_IMPORTED_MODULE_4___default().loadClass('EnterpriseSDK').then(function (sdk) {\n        var api = new sdk.EnterpriseConfigServiceApi(pydio_http_api__WEBPACK_IMPORTED_MODULE_3___default().getRestClient());\n        api.deleteVirtualNode(_this3.data.Uuid).then(function () {\n          callback();\n        });\n      });\n    }\n  }], [{\n    key: \"loadNodes\",\n    value: function loadNodes(callback) {\n      var api = new cells_sdk__WEBPACK_IMPORTED_MODULE_5__.ConfigServiceApi(pydio_http_api__WEBPACK_IMPORTED_MODULE_3___default().getRestClient());\n      pydio__WEBPACK_IMPORTED_MODULE_0___default().startLoading();\n      api.listVirtualNodes().then(function (response) {\n        pydio__WEBPACK_IMPORTED_MODULE_0___default().endLoading();\n        var result = [];\n        if (response.Children) {\n          response.Children.map(function (treeNode) {\n            result.push(new VirtualNode(treeNode));\n          });\n        }\n        callback(result);\n      })[\"catch\"](function () {\n        pydio__WEBPACK_IMPORTED_MODULE_0___default().endLoading();\n      });\n    }\n  }]);\n  return VirtualNode;\n}((pydio_lang_observable__WEBPACK_IMPORTED_MODULE_2___default()));\n\n\n//# sourceURL=webpack://access.settings/./res/js/AdminWorkspaces/model/VirtualNode.js?");

/***/ }),

/***/ "./res/js/AdminWorkspaces/model/Ws.js":
/*!********************************************!*\
  !*** ./res/js/AdminWorkspaces/model/Ws.js ***!
  \********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ Workspace)\n/* harmony export */ });\n/* harmony import */ var pydio__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! pydio */ \"pydio\");\n/* harmony import */ var pydio__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(pydio__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var pydio_http_api__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! pydio/http/api */ \"pydio/http/api\");\n/* harmony import */ var pydio_http_api__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(pydio_http_api__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var pydio_util_lang__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! pydio/util/lang */ \"pydio/util/lang\");\n/* harmony import */ var pydio_util_lang__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(pydio_util_lang__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var pydio_lang_observable__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! pydio/lang/observable */ \"pydio/lang/observable\");\n/* harmony import */ var pydio_lang_observable__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(pydio_lang_observable__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var cells_sdk__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! cells-sdk */ \"cells-sdk\");\n/* harmony import */ var cells_sdk__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(cells_sdk__WEBPACK_IMPORTED_MODULE_4__);\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _toPropertyKey(arg) { var key = _toPrimitive(arg, \"string\"); return _typeof(key) === \"symbol\" ? key : String(key); }\nfunction _toPrimitive(input, hint) { if (_typeof(input) !== \"object\" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || \"default\"); if (_typeof(res) !== \"object\") return res; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (hint === \"string\" ? String : Number)(input); }\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\n\n\n\n\nvar Workspace = /*#__PURE__*/function (_Observable) {\n  _inherits(Workspace, _Observable);\n  var _super = _createSuper(Workspace);\n  /**\n   * @param model {IdmWorkspace}\n   */\n  function Workspace(model) {\n    var _this;\n    _classCallCheck(this, Workspace);\n    _this = _super.call(this);\n    _this.internalAttributes = {};\n    _this.dirty = false;\n    if (model) {\n      _this.initModel(model);\n    } else {\n      _this.create = true;\n      _this.model = new cells_sdk__WEBPACK_IMPORTED_MODULE_4__.IdmWorkspace();\n      _this.model.Scope = cells_sdk__WEBPACK_IMPORTED_MODULE_4__.IdmWorkspaceScope.constructFromObject('ADMIN');\n      _this.model.RootNodes = {};\n      _this.internalAttributes = {\n        \"DEFAULT_RIGHTS\": \"\"\n      };\n      _this.model.PoliciesContextEditable = true;\n      _this.model.Attributes = JSON.stringify(_this.internalAttributes);\n    }\n    _this.observableModel = _this.buildProxy(_this.model);\n    return _this;\n  }\n  _createClass(Workspace, [{\n    key: \"buildProxy\",\n    value: function buildProxy(object) {\n      var _this2 = this;\n      return new Proxy(object, {\n        set: function set(target, p, value) {\n          var val = value;\n          if (p === 'Slug') {\n            val = pydio_util_lang__WEBPACK_IMPORTED_MODULE_2___default().computeStringSlug(val);\n          } else if (p === 'Label' && _this2.create) {\n            target['Slug'] = pydio_util_lang__WEBPACK_IMPORTED_MODULE_2___default().computeStringSlug(val);\n          }\n          target[p] = val;\n          _this2.dirty = true;\n          _this2.notify('update');\n          return true;\n        },\n        get: function get(target, p) {\n          var out = target[p];\n          if (p === 'Attributes') {\n            out = _this2.internalAttributes;\n          }\n          if (out instanceof Array) {\n            return out;\n          } else if (out instanceof Object) {\n            return _this2.buildProxy(out);\n          } else {\n            return out;\n          }\n        }\n      });\n    }\n  }, {\n    key: \"initModel\",\n    value: function initModel(model) {\n      this.create = false;\n      this.dirty = false;\n      this.model = model;\n      this.snapshot = JSON.parse(JSON.stringify(model));\n      if (model.Attributes) {\n        var atts = JSON.parse(model.Attributes);\n        if (_typeof(atts) === \"object\" && Object.keys(atts).length) {\n          this.internalAttributes = atts;\n        }\n      } else {\n        this.internalAttributes = {};\n      }\n      if (!model.RootNodes) {\n        model.RootNodes = {};\n      }\n    }\n\n    /**\n     * @return {IdmWorkspace}\n     */\n  }, {\n    key: \"getModel\",\n    value: function getModel() {\n      return this.observableModel;\n    }\n\n    /**\n     * @return {boolean}\n     */\n  }, {\n    key: \"hasTemplatePath\",\n    value: function hasTemplatePath() {\n      var _this3 = this;\n      return Object.keys(this.model.RootNodes).filter(function (k) {\n        return Workspace.rootIsTemplatePath(_this3.model.RootNodes[k]);\n      }).length > 0;\n    }\n\n    /**\n     * @return {boolean}\n     */\n  }, {\n    key: \"hasFolderRoots\",\n    value: function hasFolderRoots() {\n      var _this4 = this;\n      return Object.keys(this.model.RootNodes).filter(function (k) {\n        return !Workspace.rootIsTemplatePath(_this4.model.RootNodes[k]);\n      }).length > 0;\n    }\n\n    /**\n     *\n     * @return {Promise<any>}\n     */\n  }, {\n    key: \"save\",\n    value: function save() {\n      var _this5 = this;\n      // If Policies are not set, REST service will add default policies\n      this.model.Attributes = JSON.stringify(this.internalAttributes);\n      var api = new cells_sdk__WEBPACK_IMPORTED_MODULE_4__.WorkspaceServiceApi(pydio_http_api__WEBPACK_IMPORTED_MODULE_1___default().getRestClient());\n      return api.putWorkspace(this.model.Slug, this.model).then(function (ws) {\n        _this5.initModel(ws);\n        _this5.observableModel = _this5.buildProxy(_this5.model);\n      });\n    }\n\n    /**\n     *\n     * @return {Promise}\n     */\n  }, {\n    key: \"remove\",\n    value: function remove() {\n      var api = new cells_sdk__WEBPACK_IMPORTED_MODULE_4__.WorkspaceServiceApi(pydio_http_api__WEBPACK_IMPORTED_MODULE_1___default().getRestClient());\n      return api.deleteWorkspace(this.model.Slug);\n    }\n\n    /**\n     * Revert state\n     */\n  }, {\n    key: \"revert\",\n    value: function revert() {\n      var revert = cells_sdk__WEBPACK_IMPORTED_MODULE_4__.IdmWorkspace.constructFromObject(this.snapshot || {});\n      this.initModel(revert);\n      this.observableModel = this.buildProxy(this.model);\n    }\n\n    /**\n     * @return {boolean}\n     */\n  }, {\n    key: \"isValid\",\n    value: function isValid() {\n      return this.model.Slug && this.model.Label && Object.keys(this.model.RootNodes).length > 0;\n    }\n  }, {\n    key: \"isDirty\",\n    value: function isDirty() {\n      return this.dirty;\n    }\n\n    /**\n     *\n     * @param node {TreeNode}\n     * @return bool\n     */\n  }], [{\n    key: \"rootIsTemplatePath\",\n    value: function rootIsTemplatePath(node) {\n      return !!(node.MetaStore && node.MetaStore['resolution']);\n    }\n  }, {\n    key: \"listWorkspaces\",\n    value: function listWorkspaces() {\n      var api = new cells_sdk__WEBPACK_IMPORTED_MODULE_4__.WorkspaceServiceApi(pydio_http_api__WEBPACK_IMPORTED_MODULE_1___default().getRestClient());\n      var request = new cells_sdk__WEBPACK_IMPORTED_MODULE_4__.RestSearchWorkspaceRequest();\n      var single = new cells_sdk__WEBPACK_IMPORTED_MODULE_4__.IdmWorkspaceSingleQuery();\n      single.scope = cells_sdk__WEBPACK_IMPORTED_MODULE_4__.IdmWorkspaceScope.constructFromObject('ADMIN');\n      request.Queries = [single];\n      return api.searchWorkspaces(request);\n    }\n  }]);\n  return Workspace;\n}((pydio_lang_observable__WEBPACK_IMPORTED_MODULE_3___default()));\n\n\n//# sourceURL=webpack://access.settings/./res/js/AdminWorkspaces/model/Ws.js?");

/***/ }),

/***/ "./res/js/AdminWorkspaces/virtual/NodeCard.js":
/*!****************************************************!*\
  !*** ./res/js/AdminWorkspaces/virtual/NodeCard.js ***!
  \****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ NodeCard)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var material_ui__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! material-ui */ \"material-ui\");\n/* harmony import */ var material_ui__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(material_ui__WEBPACK_IMPORTED_MODULE_1__);\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _toPropertyKey(arg) { var key = _toPrimitive(arg, \"string\"); return _typeof(key) === \"symbol\" ? key : String(key); }\nfunction _toPrimitive(input, hint) { if (_typeof(input) !== \"object\" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || \"default\"); if (_typeof(res) !== \"object\") return res; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (hint === \"string\" ? String : Number)(input); }\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n/*\n * Copyright 2007-2017 Charles du Jeu - Abstrium SAS <team (at) pyd.io>\n * This file is part of Pydio.\n *\n * Pydio is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * Pydio is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with Pydio.  If not, see <http://www.gnu.org/licenses/>.\n *\n * The latest code can be found at <https://pydio.com>.\n */\n\n\n\nvar NodeCard = /*#__PURE__*/function (_React$Component) {\n  _inherits(NodeCard, _React$Component);\n  var _super = _createSuper(NodeCard);\n  function NodeCard(props) {\n    var _this;\n    _classCallCheck(this, NodeCard);\n    _this = _super.call(this, props);\n    var value = props.node.getValue();\n    var dirty = false;\n    if (!value) {\n      value = \"// Compute the Path variable that this node must resolve to. \\n// Use Ctrl+Space to see the objects available for completion.\\nPath = \\\"\\\";\";\n      dirty = true;\n    }\n    _this.state = {\n      value: value,\n      cleanOnDelete: props.node.getOnDelete() === 'rename-uuid',\n      dirty: dirty\n    };\n    return _this;\n  }\n  _createClass(NodeCard, [{\n    key: \"onChange\",\n    value: function onChange(event, newValue) {\n      this.setState({\n        value: newValue,\n        dirty: true\n      });\n    }\n  }, {\n    key: \"save\",\n    value: function save() {\n      var _this2 = this;\n      var _this$props = this.props,\n        node = _this$props.node,\n        _this$props$onSave = _this$props.onSave,\n        onSave = _this$props$onSave === void 0 ? function () {} : _this$props$onSave;\n      var _this$state = this.state,\n        value = _this$state.value,\n        cleanOnDelete = _this$state.cleanOnDelete;\n      node.setValue(value);\n      if (cleanOnDelete) {\n        node.setOnDelete('rename-uuid');\n      } else {\n        node.setOnDelete('');\n      }\n      node.save(function () {\n        _this2.setState({\n          dirty: false\n        }, onSave);\n      });\n    }\n  }, {\n    key: \"remove\",\n    value: function remove() {\n      var _this3 = this;\n      this.props.node.remove(function () {\n        _this3.props.reloadList();\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this4 = this;\n      var _this$props2 = this.props,\n        pydio = _this$props2.pydio,\n        dataSources = _this$props2.dataSources,\n        readonly = _this$props2.readonly,\n        oneLiner = _this$props2.oneLiner,\n        _this$props2$onClose = _this$props2.onClose,\n        onClose = _this$props2$onClose === void 0 ? function () {} : _this$props2$onClose;\n      var _this$state2 = this.state,\n        value = _this$state2.value,\n        dirty = _this$state2.dirty,\n        cleanOnDelete = _this$state2.cleanOnDelete;\n      var m = function m(id) {\n        return pydio.MessageHash['ajxp_admin.virtual.' + id] || id;\n      };\n      var ds = {};\n      if (dataSources) {\n        dataSources.map(function (d) {\n          ds[d.Name] = d.Name;\n        });\n      }\n      var globalScope = {\n        Path: '',\n        DataSources: ds,\n        User: {\n          Name: '',\n          Uuid: '',\n          GroupPath: '',\n          GroupFlat: '',\n          Profile: '',\n          DisplayName: '',\n          Email: '',\n          AuthSource: '',\n          Roles: []\n        }\n      };\n      var codeMirrorField = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(AdminComponents.CodeMirrorField, {\n        mode: \"javascript\",\n        globalScope: globalScope,\n        value: value,\n        onChange: this.onChange.bind(this),\n        readOnly: readonly\n      });\n      if (oneLiner) {\n        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", {\n          style: {\n            display: 'flex'\n          }\n        }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", {\n          style: {\n            flex: 1,\n            lineHeight: \"40px\"\n          }\n        }, codeMirrorField), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", {\n          style: {\n            display: \"flex\"\n          }\n        }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(material_ui__WEBPACK_IMPORTED_MODULE_1__.IconButton, {\n          iconClassName: \"mdi mdi-content-save\",\n          onClick: this.save.bind(this),\n          disabled: !dirty,\n          tooltip: \"Save\"\n        }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(material_ui__WEBPACK_IMPORTED_MODULE_1__.IconButton, {\n          iconClassName: \"mdi mdi-close\",\n          onClick: function onClick() {\n            return onClose();\n          },\n          tooltip: \"Close\"\n        })));\n      } else {\n        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", {\n          style: {\n            backgroundColor: '#f5f5f5',\n            paddingBottom: 12\n          }\n        }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", {\n          style: {\n            padding: readonly ? '16px 24px 8px' : '10px 24px 0',\n            fontWeight: 500,\n            display: 'flex',\n            alignItems: 'center'\n          }\n        }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", {\n          style: {\n            flex: 1\n          }\n        }, m('card.title')), !readonly && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(material_ui__WEBPACK_IMPORTED_MODULE_1__.FlatButton, {\n          onClick: this.save.bind(this),\n          primary: true,\n          disabled: !dirty,\n          label: m('save')\n        })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", {\n          style: {\n            margin: '6px 24px 0 24px',\n            border: '1px solid #e0e0e0'\n          }\n        }, codeMirrorField), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", {\n          style: {\n            margin: '12px 24px'\n          }\n        }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(material_ui__WEBPACK_IMPORTED_MODULE_1__.Checkbox, {\n          disabled: readonly,\n          checked: cleanOnDelete,\n          onCheck: function onCheck(e, v) {\n            _this4.setState({\n              cleanOnDelete: v,\n              dirty: true\n            });\n          },\n          label: m('card.cleanOnDelete')\n        })));\n      }\n    }\n  }]);\n  return NodeCard;\n}((react__WEBPACK_IMPORTED_MODULE_0___default().Component));\n\n\n//# sourceURL=webpack://access.settings/./res/js/AdminWorkspaces/virtual/NodeCard.js?");

/***/ }),

/***/ "../node_modules/.pnpm/uuid@7.0.3/node_modules/uuid/dist/esm-browser/bytesToUuid.js":
/*!******************************************************************************************!*\
  !*** ../node_modules/.pnpm/uuid@7.0.3/node_modules/uuid/dist/esm-browser/bytesToUuid.js ***!
  \******************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/**\n * Convert array of 16 byte values to UUID string format of the form:\n * XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX\n */\nvar byteToHex = [];\nfor (var i = 0; i < 256; ++i) {\n  byteToHex[i] = (i + 0x100).toString(16).substr(1);\n}\nfunction bytesToUuid(buf, offset) {\n  var i = offset || 0;\n  var bth = byteToHex; // join used to fix memory issue caused by concatenation: https://bugs.chromium.org/p/v8/issues/detail?id=3175#c4\n\n  return [bth[buf[i++]], bth[buf[i++]], bth[buf[i++]], bth[buf[i++]], '-', bth[buf[i++]], bth[buf[i++]], '-', bth[buf[i++]], bth[buf[i++]], '-', bth[buf[i++]], bth[buf[i++]], '-', bth[buf[i++]], bth[buf[i++]], bth[buf[i++]], bth[buf[i++]], bth[buf[i++]], bth[buf[i++]]].join('');\n}\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (bytesToUuid);\n\n//# sourceURL=webpack://access.settings/../node_modules/.pnpm/uuid@7.0.3/node_modules/uuid/dist/esm-browser/bytesToUuid.js?");

/***/ }),

/***/ "../node_modules/.pnpm/uuid@7.0.3/node_modules/uuid/dist/esm-browser/rng.js":
/*!**********************************************************************************!*\
  !*** ../node_modules/.pnpm/uuid@7.0.3/node_modules/uuid/dist/esm-browser/rng.js ***!
  \**********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ rng)\n/* harmony export */ });\n// Unique ID creation requires a high quality random # generator. In the browser we therefore\n// require the crypto API and do not support built-in fallback to lower quality random number\n// generators (like Math.random()).\n// getRandomValues needs to be invoked in a context where \"this\" is a Crypto implementation. Also,\n// find the complete implementation of crypto (msCrypto) on IE11.\nvar getRandomValues = typeof crypto != 'undefined' && crypto.getRandomValues && crypto.getRandomValues.bind(crypto) || typeof msCrypto != 'undefined' && typeof msCrypto.getRandomValues == 'function' && msCrypto.getRandomValues.bind(msCrypto);\nvar rnds8 = new Uint8Array(16); // eslint-disable-line no-undef\n\nfunction rng() {\n  if (!getRandomValues) {\n    throw new Error('crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported');\n  }\n  return getRandomValues(rnds8);\n}\n\n//# sourceURL=webpack://access.settings/../node_modules/.pnpm/uuid@7.0.3/node_modules/uuid/dist/esm-browser/rng.js?");

/***/ }),

/***/ "../node_modules/.pnpm/uuid@7.0.3/node_modules/uuid/dist/esm-browser/v4.js":
/*!*********************************************************************************!*\
  !*** ../node_modules/.pnpm/uuid@7.0.3/node_modules/uuid/dist/esm-browser/v4.js ***!
  \*********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _rng_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./rng.js */ \"../node_modules/.pnpm/uuid@7.0.3/node_modules/uuid/dist/esm-browser/rng.js\");\n/* harmony import */ var _bytesToUuid_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./bytesToUuid.js */ \"../node_modules/.pnpm/uuid@7.0.3/node_modules/uuid/dist/esm-browser/bytesToUuid.js\");\n\n\nfunction v4(options, buf, offset) {\n  var i = buf && offset || 0;\n  if (typeof options == 'string') {\n    buf = options === 'binary' ? new Array(16) : null;\n    options = null;\n  }\n  options = options || {};\n  var rnds = options.random || (options.rng || _rng_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(); // Per 4.4, set bits for version and `clock_seq_hi_and_reserved`\n\n  rnds[6] = rnds[6] & 0x0f | 0x40;\n  rnds[8] = rnds[8] & 0x3f | 0x80; // Copy bytes to buffer, if provided\n\n  if (buf) {\n    for (var ii = 0; ii < 16; ++ii) {\n      buf[i + ii] = rnds[ii];\n    }\n  }\n  return buf || (0,_bytesToUuid_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(rnds);\n}\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (v4);\n\n//# sourceURL=webpack://access.settings/../node_modules/.pnpm/uuid@7.0.3/node_modules/uuid/dist/esm-browser/v4.js?");

/***/ }),

/***/ "cells-sdk":
/*!****************************!*\
  !*** external "cells-sdk" ***!
  \****************************/
/***/ ((module) => {

module.exports = require("cells-sdk");

/***/ }),

/***/ "create-react-class":
/*!*************************************!*\
  !*** external "create-react-class" ***!
  \*************************************/
/***/ ((module) => {

module.exports = require("create-react-class");

/***/ }),

/***/ "lodash":
/*!*************************!*\
  !*** external "lodash" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("lodash");

/***/ }),

/***/ "lodash.debounce":
/*!**********************************!*\
  !*** external "lodash.debounce" ***!
  \**********************************/
/***/ ((module) => {

module.exports = require("lodash.debounce");

/***/ }),

/***/ "material-ui":
/*!******************************!*\
  !*** external "material-ui" ***!
  \******************************/
/***/ ((module) => {

module.exports = require("material-ui");

/***/ }),

/***/ "material-ui/styles":
/*!*************************************!*\
  !*** external "material-ui/styles" ***!
  \*************************************/
/***/ ((module) => {

module.exports = require("material-ui/styles");

/***/ }),

/***/ "prop-types":
/*!*****************************!*\
  !*** external "prop-types" ***!
  \*****************************/
/***/ ((module) => {

module.exports = require("prop-types");

/***/ }),

/***/ "pydio":
/*!************************!*\
  !*** external "pydio" ***!
  \************************/
/***/ ((module) => {

module.exports = require("pydio");

/***/ }),

/***/ "pydio/http/api":
/*!*********************************!*\
  !*** external "pydio/http/api" ***!
  \*********************************/
/***/ ((module) => {

module.exports = require("pydio/http/api");

/***/ }),

/***/ "pydio/http/resources-manager":
/*!***********************************************!*\
  !*** external "pydio/http/resources-manager" ***!
  \***********************************************/
/***/ ((module) => {

module.exports = require("pydio/http/resources-manager");

/***/ }),

/***/ "pydio/lang/observable":
/*!****************************************!*\
  !*** external "pydio/lang/observable" ***!
  \****************************************/
/***/ ((module) => {

module.exports = require("pydio/lang/observable");

/***/ }),

/***/ "pydio/model/data-model":
/*!*****************************************!*\
  !*** external "pydio/model/data-model" ***!
  \*****************************************/
/***/ ((module) => {

module.exports = require("pydio/model/data-model");

/***/ }),

/***/ "pydio/model/node":
/*!***********************************!*\
  !*** external "pydio/model/node" ***!
  \***********************************/
/***/ ((module) => {

module.exports = require("pydio/model/node");

/***/ }),

/***/ "pydio/util/dom":
/*!*********************************!*\
  !*** external "pydio/util/dom" ***!
  \*********************************/
/***/ ((module) => {

module.exports = require("pydio/util/dom");

/***/ }),

/***/ "pydio/util/func":
/*!**********************************!*\
  !*** external "pydio/util/func" ***!
  \**********************************/
/***/ ((module) => {

module.exports = require("pydio/util/func");

/***/ }),

/***/ "pydio/util/lang":
/*!**********************************!*\
  !*** external "pydio/util/lang" ***!
  \**********************************/
/***/ ((module) => {

module.exports = require("pydio/util/lang");

/***/ }),

/***/ "pydio/util/path":
/*!**********************************!*\
  !*** external "pydio/util/path" ***!
  \**********************************/
/***/ ((module) => {

module.exports = require("pydio/util/path");

/***/ }),

/***/ "pydio/util/xml":
/*!*********************************!*\
  !*** external "pydio/util/xml" ***!
  \*********************************/
/***/ ((module) => {

module.exports = require("pydio/util/xml");

/***/ }),

/***/ "react":
/*!************************!*\
  !*** external "react" ***!
  \************************/
/***/ ((module) => {

module.exports = require("react");

/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			// no module.id needed
/******/ 			// no module.loaded needed
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId](module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/************************************************************************/
/******/ 	/* webpack/runtime/compat get default export */
/******/ 	(() => {
/******/ 		// getDefaultExport function for compatibility with non-harmony modules
/******/ 		__webpack_require__.n = (module) => {
/******/ 			var getter = module && module.__esModule ?
/******/ 				() => (module['default']) :
/******/ 				() => (module);
/******/ 			__webpack_require__.d(getter, { a: getter });
/******/ 			return getter;
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/define property getters */
/******/ 	(() => {
/******/ 		// define getter functions for harmony exports
/******/ 		__webpack_require__.d = (exports, definition) => {
/******/ 			for(var key in definition) {
/******/ 				if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
/******/ 					Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
/******/ 				}
/******/ 			}
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/hasOwnProperty shorthand */
/******/ 	(() => {
/******/ 		__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/make namespace object */
/******/ 	(() => {
/******/ 		// define __esModule on exports
/******/ 		__webpack_require__.r = (exports) => {
/******/ 			if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 				Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 			}
/******/ 			Object.defineProperty(exports, '__esModule', { value: true });
/******/ 		};
/******/ 	})();
/******/ 	
/************************************************************************/
/******/ 	
/******/ 	// startup
/******/ 	// Load entry module and return exports
/******/ 	// This entry module can't be inlined because the eval devtool is used.
/******/ 	var __webpack_exports__ = __webpack_require__("./res/js/AdminWorkspaces/index.js");
/******/ 	window.AdminWorkspaces = __webpack_exports__;
/******/ 	
/******/ })()
;