!function(e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).ReactMeta=e()}(function(){return function n(o,a,i){function l(t,e){if(!a[t]){if(!o[t]){var r="function"==typeof require&&require;if(!e&&r)return r(t,!0);if(u)return u(t,!0);throw(e=new Error("Cannot find module '"+t+"'")).code="MODULE_NOT_FOUND",e}r=a[t]={exports:{}},o[t][0].call(r.exports,function(e){return l(o[t][1][e]||e)},r,r.exports,n,o,a,i)}return a[t].exports}for(var u="function"==typeof require&&require,e=0;e<i.length;e++)l(i[e]);return l}({1:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o=(e=e("pydio"))&&e.__esModule?e:{default:e};function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,function(e){e=function(e,t){if("object"!==a(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0===r)return("string"===t?String:Number)(e);r=r.call(e,t||"default");if("object"!==a(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string");return"symbol"===a(e)?e:String(e)}(n.key),n)}}e=function(){function e(){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function")}var t,r,n;return t=e,n=[{key:"editMeta",value:function(){var e=o.default.getInstance();e.UI.openComponentInModal("ReactMeta","UserMetaDialog",{dialogTitleId:489,selection:e.getUserSelection()})}}],(r=null)&&i(t.prototype,r),n&&i(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();r.default=e,t.exports=r.default},{pydio:"pydio"}],2:[function(e,t,r){"use strict";function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var l=i(e("react")),n=i(e("pydio")),a=i(e("./MetaClient")),u=i(e("./UserMetaPanel")),c=e("material-ui");function i(e){return e&&e.__esModule?e:{default:e}}function f(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}function s(n){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?f(Object(o),!0).forEach(function(e){var t,r;t=n,r=o[e=e],(e=d(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(o)):f(Object(o)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(o,e))})}return n}function p(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,d(n.key),n)}}function d(e){e=function(e,t){if("object"!==o(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0===r)return("string"===t?String:Number)(e);r=r.call(e,t||"default");if("object"!==o(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string");return"symbol"===o(e)?e:String(e)}function y(e,t){return(y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function m(r){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=b(r),t=(e=n?(e=b(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),this);if(e&&("object"===o(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}}function b(e){return(b=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var v=n.default.requireLib("workspaces").InfoPanelCard,e=function(e){var t=o;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&y(t,e);var r,n=m(o);function o(e){var t;if(this instanceof o)return(t=n.call(this,e)).state={},t._nodeObserver=function(){t.refs.panel&&t.refs.panel.resetUpdateData(),t.forceUpdate()},e.node&&e.node.observe("node_replaced",t._nodeObserver),t;throw new TypeError("Cannot call a class as a function")}return t=o,(e=[{key:"componentWillReceiveProps",value:function(e){this.props.node&&this.props.node.stopObserving("node_replaced",this._nodeObserver),e.node!==this.props.node&&this.refs.panel&&e.node.observe("node_replaced",this._nodeObserver)}},{key:"componentWillUnmount",value:function(){this.props.node&&this.props.node.stopObserving("node_replaced",this._nodeObserver)}},{key:"saveMeta",value:function(){var e=this.refs.panel.getUpdateData();return a.default.getInstance().saveMeta(this.props.pydio.getContextHolder().getSelectedNodes(),e)}},{key:"onChangeUpdateData",value:function(e){this.setState({updateData:e})}},{key:"render",value:function(){var t=this,e=[],r=this.props,n=r.pydio,o=r.node,r=r.popoverPanel,n=n.MessageHash,a=this.state.updateData||new Map,o="true"===o.getMetadata().get("node_readonly"),i=!1,a=(!o&&0<a.size&&(i=!0,e.push(l.default.createElement(c.FlatButton,{key:"edit",label:n["meta.user.15"],onClick:function(){t.saveMeta()}}))),{});return r&&(a=s(s({},a),{},{maxHeight:"80vh",overflowY:"auto"})),i||(a=s(s({},a),{},{paddingBottom:16})),l.default.createElement(v,{identifier:"meta-user",style:this.props.style,title:this.props.pydio.MessageHash["meta.user.1"],actions:e.length?e:null,icon:"tag-multiple",iconColor:"#00ACC1",popoverPanel:r},l.default.createElement(u.default,{ref:"panel",node:this.props.node,editMode:!o,pydio:this.props.pydio,onChangeUpdateData:function(e){t.onChangeUpdateData(e)},autoSave:function(){t.saveMeta()},style:a}))}}])&&p(t.prototype,e),r&&p(t,r),Object.defineProperty(t,"prototype",{writable:!1}),o}(l.default.Component);r.default=e,t.exports=r.default},{"./MetaClient":3,"./UserMetaPanel":8,"material-ui":"material-ui",pydio:"pydio",react:"react"}],3:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o=(c=e("pydio/http/api"))&&c.__esModule?c:{default:c},l=e("cells-sdk");function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,l=[],u=!0,c=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);u=!0);}catch(e){c=!0,o=e}finally{try{if(!u&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw o}}return l}}(e,t)||function(e,t){var r;if(e)return"string"==typeof e?n(e,t):"Map"===(r="Object"===(r=Object.prototype.toString.call(e).slice(8,-1))&&e.constructor?e.constructor.name:r)||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?n(e,t):void 0}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function u(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,function(e){e=function(e,t){if("object"!==a(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0===r)return("string"===t?String:Number)(e);r=r.call(e,t||"default");if("object"!==a(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string");return"symbol"===a(e)?e:String(e)}(n.key),n)}}var c=function(){function e(){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");this.client=o.default.getRestClient()}var t,r,n;return t=e,n=[{key:"getInstance",value:function(){return e.Instance=e.Instance?e.Instance:new e}}],(r=[{key:"saveMeta",value:function(o,a){var e=this,i=new l.UserMetaServiceApi(this.client);return new Promise(function(r,n){e.loadConfigs().then(function(e){var t=[];o.map(function(n){var o=new l.IdmUpdateUserMetaRequest;o.MetaDatas=[],o.Operation="PUT",e.forEach(function(e,t){var r;a.has(t)&&((r=new l.IdmUserMeta).NodeUuid=n.getMetadata().get("uuid"),r.Namespace=t,r.JsonValue=JSON.stringify(a.get(t)),r.Policies=[l.ServiceResourcePolicy.constructFromObject({Action:"READ",Subject:"*",Effect:"allow"}),l.ServiceResourcePolicy.constructFromObject({Action:"WRITE",Subject:"*",Effect:"allow"})],o.MetaDatas.push(r))}),t.push(i.updateUserMeta(o))}),Promise.all(t).then(function(){r()}).catch(function(e){n(e)})})})}},{key:"clearConfigs",value:function(){this.configs=null}},{key:"loadConfigs",value:function(){var n=this;return this.configs?Promise.resolve(this.configs):(this.promise||(this.promise=new Promise(function(t){var o={},r=new Map;new l.UserMetaServiceApi(n.client).listUserMetaNamespace().then(function(e){e.Namespaces.map(function(e){var t,r=e.Namespace,n={label:e.Label,indexable:e.Indexable,order:e.Order,visible:!0,readonly:!e.PoliciesContextEditable};e.JsonDefinition&&(t=JSON.parse(e.JsonDefinition),Object.keys(t).map(function(e){"hide"===e?n.visible=!t[e]:n[e]=t[e]})),o[r]=n});e=Object.entries(o).map(function(e){return e[1].ns=e[0],e[1]});e.sort(function(e,t){e=e.order||0,t=t.order||0;return t<e?1:e===t?0:-1}),e.map(function(e){var t;"choice"===e.type&&e.data&&e.data.split&&(t=e.data.split(",").map(function(e){e=i(e.split("|"),2);return{key:e[0],value:e[1]}}),e.data={items:t}),r.set(e.ns,e)}),n.configs=r,t(r),n.promise=null}).catch(function(){t(new Map),n.promise=null})})),this.promise)}},{key:"listTags",value:function(e){var r=this;return new Promise(function(t){new l.UserMetaServiceApi(r.client).listUserMetaTags(e).then(function(e){e.Tags?t(e.Tags):t([])}).catch(function(e){t([])})})}},{key:"createTag",value:function(e,t){return new l.UserMetaServiceApi(this.client).putUserMetaTag(e,l.RestPutUserMetaTagRequest.constructFromObject({Namespace:e,Tag:t}))}}])&&u(t.prototype,r),n&&u(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();r.default=c,t.exports=r.default},{"cells-sdk":"cells-sdk","pydio/http/api":"pydio/http/api"}],4:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i=n(e("react")),l=e("material-ui"),o=n(e("./fields/StarsField")),a=n(e("./fields/SelectorField")),u=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==h(e)&&"function"!=typeof e)return{default:e};t=v(t);if(t&&t.has(e))return t.get(e);var r,n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(r in e){var a;"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&((a=o?Object.getOwnPropertyDescriptor(e,r):null)&&(a.get||a.set)?Object.defineProperty(n,r,a):n[r]=e[r])}n.default=e,t&&t.set(e,n);return n}(e("./fields/CssLabelsField")),c=n(e("./hoc/colorsFromString")),f=n(e("./fields/StarsForm")),s=n(e("./fields/SelectorForm")),p=n(e("./MetaClient")),d=n(e("./fields/TagsCloud")),y=e("./fields/DateTime"),m=n(e("./fields/BooleanForm")),b=e("./fields/Integer");function v(e){var t,r;return"function"!=typeof WeakMap?null:(t=new WeakMap,r=new WeakMap,(v=function(e){return e?r:t})(e))}function n(e){return e&&e.__esModule?e:{default:e}}function h(e){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function g(){return(g=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r,n=arguments[t];for(r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function O(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}function j(n){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?O(Object(o),!0).forEach(function(e){var t,r;t=n,r=o[e=e],(e=P(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(o)):O(Object(o)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(o,e))})}return n}function w(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,P(n.key),n)}}function P(e){e=function(e,t){if("object"!==h(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0===r)return("string"===t?String:Number)(e);r=r.call(e,t||"default");if("object"!==h(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string");return"symbol"===h(e)?e:String(e)}e=function(){function r(){if(!(this instanceof r))throw new TypeError("Cannot call a class as a function")}var e,t,n;return e=r,n=[{key:"renderStars",value:function(e,t){return e.getMetadata().get(t.name)?i.default.createElement(o.default,{node:e,column:t,size:"small"}):null}},{key:"renderBoolean",value:function(e,t){return e.getMetadata().get(t.name)?i.default.createElement("span",null,i.default.createElement("span",{className:"mdi mdi-check",style:{color:"#4caf50"}})," ",t.label):null}},{key:"renderSelector",value:function(e,t){return e.getMetadata().get(t.name)?i.default.createElement(a.default,{node:e,column:t}):null}},{key:"renderCSSLabel",value:function(e,t){return e.getMetadata().get(t.name)?i.default.createElement(u.default,{node:e,column:t}):null}},{key:"renderTagsCloud",value:function(e,t){var n,o;return e.getMetadata().get(t.name)&&(n={display:"inline-block",backgroundColor:"#E1BEE7",borderRadius:6,height:22,lineHeight:"22px",padding:"0 6px",color:"#9C27B0",fontWeight:500,fontSize:12,marginLeft:2,marginRight:6},o=e.getMetadata().get(t.name))&&o.split?i.default.createElement("span",null,o.split(",").map(function(e,t){var r=j(j({},n),(0,c.default)(e));return t===o.split(",").length-1&&(r=j(j({},r),{},{marginRight:-4})),i.default.createElement("span",{style:r},e)})):null}},{key:"renderDate",value:function(e,t){return e.getMetadata().get(t.name)?i.default.createElement(y.DateTimeField,{node:e,column:t,type:"date"}):null}},{key:"renderInteger",value:function(e,t){return e.getMetadata().get(t.name)?i.default.createElement(b.IntegerField,{node:e,column:t,inline:!0}):null}},{key:"formPanelStars",value:function(e){return i.default.createElement(f.default,g({},e,{search:!0}))}},{key:"formPanelCssLabels",value:function(e,t){var r=Object.keys((0,u.getCssLabels)()).map(function(e){var t=(0,u.getCssLabels)()[e],t=i.default.createElement("span",null,i.default.createElement("span",{className:"mdi mdi-label",style:{color:t.color,marginRight:5}}),t.label);return i.default.createElement(l.MenuItem,{value:e,primaryText:t})}.bind(this));return i.default.createElement(s.default,g({},e,{menuItems:r,search:!t}))}},{key:"formPanelSelectorFilter",value:function(a,e){function r(e,t){var r,e=e.get(a.fieldname),n=[],o=[];e&&e.data&&e.data.items&&(n=e.data.items.map(function(e){o.push(e.key);var t=e.value;return e.color&&(t=i.default.createElement("span",null,i.default.createElement("span",{className:"mdi mdi-label",style:{color:e.color,marginRight:5}}),e.value)),i.default.createElement(l.MenuItem,{value:e.key,primaryText:t})})),e&&e.data&&e.data.steps&&(r=!0),t(n,o,r)}return i.default.createElement(s.default,g({},a,{menuItems:[],itemsLoader:function(t){e?r(e,t):p.default.getInstance().loadConfigs().then(function(e){return r(e,t)})},search:!e}))}},{key:"formPanelTags",value:function(e,t){return i.default.createElement(d.default,g({},e,{editMode:!0,search:!t}))}},{key:"formPanelDate",value:function(e){return i.default.createElement(y.DateTimeForm,g({type:"date"},e,{editMode:!0,search:!0}))}},{key:"formPanelBoolean",value:function(e){return i.default.createElement(m.default,g({},e,{search:!0}))}},{key:"formPanelInteger",value:function(e){return i.default.createElement(b.IntegerForm,g({},e,{search:!0}))}},{key:"typeFormRenderer",value:function(e){switch(e){case"stars_rate":return r.formPanelStars;case"css_label":return r.formPanelCssLabels;case"choice":return r.formPanelSelectorFilter;case"tags":return r.formPanelTags;case"integer":return r.formPanelInteger;case"boolean":return r.formPanelBoolean;case"date":return r.formPanelDate;default:return null}}},{key:"typeColumnRenderer",value:function(e){var t;switch(e){case"stars_rate":t={renderComponent:r.renderStars,sortType:"number"};break;case"css_label":t={renderComponent:r.renderCSSLabel,sortType:"string"};break;case"choice":t={renderComponent:r.renderSelector,sortType:"string"};break;case"tags":t={renderComponent:r.renderTagsCloud,renderBlock:!0};break;case"integer":t={renderComponent:r.renderInteger,sortType:"number"};break;case"boolean":t={renderComponent:r.renderBoolean,sortType:"number"};break;case"date":t={renderComponent:r.renderDate,sortType:"number"};break;default:return{}}return t.renderComponent&&(t.renderCell=t.renderComponent),t}}],(t=null)&&w(e.prototype,t),n&&w(e,n),Object.defineProperty(e,"prototype",{writable:!1}),r}();r.default=e,t.exports=r.default},{"./MetaClient":3,"./fields/BooleanForm":9,"./fields/CssLabelsField":10,"./fields/DateTime":11,"./fields/Integer":12,"./fields/SelectorField":13,"./fields/SelectorForm":14,"./fields/StarsField":15,"./fields/StarsForm":16,"./fields/TagsCloud":17,"./hoc/colorsFromString":20,"material-ui":"material-ui",react:"react"}],5:[function(e,t,r){"use strict";function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var p=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!=typeof e)return{default:e};t=l(t);if(t&&t.has(e))return t.get(e);var r,n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(r in e){var a;"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&((a=o?Object.getOwnPropertyDescriptor(e,r):null)&&(a.get||a.set)?Object.defineProperty(n,r,a):n[r]=e[r])}n.default=e,t&&t.set(e,n);return n}(e("react")),n=o(e("pydio")),a=o(e("pydio/util/lang")),d=e("material-ui"),y=o(e("./TypeSelectionBoard"));function o(e){return e&&e.__esModule?e:{default:e}}function l(e){var t,r;return"function"!=typeof WeakMap?null:(t=new WeakMap,r=new WeakMap,(l=function(e){return e?r:t})(e))}function m(){return(m=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r,n=arguments[t];for(r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function u(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}function c(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?u(Object(r),!0).forEach(function(e){f(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}function f(e,t,r){return(t=h(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function s(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,l=[],u=!0,c=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);u=!0);}catch(e){c=!0,o=e}finally{try{if(!u&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw o}}return l}}(e,t)||function(e,t){var r;if(e)return"string"==typeof e?b(e,t):"Map"===(r="Object"===(r=Object.prototype.toString.call(e).slice(8,-1))&&e.constructor?e.constructor.name:r)||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?b(e,t):void 0}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function v(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,h(n.key),n)}}function h(e){e=function(e,t){if("object"!==i(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0===r)return("string"===t?String:Number)(e);r=r.call(e,t||"default");if("object"!==i(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string");return"symbol"===i(e)?e:String(e)}function g(e,t){return(g=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function O(r){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=j(r),t=(e=n?(e=j(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),this);if(e&&("object"===i(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}}function j(e){return(j=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var e=n.default.requireLib("hoc"),w=e.ModernSelectField,P=e.ModernTextField,S=e.ModernStyles,E={string:"Text",textarea:"Long Text",integer:"Number",boolean:"Boolean",date:"Date",choice:"Selection",tags:"Extensible Tags",stars_rate:"Stars Rating",css_label:"Color Labels",json:"JSON"},n=function(e){var t=o;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&g(t,e);var r,n=O(o);function o(){var e=this,t=o;if(e instanceof t)return n.apply(this,arguments);throw new TypeError("Cannot call a class as a function")}return t=o,(e=[{key:"updateType",value:function(e){var t=this.props,r=t.namespace,t=t.onChange,e={type:e};"date"===e&&(e.data={format:"date",display:"normal"}),r.JsonDefinition=JSON.stringify(e),t(r)}},{key:"updateLabel",value:function(e){var t=this.props,r=t.create,n=t.namespace,o=t.onChange,t=t.forcePrefix;!r||n.Namespace&&n.Namespace!==(void 0===t?"":t)+a.default.computeStringSlug(n.Label)||this.updateName(e),n.Label=e,o(n)}},{key:"updateName",value:function(e){var t=this.props,r=t.namespace,n=t.onChange,t=t.forcePrefix,e=a.default.computeStringSlug(e);t&&0!==e.indexOf(t)&&(e=t+e),r.Namespace=e,n(r)}},{key:"getAdditionalData",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=this.props.namespace;try{var r=JSON.parse(t.JsonDefinition).data||e;return e.items&&r.split?{items:r.split(",").map(function(e){e=s(e.split("|"),2);return{key:e[0],value:e[1]}})}:r}catch(e){}return e}},{key:"setAdditionalDataKey",value:function(e,t){var r=this.props,n=r.namespace,r=r.onChange,o=JSON.parse(n.JsonDefinition),e=f({},e,t);o.data=c(c({},o.data),e),n.JsonDefinition=JSON.stringify(o),r(n)}},{key:"render",value:function(){var n=this,e=this.props,t=e.pydio,r=e.create,o=e.namespace,a=e.readonly,i=e.labelError,l=e.nameError,u=e.styles,c=e.metaTypes,f=void 0===c?E:c,c=e.showMandatory,e=void 0!==c&&c,s=(s=this.props.m)||function(e){return t.MessageHash["ajxp_admin.metadata."+e]||e},c="string";return o.JsonDefinition&&(c=JSON.parse(o.JsonDefinition).type),p.default.createElement("div",null,p.default.createElement(P,{floatingLabelText:s("label"),value:o.Label,onChange:function(e,t){n.updateLabel(t)},fullWidth:!0,errorText:i,disabled:a,variant:"v2"}),p.default.createElement(P,{floatingLabelText:s("namespace"),disabled:!r,value:o.Namespace,onChange:function(e,t){n.updateName(t)},fullWidth:!0,errorText:l,variant:"v2"}),p.default.createElement("div",{style:u.section},s("type")),p.default.createElement(w,{hintText:s("type"),value:c,onChange:function(e,t,r){return n.updateType(r)},disabled:a,fullWidth:!0,variant:"v2"},Object.keys(f).map(function(e){return p.default.createElement(d.MenuItem,{value:e,primaryText:s("type."+e)||f[e]})})),"choice"===c&&p.default.createElement(y.default,{data:this.getAdditionalData({items:[],steps:!1}),setAdditionalDataKey:this.setAdditionalDataKey.bind(this),m:s}),"date"===c&&p.default.createElement(p.Fragment,null,p.default.createElement(w,{hintText:s("type.date.format"),value:this.getAdditionalData({format:"date",display:"normal"}).format,onChange:function(e,t,r){return n.setAdditionalDataKey("format",r)},disabled:a,fullWidth:!0,variant:"v2"},p.default.createElement(d.MenuItem,{value:"date",primaryText:s("type.date.format.date")}),p.default.createElement(d.MenuItem,{value:"date-time",primaryText:s("type.date.format.date-time")}),p.default.createElement(d.MenuItem,{value:"time",primaryText:s("type.date.format.time")})),p.default.createElement(w,{hintText:s("type.date.display"),value:this.getAdditionalData({format:"date",display:"normal"}).display,onChange:function(e,t,r){return n.setAdditionalDataKey("display",r)},disabled:a,fullWidth:!0,variant:"v2"},p.default.createElement(d.MenuItem,{value:"normal",primaryText:s("type.date.display.normal")}),p.default.createElement(d.MenuItem,{value:"relative",primaryText:s("type.date.display.relative")}))),"integer"===c&&p.default.createElement(p.Fragment,null,p.default.createElement(w,{hintText:s("type.integer.format"),value:this.getAdditionalData({format:"general"}).format||"general",onChange:function(e,t,r){return n.setAdditionalDataKey("format",r)},disabled:a,fullWidth:!0,variant:"v2"},p.default.createElement(d.MenuItem,{value:"general",primaryText:s("type.integer.format.general")}),p.default.createElement(d.MenuItem,{value:"bytesize",primaryText:s("type.integer.format.bytesize")}),p.default.createElement(d.MenuItem,{value:"percentage",primaryText:s("type.integer.format.percentage")}),p.default.createElement(d.MenuItem,{value:"progress",primaryText:s("type.integer.format.progress")}))),e&&p.default.createElement(p.Fragment,null,p.default.createElement(d.Toggle,m({},S.toggleFieldV2,{toggled:this.getAdditionalData({mandatory:!1}).mandatory,onToggle:function(e,t){n.setAdditionalDataKey("mandatory",t)},label:s("field.mandatory"),labelPosition:"right"}))))}}])&&v(t.prototype,e),r&&v(t,r),Object.defineProperty(t,"prototype",{writable:!1}),o}(p.default.Component);n.MetaTypes=E,r.default=n,t.exports=r.default},{"./TypeSelectionBoard":6,"material-ui":"material-ui",pydio:"pydio","pydio/util/lang":"pydio/util/lang",react:"react"}],6:[function(e,t,r){"use strict";function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var u=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!=typeof e)return{default:e};t=l(t);if(t&&t.has(e))return t.get(e);var r,n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(r in e){var a;"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&((a=o?Object.getOwnPropertyDescriptor(e,r):null)&&(a.get||a.set)?Object.defineProperty(n,r,a):n[r]=e[r])}n.default=e,t&&t.set(e,n);return n}(e("react")),c=e("material-ui");function l(e){var t,r;return"function"!=typeof WeakMap?null:(t=new WeakMap,r=new WeakMap,(l=function(e){return e?r:t})(e))}function f(){return(f=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r,n=arguments[t];for(r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,function(e){e=function(e,t){if("object"!==i(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0===r)return("string"===t?String:Number)(e);r=r.call(e,t||"default");if("object"!==i(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string");return"symbol"===i(e)?e:String(e)}(n.key),n)}}function s(e,t){return(s=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function p(r){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=o(r),t=(e=n?(e=o(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),this);if(e&&("object"===i(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}}function o(e){return(o=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var e=Pydio.requireLib("hoc"),d=e.ModernSelectField,y=e.ModernTextField,m=e.ModernStyles,e=function(e){var t=o;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&s(t,e);var r,n=p(o);function o(e){if(this instanceof o)return(e=n.call(this,e)).state={},e;throw new TypeError("Cannot call a class as a function")}return t=o,(e=[{key:"addSelectionValue",value:function(){var e=this.state,t=e.selectorNewKey,r=e.selectorNewValue,e=e.selectorNewColor,n=this.props,o=n.data,n=n.setAdditionalDataKey,o=o.items,o=void 0===o?[]:o;o.push({key:t,value:r,color:e}),n("items",o),this.setState({selectorNewKey:"",selectorNewValue:"",selectorNewColor:""})}},{key:"removeSelectionValue",value:function(t){var e=this.props,r=e.data,e=e.setAdditionalDataKey,r=r.items;e("items",(void 0===r?[]:r).filter(function(e){return e.key!==t}))}},{key:"renderColor",value:function(){var n=this,e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",t=1<arguments.length&&void 0!==arguments[1]&&arguments[1];return t?u.default.createElement("span",{className:"mdi mdi-label"+(e?"":"-outline"),style:{color:e||"#ccc",marginRight:5}}):u.default.createElement("span",{style:{width:60,marginRight:6}},u.default.createElement(d,{disabled:t,fullWidth:!0,value:e,onChange:function(e,t,r){n.setState({selectorNewColor:r})}},u.default.createElement(c.MenuItem,{value:"",primaryText:u.default.createElement("span",{className:"mdi mdi-label-outline",style:{color:"#ccc"}})}),["#9c27b0","#607d8b","#66c","#69c","#6c6","#696","#c96","#ff9800","#c66","#fff","#ccc","#999","#000"].map(function(e){return u.default.createElement(c.MenuItem,{value:e,primaryText:u.default.createElement("span",{className:"mdi mdi-label",style:{color:e}})})})))}},{key:"render",value:function(){var n=this,e=this.props,t=e.data,r=e.m,o=e.setAdditionalDataKey,e=this.state,a=e.selectorNewKey,i=e.selectorNewValue,e=e.selectorNewColor,l=t.items,l=void 0===l?[]:l;return u.default.createElement(u.Fragment,null,u.default.createElement("div",{style:{padding:10,paddingRight:0,backgroundColor:"#f5f5f5",borderRadius:3}},u.default.createElement("div",{style:{fontSize:13}},r("editor.selection")),u.default.createElement("div",null,l.map(function(e){var t=e.key,r=e.value,e=e.color;return u.default.createElement("div",{key:t,style:{display:"flex",alignItems:"center"}},n.renderColor(e,!0),u.default.createElement("span",{style:{marginRight:6,width:80}},u.default.createElement(y,{value:t,disabled:!0,fullWidth:!0})),u.default.createElement("span",{style:{flex:1}},u.default.createElement(y,{value:r,disabled:!0,fullWidth:!0})),u.default.createElement("span",null,u.default.createElement(c.IconButton,{iconClassName:"mdi mdi-delete",iconStyle:{color:"rgba(0,0,0,.3)"},onClick:function(){n.removeSelectionValue(t)}})))})),u.default.createElement("div",{style:{display:"flex"},key:"new-selection-key"},this.renderColor(e),u.default.createElement("span",{style:{width:80,marginRight:6}},u.default.createElement(y,{value:a,onChange:function(e,t){n.setState({selectorNewKey:t})},hintText:r("editor.selection.key"),fullWidth:!0})),u.default.createElement("span",{style:{flex:1}},u.default.createElement(y,{value:i,onChange:function(e,t){n.setState({selectorNewValue:t})},hintText:r("editor.selection.value"),fullWidth:!0})),u.default.createElement("span",null,u.default.createElement(c.IconButton,{iconClassName:"mdi mdi-plus",onClick:function(){n.addSelectionValue()},disabled:!a||!i})))),u.default.createElement("div",null,u.default.createElement(c.Toggle,f({label:r("editor.selection.steps"),labelPosition:"left",toggled:t.steps,onToggle:function(e,t){return o("steps",t)}},m.toggleFieldV2))))}}])&&a(t.prototype,e),r&&a(t,r),Object.defineProperty(t,"prototype",{writable:!1}),o}(u.default.Component);r.default=e,t.exports=r.default},{"material-ui":"material-ui",react:"react"}],7:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n=s(e("react")),o=s(e("pydio")),a=s(e("pydio/model/node")),i=s(e("pydio/model/data-model")),l=s(e("create-react-class")),u=s(e("prop-types")),c=s(e("./MetaClient")),f=s(e("./UserMetaPanel"));function s(e){return e&&e.__esModule?e:{default:e}}var e=o.default.requireLib("boot"),o=e.ActionDialogMixin,p=e.CancelButtonProviderMixin,e=e.SubmitButtonProviderMixin,l=(0,l.default)({displayName:"UserMetaDialog",propsTypes:{selection:u.default.instanceOf(i.default)},mixins:[o,p,e],saveMeta:function(){var e=this.refs.panel.getUpdateData();return e.forEach(function(e,t){t,0}),c.default.getInstance().saveMeta(this.props.selection.getSelectedNodes(),e)},submit:function(){var e=this;this.saveMeta().then(function(){e.dismiss()})},render:function(){return n.default.createElement(f.default,{pydio:this.props.pydio,multiple:!this.props.selection.isUnique(),ref:"panel",node:this.props.selection.isUnique()?this.props.selection.getUniqueNode():new a.default,editMode:!0})}});r.default=l,t.exports=r.default},{"./MetaClient":3,"./UserMetaPanel":8,"create-react-class":"create-react-class","prop-types":"prop-types",pydio:"pydio","pydio/model/data-model":"pydio/model/data-model","pydio/model/node":"pydio/model/node",react:"react"}],8:[function(e,t,r){"use strict";function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var j=a(e("react")),n=a(e("pydio")),i=a(e("./MetaClient")),w=a(e("./fields/StarsForm")),P=a(e("./fields/StarsField")),S=a(e("./fields/CssLabelsField")),E=a(e("./fields/SelectorField")),M=a(e("./fields/TagsCloud")),_=a(e("./Renderer")),k=e("material-ui"),T=e("./fields/DateTime"),C=a(e("./fields/BooleanForm")),x=e("./fields/Integer");function a(e){return e&&e.__esModule?e:{default:e}}function l(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}function u(n){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?l(Object(o),!0).forEach(function(e){var t,r;t=n,r=o[e=e],(e=f(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(o)):l(Object(o)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(o,e))})}return n}function D(){return(D=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r,n=arguments[t];for(r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function c(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,f(n.key),n)}}function f(e){e=function(e,t){if("object"!==o(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0===r)return("string"===t?String:Number)(e);r=r.call(e,t||"default");if("object"!==o(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string");return"symbol"===o(e)?e:String(e)}function s(e,t){return(s=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function p(r){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=d(r),t=(e=n?(e=d(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),this);if(e&&("object"===o(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var R=n.default.requireLib("hoc").ModernTextField,F=n.default.requireLib("components").EmptyStateView,e=function(e){var t=o;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&s(t,e);var r,n=p(o);function o(e){if(this instanceof o)return void 0===e.editMode&&(e.editMode=!1),(e=n.call(this,e)).state={updateMeta:new Map,fields:{},configs:new Map},e;throw new TypeError("Cannot call a class as a function")}return t=o,(e=[{key:"componentDidMount",value:function(){var a=this;(this.props.loader?this.props.loader():i.default.getInstance().loadConfigs()).then(function(e){var t=a.props,r=t.node,t=t.loadChecks,n={},o=new Map;t&&e.forEach(function(e,t){r.getMetadata().has(t)&&(n[t]=!0,o.set(t,r.getMetadata().get(t)))}),a.setState({configs:e,fields:n,updateMeta:o})})}},{key:"updateValue",value:function(e,t){var r=2<arguments.length&&void 0!==arguments[2]&&arguments[2];this.state.updateMeta.set(e,t),this.setState({updateMeta:this.state.updateMeta}),this.props.onChangeUpdateData&&this.props.onChangeUpdateData(this.state.updateMeta),r&&this.props.autoSave&&this.props.autoSave()}},{key:"deleteValue",value:function(e){this.state.updateMeta.delete(e),this.setState({updateMeta:this.state.updateMeta}),this.props.onChangeUpdateData&&this.props.onChangeUpdateData(this.state.updateMeta)}},{key:"getUpdateData",value:function(){return this.state.updateMeta}},{key:"resetUpdateData",value:function(){this.setState({updateMeta:new Map}),this.props.onChangeUpdateData&&this.props.onChangeUpdateData(new Map)}},{key:"onCheck",value:function(e,t){var r=this.state.fields;(r[e]=t)||this.deleteValue(e),this.setState({fields:r})}},{key:"render",value:function(){var e,s=this,t=this.state,p=t.configs,d=t.updateMeta,t=this.props,r=t.pydio,y=t.node,m=t.editMode,n=t.onRequestEditMode,b=t.supportTemplates,v=t.multiple,t=t.style,h=[],g=y.getMetadata(),O=0,r=(p.forEach(function(e,r){var t=e.label,n=e.type,o=e.readonly;if("json"!==n||b){var a=g.get(r),i=a=d.has(r)?d.get(r):a;if(m&&!o){var l={fieldname:r,label:t,value:a,configs:p,onValueChange:function(e,t,r){return s.updateValue(e,t,r)}};switch(n){case"stars_rate":c=j.default.createElement(w.default,l);break;case"choice":c=_.default.formPanelSelectorFilter(l,p);break;case"css_label":c=_.default.formPanelCssLabels(l,p);break;case"tags":c=_.default.formPanelTags(l,p);break;case"date":c=j.default.createElement(T.DateTimeForm,D({type:n},l,{supportTemplates:b}));break;case"integer":c=j.default.createElement(x.IntegerForm,D({},l,{supportTemplates:b}));break;case"boolean":c=j.default.createElement(C.default,l);break;default:var u="integer"===n&&!b,c=j.default.createElement(R,{value:a||"",variant:"v2",fullWidth:!0,disabled:o,floatingLabelText:t,multiLine:"textarea"===n||"json"===n,type:u?"number":null,onChange:function(e,t){u&&(t=parseInt(t)),s.updateValue(r,t)},onKeyPress:function(e){"Enter"===e.key&&s.updateValue(r,a,!0)}})}v?(e=s.state.fields[r]||!1,h.push(j.default.createElement("div",{className:"infoPanelRow",key:r,style:{marginBottom:20}},j.default.createElement(k.Checkbox,{checked:e,label:t,onCheck:function(e,t){return s.onCheck(r,t)}}),e&&j.default.createElement("div",{className:"infoPanelValue"},c)))):h.push(j.default.createElement("div",{key:r},c))}else{var f={name:r};switch(n){case"stars_rate":a=j.default.createElement(P.default,{node:y,column:f});break;case"choice":a=j.default.createElement(E.default,{node:y,column:f});break;case"css_label":a=j.default.createElement(S.default,{node:y,column:f});break;case"tags":a=j.default.createElement(M.default,{node:y,column:f});break;case"date":a=j.default.createElement(T.DateTimeField,{node:y,column:f,type:n});break;case"integer":a=j.default.createElement(x.IntegerField,{node:y,column:f});break;case"boolean":i=a=a?"Yes":"No"}i&&O++,h.push(j.default.createElement("div",{className:"infoPanelRow"+(i?"":" no-value"),key:r},j.default.createElement("div",{className:"infoPanelLabel"},t),j.default.createElement("div",{className:"infoPanelValue"},a)))}}}),r.MessageHash);return m||O?(v&&(e=j.default.createElement("div",{style:{paddingBottom:16}},j.default.createElement("em",null,r["meta.user.12"])," ",r["meta.user.13"])),j.default.createElement("div",{style:u({width:"100%",overflowY:"scroll"},t)},e,h)):j.default.createElement("div",n?{onClick:n,style:{cursor:"pointer"}}:{},j.default.createElement(F,{pydio:this.props.pydio,iconClassName:"mdi mdi-tag-outline",primaryTextId:r["meta.user."+(n?"11":"16")],style:{padding:"10px 40px 20px",backgroundColor:"transparent"},iconStyle:{fontSize:40},legendStyle:{fontSize:13}}))}}])&&c(t.prototype,e),r&&c(t,r),Object.defineProperty(t,"prototype",{writable:!1}),o}(j.default.Component);r.default=e,t.exports=r.default},{"./MetaClient":3,"./Renderer":4,"./fields/BooleanForm":9,"./fields/CssLabelsField":10,"./fields/DateTime":11,"./fields/Integer":12,"./fields/SelectorField":13,"./fields/StarsField":15,"./fields/StarsForm":16,"./fields/TagsCloud":17,"material-ui":"material-ui",pydio:"pydio",react:"react"}],9:[function(e,t,r){"use strict";function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var a=n(e("react")),i=e("material-ui"),e=n(e("../hoc/asMetaForm"));function n(e){return e&&e.__esModule?e:{default:e}}function l(){return(l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r,n=arguments[t];for(r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function u(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}function c(n){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?u(Object(o),!0).forEach(function(e){var t,r;t=n,r=o[e=e],(e=s(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(o)):u(Object(o)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(o,e))})}return n}function f(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,s(n.key),n)}}function s(e){e=function(e,t){if("object"!==o(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0===r)return("string"===t?String:Number)(e);r=r.call(e,t||"default");if("object"!==o(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string");return"symbol"===o(e)?e:String(e)}function p(e,t){return(p=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function d(r){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=y(r),t=(e=n?(e=y(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),this);if(e&&("object"===o(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}}function y(e){return(y=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var m=Pydio.requireLib("hoc").ModernStyles,b=function(e){var t=o;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&p(t,e);var r,n=d(o);function o(){var e=this,t=o;if(e instanceof t)return n.apply(this,arguments);throw new TypeError("Cannot call a class as a function")}return t=o,(e=[{key:"render",value:function(){var e=this.props,r=e.updateValue,t=e.value,e=e.search,n=c({},m.toggleField),o=t?"Yes":"No",t=(e||(n=c({},m.toggleFieldV2),o=this.props.label+" ("+o+")"),a.default.createElement(i.Toggle,l({toggled:t,onToggle:function(e,t){r(t)},label:o,labelPosition:"right"},n)));return e?t:a.default.createElement("div",{style:{margin:"12px 0 6px"}},t)}}])&&f(t.prototype,e),r&&f(t,r),Object.defineProperty(t,"prototype",{writable:!1}),o}(a.default.Component),e=(0,e.default)(b);r.default=e,t.exports=r.default},{"../hoc/asMetaForm":19,"material-ui":"material-ui",react:"react"}],10:[function(e,t,r){"use strict";function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(r,"__esModule",{value:!0}),r.getCssLabels=r.default=void 0;var a=i(e("react")),n=i(e("pydio")),e=i(e("../hoc/asMetaField"));function i(e){return e&&e.__esModule?e:{default:e}}function l(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,function(e){e=function(e,t){if("object"!==o(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0===r)return("string"===t?String:Number)(e);r=r.call(e,t||"default");if("object"!==o(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string");return"symbol"===o(e)?e:String(e)}(n.key),n)}}function u(e,t){return(u=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function c(r){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=f(r),t=(e=n?(e=f(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),this);if(e&&("object"===o(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function s(){var e=n.default.getMessages();return{low:{label:e["meta.user.4"],sortValue:"5",color:"#66c"},todo:{label:e["meta.user.5"],sortValue:"4",color:"#69c"},personal:{label:e["meta.user.6"],sortValue:"3",color:"#6c6"},work:{label:e["meta.user.7"],sortValue:"2",color:"#c96"},important:{label:e["meta.user.8"],sortValue:"1",color:"#c66"}}}r.getCssLabels=s;var p=function(e){var t=o;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&u(t,e);var r,n=c(o);function o(){var e=this,t=o;if(e instanceof t)return n.apply(this,arguments);throw new TypeError("Cannot call a class as a function")}return t=o,(e=[{key:"render",value:function(){var e=(0,this.props.getRealValue)(),t=s();return e&&t[e]?(t=t[e],a.default.createElement("span",null,a.default.createElement("span",{className:"mdi mdi-label",style:{color:t.color}})," ",t.label)):a.default.createElement("span",null,e)}}])&&l(t.prototype,e),r&&l(t,r),Object.defineProperty(t,"prototype",{writable:!1}),o}(a.default.Component),e=(0,e.default)(p);r.default=e},{"../hoc/asMetaField":18,pydio:"pydio",react:"react"}],11:[function(e,t,r){"use strict";function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(r,"__esModule",{value:!0}),r.DateTimeForm=r.DateTimeField=void 0;var u=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!=typeof e)return{default:e};t=s(t);if(t&&t.has(e))return t.get(e);var r,n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(r in e){var a;"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&((a=o?Object.getOwnPropertyDescriptor(e,r):null)&&(a.get||a.set)?Object.defineProperty(n,r,a):n[r]=e[r])}n.default=e,t&&t.set(e,n);return n}(e("react")),n=f(e("pydio")),o=f(e("../hoc/asMetaField")),a=f(e("../hoc/asMetaForm")),c=e("material-ui"),l=f(e("../MetaClient"));function f(e){return e&&e.__esModule?e:{default:e}}function s(e){var t,r;return"function"!=typeof WeakMap?null:(t=new WeakMap,r=new WeakMap,(s=function(e){return e?r:t})(e))}function p(){return(p=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r,n=arguments[t];for(r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function d(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}function y(n){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?d(Object(o),!0).forEach(function(e){var t,r;t=n,r=o[e=e],(e=h(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(o)):d(Object(o)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(o,e))})}return n}function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,h(n.key),n)}}function v(e,t,r){t&&b(e.prototype,t),r&&b(e,r),Object.defineProperty(e,"prototype",{writable:!1})}function h(e){e=function(e,t){if("object"!==i(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0===r)return("string"===t?String:Number)(e);r=r.call(e,t||"default");if("object"!==i(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string");return"symbol"===i(e)?e:String(e)}function g(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&O(e,t)}function O(e,t){return(O=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function j(r){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=w(r),t=(e=n?(e=w(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),this);if(e&&("object"===i(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}}function w(e){return(w=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var e=n.default.requireLib("hoc"),P=e.ModernTextField,S=e.ModernSelectField,E=e.ModernStyles,M=n.default.requireLib("boot").moment,e=function(){g(t,u.Component);var e=j(t);function t(){return m(this,t),e.apply(this,arguments)}return v(t,[{key:"render",value:function(){var e=this.props,t=e.getRealValue,r=e.configs,e=e.column,r=r.get(e.name),e="date",n="normal",r=(r&&r.data&&(e=r.data.format||e,n=r.data.display||n),t()),t=new Date(1e3*parseFloat(r));if(isNaN(t.getTime()))return u.default.createElement(u.Fragment,null,"[Invalid Date]");var o=new M(t);if("relative"===n)return u.default.createElement(u.Fragment,null,o.fromNow());switch(e){case"date":return u.default.createElement(u.Fragment,null,o.format("ll"));case"date-time":return u.default.createElement(u.Fragment,null,o.format("llll"));case"time":return u.default.createElement(u.Fragment,null,o.format("LT"));default:return u.default.createElement(u.Fragment,null,o.format("llll"))}}}]),t}(),n=(r.DateTimeField=e,r.DateTimeField=(0,o.default)(e),function(){g(r,u.Component);var t=j(r);function r(e){return m(this,r),(e=t.call(this,e)).state={},e}return v(r,[{key:"configAsState",value:function(e,t){e.has(t)&&this.setState(e.get(t).data)}},{key:"componentDidMount",value:function(){var t=this,e=this.props,r=e.fieldname,e=e.configs;e?this.configAsState(e,r):l.default.getInstance().loadConfigs().then(function(e){return t.configAsState(e,r)})}},{key:"getDate",value:function(){var e=this.props.value,t="";return e?(e=e.indexOf&&-1<["<",">"].indexOf(e.charAt(0))?(t=e.charAt(0),"="===e.charAt(1)?(t+="=",parseFloat(e.substr(2))):parseFloat(e.substr(1))):parseFloat(e),e=new Date(1e3*parseFloat(e)),isNaN(e.getTime())?{vDate:new Date(0),searchComp:t}:{vDate:e,searchComp:t}):{vDate:null,searchComp:t}}},{key:"clear",value:function(){(0,this.props.updateValue)("")}},{key:"updateDate",value:function(e,t){var r=this.props,n=r.updateValue,r=r.search,o=this.getDate(),a=o.vDate,o=o.searchComp,a=a||new Date(0);"date-time"===t?(e.setHours(a.getHours()),e.setMinutes(a.getMinutes()),e.setSeconds(a.getSeconds())):(e.setHours(0),e.setMinutes(0),e.setSeconds(0)),n(r?o+""+parseInt(e/1e3):parseInt(e/1e3))}},{key:"updateTime",value:function(e){var t=this.props,r=t.updateValue,t=t.search,n=this.getDate(),o=n.vDate,n=n.searchComp;(o=o||new Date(0)).setHours(e.getHours()),o.setMinutes(e.getMinutes()),o.setSeconds(e.getSeconds()),r(t?n+""+parseInt(o/1e3):parseInt(o/1e3))}},{key:"updateComp",value:function(e){var t=this.props.updateValue,r=(r=this.getDate().vDate)||new Date;t(e+""+parseInt(r/1e3))}},{key:"render",value:function(){var r,e,n=this,t=this.props,o=t.supportTemplates,a=t.search,i=t.updateValue,l=t.value,t=t.label;return o?u.default.createElement(P,{value:l,fullWidth:!0,hintText:t,onChange:function(e,t){i(t)}}):(o=this.state.format,r=void 0===o?"date":o,o=(l=this.getDate()).vDate,l=l.searchComp,e=[],a&&e.push(u.default.createElement("div",{style:{width:60,marginRight:8}},u.default.createElement(S,{fullWidth:!0,value:l,onChange:function(e,t,r){return n.updateComp(r)}},u.default.createElement(c.MenuItem,{value:"",primaryText:"="}),u.default.createElement(c.MenuItem,{value:">=",primaryText:">="}),u.default.createElement(c.MenuItem,{value:"<=",primaryText:"<="}),u.default.createElement(c.MenuItem,{value:">",primaryText:">"}),u.default.createElement(c.MenuItem,{value:"<",primaryText:"<"})))),l=a?y({},E.textField):y(y({},E.textFieldV2),{},{textFieldStyle:{height:52}}),"date"!==r&&"date-time"!==r||e.push(u.default.createElement("div",{style:{flex:3}},u.default.createElement(c.DatePicker,p({floatingLabelText:a?null:t+" (date)",hintText:a?"Date":null},l,{container:"inline",fullWidth:!0,value:o,onChange:function(e,t){return n.updateDate(t,r)},autoOk:"date"===r})))),"date-time"===r&&e.push(u.default.createElement("div",{style:{width:8}})),"time"!==r&&"date-time"!==r||e.push(u.default.createElement("div",{style:{flex:2}},u.default.createElement(c.TimePicker,p({floatingLabelText:a?null:t+" (time)",hintText:a?"Time":null},l,{dialogStyle:{zIndex:5e3},fullWidth:!0,value:o,onChange:function(e,t){return n.updateTime(t)},autoOk:"time"===r})))),!a&&o&&e.push(u.default.createElement("div",{style:y(y({cursor:"pointer"},E.fillBlockV2Right),{},{paddingTop:22,paddingRight:8}),onClick:function(){return n.clear()}},u.default.createElement(c.FontIcon,{className:"mdi mdi-close",color:"rgba(0,0,0,.5)"}))),u.default.createElement("div",{style:{display:"flex",alignItems:"center",marginBottom:a?null:6}},e))}}]),r}());r.DateTimeForm=n,r.DateTimeForm=(0,a.default)(n)},{"../MetaClient":3,"../hoc/asMetaField":18,"../hoc/asMetaForm":19,"material-ui":"material-ui",pydio:"pydio",react:"react"}],12:[function(e,t,r){"use strict";function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(r,"__esModule",{value:!0}),r.IntegerForm=r.IntegerField=void 0;var p=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!=typeof e)return{default:e};t=c(t);if(t&&t.has(e))return t.get(e);var r,n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(r in e){var a;"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&((a=o?Object.getOwnPropertyDescriptor(e,r):null)&&(a.get||a.set)?Object.defineProperty(n,r,a):n[r]=e[r])}n.default=e,t&&t.set(e,n);return n}(e("react")),n=u(e("pydio")),o=u(e("../hoc/asMetaField")),a=u(e("../hoc/asMetaForm")),d=e("material-ui"),l=u(e("../MetaClient"));function u(e){return e&&e.__esModule?e:{default:e}}function c(e){var t,r;return"function"!=typeof WeakMap?null:(t=new WeakMap,r=new WeakMap,(c=function(e){return e?r:t})(e))}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,function(e){e=function(e,t){if("object"!==i(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0===r)return("string"===t?String:Number)(e);r=r.call(e,t||"default");if("object"!==i(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string");return"symbol"===i(e)?e:String(e)}(n.key),n)}}function y(e,t,r){t&&s(e.prototype,t),r&&s(e,r),Object.defineProperty(e,"prototype",{writable:!1})}function m(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&b(e,t)}function b(e,t){return(b=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function v(r){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=h(r),t=(e=n?(e=h(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),this);if(e&&("object"===i(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var g=n.default.requireLib("form").InputIntegerBytes,e=n.default.requireLib("hoc"),O=e.ModernTextField,j=e.ModernSelectField,n=function(){m(t,p["default"].Component);var e=v(t);function t(){return f(this,t),e.apply(this,arguments)}return y(t,[{key:"render",value:function(){var e=this.props,t=e.getRealValue,r=e.configs,n=e.column,o=e.inline,e=r.get(n.name),r="general",a=(e&&e.data&&(r=e.data.format||r),t());switch(r){case"bytesize":return p.default.createElement(g,{value:a,editMode:!1,displayContext:"grid",toggleEditMode:function(){},disabled:!0});case"percentage":return p.default.createElement(p.Fragment,null,a,"%");case"progress":return o?p.default.createElement(d.LinearProgress,{value:a,max:100,mode:"determinate",style:{display:"inline-block",width:60,height:6,backgroundColor:"rgba(189,189,189,.5)"}}):p.default.createElement("div",{style:{display:"flex",alignItems:"center"}},p.default.createElement(d.LinearProgress,{value:a,max:100,mode:"determinate",style:{flex:1}}),p.default.createElement("div",{style:{marginLeft:5}},a,"%"));default:return p.default.createElement(p.Fragment,null,a)}}}]),t}(),e=(r.IntegerField=n,r.IntegerField=(0,o.default)(n),function(){m(r,p["default"].Component);var t=v(r);function r(e){return f(this,r),(e=t.call(this,e)).state={},e}return y(r,[{key:"configAsState",value:function(e,t){e.has(t)&&this.setState(e.get(t).data)}},{key:"componentDidMount",value:function(){var t=this,e=this.props,r=e.fieldname,e=e.configs;console.log(e,r),e?this.configAsState(e,r):l.default.getInstance().loadConfigs().then(function(e){return t.configAsState(e,r)})}},{key:"render",value:function(){function e(e,t){return p.default.createElement(O,{value:l,fullWidth:!0,hintText:a,type:e,onChange:t,underlineShow:!(2<arguments.length&&void 0!==arguments[2]&&arguments[2]),variant:n?"v1":"v2"})}var t=this.props,r=t.supportTemplates,n=t.search,o=t.updateValue,a=t.label,i=function(e){o(e,!1)},t=this.state.format,t=void 0===t?"general":t,l=this.props.value,u="";n&&(l=l.indexOf&&-1<["<",">"].indexOf(l.charAt(0))?(u=l.charAt(0),"="===l.charAt(1)?(u+="=",parseInt(l.substr(2))):parseInt(l.substr(1))):parseInt(l));if(r)return e("",function(e,t){return i(t)});if(n)return p.default.createElement("div",{style:{display:"flex"}},p.default.createElement("div",{style:{width:60,marginRight:8}},p.default.createElement(j,{fullWidth:!0,value:u,onChange:function(e,t,r){return i(r+""+l)}},p.default.createElement(d.MenuItem,{value:"",primaryText:"="}),p.default.createElement(d.MenuItem,{value:">=",primaryText:">="}),p.default.createElement(d.MenuItem,{value:"<=",primaryText:"<="}),p.default.createElement(d.MenuItem,{value:">",primaryText:">"}),p.default.createElement(d.MenuItem,{value:"<",primaryText:"<"}))),p.default.createElement("div",{style:{flex:1}},e("number",function(e,t){i(t&&u+""+t)})));function c(e,t){return i(parseInt(t))}var f="number";switch(t){case"general":return e(f,c);case"percentage":return e(f,function(e,t){i(Math.max(0,Math.min(100,t)))});case"progress":return p.default.createElement("div",null,e(f,function(e,t){i(Math.max(0,Math.min(100,t)))},!0),p.default.createElement(d.LinearProgress,{mode:"determinate",max:100,value:l,style:{marginTop:-8}}));case"bytesize":var s=function(){};return p.default.createElement(g,{value:l,editMode:!0,onChange:function(e,t){return i(parseInt(e))},isDisplayGrid:s,isDisplayForm:s,toggleEditMode:s,attributes:{type:"integer-bytes",label:a},variant:n?"v1":"v2"});default:return e(f,c)}}}]),r}());r.IntegerForm=e,r.IntegerForm=(0,a.default)(e)},{"../MetaClient":3,"../hoc/asMetaField":18,"../hoc/asMetaForm":19,"material-ui":"material-ui",pydio:"pydio",react:"react"}],13:[function(e,t,r){"use strict";function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var a=n(e("react")),e=n(e("../hoc/asMetaField"));function n(e){return e&&e.__esModule?e:{default:e}}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,function(e){e=function(e,t){if("object"!==o(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0===r)return("string"===t?String:Number)(e);r=r.call(e,t||"default");if("object"!==o(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string");return"symbol"===o(e)?e:String(e)}(n.key),n)}}function l(e,t){return(l=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function u(r){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=c(r),t=(e=n?(e=c(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),this);if(e&&("object"===o(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var f=function(e){var t=o;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&l(t,e);var r,n=u(o);function o(){var e=this,t=o;if(e instanceof t)return n.apply(this,arguments);throw new TypeError("Cannot call a class as a function")}return t=o,(e=[{key:"render",value:function(){var e,t=this.props,r=t.configs,n=t.getRealValue,t=t.column,o=n(),n=n(),r=r.get(t.name);return r&&r.data&&r.data.items&&(t=r.data.items.filter(function(e){return e.key===o})).length&&(n=t[0].value,t[0].color)&&(e=a.default.createElement("span",{className:"mdi mdi-label",style:{color:t[0].color,marginRight:5}})),a.default.createElement("span",null,e,n)}}])&&i(t.prototype,e),r&&i(t,r),Object.defineProperty(t,"prototype",{writable:!1}),o}(a.default.Component),e=(0,e.default)(f);r.default=e,t.exports=r.default},{"../hoc/asMetaField":18,react:"react"}],14:[function(e,t,r){"use strict";function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var l=a(e("react")),n=a(e("pydio")),u=e("material-ui"),e=a(e("../hoc/asMetaForm"));function a(e){return e&&e.__esModule?e:{default:e}}function c(e){return function(e){if(Array.isArray(e))return i(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){var r;if(e)return"string"==typeof e?i(e,t):"Map"===(r="Object"===(r=Object.prototype.toString.call(e).slice(8,-1))&&e.constructor?e.constructor.name:r)||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?i(e,t):void 0}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function f(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,function(e){e=function(e,t){if("object"!==o(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0===r)return("string"===t?String:Number)(e);r=r.call(e,t||"default");if("object"!==o(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string");return"symbol"===o(e)?e:String(e)}(n.key),n)}}function s(e,t){return(s=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function p(r){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=d(r),t=(e=n?(e=d(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),this);if(e&&("object"===o(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var y=n.default.requireLib("hoc").ModernSelectField,n=function(e){var t=o;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&s(t,e);var r,n=p(o);function o(e){if(this instanceof o)return(e=n.call(this,e)).state={},e;throw new TypeError("Cannot call a class as a function")}return t=o,(e=[{key:"changeSelector",value:function(e,t,r){this.props.updateValue(r,!0)}},{key:"componentDidMount",value:function(){var n=this,e=this.props.itemsLoader;e&&e(function(e,t,r){n.setState({menuItems:e,keys:t,stepper:r})})}},{key:"next",value:function(){}},{key:"render",value:function(){var e=this.state,t=e.stepper,e=e.keys,r=void 0===e?[]:e,e=this.props,n=e.value,o=e.label,a=e.updateValue,e=e.search,i=void 0===this.state.menuItems?c(this.props.menuItems):c(this.state.menuItems);return i.unshift(l.default.createElement(u.MenuItem,{value:"",primaryText:""})),l.default.createElement("div",{style:{display:"flex"}},t&&!e&&l.default.createElement("div",null,l.default.createElement(u.IconButton,{iconClassName:"mdi mdi-chevron-left",tooltip:"Previous Step",onClick:function(){return a(r[r.indexOf(n)-1],!0)},disabled:r.indexOf(n)<=0,style:{width:28,padding:"12px 0"}})),l.default.createElement("div",{style:{flex:1,maxWidth:t&&!e?"75%":null}},l.default.createElement(y,{variant:e?"v1":"v2",fullWidth:!0,value:n,hintText:o,onChange:this.changeSelector.bind(this)},i)),t&&!e&&l.default.createElement("div",null,l.default.createElement(u.IconButton,{iconClassName:"mdi mdi-chevron-right",tooltip:"Next Step",onClick:function(){return a(r[r.indexOf(n)+1],!0)},disabled:r.indexOf(n)>=r.length-1,style:{width:28,padding:"12px 0"}})))}}])&&f(t.prototype,e),r&&f(t,r),Object.defineProperty(t,"prototype",{writable:!1}),o}(l.default.Component),e=(0,e.default)(n);r.default=e,t.exports=r.default},{"../hoc/asMetaForm":19,"material-ui":"material-ui",pydio:"pydio",react:"react"}],15:[function(e,t,r){"use strict";function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(r,"__esModule",{value:!0}),r.starsStyle=r.default=void 0;var a=n(e("react")),e=n(e("../hoc/asMetaField"));function n(e){return e&&e.__esModule?e:{default:e}}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,function(e){e=function(e,t){if("object"!==o(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0===r)return("string"===t?String:Number)(e);r=r.call(e,t||"default");if("object"!==o(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string");return"symbol"===o(e)?e:String(e)}(n.key),n)}}function l(e,t){return(l=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function u(r){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=c(r),t=(e=n?(e=c(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),this);if(e&&("object"===o(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var f={fontSize:20,color:"#FBC02D",marginTop:6,marginBottom:6},s=(r.starsStyle=f,function(e){var t=o;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&l(t,e);var r,n=u(o);function o(){var e=this,t=o;if(e instanceof t)return n.apply(this,arguments);throw new TypeError("Cannot call a class as a function")}return t=o,(e=[{key:"render",value:function(){var e=this.props,t=e.getRealValue,e=e.size,r=t()||0,t=[0,1,2,3,4].map(function(e){return a.default.createElement("span",{key:"star-"+e,className:"mdi mdi-star"+(e<r?"":"-outline")})});return a.default.createElement("span",{style:"small"===e?{color:f.color}:f},t)}}])&&i(t.prototype,e),r&&i(t,r),Object.defineProperty(t,"prototype",{writable:!1}),o}(a.default.Component)),e=(0,e.default)(s);r.default=e},{"../hoc/asMetaField":18,react:"react"}],16:[function(e,t,r){"use strict";function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var a=u(e("react")),n=u(e("pydio")),i=u(e("../hoc/asMetaForm")),l=e("./StarsField");function u(e){return e&&e.__esModule?e:{default:e}}function c(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}function f(n){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?c(Object(o),!0).forEach(function(e){var t,r;t=n,r=o[e=e],(e=p(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(o)):c(Object(o)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(o,e))})}return n}function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,p(n.key),n)}}function p(e){e=function(e,t){if("object"!==o(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0===r)return("string"===t?String:Number)(e);r=r.call(e,t||"default");if("object"!==o(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string");return"symbol"===o(e)?e:String(e)}function d(e,t){return(d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function y(r){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=m(r),t=(e=n?(e=m(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),this);if(e&&("object"===o(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var b=n.default.requireLib("hoc").ModernStyles,e=function(e){var t=o;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&d(t,e);var r,n=y(o);function o(){var e=this,t=o;if(e instanceof t)return n.apply(this,arguments);throw new TypeError("Cannot call a class as a function")}return t=o,(e=[{key:"render",value:function(){var e=this.props,t=e.updateValue,r=e.value,n=void 0===r?0:r,r=e.search,e=e.label,o=[-1,0,1,2,3,4].map(function(e){return a.default.createElement("span",{key:"star-"+e,onClick:function(){return t(e+1,!0)},className:"mdi mdi-"+("star"+(-1===e?"-off":e<n?"":"-outline")),style:-1===e?{marginRight:5,cursor:"pointer"}:{cursor:"pointer"}})});return r?a.default.createElement("div",{className:"advanced-search-stars",style:f(f({},b.div),l.starsStyle)},a.default.createElement("div",null,o)):a.default.createElement("div",{style:f(f({},b.textFieldV2.style),{},{borderBottom:b.fillBlockV2Right.borderBottom,marginBottom:6})},a.default.createElement("div",{style:{color:"rgba(0, 0, 0, 0.3)",fontSize:12,padding:"3px 8px 0",lineHeight:"16px"}},e),a.default.createElement("div",{style:f(f({},l.starsStyle),{},{paddingLeft:6})},o))}}])&&s(t.prototype,e),r&&s(t,r),Object.defineProperty(t,"prototype",{writable:!1}),o}(a.default.Component),n=(0,i.default)(e);r.default=n,t.exports=r.default},{"../hoc/asMetaForm":19,"./StarsField":15,pydio:"pydio",react:"react"}],17:[function(e,t,r){"use strict";function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var u=a(e("react")),c=a(e("pydio")),f=a(e("pydio/util/lang")),i=a(e("../hoc/colorsFromString")),n=a(e("../hoc/asMetaForm")),l=a(e("../MetaClient")),s=e("material-ui");function a(e){return e&&e.__esModule?e:{default:e}}function p(){return(p=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r,n=arguments[t];for(r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function d(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}function y(n){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?d(Object(o),!0).forEach(function(e){var t,r;t=n,r=o[e=e],(e=b(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(o)):d(Object(o)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(o,e))})}return n}function m(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,b(n.key),n)}}function b(e){e=function(e,t){if("object"!==o(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0===r)return("string"===t?String:Number)(e);r=r.call(e,t||"default");if("object"!==o(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string");return"symbol"===o(e)?e:String(e)}function v(e,t){return(v=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function h(r){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=g(r),t=(e=n?(e=g(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),this);if(e&&("object"===o(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}}function g(e){return(g=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var e=c.default.requireLib("hoc"),O=e.ModernStyles,j=e.ModernAutoComplete,e=function(e){var t=a;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&v(t,e);var r,o=h(a);function a(e){var t,r,n;if(this instanceof a)return t=(n=(e=o.call(this,e)).props).node,r=n.value,n=n.column,e.state={loading:!1,dataSource:[],tags:t?t.getMetadata().get(n.name):r,searchText:""},e;throw new TypeError("Cannot call a class as a function")}return t=a,(e=[{key:"componentDidMount",value:function(){this.getRealValue(),this.props.editMode&&this.load()}},{key:"componentWillReceiveProps",value:function(e){var t=e.node,r=e.value,n=e.column;t?this.setState({tags:t.getMetadata().get(n.name)}):r?this.setState({tags:r}):this.setState({tags:""}),e.editMode&&!this.state.loaded&&this.load()}},{key:"getRealValue",value:function(){var e=this.props,t=e.node,r=e.value,e=e.column;null==t?this.setState({tags:r}):this.setState({tags:t.getMetadata().get(e.name)})}},{key:"suggestionLoader",value:function(t){var r=this;this.setState({loading:this.state.loading+1}),l.default.getInstance().listTags(this.props.fieldname||this.props.column.name).then(function(e){r.setState({loading:r.state.loading-1}),t(e)})}},{key:"load",value:function(){this.setState({loading:!0}),this.suggestionLoader(function(e){e=e.filter(function(e){return!!e}).map(function(e){return{value:u.default.createElement(s.MenuItem,{innerDivStyle:{paddingLeft:0,marginLeft:0},style:y({margin:"5px 10px",fontSize:14,fontWeight:500,paddingLeft:10,borderRadius:4},(0,i.default)(e))},u.default.createElement("span",{className:"mdi mdi-label-outline",style:{marginRight:5}}),e),text:e}});this.setState({dataSource:e,loading:!1,loaded:!0})}.bind(this))}},{key:"handleRequestDelete",value:function(e){var t=this,r=this.props.updateValue,n=this.state.tags.split(","),e=n.indexOf(e);n.splice(e,1),this.setState({tags:n.toString()},function(){r(t.state.tags,!0)})}},{key:"handleUpdateInput",value:function(e){this.setState({searchText:e})}},{key:"handleNewRequest",value:function(){var e,t=this,r=this.state,n=r.searchText,r=r.tags;n&&(e=[],-1<(e=r&&r.split?r.split(","):e).indexOf(n)?this.setState({searchText:""}):(e.push(n),this.setState({searchText:"",tags:e.toString()},function(){(0,t.props.updateValue)(t.state.tags,!0)})))}},{key:"renderChip",value:function(e){var t=(0,i.default)(e),r=t.color,t=t.backgroundColor,n={margin:2,borderRadius:"4px 16px 16px 4px"},r={color:r,fontWeight:500,paddingLeft:10,paddingRight:16};return this.props.editMode?u.default.createElement(s.Chip,{key:e,backgroundColor:t,labelStyle:r,style:n,onRequestDelete:this.handleRequestDelete.bind(this,e)},e):u.default.createElement(s.Chip,{key:e,backgroundColor:t,labelStyle:r,style:n},e)}},{key:"render",value:function(){var t=this,e=this.props,r=e.editMode,n=e.search,e=e.label,o=this.state,a=o.tags,i=o.searchText,o=u.default.createElement("div",null),l=[];return a&&a.split&&(o=(l=a.split(",").map(function(e){return f.default.trim(e," ")}).filter(function(e){return!!e})).map(function(e){return t.renderChip(e)})),e=r?(a=n?s.AutoComplete:j,r=n?y({style:{marginBottom:-8}},O.textField):{hintText:e},u.default.createElement(a,p({fullWidth:!0,hintText:c.default.getMessages()["meta.user.10"],searchText:i,onUpdateInput:this.handleUpdateInput.bind(this),onNewRequest:this.handleNewRequest.bind(this),dataSource:this.state.dataSource,filter:function(e,t){return 0===t.toLowerCase().indexOf(e.toLowerCase())&&-1===l.indexOf(t)},openOnFocus:!0,menuProps:{maxHeight:200,desktop:!0},onClose:function(){i&&t.handleNewRequest()}},r))):u.default.createElement("div",null),u.default.createElement("div",{style:n?{marginBottom:8}:{}},e,u.default.createElement("div",{style:{display:"flex",flexWrap:"wrap",zoom:.8,marginTop:n?8:0}},o))}}])&&m(t.prototype,e),r&&m(t,r),Object.defineProperty(t,"prototype",{writable:!1}),a}(u.default.Component),n=(0,n.default)(e);r.default=n,t.exports=r.default},{"../MetaClient":3,"../hoc/asMetaForm":19,"../hoc/colorsFromString":20,"material-ui":"material-ui",pydio:"pydio","pydio/util/lang":"pydio/util/lang",react:"react"}],18:[function(e,t,r){"use strict";function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(l){return function(e){var t=a;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&d(t,e);r=a,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();var r,n,o=function(){var e,t=y(r),t=(e=n?(e=y(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),this);if(e&&("object"===u(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")};function a(e){var r;if(this instanceof a)return(r=o.call(this,e)).state={value:r.props.value||0,configs:r.props.configs||new Map,getRealValue:function(){var e=r.props,t=e.node,e=e.column;return t.getMetadata().get(e.name)}},r;throw new TypeError("Cannot call a class as a function")}var t=a,e=[{key:"componentDidMount",value:function(){var t=this;this.props.configs||f.default.getInstance().loadConfigs().then(function(e){t.setState({configs:e})})}},{key:"render",value:function(){return c.default.createElement(l,s({},this.props,this.state))}}],i=void 0;return e&&p(t.prototype,e),i&&p(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(c.default.Component)};var c=n(e("react")),f=n(e("../MetaClient"));function n(e){return e&&e.__esModule?e:{default:e}}function s(){return(s=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r,n=arguments[t];for(r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function p(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,function(e){e=function(e,t){if("object"!==u(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0===r)return("string"===t?String:Number)(e);r=r.call(e,t||"default");if("object"!==u(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string");return"symbol"===u(e)?e:String(e)}(n.key),n)}}function d(e,t){return(d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function y(e){return(y=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}t.exports=r.default},{"../MetaClient":3,react:"react"}],19:[function(e,t,r){"use strict";function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(l){return function(e){var t=a;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&d(t,e);r=a,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();var r,n,o=function(){var e,t=y(r),t=(e=n?(e=y(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),this);if(e&&("object"===u(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")};function a(e){var r;if(this instanceof a)return(r=o.call(this,e)).state={value:r.props.value||"",configs:r.props.configs||new Map,getRealValue:function(){var e=r.props,t=e.node,e=e.column;return t.getMetadata().get(e.name)}},r;throw new TypeError("Cannot call a class as a function")}var t=a,e=[{key:"updateValue",value:function(e){var t,r=!(1<arguments.length&&void 0!==arguments[1])||arguments[1],n=(this.setState({value:e}),this.props),o=n.fieldname,a=n.onChange,n=n.onValueChange;a?((t={})["ajxp_meta_"+o]=e,a(t,r)):this.props.onValueChange&&n(o,e,r)}},{key:"componentDidMount",value:function(){var t=this;this.props.configs||f.default.getInstance().loadConfigs().then(function(e){t.setState({configs:e})})}},{key:"componentWillReceiveProps",value:function(e,t){this.setState({value:e.value||""})}},{key:"render",value:function(){return c.default.createElement(l,s({},this.props,this.state,{updateValue:this.updateValue.bind(this)}))}}],i=void 0;return e&&p(t.prototype,e),i&&p(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(c.default.Component)};var c=n(e("react")),f=n(e("../MetaClient"));function n(e){return e&&e.__esModule?e:{default:e}}function s(){return(s=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r,n=arguments[t];for(r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function p(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,function(e){e=function(e,t){if("object"!==u(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0===r)return("string"===t?String:Number)(e);r=r.call(e,t||"default");if("object"!==u(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string");return"symbol"===u(e)?e:String(e)}(n.key),n)}}function d(e,t){return(d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function y(e){return(y=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}t.exports=r.default},{"../MetaClient":3,react:"react"}],20:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(e){if(0===e.length)return{};if(c[e])return c[e];var t,r,n,o=0;for(t=0,n=e.length;t<n;t++)r=1e3*e.charCodeAt(t),o=(o<<5)-o+r,o|=0;var a=(16777215&o).toString(16).toUpperCase(),a="00000".substring(0,6-a.length)+a,a=new u.default("#"+a).hsl(),i=a.hue(),l=new u.default({h:i,s:a.saturationl(),l:90}),i={color:new u.default({h:i,s:a.saturationl(),l:40}).string(),backgroundColor:l.string()};return c[e]=i};var u=(e=e("color"))&&e.__esModule?e:{default:e};var c={};t.exports=r.default},{color:"color"}],21:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"Callbacks",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(r,"InfoPanel",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(r,"MetaClient",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(r,"Renderer",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(r,"TypeEditor",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(r,"UserMetaDialog",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(r,"UserMetaPanel",{enumerable:!0,get:function(){return a.default}});var n=f(e("./Callbacks")),o=f(e("./Renderer")),a=f(e("./UserMetaPanel")),i=f(e("./InfoPanel")),l=f(e("./UserMetaDialog")),u=f(e("./MetaClient")),c=f(e("./TypeEditor"));function f(e){return e&&e.__esModule?e:{default:e}}},{"./Callbacks":1,"./InfoPanel":2,"./MetaClient":3,"./Renderer":4,"./TypeEditor":5,"./UserMetaDialog":7,"./UserMetaPanel":8}]},{},[21])(21)});